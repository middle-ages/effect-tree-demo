const Jw=e=>typeof e=="function",m=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(s){return t(s,n)}};case 3:return function(n,r,s){return arguments.length>=3?t(n,r,s):function(i){return t(i,n,r)}};case 4:return function(n,r,s,i){return arguments.length>=4?t(n,r,s,i):function(a){return t(a,n,r,s)}};case 5:return function(n,r,s,i,a){return arguments.length>=5?t(n,r,s,i,a):function(u){return t(u,n,r,s,i)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Pf=(...e)=>t=>t(...e),st=e=>e,Ki=e=>()=>e,Bx=Ki(!0),g0=Ki(!1),qd=Ki(void 0),Zw=qd,Vd=e=>t=>e(...t);function l(e,t,n,r,s,i,a,u,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return s(r(n(t(e))));case 6:return i(s(r(n(t(e)))));case 7:return a(i(s(r(n(t(e))))));case 8:return u(a(i(s(r(n(t(e)))))));case 9:return c(u(a(i(s(r(n(t(e))))))));default:{let f=arguments[0];for(let x=1;x<arguments.length;x++)f=arguments[x](f);return f}}}function N(e,t,n,r,s,i,a,u,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return s(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(s(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return a(i(s(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(a(i(s(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(u(a(i(s(r(n(t(e.apply(this,arguments)))))))))}}}const jr=e=>(t,n)=>t===n||e(t,n),Xw=(e,t)=>e===t,Wd=()=>Xw,Qw=Wd(),tA=Wd(),eA=m(2,(e,t)=>jr((n,r)=>e(n,r)&&t(n,r))),nA=m(2,(e,t)=>jr((n,r)=>e(t(n),t(r)))),rA=e=>jr((t,n)=>{const r=Math.min(t.length,n.length);let s=0;for(const i of e){if(s>=r)break;if(!i(t[s],n[s]))return!1;s++}return!0}),sA=(...e)=>rA(e),iA=e=>jr((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),mu=e=>{const t=Object.keys(e);return jr((n,r)=>{for(const s of t)if(!e[s](n[s],r[s]))return!1;return!0})},Mx="effect/GlobalValue";let ri;const lt=(e,t)=>(ri||(globalThis[Mx]??=new Map,ri=globalThis[Mx]),ri.has(e)||ri.set(e,t()),ri.get(e)),oA=e=>typeof e=="string",Ba=e=>typeof e=="number",aA=e=>typeof e=="bigint",du=Jw,uA=e=>e!==void 0,cA=e=>typeof e=="object"&&e!==null,Yi=e=>cA(e)||du(e),tt=m(2,(e,t)=>Yi(e)&&t in e),jf=m(2,(e,t)=>tt(e,"_tag")&&e._tag===t),Xr=e=>e==null,zd=e=>typeof e=="string"||tt(e,Symbol.iterator),fA=e=>tt(e,"then")&&du(e.then),lA=e=>t=>!e(t),gu=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;let Gd=class Hd{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Hd(this.self)}};const hA=335903614,xA=4150755663,pA=1481765933,mA=1284865837,dA=9007199254740992,gA=134217728;class bA{_state;constructor(t,n,r,s){return Xr(n)&&Xr(t)?(n=Math.random()*4294967295>>>0,t=0):Xr(n)&&(n=t,t=0),Xr(s)&&Xr(r)?(s=this._state?this._state[3]:xA,r=this._state?this._state[2]:hA):Xr(s)&&(s=r,r=0),this._state=new Int32Array([0,0,r>>>0,((s||0)|1)>>>0]),this._next(),Rx(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){const t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*gA+n)/dA}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;yA(this._state,t,n,pA,mA),Rx(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,s=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,s=(s^n)>>>0;const i=(s>>>27|r<<5)>>>0,a=t>>>27,u=(-a>>>0&31)>>>0;return(i>>>a|i<<u)>>>0}}function yA(e,t,n,r,s){let i=(n>>>16)*(s&65535)>>>0,a=(n&65535)*(s>>>16)>>>0,u=(n&65535)*(s&65535)>>>0,c=(n>>>16)*(s>>>16)+((a>>>16)+(i>>>16))>>>0;a=a<<16>>>0,u=u+a>>>0,u>>>0<a>>>0&&(c=c+1>>>0),i=i<<16>>>0,u=u+i>>>0,u>>>0<i>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,s)>>>0,e[0]=c,e[1]=u}function Rx(e,t,n,r,s){let i=t+r>>>0;const a=n+s>>>0;a>>>0<n>>>0&&(i=i+1|0),e[0]=i,e[1]=a}const b0=Symbol.for("effect/Utils/YieldWrap");class Ji{#t;constructor(t){this.#t=t}[b0](){return this.#t}}function SA(e){if(typeof e=="object"&&e!==null&&b0 in e)return e[b0]();throw new Error(gu("yieldWrapGet"))}const Te=lt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Kd={effect_internal_function:e=>e()},_A={effect_internal_function:e=>{try{return e()}finally{}}},wA=Kd.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0,ae=wA?Kd.effect_internal_function:_A.effect_internal_function,Ac=lt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),X=Symbol.for("effect/Hash"),D=e=>{if(Te.enabled===!0)return 0;switch(typeof e){case"number":return Uf(e);case"bigint":return Pt(e.toString(10));case"boolean":return Pt(String(e));case"symbol":return Pt(String(e));case"string":return Pt(e);case"undefined":return Pt("undefined");case"function":case"object":return e===null?Pt("null"):e instanceof Date?D(e.toISOString()):e instanceof URL?D(e.href):AA(e)?e[X]():Lf(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},Lf=e=>(Ac.has(e)||Ac.set(e,Uf(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Ac.get(e)),ut=e=>t=>t*53^e,bu=e=>e&3221225471|e>>>1&1073741824,AA=e=>tt(e,X),Uf=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return bu(t)},Pt=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return bu(t)},EA=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=l(Pt(t[r]),ut(D(e[t[r]])));return bu(n)},Yd=e=>EA(e,Object.keys(e)),Zi=e=>{let t=6151;for(let n=0;n<e.length;n++)t=l(t,ut(D(e[n])));return bu(t)},kt=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,X,{value(){return r},enumerable:!1}),r}}const e=arguments[0],t=arguments[1];return Object.defineProperty(e,X,{value(){return t},enumerable:!1}),t},Y=Symbol.for("effect/Equal");function Q(){return arguments.length===1?e=>Ma(e,arguments[0]):Ma(arguments[0],arguments[1])}function Ma(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(Ra(e)&&Ra(t))return D(e)===D(t)&&e[Y](t)?!0:Te.enabled&&Te.tester?Te.tester(e,t):!1;if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(Te.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,s)=>Ma(r,t[s]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),s=Object.keys(t);if(r.length===s.length){for(const i of r)if(!(i in t&&Ma(e[i],t[i])))return Te.tester?Te.tester(e,t):!1;return!0}}return Te.tester?Te.tester(e,t):!1}}return Te.enabled&&Te.tester?Te.tester(e,t):!1}const Ra=e=>tt(e,Y),qf=()=>Q,It=Symbol.for("nodejs.util.inspect.custom"),Yt=e=>{try{if(tt(e,"toJSON")&&du(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(Yt)}catch{return{}}return CA(e)},te=e=>JSON.stringify(e,null,2),ms=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?Jd(e,t):String(e)}catch{return String(e)}},Jd=(e,t)=>{let n=[];const r=JSON.stringify(e,(s,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&(yr.fiberRefs!==void 0&&Zd(i)?i[Vf](yr.fiberRefs):i):i,t);return n=void 0,r},Vf=Symbol.for("effect/Inspectable/Redactable"),Zd=e=>typeof e=="object"&&e!==null&&Vf in e,yr=lt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),FA=(e,t)=>{const n=yr.fiberRefs;yr.fiberRefs=e;try{return t()}finally{yr.fiberRefs=n}},CA=e=>Zd(e)&&yr.fiberRefs!==void 0?e[Vf](yr.fiberRefs):e,H=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,s=t.length;r<s;r++)n=t[r](n);return n}}},di="Async",yu="Commit",je="Failure",Ec="OnFailure",Na="OnSuccess",Da="OnSuccessAndFailure",Le="Success",Xd="Sync",vA="Tag",Xi="UpdateRuntimeFlags",Pa="While",da="Iterator",Qd="WithRuntime",ga="Yield",Wf="RevertFlags";let kA="3.18.4";const zf=()=>kA,IA=Symbol.for("effect/Effect"),TA=Symbol.for("effect/Stream"),OA=Symbol.for("effect/Sink"),$A=Symbol.for("effect/Channel"),ds={_R:e=>e,_E:e=>e,_A:e=>e,_V:zf()},BA={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},MA={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},Qi={[IA]:ds,[TA]:ds,[OA]:BA,[$A]:MA,[Y](e){return this===e},[X](){return kt(this,Lf(this))},[Symbol.iterator](){return new Gd(new Ji(this))},pipe(){return H(this,arguments)}},to={[X](){return kt(this,Yd(this))},[Y](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e&&Q(this[r],e[r])))return!1;return!0}},eo={...Qi,_op:yu},RA={...eo,...to},NA=(function(){function e(){}return e.prototype=eo,e})(),tg=Symbol.for("effect/Option"),eg={...Qi,[tg]:{_A:e=>e},[It](){return this.toJSON()},toString(){return te(this.toJSON())}},DA=Object.assign(Object.create(eg),{_tag:"Some",_op:"Some",[Y](e){return ng(e)&&sg(e)&&Q(this.value,e.value)},[X](){return kt(this,ut(D(this._tag))(D(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Yt(this.value)}}}),PA=D("None"),jA=Object.assign(Object.create(eg),{_tag:"None",_op:"None",[Y](e){return ng(e)&&rg(e)},[X](){return PA},toJSON(){return{_id:"Option",_tag:this._tag}}}),ng=e=>tt(e,tg),rg=e=>e._tag==="None",sg=e=>e._tag==="Some",wi=Object.create(jA),Rn=e=>{const t=Object.create(DA);return t.value=e,t},ig=Symbol.for("effect/Either"),og={...Qi,[ig]:{_R:e=>e},[It](){return this.toJSON()},toString(){return te(this.toJSON())}},LA=Object.assign(Object.create(og),{_tag:"Right",_op:"Right",[Y](e){return ag(e)&&cg(e)&&Q(this.right,e.right)},[X](){return ut(D(this._tag))(D(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Yt(this.right)}}}),UA=Object.assign(Object.create(og),{_tag:"Left",_op:"Left",[Y](e){return ag(e)&&ug(e)&&Q(this.left,e.left)},[X](){return ut(D(this._tag))(D(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Yt(this.left)}}}),ag=e=>tt(e,ig),ug=e=>e._tag==="Left",cg=e=>e._tag==="Right",qA=e=>{const t=Object.create(UA);return t.left=e,t},VA=e=>{const t=Object.create(LA);return t.right=e,t},pn=VA,gs=qA,pi=ug,Lo=cg,WA=m(2,(e,{onLeft:t,onRight:n})=>pi(e)?t(e.left):n(e.right)),zA=WA({onLeft:st,onRight:st}),Gf=e=>e.length>0,Qn=e=>(t,n)=>t===n?0:e(t,n),GA=Qn((e,t)=>e<t?-1:1),HA=Qn((e,t)=>e<t?-1:1),KA=m(2,(e,t)=>Qn((n,r)=>{let s=e(n,r);if(s!==0)return s;for(const i of t)if(s=i(n,r),s!==0)return s;return s})),YA=()=>Qn(()=>0),JA=e=>KA(YA(),e),Hf=m(2,(e,t)=>Qn((n,r)=>e(t(n),t(r)))),ZA=e=>Qn((t,n)=>{const r=Math.min(t.length,n.length);let s=0;for(const i of e){if(s>=r)break;const a=i(t[s],n[s]);if(a!==0)return a;s++}return 0}),XA=(...e)=>ZA(e),Su=e=>m(2,(t,n)=>e(t,n)===-1),Kf=e=>m(2,(t,n)=>e(t,n)===1),Yf=e=>m(2,(t,n)=>e(t,n)!==1),QA=e=>m(2,(t,n)=>e(t,n)!==-1),Jf=e=>m(2,(t,n)=>t===n||e(t,n)<1?t:n),Zf=e=>m(2,(t,n)=>t===n||e(t,n)>-1?t:n),tE=e=>m(2,(t,n)=>Jf(e)(n.maximum,Zf(e)(n.minimum,t))),eE=e=>m(2,(t,n)=>!Su(e)(t,n.minimum)&&!Kf(e)(t,n.maximum)),B=()=>wi,R=Rn,Et=rg,ce=sg,Ee=m(2,(e,{onNone:t,onSome:n})=>Et(e)?t():n(e.value)),en=m(2,(e,t)=>Et(e)?t():e.value),nE=m(2,(e,t)=>Et(e)?t():e),rE=m(2,(e,t)=>Et(e)?R(t()):e),_u=e=>e==null?B():R(e),hr=en(qd),sE=m(2,(e,t)=>{if(ce(e))return e.value;throw t()}),tr=sE(()=>new Error("getOrThrow called on a None")),fg=m(2,(e,t)=>Et(e)?B():R(t(e.value))),iE=m(2,(e,t)=>Et(e)?B():t(e.value)),lg=e=>jr((t,n)=>Et(t)?Et(n):Et(n)?!1:e(t.value,n.value)),oE=e=>Qn((t,n)=>ce(t)?ce(n)?e(t.value,n.value):1:-1),aE=e=>m(2,(t,n)=>Et(t)?!1:e(t.value,n)),uE=qf(),cE=aE(uE),fE=(...e)=>e,hg=e=>e[0],lE=e=>e[1],Xf=m(2,(e,t)=>[t(e[0]),e[1]]),Qf=m(2,(e,t)=>[e[0],t(e[1])]),hE=e=>[e[1],e[0]],y0=sA,xE=XA,pE=m(3,(e,t,n)=>{if(Array.isArray(e))return e.reduce(n,t);let r=0,s=t;for(const i of e)s=n(s,i,r++);return s}),mE=()=>({}),no=Object.fromEntries,xg=m(2,(e,t)=>Object.prototype.hasOwnProperty.call(e,t)),tl=m(3,(e,t,n)=>xg(e,t)?{...e,[t]:n(e[t])}:{...e}),pg=m(2,(e,t)=>{const n={};for(const r of el(e)){const[s,i]=t(e[r],r);n[s]=i}return n}),dE=m(2,(e,t)=>{const n=mE();for(const r of el(e))t(e[r],r)&&(n[r]=e[r]);return n}),el=e=>Object.keys(e),gE=e=>m(2,(t,n)=>{for(const r of el(t))if(!xg(n,r)||!e(t[r],n[r]))return!1;return!0}),bE=e=>{const t=gE(e);return(n,r)=>t(n,r)&&t(r,n)},wu=e=>new Array(e),nl=m(2,(e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let s=0;s<n;s++)r[s]=t(s);return r}),mg=(e,t)=>e<=t?nl(t-e+1,n=>e+n):[e],er=m(2,(e,t)=>nl(t,()=>e)),pt=e=>Array.isArray(e)?e:Array.from(e),yE=e=>Array.isArray(e)?e:[e],SE=m(2,(e,{onEmpty:t,onNonEmpty:n})=>Wt(e)?n(e):t()),nn=m(2,(e,t)=>[t,...e]),Ai=m(2,(e,t)=>pt(t).concat(pt(e))),Ln=m(2,(e,t)=>[...e,t]),bs=m(2,(e,t)=>pt(e).concat(pt(t))),dg=Array.isArray,gg=e=>e.length===0,_E=gg,me=Gf,Wt=Gf,bg=e=>e.length,yg=(e,t)=>e<0||e>=t.length,Sg=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),_g=m(2,(e,t)=>{const n=Math.floor(t);return yg(n,e)?B():R(e[n])}),wg=m(2,(e,t)=>{const n=Math.floor(t);if(yg(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),gi=_g(0),Zt=wg(0),wE=e=>Wt(e)?R(ro(e)):B(),ro=e=>e[e.length-1],yn=e=>e.slice(1),rl=e=>e.slice(0,-1),ja=m(2,(e,t)=>{const n=pt(e),r=Sg(t,n);return r===0?[]:n.slice(-r)}),AE=(e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n},EE=m(2,(e,t)=>TE(e,AE(e,t))),FE=m(2,(e,t)=>{const n=pt(e);return n.slice(Sg(t,n),n.length)}),S0=e=>Array.from(e).reverse(),Er=m(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),CE=(...e)=>{const t=Er(JA(e));return n=>{const r=pt(n);return Wt(r)?t(r):[]}},Ei=m(2,(e,t)=>Au(e,t,fE)),Au=m(3,(e,t,n)=>{const r=pt(e),s=pt(t);if(Wt(r)&&Wt(s)){const i=[n(Zt(r),Zt(s))],a=Math.min(r.length,s.length);for(let u=1;u<a;u++)i[u]=n(r[u],s[u]);return i}return[]}),vE=m(2,(e,t)=>[t(Zt(e)),...yn(e)]),kE=e=>m(2,(t,n)=>{for(const r of t)if(e(n,r))return!0;return!1}),Ag=qf(),IE=m(2,(e,t)=>{const n=pt(e);if(Wt(n)){const[r,s]=t(n),i=[r];let a=s;for(;Gf(a);){const[u,c]=t(a);i.push(u),a=c}return i}return[]}),TE=m(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return Wt(n)?r>=1?OE(n,r):[[],n]:[n,[]]}),OE=m(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[$E(e),[]]:[nn(e.slice(1,n),Zt(e)),e.slice(n)]}),$E=e=>e.slice(),Eg=m(2,(e,t)=>IE(e,n=>{const r=Zt(n),s=[r];let i=1;for(;i<n.length;i++){const a=n[i];if(t(a,r))s.push(a);else break}return[s,n.slice(i)]})),BE=m(3,(e,t,n)=>{const r=pt(e),s=pt(t);return Wt(r)?Wt(s)?Eu(n)(bs(r,s)):r:s}),ba=m(2,(e,t)=>BE(e,t,Ag)),ME=e=>{const t=kE(e);return m(2,(n,r)=>pt(n).filter(s=>!t(r,s)))},RE=ME(Ag),ys=()=>[],he=e=>[e],O=m(2,(e,t)=>e.map(t)),Fg=m(2,(e,t)=>{if(_E(e))return[];const n=[];for(let r=0;r<e.length;r++){const s=t(e[r],r);for(let i=0;i<s.length;i++)n.push(s[i])}return n}),so=Fg(st),La=m(2,(e,t)=>{const n=pt(e),r=[];for(let s=0;s<n.length;s++)t(n[s],s)&&r.push(n[s]);return r}),Lr=m(3,(e,t,n)=>pt(e).reduce((r,s,i)=>n(r,s,i),t)),Cg=m(2,(e,t)=>e.every(t)),NE=m(2,(e,t)=>e.reduce(Jf(t))),sl=m(2,(e,t)=>e.reduce(Zf(t))),Nx=(e,t)=>{const n=[];let r=e,s;for(;ce(s=t(r));){const[i,a]=s.value;n.push(i),r=a}return n},Ur=iA,Eu=m(2,(e,t)=>{const n=pt(e);if(Wt(n)){const r=[Zt(n)],s=yn(n);for(const i of s)r.every(a=>!t(i,a))&&r.push(i);return r}return[]}),DE=e=>Eu(e,qf()),Je=m(2,(e,t)=>pt(e).join(t)),PE=Ba,jE=e=>kg(e,-1),il=m(2,(e,t)=>e+t),LE=e=>pE(e,0,il),vg=m(2,(e,t)=>e-t),kg=m(2,(e,t)=>e*t),UE=e=>{let t=1;for(const n of e){if(n===0)return 0;t*=n}return t},qE=m(2,(e,t)=>t===0?wi:Rn(e/t)),VE=m(2,(e,t)=>e/t),Ig=e=>il(e,1),Tg=e=>vg(e,1),Fu=tA,mt=HA,WE=Su(mt),zE=Yf(mt),GE=Kf(mt),HE=QA(mt),KE=eE(mt),YE=tE(mt),JE=Jf(mt),ZE=Zf(mt),XE=e=>mt(e,0),QE=m(2,(e,t)=>{const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}),tF=e=>{const t=Math.ceil(Math.log(e)/Math.log(2));return Math.max(Math.pow(2,t),2)},eF=e=>{if(e==="NaN")return Rn(NaN);if(e==="Infinity")return Rn(1/0);if(e==="-Infinity")return Rn(-1/0);if(e.trim()==="")return wi;const t=Number(e);return Number.isNaN(t)?wi:Rn(t)},nF=m(2,(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n}),rF=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),sF=Symbol.for("effect/Context/Tag"),Ua=Symbol.for("effect/Context/Reference"),iF="effect/STM",oF=Symbol.for(iF),Og={...Qi,_op:"Tag",[oF]:ds,[sF]:{_Service:e=>e,_Identifier:e=>e},toString(){return te(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[It](){return this.toJSON()},of(e){return e},context(e){return Bg(this,e)}},aF={...Og,[Ua]:Ua},uF=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(Og);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r},cF=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function s(){}return Object.setPrototypeOf(s,aF),s.key=e,s.defaultValue=t.defaultValue,Object.defineProperty(s,"stack",{get(){return r.stack}}),s},$g=Symbol.for("effect/Context"),fF={[$g]:{_Services:e=>e},[Y](e){if(hF(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!Q(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[X](){return kt(this,Uf(this.unsafeMap.size))},pipe(){return H(this,arguments)},toString(){return te(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Yt)}},[It](){return this.toJSON()}},Ss=e=>{const t=Object.create(fF);return t.unsafeMap=e,t},lF=e=>{const t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){const n=e.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},hF=e=>tt(e,$g),xF=e=>tt(e,Ua),pF=Ss(new Map),mF=()=>pF,Bg=(e,t)=>Ss(new Map([[e.key,t]])),dF=m(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Ss(r)}),Fc=lt("effect/Context/defaultValueCache",()=>new Map),ol=e=>{if(Fc.has(e.key))return Fc.get(e.key);const t=e.defaultValue();return Fc.set(e.key,t),t},gF=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):ol(t),Mg=m(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(Ua in t)return ol(t);throw lF(t)}return e.unsafeMap.get(t.key)}),bF=Mg,yF=m(2,(e,t)=>e.unsafeMap.has(t.key)?Rn(e.unsafeMap.get(t.key)):xF(t)?Rn(ol(t)):wi),SF=m(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,s]of t.unsafeMap)n.set(r,s);return Ss(n)}),qr=uF,al=mF,_F=Bg,si=dF,Rg=bF,Ng=Mg,io=yF,Dg=SF,Pg=cF,jg=Symbol.for("effect/Chunk");function wF(e,t,n,r,s){for(let i=t;i<Math.min(e.length,t+s);i++)n[r+i-t]=e[i];return n}const Lg=[],AF=e=>jr((t,n)=>t.length===n.length&&Sr(t).every((r,s)=>e(r,cs(n,s)))),EF=AF(Q),FF={[jg]:{_A:e=>e},toString(){return te(this.toJSON())},toJSON(){return{_id:"Chunk",values:Sr(this).map(Yt)}},[It](){return this.toJSON()},[Y](e){return Ug(e)&&EF(this,e)},[X](){return kt(this,Zi(Sr(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return Lg[Symbol.iterator]();default:return Sr(this)[Symbol.iterator]()}},pipe(){return H(this,arguments)}},zt=e=>{const t=Object.create(FF);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=Xe,t.right=Xe;break}case"ISingleton":{t.length=1,t.depth=0,t.left=Xe,t.right=Xe;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=Xe,t.right=Xe;break}}return t},Ug=e=>tt(e,jg),Xe=zt({_tag:"IEmpty"}),Sn=()=>Xe,Cc=(...e)=>kF(e),we=e=>zt({_tag:"ISingleton",a:e}),qg=e=>Ug(e)?e:Cu(pt(e)),_0=(e,t,n)=>{switch(e.backing._tag){case"IArray":{wF(e.backing.array,0,t,n,e.length);break}case"IConcat":{_0(e.left,t,n),_0(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,s=n;for(;r<e.length;)t[s]=cs(e,r),r+=1,s+=1;break}}},CF=e=>{switch(e.backing._tag){case"IEmpty":return Lg;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return _0(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Xe,e.right=Xe,e.depth=0,t}}},Sr=CF,vF=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return zt({_tag:"IArray",array:S0(e.backing.array)});case"IConcat":return zt({_tag:"IConcat",left:_s(e.backing.right),right:_s(e.backing.left)});case"ISlice":return Cu(S0(Sr(e)))}},_s=vF,Cu=e=>e.length===0?Sn():e.length===1?we(e[0]):zt({_tag:"IArray",array:e}),kF=e=>Cu(e),cs=m(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?cs(e.left,t):cs(e.right,t-e.left.length);case"ISlice":return cs(e.backing.chunk,t+e.backing.offset)}}),IF=m(2,(e,t)=>De(e,we(t))),ze=m(2,(e,t)=>De(we(t),e)),w0=m(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Xe;switch(e.backing._tag){case"ISlice":return zt({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?w0(e.right,t-e.left.length):zt({_tag:"IConcat",left:w0(e.left,t),right:e.right});default:return zt({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),De=m(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return zt({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){const r=De(e.right,t);return zt({_tag:"IConcat",left:e.left,right:r})}else{const r=De(e.right.right,t);if(r.depth===e.depth-3){const s=zt({_tag:"IConcat",left:e.right.left,right:r});return zt({_tag:"IConcat",left:e.left,right:s})}else{const s=zt({_tag:"IConcat",left:e.left,right:e.right.left});return zt({_tag:"IConcat",left:s,right:r})}}else if(t.right.depth>=t.left.depth){const r=De(e,t.left);return zt({_tag:"IConcat",left:r,right:t.right})}else{const r=De(e,t.left.left);if(r.depth===t.depth-3){const s=zt({_tag:"IConcat",left:r,right:t.left.right});return zt({_tag:"IConcat",left:s,right:t.right})}else{const s=zt({_tag:"IConcat",left:t.left.right,right:t.right});return zt({_tag:"IConcat",left:r,right:s})}}}),TF=e=>e.length===0,ws=e=>e.length>0,Vg=e=>cs(e,0),As=Vg,dr=e=>w0(e,1),A0=Symbol.for("effect/Duration"),Wg=BigInt(0),Dx=BigInt(24),Uo=BigInt(60),E0=BigInt(1e3),Px=BigInt(1e6),jx=BigInt(1e9),OF=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,_n=e=>{if(zg(e))return e;if(Ba(e))return _r(e);if(aA(e))return vc(e);if(Array.isArray(e)&&e.length===2&&e.every(Ba))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?Gg:e[0]===1/0||e[1]===1/0?RF:vc(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(oA(e)){const t=OF.exec(e);if(t){const[n,r,s]=t,i=Number(r);switch(s){case"nano":case"nanos":return vc(BigInt(r));case"micro":case"micros":return NF(BigInt(r));case"milli":case"millis":return _r(i);case"second":case"seconds":return Hg(i);case"minute":case"minutes":return Kg(i);case"hour":case"hours":return Yg(i);case"day":case"days":return Jg(i);case"week":case"weeks":return Zg(i)}}}throw new Error("Invalid DurationInput")},Lx={_tag:"Millis",millis:0},$F={_tag:"Infinity"},BF={[A0]:A0,[X](){return kt(this,Yd(this.value))},[Y](e){return zg(e)&&WF(this,e)},toString(){return`Duration(${GF(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:PF(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[It](){return this.toJSON()},pipe(){return H(this,arguments)}},sn=e=>{const t=Object.create(BF);return Ba(e)?isNaN(e)||e<=0?t.value=Lx:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=$F:e<=Wg?t.value=Lx:t.value={_tag:"Nanos",nanos:e},t},zg=e=>tt(e,A0),MF=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===Wg;case"Infinity":return!1}},Gg=sn(0),RF=sn(1/0),vc=e=>sn(e),NF=e=>sn(e*E0),_r=e=>sn(e),Hg=e=>sn(e*1e3),Kg=e=>sn(e*6e4),Yg=e=>sn(e*36e5),Jg=e=>sn(e*864e5),Zg=e=>sn(e*6048e5),F0=e=>jF(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),DF=e=>{const t=_n(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},PF=e=>{const t=_n(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/jx),Number(t.value.nanos%jx)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},jF=m(2,(e,t)=>{const n=_n(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),vu=m(3,(e,t,n)=>{const r=_n(e),s=_n(t);if(r.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(F0(r),F0(s));if(r.value._tag==="Nanos"||s.value._tag==="Nanos"){const i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(i,a)}return n.onMillis(r.value.millis,s.value.millis)}),LF=Qn((e,t)=>vu(e,t,{onMillis:(n,r)=>n<r?-1:n>r?1:0,onNanos:(n,r)=>n<r?-1:n>r?1:0})),UF=(e,t)=>vu(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),qF=m(2,(e,t)=>vu(e,t,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r})),VF=m(2,(e,t)=>vu(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),WF=m(2,(e,t)=>UF(_n(e),_n(t))),zF=e=>{const t=_n(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=DF(t),r=n/Px,s=r/E0,i=s/Uo,a=i/Uo,u=a/Dx;return{days:Number(u),hours:Number(a%Dx),minutes:Number(i%Uo),seconds:Number(s%Uo),millis:Number(r%E0),nanos:Number(n%Px)}},GF=e=>{const t=_n(e);if(t.value._tag==="Infinity")return"Infinity";if(MF(t))return"0";const n=zF(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Fr=5,ul=Math.pow(2,Fr),HF=ul-1,KF=ul/2,YF=ul/4;function JF(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Es(e,t){return t>>>e&HF}function as(e){return 1<<e}function Xg(e,t){return JF(e&t-1)}const ZF=(e,t)=>({value:e,previous:t});function fs(e,t,n,r){let s=r;if(!e){const i=r.length;s=new Array(i);for(let a=0;a<i;++a)s[a]=r[a]}return s[t]=n,s}function Qg(e,t,n){const r=n.length-1;let s=0,i=0,a=n;if(e)s=i=t;else for(a=new Array(r);s<t;)a[i++]=n[s++];for(++s;s<=r;)a[i++]=n[s++];return e&&(a.length=r),a}function XF(e,t,n,r){const s=r.length;if(e){let c=s;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let i=0,a=0;const u=new Array(s+1);for(;i<t;)u[a++]=r[i++];for(u[t]=n;i<s;)u[++a]=r[i++];return u}class Un{_tag="EmptyNode";modify(t,n,r,s,i,a){const u=r(B());return Et(u)?new Un:(++a.value,new wr(t,s,i,u))}}function Pe(e){return jf(e,"EmptyNode")}function QF(e){return Pe(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function ku(e,t){return Pe(e)?!1:t===e.edit}class wr{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,s){this.edit=t,this.hash=n,this.key=r,this.value=s}modify(t,n,r,s,i,a){if(Q(i,this.key)){const c=r(this.value);return c===this.value?this:Et(c)?(--a.value,new Un):ku(this,t)?(this.value=c,this):new wr(t,s,i,c)}const u=r(B());return Et(u)?this:(++a.value,tb(t,n,this.hash,this,s,new wr(t,s,i,u)))}}class cl{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,s,i,a){if(s===this.hash){const c=ku(this,t),f=this.updateCollisionList(c,t,this.hash,this.children,r,i,a);return f===this.children?this:f.length>1?new cl(t,this.hash,f):f[0]}const u=r(B());return Et(u)?this:(++a.value,tb(t,n,this.hash,this,s,new wr(t,s,i,u)))}updateCollisionList(t,n,r,s,i,a,u){const c=s.length;for(let x=0;x<c;++x){const p=s[x];if("key"in p&&Q(a,p.key)){const g=p.value,b=i(g);return b===g?s:Et(b)?(--u.value,Qg(t,x,s)):fs(t,x,new wr(n,r,a,b),s)}}const f=i(B());return Et(f)?s:(++u.value,fs(t,c,new wr(n,r,a,f),s))}}class Fs{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,s,i,a){const u=this.mask,c=this.children,f=Es(n,s),x=as(f),p=Xg(u,x),g=u&x,b=ku(this,t);if(!g){const E=new Un().modify(t,n+Fr,r,s,i,a);return E?c.length>=KF?e3(t,f,E,u,c):new Fs(t,u|x,XF(b,p,E,c)):this}const S=c[p],w=S.modify(t,n+Fr,r,s,i,a);if(S===w)return this;let d=u,F;if(Pe(w)){if(d&=~x,!d)return new Un;if(c.length<=2&&QF(c[p^1]))return c[p^1];F=Qg(b,p,c)}else F=fs(b,p,w,c);return b?(this.mask=d,this.children=F,this):new Fs(t,d,F)}}class fl{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,s,i,a){let u=this.size;const c=this.children,f=Es(n,s),x=c[f],p=(x||new Un).modify(t,n+Fr,r,s,i,a);if(x===p)return this;const g=ku(this,t);let b;if(Pe(x)&&!Pe(p))++u,b=fs(g,f,p,c);else if(!Pe(x)&&Pe(p)){if(--u,u<=YF)return t3(t,u,f,c);b=fs(g,f,new Un,c)}else b=fs(g,f,p,c);return g?(this.size=u,this.children=b,this):new fl(t,u,b)}}function t3(e,t,n,r){const s=new Array(t-1);let i=0,a=0;for(let u=0,c=r.length;u<c;++u)if(u!==n){const f=r[u];f&&!Pe(f)&&(s[i++]=f,a|=1<<u)}return new Fs(e,a,s)}function e3(e,t,n,r,s){const i=[];let a=r,u=0;for(let c=0;a;++c)a&1&&(i[c]=s[u++]),a>>>=1;return i[t]=n,new fl(e,u+1,i)}function n3(e,t,n,r,s,i){if(n===s)return new cl(e,n,[i,r]);const a=Es(t,n),u=Es(t,s);if(a===u)return c=>new Fs(e,as(a)|as(u),[c]);{const c=a<u?[r,i]:[i,r];return new Fs(e,as(a)|as(u),c)}}function tb(e,t,n,r,s,i){let a,u=t;for(;;){const c=n3(e,u,n,r,s,i);if(typeof c=="function")a=ZF(c,a),u=u+Fr;else{let f=c;for(;a!=null;)f=a.value(f),a=a.previous;return f}}}const eb="effect/HashMap",C0=Symbol.for(eb),r3={[C0]:C0,[Symbol.iterator](){return new Iu(this,(e,t)=>[e,t])},[X](){let e=D(eb);for(const t of this)e^=l(D(t[0]),ut(D(t[1])));return kt(this,e)},[Y](e){if(o3(e)){if(e._size!==this._size)return!1;for(const t of this){const n=l(e,hl(t[0],D(t[0])));if(Et(n))return!1;if(!Q(t[1],n.value))return!1}return!0}return!1},toString(){return te(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Yt)}},[It](){return this.toJSON()},pipe(){return H(this,arguments)}},ll=(e,t,n,r)=>{const s=Object.create(r3);return s._editable=e,s._edit=t,s._root=n,s._size=r,s};class Iu{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=nb(this.map._root,this.f,void 0)}next(){if(Et(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=qa(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Iu(this.map,this.f)}}const qa=e=>e?rb(e[0],e[1],e[2],e[3],e[4]):B(),nb=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return ce(e.value)?R({value:t(e.key,e.value.value),cont:n}):qa(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return rb(r.length,r,0,t,n)}default:return qa(n)}},rb=(e,t,n,r,s)=>{for(;n<e;){const i=t[n++];if(i&&!Pe(i))return nb(i,r,[e,t,n,r,s])}return qa(s)},s3=ll(!1,0,new Un,0),Tu=()=>s3,i3=e=>{const t=sb(Tu());for(const n of e)Fi(t,n[0],n[1]);return l3(t)},o3=e=>tt(e,C0),a3=e=>e&&Pe(e._root),u3=m(2,(e,t)=>hl(e,t,D(t))),hl=m(3,(e,t,n)=>{let r=e._root,s=0;for(;;)switch(r._tag){case"LeafNode":return Q(t,r.key)?r.value:B();case"CollisionNode":{if(n===r.hash){const i=r.children;for(let a=0,u=i.length;a<u;++a){const c=i[a];if("key"in c&&Q(t,c.key))return c.value}}return B()}case"IndexedNode":{const i=Es(s,n),a=as(i);if(r.mask&a){r=r.children[Xg(r.mask,a)],s+=Fr;break}return B()}case"ArrayNode":{if(r=r.children[Es(s,n)],r){s+=Fr;break}return B()}default:return B()}}),c3=m(2,(e,t)=>ce(hl(e,t,D(t)))),Fi=m(3,(e,t,n)=>pl(e,t,()=>R(n))),f3=m(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:ll(e._editable,e._edit,t,n)),xl=e=>new Iu(e,t=>t),v0=e=>e._size,sb=e=>ll(!0,e._edit+1,e._root,e._size),l3=e=>(e._editable=!1,e),pl=m(3,(e,t,n)=>h3(e,t,D(t),n)),h3=m(4,(e,t,n,r)=>{const s={value:e._size},i=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,s);return l(e,f3(i,s.value))}),Ux=m(2,(e,t)=>pl(e,t,B)),x3=m(2,(e,t)=>Ou(e,Tu(),(n,r,s)=>Fi(n,s,t(r,s)))),p3=m(2,(e,t)=>Ou(e,void 0,(n,r,s)=>t(r,s))),Ou=m(3,(e,t,n)=>{const r=e._root;if(r._tag==="LeafNode")return ce(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;const s=[r.children];let i;for(;i=s.pop();)for(let a=0,u=i.length;a<u;){const c=i[a++];c&&!Pe(c)&&(c._tag==="LeafNode"?ce(c.value)&&(t=n(t,c.value.value,c.key)):s.push(c.children))}return t}),ib="effect/HashSet",k0=Symbol.for(ib),m3={[k0]:k0,[Symbol.iterator](){return xl(this._keyMap)},[X](){return kt(this,ut(D(this._keyMap))(D(ib)))},[Y](e){return d3(e)?v0(this._keyMap)===v0(e._keyMap)&&Q(this._keyMap,e._keyMap):!1},toString(){return te(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Yt)}},[It](){return this.toJSON()},pipe(){return H(this,arguments)}},$u=e=>{const t=Object.create(m3);return t._keyMap=e,t},d3=e=>tt(e,k0),g3=$u(Tu()),Bu=()=>g3,b3=e=>{const t=ml(Bu());for(const n of e)Ci(t,n);return dl(t)},y3=(...e)=>{const t=ml(Bu());for(const n of e)Ci(t,n);return dl(t)},S3=m(2,(e,t)=>c3(e._keyMap,t)),_3=e=>xl(e._keyMap),w3=e=>v0(e._keyMap),ml=e=>$u(sb(e._keyMap)),dl=e=>(e._keyMap._editable=!1,e),ob=m(2,(e,t)=>{const n=ml(e);return t(n),dl(n)}),Ci=m(2,(e,t)=>e._keyMap._editable?(Fi(t,!0)(e._keyMap),e):$u(Fi(t,!0)(e._keyMap))),ab=m(2,(e,t)=>e._keyMap._editable?(Ux(t)(e._keyMap),e):$u(Ux(t)(e._keyMap))),A3=m(2,(e,t)=>ob(e,n=>{for(const r of t)ab(n,r)})),E3=m(2,(e,t)=>ob(Bu(),n=>{F3(e,r=>Ci(n,r));for(const r of t)Ci(n,r)})),F3=m(2,(e,t)=>p3(e._keyMap,(n,r)=>t(r))),C3=m(3,(e,t,n)=>Ou(e._keyMap,t,(r,s,i)=>n(r,i))),qn=Bu,ub=b3,gl=y3,v3=S3,k3=_3,bl=w3,ls=Ci,yl=ab,qx=A3,vi=E3,Va=C3,Vx=Symbol.for("effect/MutableRef"),I3={[Vx]:Vx,toString(){return te(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Yt(this.current)}},[It](){return this.toJSON()},pipe(){return H(this,arguments)}},cb=e=>{const t=Object.create(I3);return t.current=e,t},Mu=e=>e.current,fb=m(2,(e,t)=>(e.current=t,e)),Sl="effect/FiberId",ki=Symbol.for(Sl),Wa="None",I0="Runtime",T3="Composite",O3=Pt(`${Sl}-${Wa}`);let $3=class{[ki]=ki;_tag=Wa;id=-1;startTimeMillis=-1;[X](){return O3}[Y](t){return lb(t)&&t._tag===Wa}toString(){return te(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[It](){return this.toJSON()}};class B3{id;startTimeMillis;[ki]=ki;_tag=I0;constructor(t,n){this.id=t,this.startTimeMillis=n}[X](){return kt(this,Pt(`${Sl}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Y](t){return lb(t)&&t._tag===I0&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return te(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[It](){return this.toJSON()}}const M3=new $3,lb=e=>tt(e,ki),T0=e=>{switch(e._tag){case Wa:return qn();case I0:return gl(e.id);case T3:return l(T0(e.left),vi(T0(e.right)))}},Wx=lt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>cb(0)),hb=e=>Array.from(T0(e)).map(n=>`#${n}`).join(","),R3=()=>{const e=Mu(Wx);return l(Wx,fb(e+1)),new B3(e,Date.now())},Cs=M3,N3=hb,xb=R3,Ii=Tu,D3=i3,P3=a3,_l=u3,wl=Fi,pb=xl,mb=pl,j3=x3,db=Ou,Ti=Symbol.for("effect/List"),O0=e=>pt(e),L3=e=>nA(Ur(e),O0),U3=L3(Q),q3={[Ti]:Ti,_tag:"Cons",toString(){return te(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:O0(this).map(Yt)}},[It](){return this.toJSON()},[Y](e){return gb(e)&&this._tag===e._tag&&U3(this,e)},[X](){return kt(this,Zi(O0(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return H(this,arguments)}},vs=(e,t)=>{const n=Object.create(q3);return n.head=e,n.tail=t,n},V3=Pt("Nil"),W3={[Ti]:Ti,_tag:"Nil",toString(){return te(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[It](){return this.toJSON()},[X](){return V3},[Y](e){return gb(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return H(this,arguments)}},za=Object.create(W3),gb=e=>tt(e,Ti),Ue=e=>e._tag==="Nil",z3=e=>e._tag==="Cons",G3=()=>za,Cr=(e,t)=>vs(e,t),ks=G3,Al=e=>vs(e,za),H3=m(2,(e,t)=>Y3(t,e)),K3=m(2,(e,t)=>Cr(t,e)),Y3=m(2,(e,t)=>{if(Ue(e))return t;if(Ue(t))return e;{const n=vs(t.head,e);let r=n,s=t.tail;for(;!Ue(s);){const i=vs(s.head,e);r.tail=i,r=i,s=s.tail}return n}}),J3=m(2,(e,t)=>{if(Ue(e))return e;{let n=0;const r=vs(t(e.head,n++),za);let s=r,i=e.tail;for(;!Ue(i);){const a=vs(t(i.head,n++),za);s.tail=a,s=a,i=i.tail}return r}}),Z3=m(3,(e,t,n)=>{let r=t,s=e;for(;!Ue(s);)r=n(r,s.head),s=s.tail;return r}),X3=e=>{let t=ks(),n=e;for(;!Ue(n);)t=K3(t,n.head),n=n.tail;return t},El=(function(){function e(t){t&&Object.assign(this,t)}return e.prototype=to,e})(),Q3=e=>Object.assign(Object.create(to),e),tC=Symbol.for("effect/DifferContextPatch");function zx(e){return e}const oo={...El.prototype,[tC]:{_Value:zx,_Patch:zx}},eC=Object.assign(Object.create(oo),{_tag:"Empty"}),nC=Object.create(eC),bb=()=>nC,rC=Object.assign(Object.create(oo),{_tag:"AndThen"}),sC=(e,t)=>{const n=Object.create(rC);return n.first=e,n.second=t,n},iC=Object.assign(Object.create(oo),{_tag:"AddService"}),oC=(e,t)=>{const n=Object.create(iC);return n.key=e,n.service=t,n},aC=Object.assign(Object.create(oo),{_tag:"RemoveService"}),uC=e=>{const t=Object.create(aC);return t.key=e,t},cC=Object.assign(Object.create(oo),{_tag:"UpdateService"}),fC=(e,t)=>{const n=Object.create(cC);return n.key=e,n.update=t,n},lC=(e,t)=>{const n=new Map(e.unsafeMap);let r=bb();for(const[s,i]of t.unsafeMap.entries())if(n.has(s)){const a=n.get(s);n.delete(s),Q(a,i)||(r=ya(fC(s,()=>i))(r))}else n.delete(s),r=ya(oC(s,i))(r);for(const[s]of n.entries())r=ya(uC(s))(r);return r},ya=m(2,(e,t)=>sC(e,t)),hC=m(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=we(e);const s=new Map(t.unsafeMap);for(;ws(r);){const a=As(r),u=dr(r);switch(a._tag){case"Empty":{r=u;break}case"AddService":{s.set(a.key,a.service),r=u;break}case"AndThen":{r=ze(ze(u,a.second),a.first);break}case"RemoveService":{s.delete(a.key),r=u;break}case"UpdateService":{s.set(a.key,a.update(s.get(a.key))),n=!0,r=u;break}}}if(!n)return Ss(s);const i=new Map;for(const[a]of t.unsafeMap)s.has(a)&&(i.set(a,s.get(a)),s.delete(a));for(const[a,u]of s)i.set(a,u);return Ss(i)}),xC=Symbol.for("effect/DifferHashSetPatch");function kc(e){return e}const Ru={...El.prototype,[xC]:{_Value:kc,_Key:kc,_Patch:kc}},pC=Object.assign(Object.create(Ru),{_tag:"Empty"}),mC=Object.create(pC),yb=()=>mC,dC=Object.assign(Object.create(Ru),{_tag:"AndThen"}),gC=(e,t)=>{const n=Object.create(dC);return n.first=e,n.second=t,n},bC=Object.assign(Object.create(Ru),{_tag:"Add"}),yC=e=>{const t=Object.create(bC);return t.value=e,t},SC=Object.assign(Object.create(Ru),{_tag:"Remove"}),_C=e=>{const t=Object.create(SC);return t.value=e,t},wC=(e,t)=>{const[n,r]=Va([e,yb()],([s,i],a)=>v3(a)(s)?[yl(a)(s),i]:[s,$0(yC(a))(i)])(t);return Va(r,(s,i)=>$0(_C(i))(s))(n)},$0=m(2,(e,t)=>gC(e,t)),AC=m(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=we(e);for(;ws(r);){const s=As(r),i=dr(r);switch(s._tag){case"Empty":{r=i;break}case"AndThen":{r=ze(s.first)(ze(s.second)(i));break}case"Add":{n=ls(s.value)(n),r=i;break}case"Remove":n=yl(s.value)(n),r=i}}return n}),EC=Symbol.for("effect/DifferReadonlyArrayPatch");function Gx(e){return e}const ao={...El.prototype,[EC]:{_Value:Gx,_Patch:Gx}},FC=Object.assign(Object.create(ao),{_tag:"Empty"}),CC=Object.create(FC),Sb=()=>CC,vC=Object.assign(Object.create(ao),{_tag:"AndThen"}),kC=(e,t)=>{const n=Object.create(vC);return n.first=e,n.second=t,n},IC=Object.assign(Object.create(ao),{_tag:"Append"}),TC=e=>{const t=Object.create(IC);return t.values=e,t},OC=Object.assign(Object.create(ao),{_tag:"Slice"}),$C=(e,t)=>{const n=Object.create(OC);return n.from=e,n.until=t,n},BC=Object.assign(Object.create(ao),{_tag:"Update"}),MC=(e,t)=>{const n=Object.create(BC);return n.index=e,n.patch=t,n},RC=e=>{let t=0,n=Sb();for(;t<e.oldValue.length&&t<e.newValue.length;){const r=e.oldValue[t],s=e.newValue[t],i=e.differ.diff(r,s);Q(i,e.differ.empty)||(n=Sa(n,MC(t,i))),t=t+1}return t<e.oldValue.length&&(n=Sa(n,$C(0,t))),t<e.newValue.length&&(n=Sa(n,TC(FE(t)(e.newValue)))),n},Sa=m(2,(e,t)=>kC(e,t)),NC=m(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),s=he(e);for(;me(s);){const i=Zt(s),a=yn(s);switch(i._tag){case"Empty":{s=a;break}case"AndThen":{a.unshift(i.first,i.second),s=a;break}case"Append":{for(const u of i.values)r.push(u);s=a;break}case"Slice":{r=r.slice(i.from,i.until),s=a;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),s=a;break}}}return r}),DC=Symbol.for("effect/Differ"),PC={[DC]:{_P:st,_V:st},pipe(){return H(this,arguments)}},Ws=e=>{const t=Object.create(PC);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},jC=()=>Ws({empty:bb(),combine:(e,t)=>ya(t)(e),diff:(e,t)=>lC(e,t),patch:(e,t)=>hC(t)(e)}),LC=()=>Ws({empty:yb(),combine:(e,t)=>$0(t)(e),diff:(e,t)=>wC(e,t),patch:(e,t)=>AC(t)(e)}),UC=e=>Ws({empty:Sb(),combine:(t,n)=>Sa(t,n),diff:(t,n)=>RC({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>NC(t,n,e)}),_b=()=>qC((e,t)=>t),qC=e=>Ws({empty:st,combine:(t,n)=>t===st?n:n===st?t:r=>n(t(r)),diff:(t,n)=>Q(t,n)?st:Ki(n),patch:(t,n)=>e(n,t(n))}),Oi=255,wb=8,B0=e=>e&Oi,M0=e=>e>>wb&Oi,uo=(e,t)=>(e&Oi)+((t&e&Oi)<<wb),VC=uo(0,0),WC=e=>uo(e,e),zC=e=>uo(e,0),GC=m(2,(e,t)=>uo(B0(e)&~t,M0(e))),HC=m(2,(e,t)=>e|t),KC=e=>~e>>>0&Oi,YC=0,zs=1,JC=2,Ab=4,R0=16,Eb=32,ZC=e=>Nu(e,Eb),XC=m(2,(e,t)=>e|t),Mn=e=>Fb(e)&&!tv(e),Fb=e=>Nu(e,zs),Nu=m(2,(e,t)=>(e&t)!==0),Cb=(...e)=>e.reduce((t,n)=>t|n,0),QC=Cb(YC),Hx=e=>Nu(e,Ab),tv=e=>Nu(e,R0),_a=m(2,(e,t)=>uo(e^t,t)),wa=m(2,(e,t)=>e&(KC(B0(t))|M0(t))|B0(t)&M0(t)),Kx=Ws({empty:VC,diff:(e,t)=>_a(e,t),combine:(e,t)=>HC(t)(e),patch:(e,t)=>wa(t,e)}),ev=WC,vb=zC,Yx=GC,kb=(e,t)=>({_tag:"Par",left:e,right:t}),qo=(e,t)=>({_tag:"Seq",left:e,right:t}),nv=e=>{let t=Al(e),n=ks();for(;;){const[r,s]=Z3(t,[Ib(),ks()],([i,a],u)=>{const[c,f]=rv(u);return[uv(i,c),H3(a,f)]});if(n=sv(n,r),Ue(s))return X3(n);t=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},rv=e=>{let t=e,n=Ib(),r=ks(),s=ks();for(;;)switch(t._tag){case"Empty":{if(Ue(r))return[n,s];t=r.head,r=r.tail;break}case"Par":{r=Cr(t.right,r),t=t.left;break}case"Seq":{const i=t.left,a=t.right;switch(i._tag){case"Empty":{t=a;break}case"Par":{const u=i.left,c=i.right;t=kb(qo(u,a),qo(c,a));break}case"Seq":{const u=i.left,c=i.right;t=qo(u,qo(c,a));break}case"Single":{t=i,s=Cr(a,s);break}}break}case"Single":{if(n=av(n,t),Ue(r))return[n,s];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},sv=(e,t)=>{if(Ue(e))return Al(Ic(t));if(cv(t))return e;const n=mv(e.head),r=fv(t);return n.length===1&&r.length===1&&Q(n[0],r[0])?Cr(pv(e.head,Ic(t)),e.tail):Cr(Ic(t),e)},iv=Symbol.for("effect/RequestBlock/RequestBlockParallel"),ov={_R:e=>e};class Fl{map;[iv]=ov;constructor(t){this.map=t}}const Ib=()=>new Fl(Ii()),av=(e,t)=>new Fl(mb(e.map,t.dataSource,n=>rE(fg(n,IF(t.blockedRequest)),()=>we(t.blockedRequest)))),uv=(e,t)=>new Fl(db(e.map,t.map,(n,r,s)=>wl(n,s,Ee(_l(n,s),{onNone:()=>r,onSome:i=>De(r,i)})))),cv=e=>P3(e.map),fv=e=>Array.from(pb(e.map)),Ic=e=>xv(j3(e.map,t=>we(t))),lv=Symbol.for("effect/RequestBlock/RequestBlockSequential"),hv={_R:e=>e};class Tb{map;[lv]=hv;constructor(t){this.map=t}}const xv=e=>new Tb(e),pv=(e,t)=>new Tb(db(t.map,e.map,(n,r,s)=>wl(n,s,Ee(_l(n,s),{onNone:()=>Sn(),onSome:i=>De(i,r)})))),mv=e=>Array.from(pb(e.map)),dv=e=>Array.from(e.map),co="Die",vr="Empty",Gs="Fail",Hs="Interrupt",Is="Parallel",Ts="Sequential",Ob="effect/Cause",$b=Symbol.for(Ob),gv={_E:e=>e},Ks={[$b]:gv,[X](){return l(D(Ob),ut(D($v(this))),kt(this))},[Y](e){return bv(e)&&Ov(this,e)},pipe(){return H(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Yt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Yt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Yt(this.left),right:Yt(this.right)}}},toString(){return lo(this)},[It](){return this.toJSON()}},kr=(()=>{const e=Object.create(Ks);return e._tag=vr,e})(),$i=e=>{const t=Object.create(Ks);return t._tag=Gs,t.error=e,t},qe=e=>{const t=Object.create(Ks);return t._tag=co,t.defect=e,t},xn=e=>{const t=Object.create(Ks);return t._tag=Hs,t.fiberId=e,t},fo=(e,t)=>{const n=Object.create(Ks);return n._tag=Is,n.left=e,n.right=t,n},_e=(e,t)=>{const n=Object.create(Ks);return n._tag=Ts,n.left=e,n.right=t,n},bv=e=>tt(e,$b),yv=e=>e._tag===vr,Sv=e=>e._tag===vr?!0:Os(e,!0,(t,n)=>{switch(n._tag){case vr:return R(t);case co:case Gs:case Hs:return R(!1);default:return B()}}),_v=e=>ce(vv(e)),Cl=e=>kl(void 0,Mv)(e),wv=e=>_s(Os(e,Sn(),(t,n)=>n._tag===Gs?R(l(t,ze(n.error))):B())),Av=e=>_s(Os(e,Sn(),(t,n)=>n._tag===co?R(l(t,ze(n.defect))):B())),Ev=e=>Os(e,qn(),(t,n)=>n._tag===Hs?R(l(t,ls(n.fiberId))):B()),Fv=e=>Bb(e,t=>t._tag===Gs?R(t.error):B()),Cv=e=>{const t=Fv(e);switch(t._tag){case"None":return pn(e);case"Some":return gs(t.value)}},vv=e=>Bb(e,t=>t._tag===Hs?R(t.fiberId):B()),Jx=e=>vl(e,{onEmpty:kr,onFail:()=>kr,onDie:qe,onInterrupt:xn,onSequential:_e,onParallel:fo}),kv=e=>vl(e,{onEmpty:kr,onFail:qe,onDie:qe,onInterrupt:xn,onSequential:_e,onParallel:fo}),Iv=m(2,(e,t)=>Tv(e,n=>$i(t(n)))),Tv=m(2,(e,t)=>vl(e,{onEmpty:kr,onFail:n=>t(n),onDie:n=>qe(n),onInterrupt:n=>xn(n),onSequential:(n,r)=>_e(n,r),onParallel:(n,r)=>fo(n,r)})),Ov=(e,t)=>{let n=we(e),r=we(t);for(;ws(n)&&ws(r);){const[s,i]=l(As(n),Os([qn(),Sn()],([c,f],x)=>{const[p,g]=N0(x);return R([l(c,vi(p)),l(f,De(g))])})),[a,u]=l(As(r),Os([qn(),Sn()],([c,f],x)=>{const[p,g]=N0(x);return R([l(c,vi(p)),l(f,De(g))])}));if(!Q(s,a))return!1;n=i,r=u}return!0},$v=e=>Bv(we(e),Sn()),Bv=(e,t)=>{for(;;){const[n,r]=l(e,Lr([qn(),Sn()],([i,a],u)=>{const[c,f]=N0(u);return[l(i,vi(c)),l(a,De(f))]})),s=bl(n)>0?l(t,ze(n)):t;if(TF(r))return _s(s);e=r,t=s}throw new Error(gu("Cause.flattenCauseLoop"))},Bb=m(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),s=t(r);switch(s._tag){case"None":{switch(r._tag){case Ts:case Is:{n.push(r.right),n.push(r.left);break}}break}case"Some":return s}}return B()}),N0=e=>{let t=e;const n=[];let r=qn(),s=Sn();for(;t!==void 0;)switch(t._tag){case vr:{if(n.length===0)return[r,s];t=n.pop();break}case Gs:{if(r=ls(r,Cc(t._tag,t.error)),n.length===0)return[r,s];t=n.pop();break}case co:{if(r=ls(r,Cc(t._tag,t.defect)),n.length===0)return[r,s];t=n.pop();break}case Hs:{if(r=ls(r,Cc(t._tag,t.fiberId)),n.length===0)return[r,s];t=n.pop();break}case Ts:{switch(t.left._tag){case vr:{t=t.right;break}case Ts:{t=_e(t.left.left,_e(t.left.right,t.right));break}case Is:{t=fo(_e(t.left.left,t.right),_e(t.left.right,t.right));break}default:{s=ze(s,t.right),t=t.left;break}}break}case Is:{n.push(t.right),t=t.left;break}}throw new Error(gu("Cause.evaluateCauseLoop"))},Mv={emptyCase:Bx,failCase:g0,dieCase:g0,interruptCase:Bx,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},Zx="SequentialCase",Xx="ParallelCase",vl=m(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:s,onParallel:i,onSequential:a})=>kl(e,void 0,{emptyCase:()=>n,failCase:(u,c)=>r(c),dieCase:(u,c)=>t(c),interruptCase:(u,c)=>s(c),sequentialCase:(u,c,f)=>a(c,f),parallelCase:(u,c,f)=>i(c,f)})),Os=m(3,(e,t,n)=>{let r=t,s=e;const i=[];for(;s!==void 0;){const a=n(r,s);switch(r=ce(a)?a.value:r,s._tag){case Ts:{i.push(s.right),s=s.left;break}case Is:{i.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&i.length>0&&(s=i.pop())}return r}),kl=m(3,(e,t,n)=>{const r=[e],s=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case vr:{s.push(pn(n.emptyCase(t)));break}case Gs:{s.push(pn(n.failCase(t,a.error)));break}case co:{s.push(pn(n.dieCase(t,a.defect)));break}case Hs:{s.push(pn(n.interruptCase(t,a.fiberId)));break}case Ts:{r.push(a.right),r.push(a.left),s.push(gs({_tag:Zx}));break}case Is:{r.push(a.right),r.push(a.left),s.push(gs({_tag:Xx}));break}}}const i=[];for(;s.length>0;){const a=s.pop();switch(a._tag){case"Left":{switch(a.left._tag){case Zx:{const u=i.pop(),c=i.pop(),f=n.sequentialCase(t,u,c);i.push(f);break}case Xx:{const u=i.pop(),c=i.pop(),f=n.parallelCase(t,u,c);i.push(f);break}}break}case"Right":{i.push(a.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),lo=(e,t)=>Cl(e)?"All fibers interrupted without errors.":Rb(e).map(function(n){return t?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Mb(n.cause,"  ")}
}`}).join(`
`),Mb=(e,t)=>{const n=e.stack.split(`
`);let r=`${t}[cause]: ${n[0]}`;for(let s=1,i=n.length;s<i;s++)r+=`
${t}${n[s]}`;return e.cause&&(r+=` {
${Mb(e.cause,`${t}  `)}
${t}}`),r};class Ga extends globalThis.Error{span=void 0;constructor(t){const n=typeof t=="object"&&t!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(Rv(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new Ga(t.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&($s in t&&(this.span=t[$s]),Object.keys(t).forEach(s=>{s in this||(this[s]=t[s])})),this.stack=Pv(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const Rv=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(tt(e,"toString")&&du(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return Jd(e)},Nv=/\((.*)\)/g,Dv=lt("effect/Tracer/spanToTrace",()=>new WeakMap),Pv=(e,t,n)=>{const r=[e],s=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let i=1;i<s.length;i++){if(s[i].includes(" at new BaseEffectError")||s[i].includes(" at new YieldableError")){i++;continue}if(s[i].includes("Generator.next")||s[i].includes("effect_internal_function"))break;r.push(s[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,a=0;for(;i&&i._tag==="Span"&&a<10;){const u=Dv.get(i);if(typeof u=="function"){const c=u();if(typeof c=="string"){const f=c.matchAll(Nv);let x=!1;for(const[,p]of f)x=!0,r.push(`    at ${i.name} (${p})`);x||r.push(`    at ${i.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=hr(i.parent),a++}}return r.join(`
`)},$s=Symbol.for("effect/SpanAnnotation"),Rb=e=>kl(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Ga(n)],failCase:(t,n)=>[new Ga(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),Du="Pending",Nb="Done",jv="effect/Deferred",Lv=Symbol.for(jv),Uv={_E:e=>e,_A:e=>e},qv=e=>({_tag:Du,joiners:e}),Vv=e=>({_tag:Nb,effect:e});class ho{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new ho(this.self)}}const Db=(e,t)=>{const n=new se("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Wv=e=>{const t=new se("RunBlocked");return t.effect_instruction_i0=e,t},Bs=Symbol.for("effect/Effect");class zv{patch;op;_op=Wf;constructor(t,n){this.patch=t,this.op=n}}class se{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Bs]=ds;constructor(t){this._op=t}[Y](t){return this===t}[X](){return kt(this,Lf(this))}pipe(){return H(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Yt(this.effect_instruction_i0),effect_instruction_i1:Yt(this.effect_instruction_i1),effect_instruction_i2:Yt(this.effect_instruction_i2)}}toString(){return te(this.toJSON())}[It](){return this.toJSON()}[Symbol.iterator](){return new ho(new Ji(this))}}class Pb{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Bs]=ds;constructor(t){this._op=t,this._tag=t}[Y](t){return Pl(t)&&t._op==="Failure"&&Q(this.effect_instruction_i0,t.effect_instruction_i0)}[X](){return l(Pt(this._tag),ut(D(this.effect_instruction_i0)),kt(this))}get cause(){return this.effect_instruction_i0}pipe(){return H(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return te(this.toJSON())}[It](){return this.toJSON()}[Symbol.iterator](){return new ho(new Ji(this))}}class jb{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Bs]=ds;constructor(t){this._op=t,this._tag=t}[Y](t){return Pl(t)&&t._op==="Success"&&Q(this.effect_instruction_i0,t.effect_instruction_i0)}[X](){return l(Pt(this._tag),ut(D(this.effect_instruction_i0)),kt(this))}get value(){return this.effect_instruction_i0}pipe(){return H(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Yt(this.value)}}toString(){return te(this.toJSON())}[It](){return this.toJSON()}[Symbol.iterator](){return new ho(new Ji(this))}}const Il=e=>tt(e,Bs),Ae=e=>{const t=new se(Qd);return t.effect_instruction_i0=e,t},Gv=m(3,(e,t,n)=>ju(r=>W(e,s=>W(Ub(Gt(()=>r(t(s)))),i=>Gt(()=>n(s,i)).pipe(Ms({onFailure:a=>{switch(i._tag){case je:return Ge(_e(i.effect_instruction_i0,a));case Le:return Ge(a)}},onSuccess:()=>i})))))),xo=m(2,(e,t)=>W(e,()=>yt(t))),po=e=>xo(e,void 0),Lb=function(){const e=new se(yu);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(gu("you're not supposed to end up here"))}return e},Ha=(e,t=Cs)=>{const n=new se(di);let r;return n.effect_instruction_i0=s=>{r=e(s)},n.effect_instruction_i1=t,Hb(n,s=>Il(r)?r:He)},Hv=(e,t=Cs)=>Gt(()=>Ha(e,t)),Bi=(e,t=Cs)=>Lb(e,function(){let n,r;function s(c){n?n(c):r===void 0&&(r=c)}const i=new se(di);i.effect_instruction_i0=c=>{n=c,r&&c(r)},i.effect_instruction_i1=t;let a,u;return this.effect_instruction_i0.length!==1?(u=new AbortController,a=ae(()=>this.effect_instruction_i0(s,u.signal))):a=ae(()=>this.effect_instruction_i0(s)),a||u?Hb(i,c=>(u&&u.abort(),a??He)):i}),Qx=m(2,(e,t)=>Ol(e,{onFailure:t,onSuccess:yt})),t1=Symbol.for("effect/OriginalAnnotation"),Tl=(e,t)=>ce(t)?new Proxy(e,{has(n,r){return r===$s||r===t1||r in n},get(n,r){return r===$s?t.value:r===t1?e:n[r]}}):e,e1=e=>Yi(e)&&!($s in e)?Ae(t=>Ge(qe(Tl(e,jl(t))))):Ge(qe(e)),Kv=e=>Yv(()=>qe(new Fk(e))),Mi=e=>Ol(e,{onFailure:t=>yt(gs(t)),onSuccess:t=>yt(pn(t))}),Ub=e=>Xv(e,{onFailure:At,onSuccess:Vt}),ee=e=>Yi(e)&&!($s in e)?Ae(t=>Ge($i(Tl(e,jl(t))))):Ge($i(e)),qb=e=>W(G(e),ee),Ge=e=>{const t=new Pb(je);return t.effect_instruction_i0=e,t},Yv=e=>W(G(e),Ge),Jv=Ae(e=>yt(e.id())),Vb=e=>Ae(t=>e(t.id())),W=m(2,(e,t)=>{const n=new se(Na);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Zv=e=>{const t=new se("OnStep");return t.effect_instruction_i0=e,t},Wb=e=>W(e,st),Xv=m(2,(e,t)=>Ms(e,{onFailure:n=>yt(t.onFailure(n)),onSuccess:n=>yt(t.onSuccess(n))})),Ms=m(2,(e,t)=>{const n=new se(Da);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),Ol=m(2,(e,t)=>Ms(e,{onFailure:n=>{if(Av(n).length>0)return Ge(kv(n));const s=wv(n);return s.length>0?t.onFailure(Vg(s)):Ge(n)},onSuccess:t.onSuccess})),Nn=m(2,(e,t)=>Gt(()=>{const n=pt(e),r=wu(n.length);let s=0;return xo(Ml({while:()=>s<n.length,body:()=>t(n[s],s),step:i=>{r[s++]=i}}),r)})),Pu=m(2,(e,t)=>Gt(()=>{const n=pt(e);let r=0;return Ml({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),zb=e=>{const t=new se(Xi);return t.effect_instruction_i0=ev(zs),t.effect_instruction_i1=()=>e,t},oe=m(2,(e,t)=>W(e,n=>G(()=>t(n)))),Gb=m(2,(e,t)=>Ol(e,{onFailure:n=>qb(()=>t.onFailure(n)),onSuccess:n=>G(()=>t.onSuccess(n))})),$l=m(2,(e,t)=>Ms(e,{onFailure:n=>{const r=Cv(n);switch(r._tag){case"Left":return qb(()=>t(r.left));case"Right":return Ge(r.right)}},onSuccess:yt})),Bl=m(2,(e,t)=>ju(n=>Ms(n(e),{onFailure:r=>{const s=At(r);return Ms(t(s),{onFailure:i=>At(_e(r,i)),onSuccess:()=>s})},onSuccess:r=>{const s=Vt(r);return Lu(t(s),s)}}))),Hb=m(2,(e,t)=>Bl(e,oy({onFailure:n=>Cl(n)?po(t(Ev(n))):He,onSuccess:()=>He}))),yt=e=>{const t=new jb(Le);return t.effect_instruction_i0=e,t},Gt=e=>{const t=new se(yu);return t.commit=e,t},G=e=>{const t=new se(Xd);return t.effect_instruction_i0=e,t},Qv=m(e=>e.length===3||e.length===2&&!(Yi(e[1])&&"onlyEffect"in e[1]),(e,t)=>W(e,n=>{const r=typeof t=="function"?t(n):t;return Il(r)?xo(r,n):fA(r)?Ha(s=>{r.then(i=>s(yt(n)),i=>s(ee(new kk(i,"An unknown error occurred in Effect.tap"))))}):yt(n)})),tk=e=>Ae(t=>{const n=t.getFiberRef(P0),r=l(n,en(()=>t.scope()));return e(Uu(P0,R(r)))}),Kb=e=>{const t=new se(Xi);return t.effect_instruction_i0=vb(zs),t.effect_instruction_i1=()=>e,t},ju=e=>Lb(e,function(){const t=new se(Xi);return t.effect_instruction_i0=vb(zs),t.effect_instruction_i1=n=>Fb(n)?ae(()=>this.effect_instruction_i0(zb)):ae(()=>this.effect_instruction_i0(Kb)),t}),He=yt(void 0),ek=e=>{const t=new se(Xi);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},Ml=e=>{const t=new se(Pa);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Rl=e=>{const t=new se(ga);return typeof e?.priority<"u"?bk(t,e.priority):t},Yb=m(2,(e,t)=>W(e,n=>oe(t,r=>[n,r]))),Jb=m(2,(e,t)=>W(e,n=>xo(t,n))),Lu=m(2,(e,t)=>W(e,()=>t)),nk=e=>W(Jv,t=>l(e,Zb(t))),Zb=m(2,(e,t)=>W(e.interruptAsFork(t),()=>e.await)),rk={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return H(this,arguments)}},sk={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return H(this,arguments)}},ik={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return H(this,arguments)}},Xb={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return H(this,arguments)}},Qb={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return H(this,arguments)}},ty={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return H(this,arguments)}},ok={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return H(this,arguments)}},ak={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return H(this,arguments)}},uk="effect/FiberRef",ck=Symbol.for(uk),fk={_A:e=>e},Nl=e=>Ae(t=>Vt(t.getFiberRef(e))),Dl=m(2,(e,t)=>W(Nl(e),t)),n1=m(2,(e,t)=>lk(e,()=>[void 0,t])),lk=m(2,(e,t)=>Ae(n=>{const[r,s]=t(n.getFiberRef(e));return n.setFiberRef(e,s),yt(r)})),Uu=m(3,(e,t,n)=>Gv(Jb(Nl(t),n1(t,n)),()=>e,r=>n1(t,r))),de=(e,t)=>Ys(e,{differ:_b(),fork:t?.fork??st,join:t?.join}),hk=e=>{const t=LC();return Ys(e,{differ:t,fork:t.empty})},xk=e=>{const t=UC(_b());return Ys(e,{differ:t,fork:t.empty})},ey=e=>{const t=jC();return Ys(e,{differ:t,fork:t.empty})},Ys=(e,t)=>({...eo,[ck]:fk,initial:e,commit(){return Nl(this)},diff:(r,s)=>t.differ.diff(r,s),combine:(r,s)=>t.differ.combine(r,s),patch:r=>s=>t.differ.patch(r,s),fork:t.fork,join:t.join??((r,s)=>s)}),pk=e=>Ys(e,{differ:Kx,fork:Kx.empty}),mo=lt(Symbol.for("effect/FiberRef/currentContext"),()=>ey(al())),qu=lt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>de(0)),ny=lt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>de(2048)),mk=lt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>de(Ii())),dk=lt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>de(Qb)),gk=lt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>de(ks())),bk=m(2,(e,t)=>Uu(e,qu,t)),yk=lt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>de("unbounded")),Sk=lt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>de(!0)),_k=lt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>de(R(ty))),wk=lt(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>de(R(Xb))),D0=lt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>xk(ys())),P0=lt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>de(B(),{fork:()=>B(),join:(e,t)=>e})),Vo=lt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>de(kr,{fork:()=>kr,join:(e,t)=>e})),Ak=(e,t)=>e.addFinalizer(()=>po(t)),Ek=(e,t)=>e.close(t),Vu=(e,t)=>e.fork(t),ry=(function(){class e extends globalThis.Error{commit(){return ee(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[It](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?lo($i(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,RA),e})(),sy=(e,t)=>{class n extends ry{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},r1=Symbol.for("effect/Cause/errors/RuntimeException"),Fk=sy({[r1]:r1},"RuntimeException"),Ck=Symbol.for("effect/Cause/errors/InterruptedException"),vk=e=>tt(e,Ck),s1=Symbol.for("effect/Cause/errors/NoSuchElement"),iy=sy({[s1]:s1},"NoSuchElementException"),i1=Symbol.for("effect/Cause/errors/UnknownException"),kk=(function(){class e extends ry{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(e.prototype,{[i1]:i1,name:"UnknownException"}),e})(),Pl=e=>Il(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),o1=(e,t)=>$k(e,t?.parallel?fo:_e),Ik=e=>At(qe(e)),a1=e=>At($i(e)),At=e=>{const t=new Pb(je);return t.effect_instruction_i0=e,t},Tk=e=>At(xn(e)),Tc=m(2,(e,t)=>{switch(e._tag){case je:return At(e.effect_instruction_i0);case Le:return Vt(t(e.effect_instruction_i0))}}),oy=m(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case je:return t(e.effect_instruction_i0);case Le:return n(e.effect_instruction_i0)}}),Vt=e=>{const t=new jb(Le);return t.effect_instruction_i0=e,t},gr=Vt(void 0),Ok=m(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case je:switch(t._tag){case Le:return At(e.effect_instruction_i0);case je:return At(n(e.effect_instruction_i0,t.effect_instruction_i0))}case Le:switch(t._tag){case Le:return Vt(r(e.effect_instruction_i0,t.effect_instruction_i0));case je:return At(t.effect_instruction_i0)}}}),$k=(e,t)=>{const n=qg(e);return ws(n)?l(dr(n),Lr(l(As(n),Tc(we)),(r,s)=>l(r,Ok(s,{onSuccess:(i,a)=>l(i,ze(a)),onFailure:t}))),Tc(_s),Tc(r=>Sr(r)),R):B()},Bk=e=>({...eo,[Lv]:Uv,state:cb(qv([])),commit(){return ay(this)},blockingOn:e}),ay=e=>Hv(t=>{const n=Mu(e.state);switch(n._tag){case Nb:return t(n.effect);case Du:return n.joiners.push(t),Mk(e,t)}},e.blockingOn),uy=(e,t)=>{const n=Mu(e.state);if(n._tag===Du){fb(e.state,Vv(t));for(let r=0,s=n.joiners.length;r<s;r++)n.joiners[r](t)}},Mk=(e,t)=>G(()=>{const n=Mu(e.state);if(n._tag===Du){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),Rk=Ae(e=>Vt(e.currentContext)),Nk=()=>Rk,go=e=>W(Nk(),e),Dk=m(2,(e,t)=>Uu(mo,t)(e)),Pk=m(2,(e,t)=>go(n=>Dk(e,t(n)))),jl=e=>{const t=e.currentSpan;return t!==void 0&&t._tag==="Span"?R(t):B()},u1=Symbol.for("effect/MutableHashMap"),jk={[u1]:u1,[Symbol.iterator](){return new Ll(this)},toString(){return te(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Yt)}},[It](){return this.toJSON()},pipe(){return H(this,arguments)}};class Ll{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new Lk(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new Ll(this.self)}}class Lk{backing;constructor(t){this.backing=t}currentBucket;next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const Uk=()=>{const e=Object.create(jk);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},xr=m(2,(e,t)=>{if(Ra(t)===!1)return e.referential.has(t)?R(e.referential.get(t)):B();const n=t[X](),r=e.buckets.get(n);return r===void 0?B():qk(e,r,t)}),qk=(e,t,n,r=!1)=>{for(let s=0,i=t.length;s<i;s++)if(n[Y](t[s][0])){const a=t[s][1];return r&&(t.splice(s,1),e.bucketsSize--),R(a)}return B()},ii=m(2,(e,t)=>ce(xr(e,t))),oi=m(3,(e,t,n)=>{if(Ra(t)===!1)return e.referential.set(t,n),e;const r=t[X](),s=e.buckets.get(r);return s===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(Vk(e,s,t),s.push([t,n]),e.bucketsSize++,e)}),Vk=(e,t,n)=>{for(let r=0,s=t.length;r<s;r++)if(n[Y](t[r][0])){t.splice(r,1),e.bucketsSize--;return}},Wk="effect/Clock",c1=Symbol.for(Wk),Ul=qr("effect/Clock"),zk=2**31-1,f1={unsafeSchedule(e,t){const n=F0(t);if(n>zk)return g0;let r=!1;const s=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(s),!r)}},l1=(function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;let t;return()=>(t===void 0&&(t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6))),t+BigInt(Math.round(performance.now()*1e6)))})(),Gk=(function(){const e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return l1;const t=l1()-e.bigint();return()=>t+e.bigint()})();class Hk{[c1]=c1;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return Gk()}currentTimeMillis=G(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=G(()=>this.unsafeCurrentTimeNanos());scheduler(){return yt(f1)}sleep(t){return Bi(n=>{const r=f1.unsafeSchedule(()=>n(He),t);return po(G(r))})}}const Kk=()=>new Hk,cy="And",fy="Or",ly="InvalidData",hy="MissingData",xy="SourceUnavailable",py="Unsupported",Yk="effect/ConfigError",h1=Symbol.for(Yk),Js={_tag:"ConfigError",[h1]:h1},my=(e,t)=>{const n=Object.create(Js);return n._op=cy,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},dy=(e,t)=>{const n=Object.create(Js);return n._op=fy,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},Jk=(e,t,n={pathDelim:"."})=>{const r=Object.create(Js);return r._op=ly,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${l(this.path,Je(n.pathDelim))}: "${this.message}")`}}),r},Ir=(e,t,n={pathDelim:"."})=>{const r=Object.create(Js);return r._op=hy,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${l(this.path,Je(n.pathDelim))}: "${this.message}")`}}),r},Zk=(e,t,n,r={pathDelim:"."})=>{const s=Object.create(Js);return s._op=xy,s.path=e,s.message=t,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${l(this.path,Je(r.pathDelim))}: "${this.message}")`}}),s},Xk=(e,t,n={pathDelim:"."})=>{const r=Object.create(Js);return r._op=py,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${l(this.path,Je(n.pathDelim))}: "${this.message}")`}}),r},br=m(2,(e,t)=>{switch(e._op){case cy:return my(br(e.left,t),br(e.right,t));case fy:return dy(br(e.left,t),br(e.right,t));case ly:return Jk([...t,...e.path],e.message);case hy:return Ir([...t,...e.path],e.message);case xy:return Zk([...t,...e.path],e.message,e.cause);case py:return Xk([...t,...e.path],e.message)}}),Qk={_tag:"Empty"},Oc=m(2,(e,t)=>{let n=Al(t),r=e;for(;z3(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Cr(s.first,Cr(s.second,n.tail));break}case"MapName":{r=O(r,s.f),n=n.tail;break}case"Nested":{r=nn(r,s.name),n=n.tail;break}case"Unnested":{if(l(gi(r),cE(s.name)))r=yn(r),n=n.tail;else return gs(Ir(r,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return pn(r)}),tI="Constant",eI="Fail",nI="Fallback",rI="Described",sI="Lazy",iI="MapOrFail",oI="Nested",aI="Primitive",uI="Sequence",cI="HashMap",fI="ZipWith";var x1={};const Ka=(e,t)=>[...e,...t],lI="effect/ConfigProvider",p1=Symbol.for(lI),hI=qr("effect/ConfigProvider"),xI="effect/ConfigProviderFlat",m1=Symbol.for(xI),pI=e=>({[p1]:p1,pipe(){return H(this,arguments)},...e}),mI=e=>({[m1]:m1,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),dI=e=>pI({load:t=>W(Oe(e,ys(),t,!1),n=>Ee(gi(n),{onNone:()=>ee(Ir(ys(),`Expected a single value having structure: ${t}`)),onSome:yt})),flattened:e}),gI=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=c=>l(c,Je(t)),s=c=>c.split(t),i=()=>typeof process<"u"&&"env"in process&&typeof x1=="object"?x1:{};return dI(mI({load:(c,f,x=!0)=>{const p=r(c),g=i(),b=p in g?R(g[p]):B();return l(b,$l(()=>Ir(c,`Expected ${p} to exist in the process context`)),W(S=>wI(S,c,f,n,x)))},enumerateChildren:c=>G(()=>{const f=i(),g=Object.keys(f).map(b=>s(b.toUpperCase())).filter(b=>{for(let S=0;S<c.length;S++){const w=l(c,wg(S)),d=b[S];if(d===void 0||w!==d)return!1}return!0}).flatMap(b=>b.slice(c.length,c.length+1));return ub(g)}),patch:Qk}))},bI=(e,t,n,r)=>{const s=Nx(n.length,c=>c>=r.length?B():R([e(c),c+1])),i=Nx(r.length,c=>c>=n.length?B():R([t(c),c+1])),a=Ka(n,s),u=Ka(r,i);return[a,u]},yI=(e,t)=>{let n=t;if(n._tag==="Nested"){const r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},Oe=(e,t,n,r)=>{const s=n;switch(s._tag){case tI:return yt(he(s.value));case rI:return Gt(()=>Oe(e,t,s.config,r));case eI:return ee(Ir(t,s.message));case nI:return l(Gt(()=>Oe(e,t,s.first,r)),Qx(i=>s.condition(i)?l(Oe(e,t,s.second,r),Qx(a=>ee(dy(i,a)))):ee(i)));case sI:return Gt(()=>Oe(e,t,s.config(),r));case iI:return Gt(()=>l(Oe(e,t,s.original,r),W(Nn(i=>l(s.mapOrFail(i),$l(br(yI(t,s.original))))))));case oI:return Gt(()=>Oe(e,Ka(t,he(s.name)),s.config,r));case aI:return l(Oc(t,e.patch),W(i=>l(e.load(i,s,r),W(a=>{if(a.length===0){const u=l(wE(i),en(()=>"<n/a>"));return ee(Ir([],`Expected ${s.description} with name ${u}`))}return yt(a)}))));case uI:return l(Oc(t,e.patch),W(i=>l(e.enumerateChildren(i),W(EI),W(a=>a.length===0?Gt(()=>oe(Oe(e,t,s.config,!0),he)):l(Nn(a,u=>Oe(e,Ln(t,`[${u}]`),s.config,!0)),oe(u=>{const c=so(u);return c.length===0?he(ys()):he(c)}))))));case cI:return Gt(()=>l(Oc(t,e.patch),W(i=>l(e.enumerateChildren(i),W(a=>l(a,Nn(u=>Oe(e,Ka(i,he(u)),s.valueConfig,r)),oe(u=>u.length===0?he(Ii()):l(AI(u),O(c=>D3(Ei(pt(a),c)))))))))));case fI:return Gt(()=>l(Oe(e,t,s.left,r),Mi,W(i=>l(Oe(e,t,s.right,r),Mi,W(a=>{if(pi(i)&&pi(a))return ee(my(i.left,a.left));if(pi(i)&&Lo(a))return ee(i.left);if(Lo(i)&&pi(a))return ee(a.left);if(Lo(i)&&Lo(a)){const u=l(t,Je(".")),c=SI(t,u),[f,x]=bI(c,c,l(i.right,O(pn)),l(a.right,O(pn)));return l(f,Ei(x),Nn(([p,g])=>l(Yb(p,g),oe(([b,S])=>s.zip(b,S)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},SI=(e,t)=>n=>gs(Ir(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),_I=(e,t)=>e.split(new RegExp(`\\s*${rF(t)}\\s*`)),wI=(e,t,n,r,s)=>s?l(_I(e,r),Nn(i=>n.parse(i.trim())),$l(br(t))):l(n.parse(e),Gb({onFailure:br(t),onSuccess:he})),AI=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),EI=e=>l(Nn(e,CI),Gb({onFailure:()=>ys(),onSuccess:Er(mt)}),Mi,oe(zA)),FI=/^(\[(\d+)\])$/,CI=e=>{const t=e.match(FI);if(t!==null){const n=t[2];return l(n!==void 0&&n.length>0?R(n):B(),iE(vI))}return B()},vI=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?B():R(t)},d1=Symbol.for("effect/Console"),gy=qr("effect/Console"),kI={[d1]:d1,assert(e,...t){return G(()=>{console.assert(e,...t)})},clear:G(()=>{console.clear()}),count(e){return G(()=>{console.count(e)})},countReset(e){return G(()=>{console.countReset(e)})},debug(...e){return G(()=>{console.debug(...e)})},dir(e,t){return G(()=>{console.dir(e,t)})},dirxml(...e){return G(()=>{console.dirxml(...e)})},error(...e){return G(()=>{console.error(...e)})},group(e){return e?.collapsed?G(()=>console.groupCollapsed(e?.label)):G(()=>console.group(e?.label))},groupEnd:G(()=>{console.groupEnd()}),info(...e){return G(()=>{console.info(...e)})},log(...e){return G(()=>{console.log(...e)})},table(e,t){return G(()=>{console.table(e,t)})},time(e){return G(()=>console.time(e))},timeEnd(e){return G(()=>console.timeEnd(e))},timeLog(e,...t){return G(()=>{console.timeLog(e,...t)})},trace(...e){return G(()=>{console.trace(...e)})},warn(...e){return G(()=>{console.warn(...e)})},unsafe:console},II="effect/Random",g1=Symbol.for(II),TI=qr("effect/Random");class OI{seed;[g1]=g1;PRNG;constructor(t){this.seed=t,this.PRNG=new bA(t)}get next(){return G(()=>this.PRNG.number())}get nextBoolean(){return oe(this.next,t=>t>.5)}get nextInt(){return G(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return oe(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return G(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return $I(t,n=>this.nextIntBetween(0,n))}}const $I=(e,t)=>Gt(()=>l(G(()=>Array.from(e)),W(n=>{const r=[];for(let s=n.length;s>=2;s=s-1)r.push(s);return l(r,Pu(s=>l(t(s),oe(i=>BI(n,s-1,i)))),xo(qg(n)))}))),BI=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},MI=e=>new OI(D(e)),b1=Symbol.for("effect/Tracer"),RI=e=>({[b1]:b1,...e}),by=qr("effect/Tracer"),yy=qr("effect/ParentSpan"),y1=(function(){const e="abcdef0123456789",t=e.length;return function(n){let r="";for(let s=0;s<n;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}})();class NI{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(t,n,r,s,i,a){this.name=t,this.parent=n,this.context=r,this.startTime=i,this.kind=a,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:y1(32),this.spanId=y1(16),this.links=Array.from(s)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}addLinks(t){this.links.push(...t)}}const DI=RI({span:(e,t,n,r,s,i)=>new NI(e,t,n,r,s,i),context:e=>e()}),PI=l(al(),si(Ul,Kk()),si(gy,kI),si(TI,MI(Math.random())),si(hI,gI()),si(by,DI)),Ya=lt(Symbol.for("effect/DefaultServices/currentServices"),()=>ey(PI));function jI(e){return new Vn(e)}function LI(){return jI(new Map)}const S1=Symbol.for("effect/FiberRefs");class Vn{locals;[S1]=S1;constructor(t){this.locals=t}pipe(){return H(this,arguments)}}const UI=(e,t,n,r=!1)=>{const s=e;let i=t,a=n,u=r,c;for(;c===void 0;)if(Wt(i)&&Wt(a)){const f=Zt(i)[0],x=yn(i),p=Zt(a)[0],g=Zt(a)[1],b=yn(a);f.startTimeMillis<p.startTimeMillis?(a=b,u=!0):f.startTimeMillis>p.startTimeMillis?i=x:f.id<p.id?(a=b,u=!0):f.id>p.id?i=x:c=[g,u]}else c=[s.initial,!0];return c},qI=m(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((s,i)=>{const a=s[0][1];if(!s[0][0][Y](t)){if(!r.has(i)){if(Q(a,i.initial))return;r.set(i,[[t,i.join(i.initial,a)]]);return}const u=r.get(i),[c,f]=UI(i,u,s);if(f){const x=i.diff(c,a),p=u[0][1],g=i.join(p,i.patch(x)(p));if(!Q(p,g)){let b;const S=u[0][0];S[Y](t)?b=[[S,g],...u.slice(1)]:b=[[t,g],...u],r.set(i,b)}}}}),new Vn(r)}),VI=m(2,(e,t)=>{const n=new Map;return Sy(e,n,t),new Vn(n)}),Sy=(e,t,n)=>{e.locals.forEach((r,s)=>{const i=r[0][1],a=s.patch(s.fork)(i);Q(i,a)?t.set(s,r):t.set(s,[[n,a],...r])})},_y=m(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new Vn(n)}),WI=m(2,(e,t)=>e.locals.has(t)?R(Zt(e.locals.get(t))[1]):B()),Ri=m(2,(e,t)=>l(WI(e,t),en(()=>t.initial))),j0=m(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new Vn(new Map([[n,[[t,r]]]]));const s=new Map(e.locals);return L0(s,t,n,r),new Vn(s)}),L0=(e,t,n,r)=>{const s=e.get(n)??[];let i;if(Wt(s)){const[a,u]=Zt(s);if(a[Y](t)){if(Q(u,r))return;i=[[t,r],...s.slice(1)]}else i=[[t,r],...s]}else i=[[t,r]];e.set(n,i)},zI=m(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new Vn(new Map(t));const r=new Map(e.locals);return n!==void 0&&Sy(e,r,n),t.forEach(([s,i])=>{i.length===1?L0(r,i[0][0],s,i[0][1]):i.forEach(([a,u])=>{L0(r,a,s,u)})}),new Vn(r)}),GI=Ri,HI=zI,KI=LI,YI=rk,JI=sk,ZI=ik,XI=Xb,QI=Qb,t6=ty,e6=ok,n6=ak,r6=l(mt,Hf(e=>e.ordinal)),s6=Kf(r6),i6=e=>{switch(e){case"All":return YI;case"Debug":return t6;case"Error":return ZI;case"Fatal":return JI;case"Info":return QI;case"Trace":return e6;case"None":return n6;case"Warning":return XI}},wy=e=>e.replace(/[\s="]/g,"_"),o6=e=>t=>`${wy(t.label)}=${e-t.startTime}ms`,a6=Qi,u6=NA;class c6 extends u6{}const Ay="Empty",Ey="Add",Fy="Remove",Cy="Update",vy="AndThen",f6={_tag:Ay},l6=(e,t)=>{const n=new Map(e.locals);let r=f6;for(const[s,i]of t.locals.entries()){const a=Zt(i)[1],u=n.get(s);if(u!==void 0){const c=Zt(u)[1];Q(c,a)||(r=$c({_tag:Cy,fiberRef:s,patch:s.diff(c,a)})(r))}else r=$c({_tag:Ey,fiberRef:s,value:a})(r);n.delete(s)}for(const[s]of n.entries())r=$c({_tag:Fy,fiberRef:s})(r);return r},$c=m(2,(e,t)=>({_tag:vy,first:e,second:t})),h6=m(3,(e,t,n)=>{let r=n,s=he(e);for(;Wt(s);){const i=Zt(s),a=yn(s);switch(i._tag){case Ay:{s=a;break}case Ey:{r=j0(r,{fiberId:t,fiberRef:i.fiberRef,value:i.value}),s=a;break}case Fy:{r=_y(r,i.fiberRef),s=a;break}case Cy:{const u=Ri(r,i.fiberRef);r=j0(r,{fiberId:t,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(u)}),s=a;break}case vy:{s=nn(i.first)(nn(i.second)(a));break}}}return r}),ky="effect/MetricLabel",U0=Symbol.for(ky);class x6{key;value;[U0]=U0;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=Pt(ky+this.key+this.value)}[X](){return this._hash}[Y](t){return m6(t)&&this.key===t.key&&this.value===t.value}pipe(){return H(this,arguments)}}const p6=(e,t)=>new x6(e,t),m6=e=>tt(e,U0),d6="Sequential",g6="Parallel",b6="ParallelN",Iy={_tag:d6},y6={_tag:g6},S6=e=>({_tag:b6,parallelism:e}),q0=Iy,V0=y6,W0=S6,_6=l6,w6=h6,Wu="effect/FiberStatus",Tr=Symbol.for(Wu),Ja="Done",_1="Running",w1="Suspended",A6=Pt(`${Wu}-${Ja}`);class E6{[Tr]=Tr;_tag=Ja;[X](){return A6}[Y](t){return ql(t)&&t._tag===Ja}}class F6{runtimeFlags;[Tr]=Tr;_tag=_1;constructor(t){this.runtimeFlags=t}[X](){return l(D(Wu),ut(D(this._tag)),ut(D(this.runtimeFlags)),kt(this))}[Y](t){return ql(t)&&t._tag===_1&&this.runtimeFlags===t.runtimeFlags}}class C6{runtimeFlags;blockingOn;[Tr]=Tr;_tag=w1;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[X](){return l(D(Wu),ut(D(this._tag)),ut(D(this.runtimeFlags)),ut(D(this.blockingOn)),kt(this))}[Y](t){return ql(t)&&t._tag===w1&&this.runtimeFlags===t.runtimeFlags&&Q(this.blockingOn,t.blockingOn)}}const v6=new E6,k6=e=>new F6(e),I6=(e,t)=>new C6(e,t),ql=e=>tt(e,Tr),T6=e=>e._tag===Ja,O6=v6,Ty=k6,$6=I6,B6=T6,M6=Symbol.for("effect/Micro"),Za=Symbol.for("effect/Micro/MicroExit"),A1=Symbol.for("effect/Micro/MicroCause"),R6={_E:st};class Oy extends globalThis.Error{_tag;traces;[A1];constructor(t,n,r){const s=`MicroCause.${t}`;let i,a,u;if(n instanceof globalThis.Error){i=`(${s}) ${n.name}`,a=n.message;const c=a.split(`
`).length;u=n.stack?`(${s}) ${n.stack.split(`
`).slice(0,c+3).join(`
`)}`:`${i}: ${a}`}else i=s,a=ms(n,0),u=`${i}: ${a}`;r.length>0&&(u+=`
    ${r.join(`
    `)}`),super(a),this._tag=t,this.traces=r,this[A1]=R6,this.name=i,this.stack=u}pipe(){return H(this,arguments)}toString(){return this.stack}[It](){return this.stack}}class N6 extends Oy{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}const D6=(e,t=[])=>new N6(e,t);class P6 extends Oy{constructor(t=[]){super("Interrupt","interrupted",t)}}const j6=(e=[])=>new P6(e),L6=e=>e._tag==="Interrupt",E1=Symbol.for("effect/Micro/MicroFiber"),U6={_A:st,_E:st};class q6{context;interruptible;[E1];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[E1]=U6}getRef(t){return gF(this.context,t)}addObserver(t){return this._exit?(t(this._exit),Zw):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(Hl))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){const s=this._yielded;this._yielded=void 0,s()}const n=this.runLoop(t);if(n===Wo)return;const r=F1.interruptChildren&&F1.interruptChildren(this);if(r!==void 0)return this.evaluate(Qa(r,()=>n));this._exit=n;for(let s=0;s<this._observers.length;s++)this._observers[s](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(Kl).shouldYield(this)){n=!0;const s=r;r=Qa(H6,()=>s)}if(r=r[z0](this),r===Wo){const s=this._yielded;return Za in s?(this._yielded=void 0,s):Wo}}}catch(s){return tt(r,z0)?G0(s):G0(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[Xa]&&n[Xa](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,Wo}children(){return this._children??=new Set}}const F1=lt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),$y=Symbol.for("effect/Micro/identifier"),Ht=Symbol.for("effect/Micro/args"),z0=Symbol.for("effect/Micro/evaluate"),Rs=Symbol.for("effect/Micro/successCont"),hs=Symbol.for("effect/Micro/failureCont"),Xa=Symbol.for("effect/Micro/ensureCont"),Wo=Symbol.for("effect/Micro/Yield"),V6={_A:st,_E:st,_R:st},W6={...a6,_op:"Micro",[M6]:V6,pipe(){return H(this,arguments)},[Symbol.iterator](){return new Gd(new Ji(this))},toJSON(){return{_id:"Micro",op:this[$y],...Ht in this?{args:this[Ht]}:void 0}},toString(){return te(this)},[It](){return te(this)}};function z6(e){return G0("Micro.evaluate: Not implemented")}const zu=e=>({...W6,[$y]:e.op,[z0]:e.eval??z6,[Rs]:e.contA,[hs]:e.contE,[Xa]:e.ensure}),Vl=e=>{const t=zu(e);return function(){const n=Object.create(t);return n[Ht]=e.single===!1?arguments:arguments[0],n}},By=e=>{const t={...zu(e),[Za]:Za,_tag:e.op,get[e.prop](){return this[Ht]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ht]}},[Y](n){return J6(n)&&n._tag===e.op&&Q(this[Ht],n[Ht])},[X](){return kt(this,ut(Pt(e.op))(D(this[Ht])))}};return function(n){const r=Object.create(t);return r[Ht]=n,r[Rs]=void 0,r[hs]=void 0,r[Xa]=void 0,r}},Wl=By({op:"Success",prop:"value",eval(e){const t=e.getCont(Rs);return t?t[Rs](this[Ht],e):e.yieldWith(this)}}),My=By({op:"Failure",prop:"cause",eval(e){let t=e.getCont(hs);for(;L6(this[Ht])&&t&&e.interruptible;)t=e.getCont(hs);return t?t[hs](this[Ht],e):e.yieldWith(this)}}),G6=Vl({op:"Yield",eval(e){let t=!1;return e.getRef(Kl).scheduleTask(()=>{t||e.evaluate(Z6)},this[Ht]??0),e.yieldWith(()=>{t=!0})}}),H6=G6(0),K6=Wl(void 0),zl=Vl({op:"WithMicroFiber",eval(e){return this[Ht](e)}}),Qa=m(2,(e,t)=>{const n=Object.create(Y6);return n[Ht]=e,n[Rs]=t,n}),Y6=zu({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ht]}}),J6=e=>tt(e,Za),Ry=Wl,Gl=My,Hl=Gl(j6()),G0=e=>Gl(D6(e)),Z6=Ry(void 0),X6="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class Ny{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,X6(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(e4)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const Q6=m(2,(e,t)=>zl(n=>{const r=n.context;return n.context=t(r),s4(e,()=>(n.context=r,K6))})),t4=m(2,(e,t)=>Q6(e,Dg(t)));class e4 extends Pg()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class Kl extends Pg()("effect/Micro/currentScheduler",{defaultValue:()=>new Ny}){}const n4=m(2,(e,t)=>{const n=Object.create(r4);return n[Ht]=e,n[Rs]=t.onSuccess,n[hs]=t.onFailure,n}),r4=zu({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ht]}}),s4=m(2,(e,t)=>o4(n=>n4(n(e),{onFailure:r=>Qa(t(Gl(r)),()=>My(r)),onSuccess:r=>Qa(t(Ry(r)),()=>Wl(r))}))),Dy=Vl({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ht],e._interrupted&&e.interruptible)return()=>Hl}}),i4=e=>zl(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(Dy(!1)),t._interrupted?Hl:e)),o4=e=>zl(t=>t.interruptible?(t.interruptible=!1,t._stack.push(Dy(!0)),e(i4)):e(st)),a4=(e,t)=>{const n=new q6(Kl.context(new Ny));return n.evaluate(e),n};class Py{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let s,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)s=this.buckets[i];s&&s[0]===n?s[1].push(t):i===r?this.buckets.push([n,[t]]):this.buckets.splice(i,0,[n,[t]])}}class u4{maxNextTickBeforeTimer;running=!1;tasks=new Py;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,s]of n)for(let i=0;i<s.length;i++)s[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(ny)?t.getFiberRef(qu):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const jy=lt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new u4(2048));class c4{tasks=new Py;deferred=!1;scheduleTask(t,n){this.deferred?jy.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(ny)?t.getFiberRef(qu):!1}flush(){for(;this.tasks.buckets.length>0;){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of t)for(let s=0;s<r.length;s++)r[s]()}this.deferred=!0}}const Ly=lt(Symbol.for("effect/FiberRef/currentScheduler"),()=>de(jy)),Uy=lt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>de(new Map)),C1=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return Dl(yk,s=>s==="unbounded"?n():s>1?r(s):t());default:return e>1?r(e):t()}},Yl="InterruptSignal",Jl="Stateful",Zl="Resume",Xl="YieldNow",Bc=e=>({_tag:Yl,cause:e}),Aa=e=>({_tag:Jl,onFiber:e}),Qr=e=>({_tag:Zl,effect:e}),f4=()=>({_tag:Xl}),l4="effect/FiberScope",tu=Symbol.for(l4);class h4{[tu]=tu;fiberId=Cs;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class x4{fiberId;parent;[tu]=tu;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Aa(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const p4=e=>new x4(e.id(),e),Ql=lt(Symbol.for("effect/FiberScope/Global"),()=>new h4),m4="effect/Fiber",d4=Symbol.for(m4),g4={_E:e=>e,_A:e=>e},b4="effect/Fiber",y4=Symbol.for(b4),qy=e=>Jb(Wb(e.await),e.inheritAll);({...eo});const ur="effect/FiberCurrent",S4="effect/Logger",_4=Symbol.for(S4),w4={_Message:e=>e,_Output:e=>e},th=e=>({[_4]:w4,log:e,pipe(){return H(this,arguments)}}),A4=/^[^\s"=]*$/,E4=(e,t)=>({annotations:n,cause:r,date:s,fiberId:i,logLevel:a,message:u,spans:c})=>{const f=S=>S.match(A4)?S:e(S),x=(S,w)=>`${wy(S)}=${f(w)}`,p=(S,w)=>" "+x(S,w);let g=x("timestamp",s.toISOString());g+=p("level",a.label),g+=p("fiber",hb(i));const b=yE(u);for(let S=0;S<b.length;S++)g+=p("message",ms(b[S],t));yv(r)||(g+=p("cause",lo(r,{renderErrorCause:!0})));for(const S of c)g+=" "+o6(s.getTime())(S);for(const[S,w]of n)g+=p(S,ms(w,t));return g},F4=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,C4=th(E4(F4)),v4=typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null;v4&&process.stdout.isTTY;const Vy="effect/MetricBoundaries",H0=Symbol.for(Vy);class k4{values;[H0]=H0;constructor(t){this.values=t,this._hash=l(Pt(Vy),ut(Zi(this.values)))}_hash;[X](){return this._hash}[Y](t){return I4(t)&&Q(this.values,t.values)}pipe(){return H(this,arguments)}}const I4=e=>tt(e,H0),T4=e=>{const t=l(e,bs(we(Number.POSITIVE_INFINITY)),DE);return new k4(t)},O4=e=>l(nl(e.count-1,t=>e.start*Math.pow(e.factor,t)),Cu,T4),$4="effect/MetricKeyType",Wy=Symbol.for($4),zy="effect/MetricKeyType/Counter",K0=Symbol.for(zy),B4="effect/MetricKeyType/Frequency",M4=Symbol.for(B4),R4="effect/MetricKeyType/Gauge",N4=Symbol.for(R4),Gy="effect/MetricKeyType/Histogram",Y0=Symbol.for(Gy),D4="effect/MetricKeyType/Summary",P4=Symbol.for(D4),Hy={_In:e=>e,_Out:e=>e};class j4{incremental;bigint;[Wy]=Hy;[K0]=K0;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=Pt(zy)}_hash;[X](){return this._hash}[Y](t){return Ky(t)}pipe(){return H(this,arguments)}}class L4{boundaries;[Wy]=Hy;[Y0]=Y0;constructor(t){this.boundaries=t,this._hash=l(Pt(Gy),ut(D(this.boundaries)))}_hash;[X](){return this._hash}[Y](t){return Yy(t)&&Q(this.boundaries,t.boundaries)}pipe(){return H(this,arguments)}}const U4=e=>new j4(e?.incremental??!1,e?.bigint??!1),q4=e=>new L4(e),Ky=e=>tt(e,K0),V4=e=>tt(e,M4),W4=e=>tt(e,N4),Yy=e=>tt(e,Y0),z4=e=>tt(e,P4),G4="effect/MetricKey",Jy=Symbol.for(G4),H4={_Type:e=>e},K4=Ur(Q);class eh{name;keyType;description;tags;[Jy]=H4;constructor(t,n,r,s=[]){this.name=t,this.keyType=n,this.description=r,this.tags=s,this._hash=l(Pt(this.name+this.description),ut(D(this.keyType)),ut(Zi(this.tags)))}_hash;[X](){return this._hash}[Y](t){return Y4(t)&&this.name===t.name&&Q(this.keyType,t.keyType)&&Q(this.description,t.description)&&K4(this.tags,t.tags)}pipe(){return H(this,arguments)}}const Y4=e=>tt(e,Jy),J4=(e,t)=>new eh(e,U4(t),_u(t?.description)),Z4=(e,t,n)=>new eh(e,q4(t),_u(n)),X4=m(2,(e,t)=>t.length===0?e:new eh(e.name,e.keyType,e.description,ba(e.tags,t))),Q4="effect/MetricState",bo=Symbol.for(Q4),Zy="effect/MetricState/Counter",J0=Symbol.for(Zy),Xy="effect/MetricState/Frequency",Z0=Symbol.for(Xy),Qy="effect/MetricState/Gauge",X0=Symbol.for(Qy),t2="effect/MetricState/Histogram",Q0=Symbol.for(t2),e2="effect/MetricState/Summary",tf=Symbol.for(e2),yo={_A:e=>e};class tT{count;[bo]=yo;[J0]=J0;constructor(t){this.count=t}[X](){return l(D(Zy),ut(D(this.count)),kt(this))}[Y](t){return lT(t)&&this.count===t.count}pipe(){return H(this,arguments)}}const eT=Ur(Q);class nT{occurrences;[bo]=yo;[Z0]=Z0;constructor(t){this.occurrences=t}_hash;[X](){return l(Pt(Xy),ut(Zi(pt(this.occurrences.entries()))),kt(this))}[Y](t){return hT(t)&&eT(pt(this.occurrences.entries()),pt(t.occurrences.entries()))}pipe(){return H(this,arguments)}}class rT{value;[bo]=yo;[X0]=X0;constructor(t){this.value=t}[X](){return l(D(Qy),ut(D(this.value)),kt(this))}[Y](t){return xT(t)&&this.value===t.value}pipe(){return H(this,arguments)}}class sT{buckets;count;min;max;sum;[bo]=yo;[Q0]=Q0;constructor(t,n,r,s,i){this.buckets=t,this.count=n,this.min=r,this.max=s,this.sum=i}[X](){return l(D(t2),ut(D(this.buckets)),ut(D(this.count)),ut(D(this.min)),ut(D(this.max)),ut(D(this.sum)),kt(this))}[Y](t){return pT(t)&&Q(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return H(this,arguments)}}class iT{error;quantiles;count;min;max;sum;[bo]=yo;[tf]=tf;constructor(t,n,r,s,i,a){this.error=t,this.quantiles=n,this.count=r,this.min=s,this.max=i,this.sum=a}[X](){return l(D(e2),ut(D(this.error)),ut(D(this.quantiles)),ut(D(this.count)),ut(D(this.min)),ut(D(this.max)),ut(D(this.sum)),kt(this))}[Y](t){return mT(t)&&this.error===t.error&&Q(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return H(this,arguments)}}const oT=e=>new tT(e),aT=e=>new nT(e),uT=e=>new rT(e),cT=e=>new sT(e.buckets,e.count,e.min,e.max,e.sum),fT=e=>new iT(e.error,e.quantiles,e.count,e.min,e.max,e.sum),lT=e=>tt(e,J0),hT=e=>tt(e,Z0),xT=e=>tt(e,X0),pT=e=>tt(e,Q0),mT=e=>tt(e,tf),dT="effect/MetricHook",gT=Symbol.for(dT),bT={_In:e=>e,_Out:e=>e},So=e=>({[gT]:bT,pipe(){return H(this,arguments)},...e}),v1=BigInt(0),yT=e=>{let t=e.keyType.bigint?v1:0;const n=e.keyType.incremental?e.keyType.bigint?s=>s>=v1:s=>s>=0:s=>!0,r=s=>{n(s)&&(t=t+s)};return So({get:()=>oT(t),update:r,modify:r})},ST=e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const s=t.get(r)??0;t.set(r,s+1)};return So({get:()=>aT(t),update:n,modify:n})},_T=(e,t)=>{let n=t;return So({get:()=>uT(n),update:r=>{n=r},modify:r=>{n=n+r}})},wT=e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),s=new Float64Array(n);let i=0,a=0,u=Number.MAX_VALUE,c=Number.MIN_VALUE;l(t,Er(mt),O((p,g)=>{s[g]=p}));const f=p=>{let g=0,b=n;for(;g!==b;){const S=Math.floor(g+(b-g)/2),w=s[S];p<=w?b=S:g=S,b===g+1&&(p<=s[g]?b=g:g=b)}r[g]=r[g]+1,i=i+1,a=a+p,p<u&&(u=p),p>c&&(c=p)},x=()=>{const p=wu(n);let g=0;for(let b=0;b<n;b++){const S=s[b],w=r[b];g=g+w,p[b]=[S,g]}return p};return So({get:()=>cT({buckets:x(),count:i,min:u,max:c,sum:a}),update:f,modify:f})},AT=e=>{const{error:t,maxAge:n,maxSize:r,quantiles:s}=e.keyType,i=l(s,Er(mt)),a=wu(r);let u=0,c=0,f=0,x=0,p=0;const g=S=>{const w=[];let d=0;for(;d!==r-1;){const F=a[d];if(F!=null){const[E,T]=F,k=_r(S-E);VF(k,Gg)&&qF(k,n)&&w.push(T)}d=d+1}return ET(t,i,Er(w,mt))},b=(S,w)=>{if(r>0){u=u+1;const d=u%r;a[d]=[w,S]}x=c===0?S:Math.min(x,S),p=c===0?S:Math.max(p,S),c=c+1,f=f+S};return So({get:()=>fT({error:t,quantiles:g(Date.now()),count:c,min:x,max:p,sum:f}),update:([S,w])=>b(S,w),modify:([S,w])=>b(S,w)})},ET=(e,t,n)=>{const r=n.length;if(!Wt(t))return ys();const s=t[0],i=t.slice(1),a=k1(e,r,B(),0,s,n),u=he(a);return i.forEach(c=>{u.push(k1(e,r,a.value,a.consumed,c,a.rest))}),O(u,c=>[c.quantile,c.value])},k1=(e,t,n,r,s,i)=>{let a=e,u=t,c=n,f=r,x=s,p=i,g=e,b=t,S=n,w=r,d=s,F=i;for(;;){if(!Wt(p))return{quantile:x,value:B(),consumed:f,rest:[]};if(x===1)return{quantile:x,value:R(ro(p)),consumed:f+p.length,rest:[]};const E=Zt(p),T=EE(p,I=>I===E),k=x*u,J=a/2*k,o=f+T[0].length,q=Math.abs(o-k);if(o<k-J){g=a,b=u,S=gi(p),w=o,d=x,F=T[1],a=g,u=b,c=S,f=w,x=d,p=F;continue}if(o>k+J){const I=Et(c)?R(E):c;return{quantile:x,value:I,consumed:f,rest:p}}switch(c._tag){case"None":{g=a,b=u,S=gi(p),w=o,d=x,F=T[1],a=g,u=b,c=S,f=w,x=d,p=F;continue}case"Some":{const I=Math.abs(k-c.value);if(q<I){g=a,b=u,S=gi(p),w=o,d=x,F=T[1],a=g,u=b,c=S,f=w,x=d,p=F;continue}return{quantile:x,value:R(c.value),consumed:f,rest:p}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},FT="effect/MetricPair",CT=Symbol.for(FT),vT={_Type:e=>e},kT=(e,t)=>({[CT]:vT,metricKey:e,metricState:t,pipe(){return H(this,arguments)}}),IT="effect/MetricRegistry",I1=Symbol.for(IT);class TT{[I1]=I1;map=Uk();snapshot(){const t=[];for(const[n,r]of this.map)t.push(kT(n,r.get()));return t}get(t){const n=l(this.map,xr(t),hr);if(n==null){if(Ky(t.keyType))return this.getCounter(t);if(W4(t.keyType))return this.getGauge(t);if(V4(t.keyType))return this.getFrequency(t);if(Yy(t.keyType))return this.getHistogram(t);if(z4(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=l(this.map,xr(t),hr);if(n==null){const r=yT(t);l(this.map,ii(t))||l(this.map,oi(t,r)),n=r}return n}getFrequency(t){let n=l(this.map,xr(t),hr);if(n==null){const r=ST(t);l(this.map,ii(t))||l(this.map,oi(t,r)),n=r}return n}getGauge(t){let n=l(this.map,xr(t),hr);if(n==null){const r=_T(t,t.keyType.bigint?BigInt(0):0);l(this.map,ii(t))||l(this.map,oi(t,r)),n=r}return n}getHistogram(t){let n=l(this.map,xr(t),hr);if(n==null){const r=wT(t);l(this.map,ii(t))||l(this.map,oi(t,r)),n=r}return n}getSummary(t){let n=l(this.map,xr(t),hr);if(n==null){const r=AT(t);l(this.map,ii(t))||l(this.map,oi(t,r)),n=r}return n}}const OT=()=>new TT,$T="effect/Metric",BT=Symbol.for($T),MT={_Type:e=>e,_In:e=>e,_Out:e=>e},T1=lt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>OT()),n2=function(e,t,n,r){const s=Object.assign(i=>Qv(i,a=>PT(s,a)),{[BT]:MT,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return H(this,arguments)}});return s},Gu=(e,t)=>r2(J4(e,t)),r2=e=>{let t;const n=new WeakMap,r=s=>{if(s.length===0)return t!==void 0||(t=T1.get(e)),t;let i=n.get(s);return i!==void 0||(i=T1.get(X4(e,s)),n.set(s,i)),i};return n2(e.keyType,(s,i)=>r(i).update(s),s=>r(s).get(),(s,i)=>r(i).modify(s))},RT=(e,t,n)=>r2(Z4(e,t,n)),NT=m(3,(e,t,n)=>DT(e,[p6(t,n)])),DT=m(2,(e,t)=>n2(e.keyType,(n,r)=>e.unsafeUpdate(n,ba(t,r)),n=>e.unsafeValue(ba(t,n)),(n,r)=>e.unsafeModify(n,ba(t,r)))),PT=m(2,(e,t)=>Dl(D0,n=>G(()=>e.unsafeUpdate(t,n))));({...to});const jT=m(2,(e,t)=>Dl(Uy,n=>G(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,uy(r.result,t))}}))),LT="effect/Supervisor",Hu=Symbol.for(LT),nh={_T:e=>e};class Ku{underlying;value0;[Hu]=nh;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,s){this.underlying.onStart(t,n,r,s)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Ku(this,l(this.value,oe(t)))}zip(t){return new Yu(this,t)}}class Yu{left;right;_tag="Zip";[Hu]=nh;constructor(t,n){this.left=t,this.right=n}get value(){return Yb(this.left.value,this.right.value)}onStart(t,n,r,s){this.left.onStart(t,n,r,s),this.right.onStart(t,n,r,s)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Ku(this,l(this.value,oe(t)))}zip(t){return new Yu(this,t)}}const s2=e=>tt(e,Hu)&&jf(e,"Zip");class UT{effect;[Hu]=nh;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,s){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ku(this,l(this.value,oe(t)))}zip(t){return new Yu(this,t)}onRun(t,n){return t()}}const qT=e=>new UT(e),Ju=lt("effect/Supervisor/none",()=>qT(He)),VT=Ws,i2="Empty",o2="AddSupervisor",a2="RemoveSupervisor",u2="AndThen",bi={_tag:i2},Ea=(e,t)=>({_tag:u2,first:e,second:t}),WT=(e,t)=>zT(t,we(e)),zT=(e,t)=>{let n=e,r=t;for(;ws(r);){const s=As(r);switch(s._tag){case i2:{r=dr(r);break}case o2:{n=n.zip(s.supervisor),r=dr(r);break}case a2:{n=ef(n,s.supervisor),r=dr(r);break}case u2:{r=ze(s.first)(ze(s.second)(dr(r)));break}}}return n},ef=(e,t)=>Q(e,t)?Ju:s2(e)?ef(e.left,t).zip(ef(e.right,t)):e,eu=e=>Q(e,Ju)?qn():s2(e)?l(eu(e.left),vi(eu(e.right))):gl(e),GT=(e,t)=>{if(Q(e,t))return bi;const n=eu(e),r=eu(t),s=l(r,qx(n),Va(bi,(a,u)=>Ea(a,{_tag:o2,supervisor:u}))),i=l(n,qx(r),Va(bi,(a,u)=>Ea(a,{_tag:a2,supervisor:u})));return Ea(s,i)},HT=VT({empty:bi,patch:WT,combine:Ea,diff:GT}),KT=Gu("effect_fiber_started",{incremental:!0}),O1=Gu("effect_fiber_active"),YT=Gu("effect_fiber_successes",{incremental:!0}),JT=Gu("effect_fiber_failures",{incremental:!0}),ZT=NT(RT("effect_fiber_lifetimes",O4({start:.5,factor:2,count:35})),"time_unit","milliseconds"),ai="Continue",XT="Done",$1="Yield",QT={_E:e=>e,_A:e=>e},zo=e=>{throw new Error(`BUG: FiberRuntime - ${ms(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},cn=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),fn=lt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),ui={[Na]:(e,t,n)=>ae(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Vt(Vt(n)),[Da]:(e,t,n)=>ae(()=>t.effect_instruction_i2(n)),[Wf]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),Mn(e.currentRuntimeFlags)&&e.isInterrupted()?At(e.getInterruptedCause()):Vt(n)),[Pa]:(e,t,n)=>(ae(()=>t.effect_instruction_i2(n)),ae(()=>t.effect_instruction_i0())?(e.pushStack(t),ae(()=>t.effect_instruction_i1())):He),[da]:(e,t,n)=>{const r=ae(()=>t.effect_instruction_i0.next(n));return r.done?Vt(r.value):(e.pushStack(t),SA(r.value))}},t5={[Yl]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),Mn(t)?At(r.cause):n),[Zl]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Jl]:(e,t,n,r)=>(r.onFiber(e,Ty(t)),n),[Xl]:(e,t,n,r)=>W(Rl(),()=>n)},e5=e=>Pu(nv(e),t=>Ar(dv(t),([n,r])=>{const s=new Map,i=[];for(const u of r){i.push(Sr(u));for(const c of u)s.set(c.request,c)}const a=i.flat();return Uu(b5(n.runAll(i),a,()=>a.forEach(u=>{u.listeners.interrupted=!0})),Uy,s)},!1,!1)),n5=zf();class c2 extends c6{[d4]=g4;[y4]=QT;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,Hx(r)){const s=this.getFiberRef(D0);KT.unsafeUpdate(1,s),O1.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return qy(this)}id(){return this._fiberId}resume(t){this.tell(Qr(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>B6(n)?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return p4(this)}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Vo)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return Gt(()=>{const n=Bk(this._fiberId);return this.tell(Aa((r,s)=>{uy(n,G(()=>t(r,s)))})),ay(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return Bi(t=>{const n=r=>t(yt(r));return this.tell(Aa((r,s)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),G(()=>this.tell(Aa((r,s)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Ae((t,n)=>{const r=t.id(),s=t.getFiberRefs(),i=n.runtimeFlags,a=this.getFiberRefs(),u=qI(s,r,a);t.setFiberRefs(u);const c=t.getFiberRef(D1),f=l(_a(i,c),Yx(zs),Yx(R0));return ek(f)})}get poll(){return G(()=>_u(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return G(()=>this.tell(Bc(xn(t))))}unsafeInterruptAsFork(t){this.tell(Bc(xn(t)))}addObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(D1,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=_y(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=j0(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Ya),this.currentTracer=this.currentDefaultServices.unsafeMap.get(by.key),this.currentSupervisor=this.getFiberRef(g5),this.currentScheduler=this.getFiberRef(Ly),this.currentContext=this.getFiberRef(mo),this.currentSpan=this.currentContext.unsafeMap.get(yy.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,n!==null&&n.size>0)for(const r of n)r._exitValue===null&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=ai;const r=globalThis[ur];globalThis[ur]=this;try{for(;n===ai;)n=this._queue.length===0?XT:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[ur]=r}this._queue.length>0&&!this._running?(this._running=!0,n===$1?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(qu))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];r=t5[s._tag](this,t,r,s)}return r}isInterrupted(){return!Sv(this.getFiberRef(Vo))}addInterruptedCause(t){const n=this.getFiberRef(Vo);this.setFiberRef(Vo,_e(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(const n of this._children)n.tell(Bc(xn(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return Ml({while:()=>!n,body:()=>{const s=t.next();return s.done?G(()=>{n=!0}):po(s.value.await)},step:()=>{}})}return null}reportExitValue(t){if(Hx(this.currentRuntimeFlags)){const n=this.getFiberRef(D0),r=this.id().startTimeMillis,s=Date.now();switch(ZT.unsafeUpdate(s-r,n),O1.unsafeUpdate(-1,n),t._tag){case Le:{YT.unsafeUpdate(1,n);break}case je:{JT.unsafeUpdate(1,n);break}}}if(t._tag==="Failure"){const n=this.getFiberRef(_k);!Cl(t.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(a5)}log(t,n,r){const s=ce(r)?r.value:this.getFiberRef(dk),i=this.getFiberRef(r5);if(s6(i,s))return;const a=this.getFiberRef(gk),u=this.getFiberRef(mk),c=this.getLoggers(),f=this.getFiberRefs();if(bl(c)>0){const x=Rg(this.getFiberRef(Ya),Ul),p=new Date(x.unsafeCurrentTimeMillis());FA(f,()=>{for(const g of c)g.log({fiberId:this.id(),logLevel:s,message:t,cause:n,context:f,spans:a,annotations:u,date:p})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case Xl:return $1;case Yl:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(At(t.cause)),this._asyncInterruptor=null),ai;case Zl:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),ai;case Jl:return t.onFiber(this,this._exitValue!==null?O6:$6(this.currentRuntimeFlags,this._asyncBlockingOn)),ai;default:return zo(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=Mn(this.currentRuntimeFlags)&&this.isInterrupted()?At(this.getInterruptedCause()):t;for(;n!==null;){const r=n,s=this.runLoop(r);if(s===cn){const i=fn.currentOp;fn.currentOp=null,i._op===ga?ZC(this.currentRuntimeFlags)?(this.tell(f4()),this.tell(Qr(gr)),n=null):n=gr:i._op===di&&(n=null)}else{this.currentRuntimeFlags=l(this.currentRuntimeFlags,XC(R0));const i=this.interruptAllChildren();i!==null?n=W(i,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Qr(s)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(Qr(t));else{this._running=!0;const n=globalThis[ur];globalThis[ur]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[ur]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(Qr(t))}patchRuntimeFlags(t,n){const r=wa(t,n);return globalThis[ur]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const s=i=>{r||(r=!0,this.tell(Qr(i)))};Mn(t)&&(this._asyncInterruptor=s);try{n(s)}catch(i){s(Ge(qe(i)))}}pushStack(t){this._stack.push(t),t._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return t._op==="OnStep"&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==Ec)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==Na&&t._op!==Pa&&t._op!==da)return t;t=this.popStack()}}[vA](t){return G(()=>Ng(this.currentContext,t))}Left(t){return ee(t.left)}None(t){return ee(new iy)}Right(t){return Vt(t.right)}Some(t){return Vt(t.value)}Micro(t){return Ha(n=>{let r=n;const s=a4(t4(t,this.currentContext));return s.addObserver(i=>{if(i._tag==="Success")return r(Vt(i.value));switch(i.cause._tag){case"Interrupt":return r(At(xn(Cs)));case"Fail":return r(ee(i.cause.error));case"Die":return r(e1(i.cause.defect))}}),Ha(i=>{r=a=>{i(He)},s.unsafeInterrupt()})})}[Xd](t){const n=ae(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in ui||zo(r),ui[r._op](this,r,n)):(fn.currentOp=Vt(n),cn)}[Le](t){const n=t,r=this.getNextSuccessCont();return r!==void 0?(r._op in ui||zo(r),ui[r._op](this,r,n.effect_instruction_i0)):(fn.currentOp=n,cn)}[je](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case Ec:case Da:return Mn(this.currentRuntimeFlags)&&this.isInterrupted()?At(Jx(n)):ae(()=>r.effect_instruction_i1(n));case"OnStep":return Mn(this.currentRuntimeFlags)&&this.isInterrupted()?At(Jx(n)):Vt(At(n));case Wf:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),Mn(this.currentRuntimeFlags)&&this.isInterrupted()?At(_e(n,this.getInterruptedCause())):At(n);default:zo(r)}else return fn.currentOp=At(n),cn}[Qd](t){return ae(()=>t.effect_instruction_i0(this,Ty(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],i=this._steps[this._steps.length-1];let a=this.popStack();for(;a&&a._op!=="OnStep";)s.push(a),a=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;const u=_6(i.refs,n),c=_a(i.flags,r);return Vt(Db(t.effect_instruction_i0,Ae(f=>{for(;s.length>0;)f.pushStack(s.pop());return f.setFiberRefs(w6(f.id(),f.getFiberRefs())(u)),f.currentRuntimeFlags=wa(c)(f.currentRuntimeFlags),t.effect_instruction_i1})))}return ju(s=>W(f2(Wv(t.effect_instruction_i0)),()=>s(t.effect_instruction_i1)))}RunBlocked(t){return e5(t.effect_instruction_i0)}[Xi](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,s=wa(r,n);if(Mn(s)&&this.isInterrupted())return At(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const i=_a(s,r);return this.pushStack(new zv(i,t)),ae(()=>t.effect_instruction_i1(r))}else return gr}[Na](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[Ec](t){return this.pushStack(t),t.effect_instruction_i0}[Da](t){return this.pushStack(t),t.effect_instruction_i0}[di](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),fn.currentOp=t,cn}[ga](t){return this._isYielding=!1,fn.currentOp=t,cn}[Pa](t){const n=t.effect_instruction_i0,r=t.effect_instruction_i1;return n()?(this.pushStack(t),r()):gr}[da](t){return ui[da](this,t,void 0)}[yu](t){return ae(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&JC)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;const s=n;n=W(Rl({priority:r}),()=>s)}}try{if(n=this.currentTracer.context(()=>{if(n5!==n[Bs]._V){const r=this.getFiberRef(wk);if(r._tag==="Some"){const s=n[Bs]._V;this.log(`Executing an Effect versioned ${s} with a Runtime of version ${zf()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,kr,r)}}return this[n._op](n)},this),n===cn){const r=fn.currentOp;return r._op===ga||r._op===di?cn:(fn.currentOp=null,r._op===Le||r._op===je?r:At(qe(r)))}}catch(r){n!==cn&&!tt(n,"_op")||!(n._op in this)?n=Kv(`Not a valid effect: ${ms(n)}`):vk(r)?n=At(_e(qe(r),xn(Cs))):n=e1(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const r5=lt("effect/FiberRef/currentMinimumLogLevel",()=>de(i6("Info"))),s5=e=>th(t=>{const n=GI(t.context,Ya);Rg(n,gy).unsafe.log(e.log(t))}),i5=lt(Symbol.for("effect/Logger/defaultLogger"),()=>s5(C4)),o5=lt(Symbol.for("effect/Logger/tracerLogger"),()=>th(({annotations:e,cause:t,context:n,fiberId:r,logLevel:s,message:i})=>{const a=io(Ri(n,mo),yy);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const u=Ng(Ri(n,Ya),Ul),c={};for(const[f,x]of e)c[f]=x;c["effect.fiberId"]=N3(r),c["effect.logLevel"]=s.label,t!==null&&t._tag!=="Empty"&&(c["effect.cause"]=lo(t,{renderErrorCause:!0})),a.value.event(ms(Array.isArray(i)&&i.length===1?i[0]:i),u.unsafeCurrentTimeNanos(),c)})),a5=lt(Symbol.for("effect/FiberRef/currentLoggers"),()=>hk(gl(i5,o5))),u5=e=>{if(Array.isArray(e)||zd(e))return[e,B()];const t=Object.keys(e),n=t.length;return[t.map(r=>e[r]),R(r=>{const s={};for(let i=0;i<n;i++)s[t[i]]=r[i];return s})]},c5=(e,t,n)=>{const r=[];for(const s of e)r.push(Mi(s));return W(Ns(r,st,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>{const i=B(),a=s.length,u=new Array(a),c=new Array(a);let f=!1;for(let x=0;x<a;x++){const p=s[x];p._tag==="Left"?(u[x]=R(p.left),f=!0):(c[x]=p.right,u[x]=i)}return f?t._tag==="Some"?ee(t.value(u)):ee(u):n?.discard?He:t._tag==="Some"?yt(t.value(c)):yt(c)})},f5=(e,t,n)=>{const r=[];for(const s of e)r.push(Mi(s));return n?.discard?Ns(r,st,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):oe(Ns(r,st,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>t._tag==="Some"?t.value(s):s)},l5=(e,t)=>{const[n,r]=u5(e);return t?.mode==="validate"?c5(n,r,t):t?.mode==="either"?f5(n,r,t):t?.discard!==!0&&r._tag==="Some"?oe(Ns(n,st,t),r.value):Ns(n,st,t)},Ns=m(e=>zd(e[0]),(e,t,n)=>Ae(r=>{const s=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(Sk);return n?.discard?C1(n.concurrency,()=>ts(q0,n?.concurrentFinalizers)(i=>s?Ar(e,(a,u)=>i(t(a,u)),!0,!1,1):Pu(e,(a,u)=>i(t(a,u)))),()=>ts(V0,n?.concurrentFinalizers)(i=>Ar(e,(a,u)=>i(t(a,u)),s,!1)),i=>ts(W0(i),n?.concurrentFinalizers)(a=>Ar(e,(u,c)=>a(t(u,c)),s,!1,i))):C1(n?.concurrency,()=>ts(q0,n?.concurrentFinalizers)(i=>s?B1(e,1,(a,u)=>i(t(a,u)),!0):Nn(e,(a,u)=>i(t(a,u)))),()=>ts(V0,n?.concurrentFinalizers)(i=>h5(e,(a,u)=>i(t(a,u)),s)),i=>ts(W0(i),n?.concurrentFinalizers)(a=>B1(e,i,(u,c)=>a(t(u,c)),s)))})),h5=(e,t,n)=>Gt(()=>{const r=pt(e),s=new Array(r.length);return Lu(Ar(r,(a,u)=>W(t(a,u),c=>G(()=>s[u]=c)),n,!1),yt(s))}),Ar=(e,t,n,r,s)=>ju(i=>tk(a=>Ae(u=>{let c=Array.from(e).reverse(),f=c.length;if(f===0)return He;let x=0,p=!1;const g=s?Math.min(c.length,s):c.length,b=new Set,S=new Array,w=()=>b.forEach(I=>{I.currentScheduler.scheduleTask(()=>{I.unsafeInterruptAsFork(u.id())},0)}),d=new Array,F=new Array,E=new Array,T=()=>{const I=S.filter(({exit:z})=>z._tag==="Failure").sort((z,P)=>z.index<P.index?-1:z.index===P.index?0:1).map(({exit:z})=>z);return I.length===0&&I.push(gr),I},k=(I,z=!1)=>{const P=Kb(a(I)),ct=p5(P,u,u.currentRuntimeFlags,Ql);return u.currentScheduler.scheduleTask(()=>{z&&ct.unsafeInterruptAsFork(u.id()),ct.resume(P)},0),ct},J=()=>{r||(f-=c.length,c=[]),p=!0,w()},o=n?Zv:Ub,q=k(Bi(I=>{const z=(ct,it)=>{ct._op==="Blocked"?E.push(ct):(S.push({index:it,exit:ct}),ct._op==="Failure"&&!p&&J())},P=()=>{if(c.length>0){const ct=c.pop();let it=x++;const ge=()=>{const $t=c.pop();return it=x++,W(Rl(),()=>W(o(i(t($t,it))),_t))},_t=$t=>c.length>0&&(z($t,it),c.length>0)?ge():yt($t),Ut=W(o(i(t(ct,it))),_t),qt=k(Ut);d.push(qt),b.add(qt),p&&qt.currentScheduler.scheduleTask(()=>{qt.unsafeInterruptAsFork(u.id())},0),qt.addObserver($t=>{let ve;if($t._op==="Failure"?ve=$t:ve=$t.effect_instruction_i0,F.push(qt),b.delete(qt),z(ve,it),S.length===f)I(yt(en(o1(T(),{parallel:!0}),()=>gr)));else if(E.length+S.length===f){const un=T(),sr=E.map(A=>A.effect_instruction_i0).reduce(kb);I(yt(Db(sr,Ar([en(o1(un,{parallel:!0}),()=>gr),...E.map(A=>A.effect_instruction_i1)],A=>A,n,!0,s))))}else P()})}};for(let ct=0;ct<g;ct++)P()}));return po(Bl(Wb(i(qy(q))),oy({onFailure:I=>{J();const z=E.length+1,P=Math.min(typeof s=="number"?s:E.length,E.length),ct=Array.from(E);return Bi(it=>{let ge=0,_t=0;const Ut=($t,ve)=>un=>{ge++,ge===z&&it(Vt(At(I))),ct.length>0&&ve&&qt()},qt=()=>{k(ct.pop(),!0).addObserver(Ut(_t,!0)),_t++};q.addObserver(Ut(_t,!1)),_t++;for(let $t=0;$t<P;$t++)qt()})},onSuccess:()=>Nn(F,I=>I.inheritAll)})))}))),B1=(e,t,n,r)=>Gt(()=>{const s=pt(e),i=new Array(s.length);return Lu(Ar(s,(u,c)=>oe(n(u,c),f=>i[c]=f),r,!1,t),yt(i))}),f2=e=>m5(e,Ql),x5=(e,t,n,r=null)=>{const s=l2(e,t,n,r);return s.resume(e),s},p5=(e,t,n,r=null)=>l2(e,t,n,r),l2=(e,t,n,r=null)=>{const s=xb(),i=t.getFiberRefs(),a=VI(i,s),u=new c2(s,a,n),c=Ri(a,mo),f=u.currentSupervisor;return f.onStart(c,e,R(t),u),u.addObserver(p=>f.onEnd(p,u)),(r!==null?r:l(t.getFiberRef(P0),en(()=>t.scope()))).add(n,u),u},m5=(e,t)=>Ae((n,r)=>yt(x5(e,n,r.runtimeFlags,t))),M1=e=>go(t=>Ee(io(t,_o),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return W(Vu(n,V0),r=>rh(e,r))}}})),R1=e=>t=>go(n=>Ee(io(n,_o),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:W(Vu(r,W0(e)),s=>rh(t,s))})),ts=(e,t)=>n=>go(r=>Ee(io(r,_o),{onNone:()=>n(st),onSome:s=>{if(t===!0){const i=e._tag==="Parallel"?M1:e._tag==="Sequential"?N1:R1(e.parallelism);switch(s.strategy._tag){case"Parallel":return i(n(M1));case"Sequential":return i(n(N1));case"ParallelN":return i(n(R1(s.strategy.parallelism)))}}else return n(st)}})),N1=e=>go(t=>Ee(io(t,_o),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return W(Vu(n,q0),r=>rh(e,r))}}})),_o=qr("effect/Scope"),rh=m(2,(e,t)=>Pk(e,Dg(_F(_o,t)))),d5=e=>Ys(e,{differ:HT,fork:bi}),D1=pk(QC),g5=d5(Ju),b5=(e,t,n)=>Vb(r=>W(W(f2(zb(e)),s=>Bi(i=>{const a=t.map(f=>f.listeners.count),u=()=>{a.every(f=>f===0)&&t.every(f=>f.result.state.current._tag==="Pending"?!0:!!(f.result.state.current._tag==="Done"&&Pl(f.result.state.current.effect)&&f.result.state.current.effect._tag==="Failure"&&_v(f.result.state.current.effect.cause)))&&(c.forEach(f=>f()),n?.(),i(nk(s)))};s.addObserver(f=>{c.forEach(x=>x()),i(f)});const c=t.map((f,x)=>{const p=g=>{a[x]=g,u()};return f.listeners.addObserver(p),()=>f.listeners.removeObserver(p)});return u(),G(()=>{c.forEach(f=>f())})})),()=>Gt(()=>{const s=t.flatMap(i=>i.state.completed?[]:[i]);return Pu(s,i=>jT(i.request,Tk(r)))}))),y5=Iv,S5=Ek,_5=Vu,sh=e=>function(){if(arguments.length===1){const t=arguments[0];return(n,...r)=>e(t,n,...r)}return e.apply(this,arguments)},w5=sh((e,t,n)=>{const r=xb(),s=[[mo,[[r,e.context]]]];n?.scheduler&&s.push([Ly,[[r,n.scheduler]]]);let i=HI(e.fiberRefs,{entries:s,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));const a=new c2(r,i,e.runtimeFlags);let u=t;n?.scope&&(u=W(_5(n.scope,Iy),f=>Lu(Ak(f,Vb(x=>Q(x,a.id())?He:Zb(a,x))),Bl(t,x=>S5(f,x)))));const c=a.currentSupervisor;return c!==Ju&&(c.onStart(e.context,u,B(),a),a.addObserver(f=>c.onEnd(f,a))),Ql.add(e.runtimeFlags,a),n?.immediate===!1?a.resume(u):a.start(u),a}),A5=sh((e,t)=>{const n=I5(e)(t);if(n._tag==="Failure")throw v5(n.effect_instruction_i0);return n.effect_instruction_i0});class E5 extends Error{fiber;_tag="AsyncFiberException";constructor(t){super(`Fiber #${t.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=t,this.name=this._tag,this.stack=this.message}}const F5=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new E5(e);return Error.stackTraceLimit=t,n},Mc=Symbol.for("effect/Runtime/FiberFailure"),Go=Symbol.for("effect/Runtime/FiberFailure/Cause");class C5 extends Error{[Mc];[Go];constructor(t){const n=Rb(t)[0];super(n?.message||"An error has occurred"),this[Mc]=Mc,this[Go]=t,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[Go].toJSON()}}toString(){return"(FiberFailure) "+lo(this[Go],{renderErrorCause:!0})}[It](){return this.toString()}}const v5=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new C5(e);return Error.stackTraceLimit=t,n},k5=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return a1(t.left);case"Right":return Vt(t.right);case"Some":return Vt(t.value);case"None":return a1(iy())}},I5=sh((e,t)=>{const n=k5(t);if(n)return n;const r=new c4,s=w5(e)(t,{scheduler:r});r.flush();const i=s.unsafePoll();return i||Ik(Tl(F5(s),jl(s)))});class T5{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return H(this,arguments)}}const O5=e=>new T5(e.context,e.runtimeFlags,e.fiberRefs),$5=Cb(zs,Eb,Ab),B5=O5({context:al(),runtimeFlags:$5,fiberRefs:KI()}),M5=A5(B5),R5=Q3,N5=e=>t=>{const n=t===void 0?Object.create(to):R5(t);return n._tag=e,n},ih=()=>new Proxy({},{get(e,t,n){return t==="$is"?jf:t==="$match"?D5:N5(t)}});function D5(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const e=arguments[0];return arguments[1][e._tag](e)}const nf=Symbol.for("effect/DateTime/TimeZone"),P5={[nf]:nf,[It](){return this.toString()}},j5={...P5,_tag:"Offset",[X](){return kt(this,Pt(`Offset:${this.offset}`))},[Y](e){return L5(e)&&e._tag==="Offset"&&this.offset===e.offset},toString(){return`TimeZone.Offset(${q5(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},L5=e=>tt(e,nf),U5=e=>{const t=Object.create(j5);return t.offset=e,t},q5=e=>{const t=Math.abs(e);let n=Math.floor(t/(3600*1e3)),r=Math.round(t%(3600*1e3)/(60*1e3));return r===60&&(n+=1,r=0),`${e<0?"-":"+"}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`},Or=Qw,V5=GA,oh=m(2,(e,t)=>e+t),W5=e=>e.trimEnd(),z5=e=>e.length,Zs=e=>t=>t.repeat(e),G5=(e,t)=>n=>n.replaceAll(e,t),Zu=l5,Ds=Ns,h2=ee,Be=yt,Vr=Gt,Ve=oe,wn=W,nr=M5,H5=U5,K5=m(e=>Yi(e[0]),(e,...t)=>{const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}),x2=e=>{const[t,n,...r]=e;return n===void 0?l(t,O(he)):l(r,Lr(Ei(t,n),(s,i)=>Au(s,i,(a,u)=>Ln(a,u))))},p2=e=>me(e)?x2(e):[];p2.nonEmpty=x2;const m2=e=>me(e)?d2(e):[],d2=([e,...t])=>me(t)?l(Y5([e,...t]),p2.nonEmpty):l(e,O(N(R,he)));m2.nonEmpty=d2;const Y5=e=>{const t=l(e,O(bg),sl(mt),J5);return l(e,O(r=>[...O(r,R),...t([...r])]))},J5=e=>t=>e===t.length?[]:er(B(),e-t.length),Z5=e=>t=>{let[n,r]=[0,e.length];for(;n<r;){const s=n+r>>>1,i=e[s];if(i===void 0)throw new Error("Input array is not sorted");i<t?n=s+1:r=s}return[...e.slice(0,n),t,...e.slice(n)]},ah=Object.assign(Ln,{flip:e=>t=>Ln(e,t)}),g2=Object.assign(nn,{flip:e=>t=>nn(e,t)}),X5=Object.assign(bs,{flip:e=>t=>bs(e,t)}),Q5=Object.assign(Ai,{flip:e=>t=>Ai(e,t)}),b2=e=>[ro(e),rl(e)],tO=([e,...t])=>[e,t];function eO(e,t){return n=>{const[r,s]=tO(n);return[e(r),...l(s,O(t))]}}function nO(e,t){return n=>{const[r,s]=b2(n);return l(s,O(e),Ln(t(r)))}}const rO=e=>sl(mt)([0,...l(e,O(t=>bg(t)))]),sO=e=>t=>n=>e(n)(t),Xs=e=>()=>e,y2=(e,t)=>{const n=BigInt(t);let r=e/n;const s=[Number(e%n)];for(;r>0;)s.unshift(Number(r%n)),r=r/n;return s},S2=(e,t)=>{const n=BigInt(t);let r=0n,s=0n;for(const i of S0(e))s+=BigInt(i)*n**r++;return s},Xu=(e,t)=>[Math.floor(e/t),e%t],uh=e=>Xu(e,2),iO=e=>e>0,oO=e=>e!==0,aO=e=>e===0,uO=e=>e%2===0,cO=e=>e%2!==0,fO=e=>e<0,lO=e=>t=>e===t,_2=e=>{const[t,n]=uh(e);return[t+n,t]},w2=e=>{const[t,n]=uh(e);return[t,t+n]};var hO=Object.freeze({__proto__:null,Equivalence:Fu,Order:mt,between:KE,clamp:YE,decrement:Tg,divide:qE,floorMod:Xu,floorMod2:uh,fromRadix:S2,greaterThan:GE,greaterThanOrEqualTo:HE,halfToFirst:_2,halfToSecond:w2,increment:Ig,isEqual:lO,isEven:uO,isNegative:fO,isNonZero:oO,isNumber:PE,isOdd:cO,isPositive:iO,isZero:aO,lessThan:WE,lessThanOrEqualTo:zE,max:ZE,min:JE,multiply:kg,multiplyAll:UE,negate:jE,nextPow2:tF,parse:eF,remainder:QE,round:nF,sign:XE,subtract:vg,sum:il,sumAll:LE,toRadix:y2,unsafeDivide:VE});const ch=e=>(t,n)=>Yf(e)(t,n)&&!Su(e)(t,n);ch.curried=e=>t=>n=>Yf(e)(n,t)&&!Su(e)(n,t);const wo=(e,t)=>n=>[e(n),t(n)],$r=(e,t)=>[e,t];$r.withFirst=Object.assign(e=>t=>[e,t],{removeReadonly:e=>t=>[e,t]});const xO=e=>t=>[t,e];$r.withSecond=xO;const Wn=e=>[e,e];Wn.mapFirst=e=>t=>l(t,Wn,Xf(e));Wn.mapSecond=e=>t=>l(t,Wn,Qf(e));const pO=([e,t])=>t(e),rf=e=>l(e,dE(uA)),tn=e=>(...t)=>{const n={};for(const r of t)n[r]=e;return n};var Rc={},Ho={},Ko={},Yo={},P1;function fh(){if(P1)return Yo;P1=1,Object.defineProperty(Yo,"__esModule",{value:!0});const e="(?:(?:\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]|(?:\\x1b\\x5d|\\x9d)[\\S\\s]*?(?:\\x1b\\x5c|[\\x07\\x9c])|(?:\\x1b[\\x50\\x58\\x5e\\x5f]|[\\x90\\x98\\x9e\\x9f])[\\S\\s]*?(?:\\x1b\\x5c|\\x9c)|\\x1b[\\x20-\\x2f]*[\\x30-\\x7e])";function t({global:n=!0}={}){return new RegExp(e,n?"g":void 0)}return Yo.default=t,Yo}var j1;function lh(){if(j1)return Ko;j1=1,Object.defineProperty(Ko,"__esModule",{value:!0});const t=(0,fh().default)();function n(r){return typeof r=="string"?r.replace(t,""):String(r)}return Ko.default=n,Ko}var Jo={},L1;function hh(){if(L1)return Jo;L1=1,Object.defineProperty(Jo,"__esModule",{value:!0});function e(t){return t<880?(t<=159?t<=31||t>=127:t>=768||t===173)?0:1:t<2816?(t<1425?t>=1155&&t<=1161:t<1552?t<=1474&&t!==1470&&t!==1472||t>=1476&&t<=1479&&t!==1478:t<1774?t<=1564&&t!==1563||t>=1611&&t<=1631||t===1648||t>=1750&&t<=1756||t>=1759&&t<=1764||t>=1767&&t!==1769:t<1867?t===1809||t>=1840:t<2070?t>=1958&&t<=1968||t>=2027&&t<=2035||t===2045:t<2094?t<=2083&&t!==2074||t>=2085&&t!==2088:t<2307?t>=2137&&t<=2139||t>=2199&&t<=2207||t>=2250&&t!==2274:t<2404?t>=2362&&t<=2364&&t!==2363||t>=2369&&t<=2376||t===2381||t>=2385&&t<=2391||t>=2402:t<2561?t===2433||t===2492||t>=2497&&t<=2500||t===2509||t>=2530&&t<=2531||t===2558:t<2689?t<=2562||t===2620||t>=2625&&t<=2626||t>=2631&&t<=2632||t>=2635&&t<=2637||t===2641||t>=2672&&t<=2673||t===2677:t<=2690||t===2748||t>=2753&&t<=2760&&t!==2758||t===2765||t>=2786&&t<=2787||t>=2810)?0:1:t<4256?(t<2916?t===2817||t===2876||t>=2879&&t<=2884&&t!==2880||t===2893||t>=2901&&t<=2902||t>=2914:t<3072?t===2946||t===3008||t===3021:t<3172?t===3072||t===3076||t===3132||t>=3134&&t<=3136||t>=3142&&t<=3149&&t!==3145||t>=3157&&t<=3158||t>=3170:t<3328?t===3201||t===3260||t===3263||t===3270||t>=3276&&t<=3277||t>=3298&&t<=3299:t<3428?t<=3329||t>=3387&&t<=3388||t>=3393&&t<=3396||t===3405||t>=3426:t<3543?t===3457||t===3530||t>=3538&&t!==3541:t<3663?t===3633||t>=3636&&t<=3642||t>=3655:t<3864?t===3761||t>=3764&&t<=3772||t>=3784&&t<=3790:t<4141?t<=3865||t===3893||t===3895||t===3897||t>=3953&&t<=3975&&t!==3967&&t!==3973||t>=3981&&t<=4028&&t!==3992||t===4038:t<=4154&&t!==4145&&t!==4152||t>=4157&&t<=4158||t>=4184&&t<=4185||t>=4190&&t<=4192||t>=4209&&t<=4212||t===4226||t>=4229&&t<=4230||t===4237||t===4253)?0:1:t<6832?t<5906?t<=4448?t>=4447?0:t>=4352?2:1:t>=4957&&t<=4959?0:1:(t<6068?t<=5908||t>=5938&&t<=5939||t>=5970&&t<=5971||t>=6002&&t<=6003:t<6155?t<=6077&&t!==6070||t===6086||t>=6089&&t<=6099||t===6109:t<6432?t<=6159||t>=6277&&t<=6278||t===6313:t<6460?t<=6434||t>=6439&&t<=6440||t===6450||t>=6457:t<6742?t>=6679&&t<=6680||t===6683:t<=6750&&t!==6743||t===6752||t===6754||t>=6757&&t<=6764||t>=6771&&t<=6780||t===6783)?0:1:t<8203?(t<6912?t<=6862:t<7040?t<=6915||t>=6964&&t<=6970&&t!==6965||t===6972||t===6978||t>=7019&&t<=7027:t<7086?t<=7041||t>=7074&&t<=7077||t>=7080&&t!==7082:t<7154?t>=7142&&t<=7145&&t!==7143||t>=7149&&t!==7150:t<7376?t>=7212&&t<=7219||t>=7222&&t<=7223:t<7418?t<=7392&&t!==7379||t>=7394&&t<=7400||t===7405||t===7412||t>=7416:t>=7616&&t<=7679)?0:1:t<11776?t<8986?t<=8432&&(t<=8207||t>=8234&&t<=8238||t>=8288&&t<=8303||t>=8400)?0:1:t<9748?(t<9204?t<=8987||t>=9001&&t<=9002||t>=9193&&t<=9196||t===9200||t===9203:t>=9725&&t<=9726)?2:1:t<9984?(t<=9925?t<=9749||t>=9776&&t<=9783||t>=9800&&t<=9811||t===9855||t>=9866&&t<=9871||t===9875||t===9889||t>=9898&&t<=9899||t>=9917&&t<=9918||t>=9924:t===9934||t===9940||t===9962||t>=9970&&t<=9973&&t!==9972||t===9978||t===9981)?2:1:t<10176?(t<10067?t===9989||t>=9994&&t<=9995||t===10024||t===10060||t===10062:t<=10071&&t!==10070||t>=10133&&t<=10135||t===10160||t===10175)?2:1:t<11503?t>=11035&&(t<=11036||t===11088||t===11093)?2:1:t<=11505||t===11647||t>=11744?0:1:t<43392?t<12272?t>=11904&&(t<=12019&&t!==11930||t>=12032&&t<=12245)?2:1:t<12544?t<=12350?t>=12330&&t<=12333?0:2:t>=12353&&t<=12438||t>=12443?2:t>=12441?0:1:t<42607?t<=12773?t===12644?0:t>=12549&&t!==12592&&t!==12687?2:1:(t<12880?t>=12783&&t<=12871&&t!==12831:t<=42124||t<=42182&&t>=42128)?2:1:t<43204?(t<43008?t<=42621&&t!==42611||t>=42654&&t<=42655||t>=42736&&t<=42737:t===43010||t===43014||t===43019||t>=43045&&t<=43046||t===43052)?0:1:t<=43345?t<=43205||t>=43232&&t<=43249||t===43263||t>=43302&&t<=43309||t>=43335?0:1:t>=43360&&t<=43388?2:1:t<65536?t<44032?(t<43561?t<=43394||t===43443||t>=43446&&t<=43449||t>=43452&&t<=43453||t===43493:t<43696?t<=43566||t>=43569&&t<=43570||t>=43573&&t<=43574||t===43587||t===43596||t===43644:t<43714?t<=43700&&t!==43697||t>=43703&&t<=43704||t>=43710&&t!==43712:t<43968?t>=43756&&t<=43757||t===43766:t===44005||t===44008||t===44013)?0:1:t<65024?t<=64217?t<=55203||t>=63744&&t<=64109||t>=64112?2:1:t===64286?0:1:t<65132?t<65072?t<=65039||t>=65056?0:t<=65049?2:1:t<=65126&&t!==65107||t>=65128?2:1:t<65281?t===65279?0:1:t<=65510?t<=65376||t>=65504?2:t===65440?0:1:t>=65520&&t<=65528?0:1:t<70400?(t<68097?t===66045||t===66272||t>=66422&&t<=66426:t<68325?t<=68102&&t!==68100||t>=68108&&t<=68111||t>=68152&&t<=68154||t===68159:t<68904?t<=68326||t>=68900:t<69457?t>=68969&&t<=68973||t>=69291&&t<=69292||t>=69372&&t<=69375||t>=69446:t<69759?t>=69506&&t<=69509||t===69633||t>=69688&&t<=69702||t===69744||t>=69747&&t<=69748:t<69888?t<=69761||t>=69811&&t<=69814||t>=69817&&t<=69818||t===69826:t<70016?t<=69890||t>=69927&&t<=69940&&t!==69932||t===70003:t<70191?t<=70017||t>=70070&&t<=70078||t>=70089&&t<=70092||t===70095:t<70272?t<=70193||t>=70196&&t<=70199&&t!==70197||t===70206||t===70209:t===70367||t>=70371&&t<=70378)?0:1:t<92880?(t<=70626?t<70517?t<=70401||t>=70459&&t<=70460||t===70464||t>=70502&&t<=70508||t>=70512:t>=70587&&(t<=70592||t===70606||t===70608||t===70610||t>=70625):t<70852?t<=70750?t>=70712&&(t<=70719||t>=70722&&t<=70726&&t!==70725||t===70750):t>=70835&&(t<=70842&&t!==70841||t>=70847&&t!==70849):t<71233?t<71134?t>=71090&&(t<=71093||t>=71100&&t<=71104&&t!==71102||t>=71132):t>=71219&&(t<=71226||t>=71229&&t!==71230):t<71468?t<71352?t>=71339&&(t<=71341&&t!==71340||t>=71344&&t!==71350):t>=71453&&(t<=71455&&t!==71454||t>=71458&&t!==71462):t<72148?t<=71738?t>=71727&&t!==71736:t>=71995&&(t<=71998&&t!==71997||t===72003):t<72193?t<=72151||t>=72154&&t<=72155||t===72160:t<72273?t<=72202||t>=72243&&t<=72248||t>=72251&&t<=72254||t===72263:t<72850?t<=72345?t<=72278||t>=72281&&t<=72283||t>=72330&&t!==72343:t>=72752&&t<=72767&&t!==72759&&t!==72766:t<72887?t<=72871||t>=72874&&t<=72880||t>=72882&&t!==72884:t<73032?t>=73009&&t<=73014||t>=73018&&t<=73021&&t!==73019||t>=73023&&t!==73030:t<73472?t<=73460&&t>=73104&&(t<=73105||t===73109||t===73111||t>=73459):t<=73562?t<=73473||t>=73526&&t<=73530||t===73536||t===73538||t===73562:t<=78933?t===78912||t>=78919:t>=90398&&t<=90409||t>=90413&&t<=90415)?0:1:t<126976?t<94208?t<94099?t>=92912&&t<=92916||t>=92976&&t<=92982||t===94031||t>=94095?0:1:t>=94176&&t<=94193?t<=94179||t>=94192?2:t===94180?0:1:1:t<111356?(t<=101640?t<=100343||t>=100352&&t<=101589||t>=101631:t<=110882?t>=110576&&t!==110580&&t!==110588&&t!==110591:t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960)?2:1:t<119365?(t<119143?t>=113821&&t<=113827&&t!==113823||t>=118528&&t<=118573||t>=118576&&t<=118598:t<=119145||t>=119155&&t<=119170||t>=119173&&t<=119179||t>=119210&&t<=119213||t>=119362)?0:1:t<121344?t<=119670&&(t>=119552&&t<=119638||t>=119648)?2:1:(t<122880?t<=121398||t>=121403&&t<=121452||t===121461||t===121476||t>=121499&&t<=121519&&t!==121504:t<122923?t<=122904&&t!==122887||t>=122907&&t<=122913||t>=122915&&t!==122917:t<=125258&&(t===123023||t>=123184&&t<=123190||t===123566||t>=123628&&t<=123631||t>=124140&&t<=124143||t>=124398&&t<=124399||t>=125136&&t<=125142||t>=125252))?0:1:t<=205743?(t<127488?t===126980||t===127183||t===127374||t>=127377&&t<=127386:t<127744?t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t>=127568&&t<=127569||t>=127584&&t<=127589:t<128592?t<127992?t<=127776||t>=127789&&t<=127891&&t!==127798&&t!==127869||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988:t<=128252&&t!==128063&&t!==128065||t>=128255&&t<=128317||t>=128331&&t<=128359&&t!==128335||t===128378||t>=128405&&t<=128406||t===128420||t>=128507:t<128765?t>=128640&&(t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||t>=128747&&t<=128748||t>=128756):t<129536?t>=128992&&t<=129003||t===129008||t>=129292&&t!==129339&&t!==129350:t<=129784?t>=129648&&(t<=129734?t<=129660||t>=129664&&t<=129673||t>=129679:t>=129742&&t<=129756||t>=129759&&t<=129769||t>=129776):t>=131072&&(t<=183969?t<=173791||t>=173824&&t<=177977||t>=177984&&t<=178205||t>=178208:t>=183984&&t<=191456||t>=191472&&t<=192093||t>=194560&&t<=195101||t>=196608&&t<=201546||t>=201552))?2:1:t>=917504&&t<=921599?0:1}return Jo.default=e,Jo}var Nc={},U1;function Qu(){return U1||(U1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shouldBreak=e.isGraphemeBase=e.graphemeBreakProperty=e.InCBProps=e.Emoji_Modifier=e.GBProps=void 0;const t=0,n=1,r=2,s=3,i=4,a=5,u=6,c=7,f=8,x=9,p=10,g=11,b=12,S=13,w=14;e.GBProps={None:t,CR:n,LF:r,Control:s,Extend:i,ZWJ:a,RI:u,Prepend:c,SpacingMark:f,L:x,V:p,T:g,LV:b,LVT:S,ExtendedPictographic:w};const d=16,F=32,E=64;e.Emoji_Modifier=128,e.InCBProps={Extend:d,Linker:F,Consonant:E};function T(o){return o<127?o>31?t:o===13?n:o===10?r:s:o<880?o<=174?o<=159||o===173?s:o===169||o===174?w:t:o>=768?i|d:t:o<4352?o<1536?(o<1425?o>=1155&&o<=1161:o<=1469||o>=1471&&o<=1474&&o!==1472||o>=1476&&o<=1479&&o!==1478)?i|d:t:o<1792?o<1750?o<=1541?c:o===1564?s:o>=1552&&o<=1562||o>=1611&&o<=1631||o===1648?i|d:t:o===1757?c:o<=1764&&o!==1758||o>=1767&&o<=1773&&o!==1769?i|d:t:o<2048?o<=1866?o>=1840||o===1809?i|d:o===1807?c:t:(o<2027?o>=1958&&o<=1968:o<=2035||o===2045)?i|d:t:o<2307?o<=2139?o>=2070&&o<=2083&&o!==2074||o>=2085&&o<=2093&&o!==2088||o>=2137?i|d:t:o<2250?o>=2192&&o<=2193?c:o>=2199&&o<=2207?i|d:t:o===2274?c:i|d:o<2433?o<2366?o===2307||o===2363?f:o<2362?o>=2325?E:t:o<=2364?i|d:t:o<=2383?o>=2369&&o<=2376?i|d:o===2381?i|F:f:o<=2399?o<2392?o>=2385?i|d:t:E:o>=2402&&o<=2403?i|d:o>=2424&&o<=2431?E:t:o<2561?o<=2489?o<2453?o<=2435?o===2433?i|d:f:t:o<=2480&&o!==2473||o>=2486||o===2482?E:t:o<=2508?o<=2500?o<2494?o===2492?i|d:t:o<=2496&&o>=2495?f:i|d:o>=2507||o>=2503&&o<=2504?f:t:o<2530?o<2524?o===2509?i|F:o===2519?i|d:t:o<=2525||o===2527?E:t:o<=2545?o<=2531?i|d:o>=2544?E:t:o===2558?i|d:t:o<2689?o<2625?o===2563||o>=2622?f:o<=2562||o===2620?i|d:t:(o<=2637?o<=2626||o>=2631&&o<=2632||o>=2635:o===2641||o>=2672&&o<=2673||o===2677)?i|d:t:o<2816?o<=2745?o<2709?o<=2690?i|d:o===2691?f:t:o!==2729&&o!==2737&&o!==2740?E:t:o<=2760?o>=2750&&o<=2752?f:o>=2753&&o!==2758||o===2748?i|d:t:o<2786?o<=2764?o!==2762?f:t:o===2765?i|F:t:o>=2810||o<=2787?i|d:o===2809?E:t:o<2944?o<=2873?o<2837?o>=2818&&o<=2819?f:o===2817?i|d:t:o<=2864&&o!==2857||o>=2866&&o!==2868?E:t:o<=2892?o<=2884?o===2880?f:o>=2878||o===2876?i|d:t:o>=2887&&o<=2888||o>=2891?f:t:o<2908?o<2901?o===2893?i|F:t:o<=2903?i|d:t:o<2914?o<=2909||o===2911?E:t:o<=2915?i|d:o===2929?E:t:o<3072?o<3009?o===3007?f:o===2946||o>=3006?i|d:t:o<=3020?o<=3010||o>=3014&&o<=3016||o>=3018?f:t:o===3021||o===3031?i|d:t:o<3172?o<3134?o<=3076?o>=3073&&o<=3075?f:i|d:o>=3093&&o<=3129&&o!==3113?E:o===3132?i|d:t:o<=3148?o<=3140&&o>=3137?f:o<=3136||o>=3142&&o!==3145?i|d:t:o<=3162?o===3149?i|F:o>=3157&&o<=3158?i|d:o>=3160?E:t:o>=3170?i|d:t:o<3328?o<=3268?o<3260?o>=3202&&o<=3203?f:o===3201?i|d:t:o<3265?o===3262?f:o!==3261?i|d:t:o===3266?i|d:f:o<=3299?o>=3270&&o<=3272||o>=3274&&o<=3277||o>=3285&&o<=3286||o>=3298?i|d:t:o===3315?f:t:o<3428?o<=3396?o<3387?o>=3349?E:o<=3329?i|d:o<=3331?f:t:o>=3391&&o<=3392?f:o!==3389?i|d:t:o<=3404?o>=3398&&o!==3401?f:t:o===3405?i|F:o===3415||o>=3426?i|d:o===3406?c:t:o<3572?o<=3540?o>=3458&&o<=3459||o>=3536&&o<=3537?f:o===3457||o===3530||o>=3535?i|d:t:o===3542||o===3551?i|d:o>=3544&&o<=3550||o>=3570?f:t:o<3864?o<=3662?o===3635?f:o>=3633&&o<=3642&&o!==3634||o>=3655?i|d:t:o===3763?f:o>=3761&&o<=3772&&o!==3762||o>=3784&&o<=3790?i|d:t:o<4141?o<3953?o<=3897?o<=3865||o>=3893&&o!==3894&&o!==3896?i|d:t:o<=3903&&o>=3902?f:t:o<=3975?o===3967?f:o!==3973?i|d:t:o>=3981&&o<=4028&&o!==3992||o===4038?i|d:t:o<=4158?o===4145||o>=4155&&o<=4156?f:o!==4152?i|d:t:o<4229?o>=4182&&o<=4183||o===4228?f:o>=4184&&o<=4185||o>=4190&&o<=4192||o>=4209&&o<=4212||o===4226?i|d:t:o<=4230||o===4237||o===4253?i|d:t:o<7424?o<4608?o<4448?x:o<4520?p:g:o<6004?(o<=5909?o>=4957&&o<=4959||o>=5906:o>=5938&&o<=5940||o>=5970&&o<=5971||o>=6002)?i|d:t:o<6155?o>=6068&&o<=6099?o===6070||o>=6078&&o<=6085||o>=6087&&o<=6088?f:i|d:o===6109?i|d:t:o<6432?o===6158?s:o<=6159||o>=6277&&o<=6278||o===6313?i|d:t:o<6741?o<=6459?o<=6443?o<=6434||o>=6439&&o<=6440?i|d:f:o>=6448?o>=6457||o===6450?i|d:f:t:o>=6679&&o<=6683?o>=6681&&o<=6682?f:i|d:t:o<6912?o<6757?o<=6750?o>=6744||o===6742?i|d:f:o===6752||o===6754?i|d:t:o<=6780?o<=6764||o>=6771?i|d:f:o===6783||o>=6832&&o<=6862?i|d:t:o<7040?o<6964?o<=6915?i|d:o===6916?f:t:o<=6980?o<=6973||o>=6978?i|d:f:o>=7019&&o<=7027?i|d:t:o<7142?o<7074?o<=7041?i|d:o===7042||o===7073?f:t:o<=7085?o<=7077||o>=7080?i|d:f:t:o<7376?o<=7155?o>=7146&&o<=7148||o===7143||o===7150?f:i|d:o>=7204&&o<=7223?o<=7211||o>=7220&&o<=7221?f:i|d:t:o===7393||o===7415?f:o<=7378||o>=7380&&o<=7400||o===7405||o===7412||o>=7416&&o<=7417?i|d:t:o<8448?o<8203?o>=7616&&o<=7679?i|d:t:o===8205?a|d:o<=8303?o===8204?i:o<=8207||o>=8232&&o<=8238||o>=8288?s:o===8252||o===8265?w:t:o>=8400&&o<=8432?i|d:t:o<11264?(o<8986?o<8596?o===8482||o===8505:o<=8618&&(o<=8601||o>=8617):o<9211?o<=8987||o===9e3||o===9096||o===9167||o>=9193&&o<=9203||o>=9208:o<9728?o<9642?o===9410:o<=9726&&(o<=9643||o===9654||o===9664||o>=9723):o<10176?o<=10006?o<=9861&&o!==9734&&o!==9747||o>=9872&&o<=9989||o>=9992&&o!==10003&&o!==10005:o<=10036?o===10013||o===10017||o===10024||o>=10035:o<=10071?o===10052||o===10055||o===10060||o===10062||o>=10067&&o!==10070:o>=10083&&o<=10087||o>=10133&&o<=10135||o===10145||o===10160||o===10175:o>=10548&&o<=10549||o>=11013&&(o<=11015||o>=11035&&o<=11036||o===11088||o===11093))?w:t:o<44032?o<12330?o<=11775&&o>=11503&&(o<=11505||o===11647||o>=11744)?i|d:t:o<13056?o<=12442?o<=12335||o>=12441?i|d:o===12336||o===12349?w:t:o===12951||o===12953?w:t:o<43008?o>=42607&&o<=42737&&(o<=42621&&o!==42611||o>=42654&&o<=42655||o>=42736)?i|d:t:o<43136?o<43043?o===43010||o===43014||o===43019?i|d:t:o<=43047?o>=43045&&o<=43046?i|d:f:o===43052?i|d:t:o<43264?o<43204?o<=43137||o>=43188?f:t:o<=43205||o>=43232&&o<=43249||o===43263?i|d:t:o<43392?o<43335?o>=43302&&o<=43309?i|d:t:o<=43347?o===43346?f:i|d:o>=43360&&o<=43388?x:t:o<43561?o<43444?o<=43394||o===43443?i|d:o===43395?f:t:o<43456?o<=43445||o>=43450&&o<=43451||o>=43454?f:i|d:o===43456||o===43493?i|d:t:o<43648?o<=43574?o<=43566||o>=43569&&o<=43570||o>=43573?i|d:f:o===43587||o===43596||o===43644?i|d:o===43597?f:t:o<43776?o<43755?o>=43696&&o<=43700&&o!==43697||o>=43703&&o<=43704||o>=43710&&o<=43713&&o!==43712?i|d:t:o<=43759?o>=43756&&o<=43757?i|d:f:o===43765?f:o===43766?i|d:t:o>=44003?o<=44010?o===44005||o===44008?i|d:f:o===44012?f:o===44013?i|d:t:t:o<65536?o<=55203?(o-44032)%28?S:b:o<=55291?o>=55243?g:o>=55216&&o<=55238?p:t:o<=65071?(o<65024?o===64286:o<=65039||o>=65056)?i|d:t:o===65279||o>=65520&&o<=65531?s:o>=65438&&o<=65439?i|d:t:o<70784?o<69632?(o<68097?o<=66426&&(o===66045||o===66272||o>=66422):o<68325?o<=68102&&o!==68100||o>=68108&&o<=68111||o>=68152&&o<=68154||o===68159:o<69372?o<=68326||o>=68900&&o<=68903||o>=68969&&o<=68973||o>=69291&&o<=69292:o<=69375||o>=69446&&o<=69456||o>=69506&&o<=69509)?i|d:t:o<69762?o<=69634?o===69633?i|d:f:(o<69747?o>=69688&&o<=69702||o===69744:o<=69748||o>=69759)?i|d:t:o<69888?o<=69818?o<69808?o===69762?f:t:o<=69810||o>=69815&&o<=69816?f:i|d:o===69821||o===69837?c:o===69826?i|d:t:o<70016?o<=69940?o===69932?f:o<=69890||o>=69927?i|d:t:o<=69958?o>=69957?f:t:o===70003?i|d:t:o<70188?o<=70080?o<70070?o<=70017?i|d:o===70018||o>=70067?f:t:o===70079?f:i|d:o<=70092?o>=70089?i|d:o<=70083&&o>=70082?c:t:o===70094?f:o===70095?i|d:t:o<70400?o<=70199?o<=70190||o>=70194&&o<=70195?f:i|d:o<70367?o===70206||o===70209?i|d:t:o<=70378?o>=70368&&o<=70370?f:i|d:t:o<70517?o<70465?o<70459?o<=70403?o<=70401?i|d:f:t:o===70463?f:o!==70461?i|d:t:o<70477?o<=70468||o>=70471&&o<=70472||o>=70475?f:t:o<=70499?o>=70498?f:o===70477||o===70487?i|d:t:o>=70502&&o<=70508||o>=70512?i|d:t:o<70627?o<=70594?o>=70584?o>=70585&&o<=70586?f:o!==70593?i|d:t:t:o<=70601?o===70597||o>=70599?i|d:t:o<70606?o!==70603?f:t:o===70609?c:o<=70610||o>=70625?i|d:t:o<=70724?o>=70709?o<=70711||o>=70720&&o<=70721?f:i|d:t:o===70725?f:o===70726||o===70750?i|d:t:o<72704?o<71087?o>=70832&&o<=70851?o>=70833&&o<=70834||o===70841||o>=70843&&o<=70844||o===70846||o===70849?f:i|d:t:o<71216?o<=71099?o>=71088&&o<=71089||o>=71096?f:o<=71093?i|d:t:o<=71104?o===71102?f:i|d:o>=71132&&o<=71133?i|d:t:o<71339?o<=71232?o<=71218||o>=71227&&o<=71228||o===71230?f:i|d:t:o<71453?o<=71351?o===71340||o>=71342&&o<=71343?f:i|d:t:o<71984?o<=71467?o===71454||o===71462?f:o<=71455||o>=71458?i|d:t:o>=71724&&o<=71738?o<=71726||o===71736?f:i|d:t:o<72145?o<71995?o===71984?i|d:o<=71992&&o!==71990?f:t:o<=72003?o<=71998||o===72003?i|d:o===71999||o===72001?c:f:t:o<72193?o<=72151?o<=72147?f:i|d:o>=72154&&o<=72160?o>=72156&&o<=72159?f:i|d:o===72164?f:t:o<72273?o<72243?o<=72202?i|d:t:o<=72254?o<=72248||o>=72251?i|d:o===72249?f:c:o===72263?i|d:t:o<=72283?o>=72279&&o<=72280?f:i|d:o>=72324&&o<=72345?o<=72329?c:o===72343?f:i|d:t:o<126976?o<73009?o<=72767?o>=72751?o===72751||o===72766?f:o!==72759?i|d:t:t:o>=72850&&o<=72886?o===72873||o===72881||o===72884?f:o!==72872?i|d:t:t:o<73098?o<73020?o<=73014||o===73018?i|d:t:o<=73031&&o!==73022?o===73030?c:i|d:t:o<73459?o<=73108?o<=73102||o>=73107?f:o>=73104&&o<=73105?i|d:t:o<=73111?o===73110?f:i|d:t:o<78896?o<=73538?o<73472?o<=73462?o<=73460?i|d:f:t:o<73524?o<=73475?o<=73473?i|d:o===73474?c:f:t:o<73534?o<=73525?f:o<=73530?i|d:t:o<=73535?f:i|d:o===73562?i|d:t:o<94031?o<90398?o<=78933?o<=78911?s:o>=78919||o===78912?i|d:t:t:o<=92982?o<=90415?o<=90409||o>=90413?i|d:f:o>=92912&&o<=92982&&(o<=92916||o>=92976)?i|d:t:o===93539||o>=93543&&o<=93546?p:t:o<119141?o<=94098?o>=94033&&o<=94087?f:o===94031||o>=94095?i|d:t:o<=94193?o===94180||o>=94192?i|d:t:o>=113821&&o<=113827?o<=113822?i|d:o>=113824?s:t:o>=118528&&o<=118598&&(o<=118573||o>=118576)?i|d:t:o<121520?o<119163?o<119155?o<=119145||o>=119149?i|d:t:s:(o<=119364?o<=119170||o>=119173&&o<=119179||o>=119210&&o<=119213||o>=119362:o>=121344&&(o<=121398||o>=121403&&o<=121452||o===121461||o===121476||o>=121499&&o!==121504))?i|d:t:(o<=122922?o>=122880&&(o<=122904&&o!==122887||o>=122907&&o!==122914&&o!==122917):o<=124143?o<=123190?o===123023||o>=123184:o===123566||o>=123628&&o<=123631||o>=124140:o<125136?o>=124398&&o<=124399:o<=125258&&(o<=125142||o>=125252))?i|d:t:o<131070?o<127488?o<127405?(o<=127345?o<=127231||o>=127245&&o<=127247||o===127279||o>=127340:o>=127358&&o<=127386&&(o<=127359||o===127374||o>=127377))?w:t:o<=127461?w:u:o<127561?o>=127489&&o<=127551&&(o<=127503||o===127514||o===127535||o>=127538&&o!==127547)?w:t:o<128318?o>=127995&&o<=127999?i|d|e.Emoji_Modifier:w:(o<=129023?o>=128326&&(o<=128591||o>=128640&&o<=128767||o>=128884&&o<=128895||o>=128981):o<129198?o>=129036&&o<=129167&&(o<=129039||o>=129096&&o<=129103||o>=129114&&o<=129119||o>=129160):o<=129279||o>=129292&&o<=129791&&o!==129339&&o!==129350||o>=130048)?w:t:o>=917504?o>921599?t:o>=918e3||o<=917535||o>=917632&&o<=917759?s:i|d:t}e.graphemeBreakProperty=T;function k(o,q){return(q&15)===i?!!(q&e.Emoji_Modifier):o<1536?!(o<=159?o<=31||o>=127:o===173):o<2304?!(o<1872?o<=1541||o===1564||o===1757||o===1807:o>=2192&&(o<=2193||o===2274)):o<8304?!(o<8203?o===6158:o<=8207||o>=8232&&o<=8238||o>=8288):o<=65531?!(o===65279||o>=65519):o<=119162?!(o<78896?o===69821||o===69837:o<113824?o<=78911:o<=113827||o>=119155):!(o>=205744&&o<=983039&&(o<=917535||o>=918e3||o>=917632&&o<=917759))}e.isGraphemeBase=k;function J(o,q,I){var z;if(q===n&&I===r)return!1;if(q===s||q===n||q===r||I===s||I===n||I===r)return!0;if(q===x&&(I===x||I===p||I===b||I===S)||(q===b||q===p)&&(I===p||I===g)||(q===S||q===g)&&I===g||(I&15)===i||(I&15)===a||I===f||q===c)return!1;if(I&E&&q&48){let P=!!(q&F);for(let ct=o.length-1;ct>=0;ct-=1){if(o[ct]&E){if(P)return!1;break}if(o[ct]&48){P||(P=!!(o[ct]&F));continue}break}}if((q&15)===a&&I===w){let P=o.length-1;for(;(((z=o[P])!==null&&z!==void 0?z:0)&15)===i;)P-=1;return o[P]!==w}if(q===u&&I===u){let P=o.length-1;for(;o[P]===u;)P-=1;return(o.length-1-P)%2===1}return!0}e.shouldBreak=J})(Nc)),Nc}var Re={},q1;function A2(){if(q1)return Re;q1=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.isEmojiModifierBase=Re.isEmojiModifierSequence=Re.isEmojiZwjSequence=Re.emojiProps=void 0;function e(i){return i<11264?i<8986?i>=8482&&(i<8596?i===8482||i===8505:i<=8601||i>=8617&&i<=8618)?1:0:i<9211?i<9193?i<=8987?3:i===9e3||i===9167?1:0:i<=9203?i<=9196||i===9200||i===9203?3:1:i>=9208?1:0:i<9728?i<9723?(i<=9643?i===9410||i>=9642:i===9654||i===9664)?1:0:i<=9726?i<=9724?1:3:0:i<9760?i<9748?i<=9732||i===9742||i===9745?1:0:i<=9749?3:i===9752?1:i===9757?5:0:i<9800?(i<=9775?i<=9763&&i!==9761||i===9766||i===9770||i>=9774:i>=9784&&(i<=9786||i===9792||i===9794))?1:0:i<9876?i<=9832?i>=9823&&(i<=9824||i>=9827&&i!==9828&&i!==9831)?1:i<=9811?3:0:i===9851||i===9854||i===9874?1:i===9855||i===9875?3:0:i<9926?i<9898?i===9889?3:i<=9884&&i!==9880&&i!==9882||i===9888||i===9895?1:0:i<=9905?i<=9899?3:i>=9904?1:0:i>=9917&&i<=9925&&(i<=9918||i>=9924)?3:0:i<9984?i<9968?i<=9937?i===9928||i===9935||i===9937?1:i===9934?3:0:i===9939||i===9961?1:i===9940||i===9962?3:0:i<=9976?i<=9973?i<=9969||i===9972?1:3:i>=9975?1:0:i===9978||i===9981?3:i===9977?5:0:i<9998?i<9992?i===9986?1:i===9989?3:0:i>=9996?5:i>=9994?7:1:i<10035?i<=10017?i===9999||i===10002||i===10004||i===10006||i===10013||i===10017?1:0:i===10024?3:0:i<10072?i<10060?i<=10036||i===10052||i===10055?1:0:i<=10062&&i!==10061||i>=10067&&i!==10070?3:0:i<10176?i<=10135?i>=10133?3:i>=10083&&i<=10084?1:0:i===10160||i===10175?3:i===10145?1:0:i<=11015?i>=10548&&(i<=10549||i>=11013)?1:0:i>=11035&&(i<=11036||i===11088||i===11093)?3:0:i<128640?i<127344?i<=12953?i===12336||i===12349||i>=12951&&i!==12952?1:0:i===126980||i===127183?3:0:i<127387?i<=127359?i<=127345||i>=127358?1:0:i===127374||i>=127377?3:0:i<127744?i<127538?i===127489||i===127514||i===127535?3:i===127490?1:0:i<=127569?i===127543?1:i<=127546||i>=127568?3:0:0:i<127904?i<127780?i<=127776?3:i===127777?1:0:i<127870?i<=127788||i===127798||i===127869?1:3:i<=127891?i===127877?7:3:i>=127894&&(i<=127899&&i!==127896||i>=127902)?1:0:i<127992?i<127947?i>=127938&&i<=127940||i===127943||i===127946?7:3:i<127951?i<=127948?5:1:i<=127984?i<=127955||i>=127968?3:1:i===127988?3:i>=127987&&i!==127990?1:0:i<128254?i<=128062?i>=127995&&i<=127999?27:3:i<128066?i===128064?3:1:i<128102?i>=128068&&i<=128069||i>=128081?3:7:i<128129?i<=128120||i===128124?7:3:i<128136?i===128132?3:7:i<=128252?i===128143||i===128145||i===128170?7:3:1:i<128378?i<=128330?i>=128255&&i<=128317?3:i>=128329?1:0:i<128367?i<=128359&&i!==128335?3:0:i>=128372&&i<=128373?5:i<=128368||i>=128371?1:0:i<128421?i<=128397?i>=128394||i===128391?1:i===128378?7:0:i<128405?i===128400?5:0:i<=128406?7:i===128420?3:0:i<128507?(i<=128452?i===128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452:i<=128483?i>=128465&&i<=128467||i>=128476&&i<=128478||i>=128481&&i!==128482:i===128488||i===128495||i===128499||i===128506)?1:0:i<=128591?i<=128580||i>=128584&&i<=128586?3:7:0:i<128720?i<128692?i===128675?7:3:i<=128709?i<=128694||i===128704?7:3:i>=128715?i===128716?7:1:0:i<128765?i<128736?i<=128722||i>=128732||i>=128725&&i<=128727?3:0:i<128747?i<=128741||i===128745?1:0:i<=128748||i>=128756?3:i===128752||i===128755?1:0:i<129343?i<129292?i>=128992&&i<=129003||i===129008?3:0:i<=129311?i>=129304||i===129292||i===129295?7:3:i<=129327?i===129318?7:3:i===129338?3:i!==129339?7:0:i<129456?i===129399?7:i!==129350?3:0:i<=129535?i<=129465?i<=129459?19:i===129460||i===129463?3:7:i<=129484?i===129467?7:3:i===129488||i>=129502?3:7:i<=129730?i>=129648&&i<=129660||i>=129664&&i<=129673||i>=129679?3:0:i<=129784?i<=129733||i>=129776?7:i>=129759&&i<=129769||i>=129742&&i<=129756||i===129734?3:0:0}Re.emojiProps=e;function t(i,a){const u=i.indexOf(8205,a);return u<0?i.length:u}function n(i){let a=0,u=t(i,a),c=i.slice(a,u);if(c.length>2)return!1;let[f,x]=c,p=e(f),g=!1;if(x===void 0){if(!(p&2))return!1}else if(x===65039){if((p&3)!==1)return!1;g=!0}else{const b=e(x);if(!(p&4&&b&8))return!1}for(a=u+1;a<i.length;a=u+1){if(u=t(i,a),c=i.slice(a,u),c.length>2)return!1;if([f,x]=c,p=e(f),x===void 0){if((p&1)===0)return!1}else if(x===65039){if(!(g?(p&3)===1:p&1))return!1}else{const b=e(x);if(!(p&4&&b&8))return!1}}return!0}Re.isEmojiZwjSequence=n;function r(i,a){const u=e(i),c=e(a);return!!(u&4&&c&8)}Re.isEmojiModifierSequence=r;function s(i){return!!(e(i)&4)}return Re.isEmojiModifierBase=s,Re}var V1;function xh(){if(V1)return Ho;V1=1,Object.defineProperty(Ho,"__esModule",{value:!0});const e=lh(),t=hh(),n=Qu(),r=A2(),{RI:s,ExtendedPictographic:i,Extend:a,V:u,T:c}=n.GBProps;function f(x){if(typeof x!="string")return 0;const p=(0,e.default)(x);if(p.length===0)return 0;let g=0,b=p.codePointAt(0),S=[b],w=[],d=(0,t.default)(b),F=d,E=b===8205,T=(0,n.graphemeBreakProperty)(b),k=!1,J=0;for(let o=b>65535?2:1,q=p.length;o<q;o+=1){const I=p.codePointAt(o),z=(0,n.graphemeBreakProperty)(I);if((0,n.shouldBreak)(w,T,z))g+=E&&w[0]===i&&(0,r.isEmojiZwjSequence)(S)?d:F,w=[],S=[I],d=(0,t.default)(I),F=d,E=I===8205,k=!1,J=0;else{S.push(I),w.push(T);let P=!1;if((z&15)!==a)P=T===s&&z===s||z===u||z===c;else if(z&n.Emoji_Modifier)P=T===i&&(0,r.isEmojiModifierBase)(b),k||(k=!0);else{for(;!k&&J<w.length;J+=1)k=(0,n.isGraphemeBase)(S[J],w[J]);P=k}P||(F+=(0,t.default)(I)),I===8205&&(E=!0)}b=I,b>65535&&(o+=1),T=z}return g+=E&&w[0]===i&&(0,r.isEmojiZwjSequence)(S)?d:F,g}return Ho.default=f,Ho}var Zo={},W1;function ph(){if(W1)return Zo;W1=1,Object.defineProperty(Zo,"__esModule",{value:!0});const e=lh(),t=Qu();function n(r){if(typeof r!="string")return 0;const s=(0,e.default)(r);if(s.length===0)return 0;let i=1,a=[],u=s.codePointAt(0),c=(0,t.graphemeBreakProperty)(u);for(let f=u>65535?2:1,x=s.length;f<x;f+=1){u=s.codePointAt(f);const p=(0,t.graphemeBreakProperty)(u);(0,t.shouldBreak)(a,c,p)?(i+=1,a=[]):a.push(c),u>65535&&(f+=1),c=p}return i}return Zo.default=n,Zo}var Xo={},z1;function mh(){if(z1)return Xo;z1=1,Object.defineProperty(Xo,"__esModule",{value:!0});const e=Qu();function*t(n){if(typeof n!="string"||n.length===0)return;let r=0,s=[],i=n.codePointAt(0),a=(0,e.graphemeBreakProperty)(i);for(let u=i>65535?2:1,c=n.length;u<c;u+=1){i=n.codePointAt(u);const f=(0,e.graphemeBreakProperty)(i);(0,e.shouldBreak)(s,a,f)?(yield n.slice(r,u),s=[],r=u):s.push(a),i>65535&&(u+=1),a=f}yield n.slice(r)}return Xo.default=t,Xo}var Qo={},G1;function dh(){if(G1)return Qo;G1=1,Object.defineProperty(Qo,"__esModule",{value:!0});const e=hh(),t=Qu(),n=A2(),{RI:r,ExtendedPictographic:s,Extend:i,V:a,T:u}=t.GBProps;function*c(f){if(typeof f!="string"||f.length===0)return;let x=0,p=f.codePointAt(0),g=[p],b=[],S=(0,e.default)(p),w=S,d=p===8205,F=(0,t.graphemeBreakProperty)(p),E=!1,T=0;for(let k=p>65535?2:1,J=f.length;k<J;k+=1){const o=f.codePointAt(k),q=(0,t.graphemeBreakProperty)(o);if((0,t.shouldBreak)(b,F,q))yield[f.slice(x,k),d&&b[0]===s&&(0,n.isEmojiZwjSequence)(g)?S:w],b=[],g=[o],S=(0,e.default)(o),w=S,x=k,d=o===8205,E=!1,T=0;else{g.push(o),b.push(F);let I=!1;if((q&15)!==i)I=F===r&&q===r||q===a||q===u;else if(q&t.Emoji_Modifier)I=F===s&&(0,n.isEmojiModifierBase)(p),E||(E=!0);else{for(;!E&&T<b.length;T+=1)E=(0,t.isGraphemeBase)(g[T],b[T]);I=E}I||(w+=(0,e.default)(o)),o===8205&&(d=!0)}p=o,p>65535&&(k+=1),F=q}yield[f.slice(x),d&&b[0]===s&&(0,n.isEmojiZwjSequence)(g)?S:w]}return Qo.default=c,Qo}var ta={},Ne={},cr={},H1;function mO(){return H1||(H1=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.closingCodes=cr.styleCodes=void 0,cr.styleCodes=new Map([["1","22"],["2","22"],["3","23"],["4","24"],["4:","4:0"],["5","25"],["6","25"],["7","27"],["8","28"],["9","29"],["20","23"],["21","24"],["26","50"],["30","39"],["31","39"],["32","39"],["33","39"],["34","39"],["35","39"],["36","39"],["37","39"],["38","39"],["90","39"],["91","39"],["92","39"],["93","39"],["94","39"],["95","39"],["96","39"],["97","39"],["40","49"],["41","49"],["42","49"],["43","49"],["44","49"],["45","49"],["46","49"],["47","49"],["48","49"],["51","54"],["52","54"],["53","55"],["58","59"],["60","65"],["61","65"],["62","65"],["63","65"],["64","65"],["73","75"],["74","75"],["100","49"],["101","49"],["102","49"],["103","49"],["104","49"],["105","49"],["106","49"],["107","49"]]),cr.closingCodes=["0","4:0","22","23","24","25","27","28","29","39","49","50","54","55","59","65","75"]),cr}var K1;function tc(){if(K1)return Ne;K1=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.closeEscapes=Ne.openEscapes=Ne.parseEscape=Ne.parseAnsi=void 0;const e=fh(),t=mO();function*n(f){let x=0;for(let p=(0,e.default)(),g=p.exec(f);g;g=p.exec(f)){const{0:b,index:S}=g;S>x&&(yield[f.slice(x,S),!1]),yield[b,!0],x=S+b.length}x<f.length&&(yield[f.slice(x),!1])}Ne.parseAnsi=n;function*r(f){let x=!1,p={value:-1};const g=[p];for(let b=0;b<f.length;b+=1){const S=f.charCodeAt(b);switch(S){case 59:x=!1,p={value:-1},g.push(p);break;case 58:x=!0,p.subparams?p.subparams.push(-1):p.subparams=[-1];break;default:{const w=S-48;if(x){const d=p.subparams,F=d[d.length-1];d[d.length-1]=~F?F*10+w:w}else p.value=~p.value?p.value*10+w:w;break}}}for(let b=0;b<g.length;b+=1){const S=g[b],w=Math.max(S.value,0);if(w===38||w===48||w===58){if(S.subparams){yield{code:w,params:S};continue}const d=b;b+=1;let F=g[b];const E=F?.value===2?3:F?.value===5?1:0;for(let k=0;F&&!F.subparams&&k<E;k+=1,b+=1,F=g[b]);const T=Math.min(b+1,g.length)-d;yield{code:w,params:T===1?S:g.slice(d,d+T),incomplete:!F?.subparams&&T<E+2};continue}yield{code:w,params:S}}}function s(f){return f.subparams?[f.value,...f.subparams].map(x=>~x?String(x):"").join(":"):~f.value?String(f.value):""}const i=/(?:(?:\x1b\x5b|\x9b)([\x30-\x3b]*m)|(?:\x1b\x5d|\x9d)8;(.*?)(?:\x1b\x5c|[\x07\x9c]))/;function a(f,x,p){var g,b;const[,S,w]=(g=i.exec(x))!==null&&g!==void 0?g:[],d=[];if(S)for(const{code:E,params:T,incomplete:k}of r(S.slice(0,-1))){let J=String(E);if(E===4&&T.subparams&&(J+=T.subparams[0]===0?":0":":"),t.closingCodes.includes(J)){const q=J==="4:0"||J==="24"?["4:0","24"]:null;for(let I=f.length-1;I>=0;I-=1){const[,z,P]=f[I];z===1||d.includes(I)||J!=="0"&&(q?!q.includes(P):J!==P)||(J==="0"&&(f[I][2]="0"),d.push(I))}continue}const o=Array.isArray(T)?T.map(s).join(";"):s(T);f.push([o,k?2:0,(b=t.styleCodes.get(J))!==null&&b!==void 0?b:"0",p])}else if(w!==void 0){const E=w.replace(/^[^;]*;/,"");if(w===E)return null;if(E==="")for(let T=f.length-1;T>=0;T-=1){const[,k]=f[T];k!==1||d.includes(T)||(f[T][2]=x,d.push(T))}else{const T=x.replace(/((?:\x1b\x5d|\x9d)8;).*?(\x1b\x5c|[\x07\x9c])/,"$1;$2");f.push([x,1,T,p])}}else return null;const F=[];if(d.length)for(const E of d.sort((T,k)=>k-T))F.unshift(f[E]),f.splice(E,1);return F}Ne.parseEscape=a;function u(f){let x="",p=[];for(const[g,b]of f){if(b===1){p.length&&(x+=`\x1B[${p.join(";")}m`,p=[]),x+=g;continue}p.push(g),b===2&&(x+=`\x1B[${p.join(";")}m`,p=[])}return x+(p.length?`\x1B[${p.join(";")}m`:"")}Ne.openEscapes=u;function c(f){const x=[];let p="";for(const[,g,b]of f){if(g===1){p=b;continue}if(!x.includes(b)){if(b==="4:0"){x.includes("24")||x.unshift(b);continue}if(b==="24"){const S=x.indexOf("4:0");S<0?x.unshift(b):x[S]=b;continue}x.unshift(b)}}return p+(x.length?x.includes("0")?"\x1B[0m":`\x1B[${x.join(";")}m`:"")}return Ne.closeEscapes=c,Ne}var Y1;function dO(){if(Y1)return ta;Y1=1,Object.defineProperty(ta,"__esModule",{value:!0});const e=tc();function t(n){const r=[],s=[],i=String(n).split(/\r?\n/g);for(let a=0,u=i.length;a<u;a+=1){let c="",f=-1;for(const[x,p]of(0,e.parseAnsi)(i[a])){if(p){const g=(0,e.parseEscape)(r,x,[a,f]);g&&f>=0?c+=(0,e.closeEscapes)(g.filter(([,,,[b,S]])=>b<a||b===a&&S<f)):g===null&&(c+=x);continue}c+=(0,e.openEscapes)(f<0?r:r.filter(([,,,[g,b]])=>g===a&&b===f)),c+=x,f+=1}f>=0&&(c+=(0,e.closeEscapes)(r.filter(([,,,[x,p]])=>x<a||x===a&&p<f))),s.push(c)}return s}return ta.default=t,ta}var fr={},J1;function gO(){if(J1)return fr;J1=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.sliceColumns=fr.sliceChars=void 0;const e=tc(),t=mh(),n=dh(),r=ph(),s=xh();function i(a,u){return(c,f=0,x=1/0)=>{if(typeof c!="string"&&(c=String(c)),f<0||x<0){const d=u(c);f<0&&(f=d+f),x<0&&(x=d+x)}if(f>=x)return"";const p=[];let g="",b=0,S=-1,w=[];for(const[d,F]of(0,e.parseAnsi)(c)){if(F){const T=(0,e.parseEscape)(p,d,b);T?.length&&w.unshift(...T);continue}w.length&&(g+=(0,e.closeEscapes)(w.filter(([,,,T])=>T<=S)),w=[]);const E=b;for(const[T,k]of a(d))if((f<b||f===b&&k>0)&&b+k<=x&&(S<E&&(g+=(0,e.openEscapes)(p.filter(([,,,J])=>J>S)),S=E),g+=T),b+=k,b>=x)return g+(0,e.closeEscapes)(p.filter(([,,,J])=>J<=S))}return g+(0,e.closeEscapes)([...w,...p].filter(([,,,d])=>d<=S))}}return fr.sliceChars=i(function*(u){for(const c of(0,t.default)(u))yield[c,1]},r.default),fr.sliceColumns=i(n.default,s.default),fr}var ea={},Z1;function bO(){if(Z1)return ea;Z1=1,Object.defineProperty(ea,"__esModule",{value:!0});const e=tc(),t=mh(),n=ph();function r(s,i,a,u=""){const c=Math.max(i<0?i+(0,n.default)(s):i,0),f=c+a,x=[];let p="",g=0,b=0,S=!1,w=!1;for(const[d,F]of(0,e.parseAnsi)(String(s))){if(F){const E=(0,e.parseEscape)(x,d,[g,S]);E===null||!S&&(g<c||u)?p+=d:E.length&&(p+=(0,e.closeEscapes)(E.filter(([,,,[T,k]])=>!k&&(T<c||u)))),b+=d.length;continue}if(w)return p+(0,e.openEscapes)(x.filter(([,,,[E,T]])=>T||E===c&&!u))+s.slice(b);for(const E of(0,t.default)(d)){if(g<c)p+=E;else if(g===c&&!S&&(p+=u,S=!0),g===f)return p+(0,e.openEscapes)(x.filter(([,,,[T,k]])=>k||T===c&&!u))+s.slice(b);g+=1,b+=E.length}g===c&&!S&&(p+=u,S=!0),g===f&&(w=!0)}return S?p:p+u}return ea.default=r,ea}var na={},X1;function yO(){if(X1)return na;X1=1,Object.defineProperty(na,"__esModule",{value:!0});const e=tc(),t=dh(),n=xh();function r(a,u,c){return a.filter(([,,,[f,x]])=>f<u||f===u&&x<=c)}function s(a,u,c,f,x){if(u.trim()==="")return"";const p=[];let g="",b=0,S=-1/0,w=0,d="",F=-1/0,E="";const T=u.split(" ").map(k=>[k,(0,n.default)(k)]);for(const[k,[J,o]]of T.entries()){if(k>0&&((b>0||!x&&S<0)&&(b+=1),d+=(0,e.openEscapes)(a.filter(([,,,[I,z]])=>I>F||I===F&&z>w)),F=k,d+=" "),f&&(o>c||!x&&S<0&&b+o>c&&b<c)){const I=c-b;Math.floor((o-1)/c)<1+Math.floor((o-I-1)/c)&&!(!x&&S<0)&&(p.push(g+E+(0,e.closeEscapes)(r(a,S,w))),[b,g]=[0,""],[d,E]=["",""]);let P=0;for(const[ct,it]of(0,e.parseAnsi)(J)){if(it){const _t=(0,e.parseEscape)(a,ct,[k,P]);_t?.length&&(S<k?(E+=(0,e.closeEscapes)(r(_t,S,w)),d+=(0,e.closeEscapes)(_t.filter(([,,,[Ut]])=>Ut<F))):b&&(g+=(0,e.closeEscapes)(r(_t,S,w))));continue}const ge=P;S<k&&(!x&&S<0&&b===c&&(p.push(g+d+(0,e.closeEscapes)(r(a,k,-1))),[b,g]=[0,""]),g+=b?d+(0,e.openEscapes)(a.filter(([,,,[_t]])=>_t===k)):(0,e.openEscapes)(a),[S,w]=[k,0],[F,d]=[k,""],E="");for(const[_t,Ut]of(0,t.default)(ct))b+Ut>c&&(p.push(g+(0,e.closeEscapes)(r(a,S,w))),[b,g]=[0,(0,e.openEscapes)(a)]),w<ge&&(b&&(g+=(0,e.openEscapes)(a.filter(([,,,[qt,$t]])=>qt===S&&w<$t))),w=ge),g+=_t,b+=Ut,P+=Ut}continue}let q=0;for(const[I,z]of(0,e.parseAnsi)(J)){if(z){const P=(0,e.parseEscape)(a,I,[k,q]);P?.length&&(S<k?(E+=(0,e.closeEscapes)(r(P,S,w)),d+=(0,e.closeEscapes)(P.filter(([,,,[ct]])=>ct<F))):b&&(g+=(0,e.closeEscapes)(r(P,S,w))));continue}S<k&&((!x&&S<0?b===c:b+o>c&&b>0)&&(p.push(!x&&S<0?g+d+(0,e.closeEscapes)(r(a,k,-1)):g+E+(0,e.closeEscapes)(r(a,S,w))),[b,g]=[0,""]),g+=b?d+(0,e.openEscapes)(a.filter(([,,,[P]])=>P===k)):(0,e.openEscapes)(a),b+=o,[S,w]=[k,0],[F,d]=[k,""],E=""),w<q&&(g+=(0,e.openEscapes)(a.filter(([,,,[P,ct]])=>P===S&&w<ct)),w=q),g+=I,q+=I.length}!x&&S<0&&b===c&&(p.push(g+d+(0,e.closeEscapes)(r(a,k,-1))),[b,g]=[0,""],d=(0,e.openEscapes)(r(a,F,w)),E="")}b>0&&p.push(g+E+(0,e.closeEscapes)(r(a,S,w)));for(const k of a)k[3]=[-1,0];return S>=0?p.join(`
`):""}function i(a,u,{hard:c=!1,trimLeft:f=!0}={}){const x=[];return String(a).split(/\r?\n/g).map(p=>s(x,p,u,c,f)).join(`
`)}return na.default=i,na}var Q1;function SO(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wordWrap=e.spliceChars=e.sliceColumns=e.sliceChars=e.splitLines=e.codePointWidth=e.stripAnsi=e.ansiRegex=e.charWidths=e.splitChars=e.stringLength=e.stringWidth=void 0;var t=xh();Object.defineProperty(e,"stringWidth",{enumerable:!0,get:function(){return t.default}});var n=ph();Object.defineProperty(e,"stringLength",{enumerable:!0,get:function(){return n.default}});var r=mh();Object.defineProperty(e,"splitChars",{enumerable:!0,get:function(){return r.default}});var s=dh();Object.defineProperty(e,"charWidths",{enumerable:!0,get:function(){return s.default}});var i=fh();Object.defineProperty(e,"ansiRegex",{enumerable:!0,get:function(){return i.default}});var a=lh();Object.defineProperty(e,"stripAnsi",{enumerable:!0,get:function(){return a.default}});var u=hh();Object.defineProperty(e,"codePointWidth",{enumerable:!0,get:function(){return u.default}});var c=dO();Object.defineProperty(e,"splitLines",{enumerable:!0,get:function(){return c.default}});var f=gO();Object.defineProperty(e,"sliceChars",{enumerable:!0,get:function(){return f.sliceChars}}),Object.defineProperty(e,"sliceColumns",{enumerable:!0,get:function(){return f.sliceColumns}});var x=bO();Object.defineProperty(e,"spliceChars",{enumerable:!0,get:function(){return x.default}});var p=yO();Object.defineProperty(e,"wordWrap",{enumerable:!0,get:function(){return p.default}})})(Rc)),Rc}var E2=SO();const F2=new Intl.Segmenter,Ot=([e,t])=>n=>`${e}${n}${t}`;Ot.rest=(e,t)=>Ot([e,t]);Ot.parentheses=Ot(["(",")"]);Ot.squareBrackets=Ot(["[","]"]);Ot.curlyBrackets=Ot(["{","}"]);Ot.angledBrackets=Ot(["<",">"]);Ot.quote=Object.assign(Ot(["'","'"]),{double:Ot(['"','"']),fancy:Ot(["“","”"]),parentheses:Ot(["(",")"]),squareBrackets:Ot(["[","]"]),curlyBrackets:Ot(["{","}"]),angledBrackets:Ot(["<",">"])});const Ps=e=>e.join(`
`);Ps.double=e=>e.join(`

`);Ps.rest=(...e)=>Ps(e);const xt=e=>e.join("");xt.rest=(...e)=>xt(e);xt.pipeline=e=>l(e,Je(" | "));xt.slash=e=>l(e,Je(" | "));xt.spaced=Object.assign(e=>e.join(" "),{rest:(...e)=>e.join(" "),literal:(...e)=>e.join(" ")});xt.comma=Object.assign(e=>e.join(", "),{rest:(...e)=>e.join(", ")});xt.quote=Object.assign(e=>l(e,O(Ot.quote),xt.comma),{double:e=>l(e,O(Ot.quote.double),xt.comma),fancy:e=>l(e,O(Ot.quote.fancy),xt.comma)});const sf=e=>t=>oh(e,t),_O=oh,ec=e=>e.toString(),wO=e=>t=>e===t,Br=E2.stringWidth,AO=O(Br),EO=e=>l(" ",Zs(e));function of(e){return t=>{const n=Br(t);if(e===0)return"";if(e-n<=0)return l(t,nu(0,e),xt);const[s,i]=Xu(e,n);return l(t,wo(Zs(s),N(nu(0,i),xt)),xt)}}of.flipped=e=>t=>of(t)(e);function FO(e){return t=>{if(e===0)return[];const n=me(t)?t:[""],r=n.length;if(e-r<=0)return n.slice(0,e);const[i,a]=Xu(e,r);return[...l(n,er(i),so),...n.slice(0,a)]}}const CO=e=>sl(mt)([0,...AO(e)]),vO=e=>t=>{let n=0;for(;e(t[n])&&n<Br(t);)n++;return t.slice(0,n)},nc=e=>[...F2.segment(e)].map(t=>t.segment),nu=(e,t)=>n=>[...F2.segment(n)].map(r=>r.segment).slice(e,t??-1);class Me extends Error{constructor(t=!1){super(),this.interruptExecution=t,this.footprint=Me.SharedFootPrint}static isFailure(t){return t!=null&&t.footprint===Me.SharedFootPrint}}Me.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");function kO(e){if(!e)throw new Me}class af{[Symbol.iterator](){return this}next(t){return{value:t,done:!0}}}af.nil=new af;function IO(){return af.nil}function*TO(e,t){for(const n of e)yield t(n)}function*OO(e,t){for(const n of e)yield*t(n)}function*$O(e,t){for(const n of e)t(n)&&(yield n)}function*BO(e,t){for(let n=0;n<t;++n){const r=e.next();if(r.done)break;yield r.value}}function*MO(e,t){let n=e.next();for(;!n.done&&t(n.value);)yield n.value,n=e.next()}function*RO(e,t){for(let n=e.next();!n.done;n=e.next())yield n.value;for(const n of t)for(let r=n.next();!r.done;r=n.next())yield r.value}const NO=Symbol.iterator;class V{static nil(){return new V(IO())}static of(...t){return new V(t[NO]())}constructor(t){this.g=t}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(t){return new V(TO(this.g,t))}flatMap(t){return new V(OO(this.g,t))}dropWhile(t){let n=!1;function*r(s){(n||!t(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(t){if(t<=0)return this;let n=0;function r(){return n++<t}return this.dropWhile(r)}takeWhile(t){return new V(MO(this.g,t))}take(t){return new V(BO(this.g,t))}filter(t){return new V($O(this.g,t))}every(t){for(const n of this.g)if(!t(n))return!1;return!0}has(t){for(const n of this.g)if(t(n))return[!0,n];return[!1,null]}join(...t){return new V(RO(this.g,t))}getNthOrLast(t){let n=t,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function zn(e){return new V(e)}const Xt=Symbol.for("fast-check/cloneMethod");function Wr(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&Xt in e&&typeof e[Xt]=="function"}function us(e){return Wr(e)?e[Xt]():e}const DO=Object.defineProperty;class j{constructor(t,n,r=void 0){this.value_=t,this.context=n,this.hasToBeCloned=r!==void 0||Wr(t),this.readOnce=!1,this.hasToBeCloned?DO(this,"value",{get:r!==void 0?r:this.getValue}):this.value=t}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[Xt]():(this.readOnce=!0,this.value_):this.value_}}class Ct{filter(t){return new LO(this,t)}map(t,n){return new jO(this,t,n)}chain(t){return new PO(this,t)}}class PO extends Ct{constructor(t,n){super(),this.arb=t,this.chainer=n}generate(t,n){const r=t.clone(),s=this.arb.generate(t,n);return this.valueChainer(s,t,r,n)}canShrinkWithoutContext(t){return!1}shrink(t,n){return this.isSafeContext(n)?(n.stoppedForOriginal?V.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(t,n.chainedContext).map(r=>{const s={...n,chainedContext:r.context,stoppedForOriginal:!0};return new j(r.value_,s)})):V.nil()}valueChainer(t,n,r,s){const i=this.chainer(t.value_),a=i.generate(n,s),u={originalBias:s,originalValue:t.value_,originalContext:t.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new j(a.value_,u)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalBias"in t&&"originalValue"in t&&"originalContext"in t&&"stoppedForOriginal"in t&&"chainedArbitrary"in t&&"chainedContext"in t&&"clonedMrng"in t}}class jO extends Ct{constructor(t,n,r){super(),this.arb=t,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(t,n){const r=this.arb.generate(t,n);return this.valueMapper(r)}canShrinkWithoutContext(t){if(this.unmapper!==void 0)try{const n=this.unmapper(t);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(t,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(t);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return V.nil()}mapperWithCloneIfNeeded(t){const n=t.value,r=this.mapper(n);return t.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!Wr(r)&&Object.defineProperty(r,Xt,{get:()=>()=>this.mapperWithCloneIfNeeded(t)[0]}),[r,n]}valueMapper(t){const[n,r]=this.mapperWithCloneIfNeeded(t),s={originalValue:r,originalContext:t.context};return new j(n,s)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalValue"in t&&"originalContext"in t}}class LO extends Ct{constructor(t,n){super(),this.arb=t,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(t,n){for(;;){const r=this.arb.generate(t,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)&&this.refinement(t)}shrink(t,n){return this.arb.shrink(t,n).filter(this.bindRefinementOnValue)}refinementOnValue(t){return this.refinement(t.value)}}function C2(e){return typeof e=="object"&&e!==null&&"generate"in e&&"shrink"in e&&"canShrinkWithoutContext"in e}function v2(e){if(!C2(e))throw new Error("Unexpected value received: not an instance of Arbitrary")}const k2=Function.prototype.apply,Dc=Symbol("apply");function UO(e){try{return e.apply}catch{return}}function qO(e,t,n){const r=e;r[Dc]=k2;const s=r[Dc](t,n);return delete r[Dc],s}function ft(e,t,n){return UO(e)===k2?e.apply(t,n):qO(e,t,n)}const I2=Array,$=BigInt,VO=BigInt64Array,WO=BigUint64Array,T2=Boolean,ru=Date,L=Error,O2=Float32Array,$2=Float64Array,zO=Int8Array,GO=Int16Array,HO=Int32Array,bn=Number,zr=String,rc=Set,KO=Uint8Array,YO=Uint8ClampedArray,JO=Uint16Array,ZO=Uint32Array,XO=encodeURIComponent,Ao=Map,Fa=Symbol,tp=Array.prototype.forEach,ep=Array.prototype.indexOf,np=Array.prototype.join,rp=Array.prototype.map,sp=Array.prototype.filter,ip=Array.prototype.push,op=Array.prototype.pop,ap=Array.prototype.splice,up=Array.prototype.slice,cp=Array.prototype.sort,fp=Array.prototype.every;function QO(e){try{return e.forEach}catch{return}}function t9(e){try{return e.indexOf}catch{return}}function e9(e){try{return e.join}catch{return}}function n9(e){try{return e.map}catch{return}}function r9(e){try{return e.filter}catch{return}}function s9(e){try{return e.push}catch{return}}function i9(e){try{return e.pop}catch{return}}function o9(e){try{return e.splice}catch{return}}function a9(e){try{return e.slice}catch{return}}function u9(e){try{return e.sort}catch{return}}function c9(e){try{return e.every}catch{return}}function B2(e,t){return QO(e)===tp?e.forEach(t):ft(tp,e,[t])}function mn(e,...t){return t9(e)===ep?e.indexOf(...t):ft(ep,e,t)}function St(e,...t){return e9(e)===np?e.join(...t):ft(np,e,t)}function ht(e,t){return n9(e)===rp?e.map(t):ft(rp,e,[t])}function f9(e,t){return r9(e)===sp?e.filter(t):ft(sp,e,[t])}function U(e,...t){return s9(e)===ip?e.push(...t):ft(ip,e,t)}function M2(e){return i9(e)===op?e.pop():ft(op,e,[])}function R2(e,...t){return o9(e)===ap?e.splice(...t):ft(ap,e,t)}function Qt(e,...t){return a9(e)===up?e.slice(...t):ft(up,e,t)}function N2(e,...t){return u9(e)===cp?e.sort(...t):ft(cp,e,t)}function D2(e,...t){return c9(e)===fp?e.every(...t):ft(fp,e,t)}const lp=Date.prototype.getTime,hp=Date.prototype.toISOString;function l9(e){try{return e.getTime}catch{return}}function h9(e){try{return e.toISOString}catch{return}}function su(e){return l9(e)===lp?e.getTime():ft(lp,e,[])}function x9(e){return h9(e)===hp?e.toISOString():ft(hp,e,[])}const xp=Set.prototype.add,pp=Set.prototype.has;function p9(e){try{return e.add}catch{return}}function m9(e){try{return e.has}catch{return}}function gh(e,t){return p9(e)===xp?e.add(t):ft(xp,e,[t])}function mp(e,t){return m9(e)===pp?e.has(t):ft(pp,e,[t])}const dp=WeakMap.prototype.set,gp=WeakMap.prototype.get;function d9(e){try{return e.set}catch{return}}function g9(e){try{return e.get}catch{return}}function b9(e,t,n){return d9(e)===dp?e.set(t,n):ft(dp,e,[t,n])}function y9(e,t){return g9(e)===gp?e.get(t):ft(gp,e,[t])}const bp=Map.prototype.set,yp=Map.prototype.get;function S9(e){try{return e.set}catch{return}}function _9(e){try{return e.get}catch{return}}function Mr(e,t,n){return S9(e)===bp?e.set(t,n):ft(bp,e,[t,n])}function Gn(e,t){return _9(e)===yp?e.get(t):ft(yp,e,[t])}const Sp=String.prototype.split,_p=String.prototype.startsWith,wp=String.prototype.endsWith,Ap=String.prototype.substring,Ep=String.prototype.toLowerCase,Fp=String.prototype.toUpperCase,Cp=String.prototype.padStart,vp=String.prototype.charCodeAt,kp=String.prototype.normalize,Ip=String.prototype.replace;function w9(e){try{return e.split}catch{return}}function A9(e){try{return e.startsWith}catch{return}}function E9(e){try{return e.endsWith}catch{return}}function F9(e){try{return e.substring}catch{return}}function C9(e){try{return e.toLowerCase}catch{return}}function v9(e){try{return e.toUpperCase}catch{return}}function k9(e){try{return e.padStart}catch{return}}function I9(e){try{return e.charCodeAt}catch{return}}function T9(e){try{return e.normalize}catch{return}}function O9(e){try{return e.replace}catch{return}}function fe(e,...t){return w9(e)===Sp?e.split(...t):ft(Sp,e,t)}function $9(e,...t){return A9(e)===_p?e.startsWith(...t):ft(_p,e,t)}function B9(e,...t){return E9(e)===wp?e.endsWith(...t):ft(wp,e,t)}function Ft(e,...t){return F9(e)===Ap?e.substring(...t):ft(Ap,e,t)}function uf(e){return C9(e)===Ep?e.toLowerCase():ft(Ep,e,[])}function bh(e){return v9(e)===Fp?e.toUpperCase():ft(Fp,e,[])}function M9(e,...t){return k9(e)===Cp?e.padStart(...t):ft(Cp,e,t)}function js(e,t){return I9(e)===vp?e.charCodeAt(t):ft(vp,e,[t])}function R9(e,t){return T9(e)===kp?e.normalize(t):ft(kp,e,[t])}function N9(e,t,n){return O9(e)===Ip?e.replace(t,n):ft(Ip,e,[t,n])}const Tp=Number.prototype.toString;function D9(e){try{return e.toString}catch{return}}function Ni(e,...t){return D9(e)===Tp?e.toString(...t):ft(Tp,e,t)}const P9=Object.prototype.hasOwnProperty,j9=Object.prototype.toString;function iu(e,t){return ft(P9,e,[t])}function cf(e){return ft(j9,e,[])}const L9=Error.prototype.toString;function U9(e){return ft(L9,e,[])}class q9{constructor(t){this.producer=t}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function Pn(e){return new q9(e)}const P2=Array.isArray,V9=Object.defineProperty;function j2(e,t){return V9(e,Xt,{value:()=>{const n=[];for(let r=0;r!==t.length;++r)U(n,t[r].value);return j2(n,t),n}})}function L2(e){let t=!1;const n=[],r=[];for(let s=0;s!==e.length;++s){const i=e[s];t=t||i.hasToBeCloned,U(n,i.value),U(r,i.context)}return t&&j2(n,e),new j(n,r)}function U2(e,t,n){const r=[],s=P2(n)?n:[];for(let i=0;i!==e.length;++i)U(r,Pn(()=>e[i].shrink(t[i],s[i]).map(a=>{const u=ht(t,(c,f)=>new j(us(c),s[f]));return[...Qt(u,0,i),a,...Qt(u,i+1)]}).map(L2)));return V.nil().join(...r)}class W9 extends Ct{constructor(t){super(),this.arbs=t;for(let n=0;n!==t.length;++n){const r=t[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(t,n){const r=[];for(let s=0;s!==this.arbs.length;++s)U(r,this.arbs[s].generate(t,n));return L2(r)}canShrinkWithoutContext(t){if(!P2(t)||t.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(t[n]))return!1;return!0}shrink(t,n){return U2(this.arbs,t,n)}}function nt(...e){return new W9(e)}const z9=Math.log;function q2(e){return 2+~~(z9(e+1)*.4342944819032518)}let yh={};function G9(e){yh=e}function Ke(){return yh}function H9(){yh={}}const Di=Symbol("UndefinedContextPlaceholder");function Ls(e){return e.context!==void 0?e:e.hasToBeCloned?new j(e.value_,Di,()=>e.value):new j(e.value_,Di)}class Pi{constructor(t,n){this.arb=t,this.predicate=n;const{asyncBeforeEach:r,asyncAfterEach:s,beforeEach:i,afterEach:a}=Ke()||{};if(r!==void 0&&i!==void 0)throw L(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(s!==void 0&&a!==void 0)throw L(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=r||i||Pi.dummyHook,this.afterEachHook=s||a||Pi.dummyHook}isAsync(){return!0}generate(t,n){const r=this.arb.generate(t,n!=null?q2(n):void 0);return Ls(r)}shrink(t){if(t.context===void 0&&!this.arb.canShrinkWithoutContext(t.value_))return V.nil();const n=t.context!==Di?t.context:void 0;return this.arb.shrink(t.value_,n).map(Ls)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(t){try{const n=await this.predicate(t);return n===void 0||n===!0?null:{error:new L("Property failed by returning false")}}catch(n){return Me.isFailure(n)?n:{error:n}}}beforeEach(t){const n=this.beforeEachHook;return this.beforeEachHook=()=>t(n),this}afterEach(t){const n=this.afterEachHook;return this.afterEachHook=()=>t(n),this}}Pi.dummyHook=()=>{};class V2 extends Ct{constructor(t){super(),this.arb=t}generate(t,n){const r=this.arb.generate(t,n);return Ls(r)}canShrinkWithoutContext(t){return!0}shrink(t,n){if(n===void 0&&!this.arb.canShrinkWithoutContext(t))return V.nil();const r=n!==Di?n:void 0;return this.arb.shrink(t,r).map(Ls)}}function K9(...e){if(e.length<2)throw new Error("asyncProperty expects at least two parameters");const t=Qt(e,0,e.length-1),n=e[e.length-1];B2(t,v2);const r=ht(t,s=>new V2(s));return new Pi(nt(...r),s=>n(...s))}class Us{constructor(t,n){this.arb=t,this.predicate=n;const{beforeEach:r=Us.dummyHook,afterEach:s=Us.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=Ke()||{};if(i!==void 0)throw L(`"asyncBeforeEach" can't be set when running synchronous properties`);if(a!==void 0)throw L(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(t,n){const r=this.arb.generate(t,n!=null?q2(n):void 0);return Ls(r)}shrink(t){if(t.context===void 0&&!this.arb.canShrinkWithoutContext(t.value_))return V.nil();const n=t.context!==Di?t.context:void 0;return this.arb.shrink(t.value_,n).map(Ls)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(t){try{const n=this.predicate(t);return n===void 0||n===!0?null:{error:new L("Property failed by returning false")}}catch(n){return Me.isFailure(n)?n:{error:n}}}beforeEach(t){const n=this.beforeEachHook;return this.beforeEachHook=()=>t(n),this}afterEach(t){const n=this.afterEachHook;return this.afterEachHook=()=>t(n),this}}Us.dummyHook=()=>{};function Y9(...e){if(e.length<2)throw new Error("property expects at least two parameters");const t=Qt(e,0,e.length-1),n=e[e.length-1];B2(t,v2);const r=ht(t,s=>new V2(s));return new Us(nt(...r),s=>n(...s))}var J9=214013,Z9=2531011,X9=4294967295,Q9=(1<<31)-1,Pc=function(e){return e*J9+Z9&X9},jc=function(e){return(e&Q9)>>16},W2=(function(){function e(t){this.seed=t}return e.prototype.clone=function(){return new e(this.seed)},e.prototype.next=function(){var t=new e(this.seed),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=Pc(this.seed),n=jc(t),r=Pc(t),s=jc(r);this.seed=Pc(r);var i=jc(this.seed),a=i+(s+(n<<15)<<15);return a|0},e.prototype.getState=function(){return[this.seed]},e})();function t$(e){var t=e.length===1;if(!t)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new W2(e[0])}var e$=Object.assign(function(e){return new W2(e)},{fromState:t$}),n$=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){a={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},r$=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},z2=(function(){function e(t,n){this.states=t,this.index=n}return e.twist=function(t){for(var n=t.slice(),r=0;r!==e.N-e.M;++r){var s=(n[r]&e.MASK_UPPER)+(n[r+1]&e.MASK_LOWER);n[r]=n[r+e.M]^s>>>1^-(s&1)&e.A}for(var r=e.N-e.M;r!==e.N-1;++r){var i=(n[r]&e.MASK_UPPER)+(n[r+1]&e.MASK_LOWER);n[r]=n[r+e.M-e.N]^i>>>1^-(i&1)&e.A}var a=(n[e.N-1]&e.MASK_UPPER)+(n[0]&e.MASK_LOWER);return n[e.N-1]=n[e.M-1]^a>>>1^-(a&1)&e.A,n},e.seeded=function(t){var n=Array(e.N);n[0]=t;for(var r=1;r!==e.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(e.F,s)+r|0}return n},e.from=function(t){return new e(e.twist(e.seeded(t)),0)},e.prototype.clone=function(){return new e(this.states,this.index)},e.prototype.next=function(){var t=new e(this.states,this.index),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.states[this.index];return t^=this.states[this.index]>>>e.U,t^=t<<e.S&e.B,t^=t<<e.T&e.C,t^=t>>>e.L,++this.index>=e.N&&(this.states=e.twist(this.states),this.index=0),t},e.prototype.getState=function(){return r$([this.index],n$(this.states),!1)},e.fromState=function(t){var n=t.length===e.N+1&&t[0]>=0&&t[0]<e.N;if(!n)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new e(t.slice(1),t[0])},e.N=624,e.M=397,e.R=31,e.A=2567483615,e.F=1812433253,e.U=11,e.S=7,e.B=2636928640,e.T=15,e.C=4022730752,e.L=18,e.MASK_LOWER=Math.pow(2,e.R)-1,e.MASK_UPPER=Math.pow(2,e.R),e})();function s$(e){return z2.fromState(e)}var i$=Object.assign(function(e){return z2.from(e)},{fromState:s$}),G2=(function(){function e(t,n,r,s){this.s01=t,this.s00=n,this.s11=r,this.s10=s}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=t^this.s10^(t>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var t=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var u=1;u;u<<=1)i[a]&u&&(t^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=t,this.s00=n,this.s11=r,this.s10=s},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e})();function o$(e){var t=e.length===4;if(!t)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new G2(e[0],e[1],e[2],e[3])}var a$=Object.assign(function(e){return new G2(-1,~e,e|0,0)},{fromState:o$}),H2=(function(){function e(t,n,r,s){this.s01=t,this.s00=n,this.s11=r,this.s10=s}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,t},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var t=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var u=1;u;u<<=1)i[a]&u&&(t^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=t,this.s00=n,this.s11=r,this.s10=s},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e})();function u$(e){var t=e.length===4;if(!t)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new H2(e[0],e[1],e[2],e[3])}var c$=Object.assign(function(e){return new H2(-1,~e,e|0,0)},{fromState:u$});function K2(e,t){if(e.sign!==t.sign)return Sh(e,{sign:-t.sign,data:t.data});for(var n=[],r=0,s=e.data,i=t.data,a=s.length-1,u=i.length-1;a>=0||u>=0;--a,--u){var c=a>=0?s[a]:0,f=u>=0?i[u]:0,x=c+f+r;n.push(x>>>0),r=~~(x/4294967296)}return r!==0&&n.push(r),{sign:e.sign,data:n.reverse()}}function f$(e){e.sign=1;for(var t=e.data,n=t.length-1;n>=0;--n)if(t[n]===4294967295)t[n]=0;else return t[n]+=1,e;return t.unshift(1),e}function l$(e,t){for(var n=Math.max(e.length,t.length),r=0;r<n;++r){var s=r+e.length-n,i=r+t.length-n,a=s>=0?e[s]:0,u=i>=0?t[i]:0;if(a<u)return!0;if(a>u)return!1}return!1}function Sh(e,t){if(e.sign!==t.sign)return K2(e,{sign:-t.sign,data:t.data});var n=e.data,r=t.data;if(l$(n,r)){var s=Sh(t,e);return s.sign=-s.sign,s}for(var i=[],a=0,u=n.length-1,c=r.length-1;u>=0||c>=0;--u,--c){var f=u>=0?n[u]:0,x=c>=0?r[c]:0,p=f-x-a;i.push(p>>>0),a=p<0?1:0}return{sign:e.sign,data:i.reverse()}}function Op(e){for(var t=e.data,n=0;n!==t.length&&t[n]===0;++n);return n===t.length?(e.sign=1,e.data=[0],e):(t.splice(0,n),e)}function Y2(e,t){for(var n=e>2?~~(4294967296/e)*e:4294967296,r=t.unsafeNext()+2147483648;r>=n;)r=t.unsafeNext()+2147483648;return r%e}function J2(e,t,n){for(var r=t.length;;){for(var s=0;s!==r;++s){var i=s===0?t[0]+1:4294967296,a=Y2(i,n);e[s]=a}for(var s=0;s!==r;++s){var u=e[s],c=t[s];if(u<c)return e;if(u>c)break}}}function ff(e,t,n){var r=Op(f$(Sh(t,e))),s=r.data.slice(0),i=J2(s,r.data,n);return Op(K2({sign:1,data:i},e))}function h$(e,t,n){if(n!=null){var r=n.clone();return[ff(e,t,r),r]}return function(s){var i=s.clone();return[ff(e,t,i),i]}}var $p=typeof BigInt<"u"?BigInt:void 0,x$=typeof BigInt<"u"?BigInt(1):void 0,Z2=typeof BigInt<"u"?BigInt(32):void 0,p$=typeof BigInt<"u"?BigInt(4294967296):void 0;function ou(e,t,n){for(var r=t-e+x$,s=p$,i=1;s<r;)s<<=Z2,++i;var a=Bp(i,n);if(a<r)return a+e;if(a+r<s)return a%r+e;for(var u=s-s%r;a>=u;)a=Bp(i,n);return a%r+e}function Bp(e,t){for(var n=$p(t.unsafeNext()+2147483648),r=1;r<e;++r){var s=t.unsafeNext();n=(n<<Z2)+$p(s+2147483648)}return n}function m$(e,t,n){if(n!=null){var r=n.clone();return[ou(e,t,r),r]}return function(s){var i=s.clone();return[ou(e,t,i),i]}}function Lc(e,t){if(t<0){var n=-t;e.sign=-1,e.data[0]=~~(n/4294967296),e.data[1]=n>>>0}else e.sign=1,e.data[0]=~~(t/4294967296),e.data[1]=t>>>0;return e}function d$(e,t,n){var r=t.data[1],s=t.data[0],i=t.sign,a=n.data[1],u=n.data[0],c=n.sign;if(e.sign=1,i===1&&c===-1){var f=r+a,x=s+u+(f>4294967295?1:0);return e.data[0]=x>>>0,e.data[1]=f>>>0,e}var p=r,g=s,b=a,S=u;i===-1&&(p=a,g=u,b=r,S=s);var w=0,d=p-b;return d<0&&(w=1,d=d>>>0),e.data[0]=g-S-w,e.data[1]=d,e}var g$=Number.MAX_SAFE_INTEGER,b$={sign:1,data:[0,0]},y$={sign:1,data:[0,0]},Mp={sign:1,data:[0,0]},Uc=[0,0];function S$(e,t,n,r){var s=n<=g$?Lc(Mp,n):d$(Mp,Lc(b$,t),Lc(y$,e));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,J2(Uc,s.data,r),Uc[0]*4294967296+Uc[1]+e}function xs(e,t,n){var r=t-e;if(r<=4294967295){var s=Y2(r+1,n);return s+e}return S$(e,t,r,n)}function _$(e,t,n){if(n!=null){var r=n.clone();return[xs(e,t,r),r]}return function(s){var i=s.clone();return[xs(e,t,i),i]}}function _h(e,t){for(var n=0;n!=t;++n)e.unsafeNext()}function X2(e,t){var n=e.clone();return _h(n,t),n}function Q2(e,t){for(var n=[],r=0;r!=t;++r)n.push(e.unsafeNext());return n}function w$(e,t){var n=e.clone(),r=Q2(n,t);return[r,n]}var A$="module",E$="7.0.1",F$="2248506b66d969d1a8b477a4dde8e24cbac33e6a",ci=Object.freeze({__proto__:null,__commitHash:F$,__type:A$,__version:E$,congruential32:e$,generateN:w$,mersenne:i$,skipN:X2,uniformArrayIntDistribution:h$,uniformBigIntDistribution:m$,uniformIntDistribution:_$,unsafeGenerateN:Q2,unsafeSkipN:_h,unsafeUniformArrayIntDistribution:ff,unsafeUniformBigIntDistribution:ou,unsafeUniformIntDistribution:xs,xoroshiro128plus:c$,xorshift128plus:a$}),ne;(function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.VeryVerbose=2]="VeryVerbose"})(ne||(ne={}));const C$=Date.now,v$=Math.min,k$=Math.random;class Nt{constructor(t){const n=t||{};this.seed=Nt.readSeed(n),this.randomType=Nt.readRandomType(n),this.numRuns=Nt.readNumRuns(n),this.verbose=Nt.readVerbose(n),this.maxSkipsPerRun=n.maxSkipsPerRun!==void 0?n.maxSkipsPerRun:100,this.timeout=Nt.safeTimeout(n.timeout),this.skipAllAfterTimeLimit=Nt.safeTimeout(n.skipAllAfterTimeLimit),this.interruptAfterTimeLimit=Nt.safeTimeout(n.interruptAfterTimeLimit),this.markInterruptAsFailure=n.markInterruptAsFailure===!0,this.skipEqualValues=n.skipEqualValues===!0,this.ignoreEqualValues=n.ignoreEqualValues===!0,this.logger=n.logger!==void 0?n.logger:r=>{console.log(r)},this.path=n.path!==void 0?n.path:"",this.unbiased=n.unbiased===!0,this.examples=n.examples!==void 0?n.examples:[],this.endOnFailure=n.endOnFailure===!0,this.reporter=n.reporter,this.asyncReporter=n.asyncReporter,this.includeErrorInReport=n.includeErrorInReport===!0}toParameters(){return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:this.timeout,skipAllAfterTimeLimit:this.skipAllAfterTimeLimit,interruptAfterTimeLimit:this.interruptAfterTimeLimit,markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:this.reporter,asyncReporter:this.asyncReporter,includeErrorInReport:this.includeErrorInReport}}static read(t){return new Nt(t)}}Nt.createQualifiedRandomGenerator=e=>t=>{const n=e(t);return n.unsafeJump===void 0&&(n.unsafeJump=()=>_h(n,42)),n};Nt.readSeed=e=>{if(e.seed===void 0)return C$()^k$()*4294967296;const t=e.seed|0;if(e.seed===t)return t;const n=e.seed-t;return t^n*4294967296};Nt.readRandomType=e=>{if(e.randomType===void 0)return ci.xorshift128plus;if(typeof e.randomType=="string")switch(e.randomType){case"mersenne":return Nt.createQualifiedRandomGenerator(ci.mersenne);case"congruential":case"congruential32":return Nt.createQualifiedRandomGenerator(ci.congruential32);case"xorshift128plus":return ci.xorshift128plus;case"xoroshiro128plus":return ci.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${e.randomType}'`)}const t=e.randomType(0);if("min"in t&&t.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(t.min)}`);if("max"in t&&t.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(t.max)}`);return"unsafeJump"in t?e.randomType:Nt.createQualifiedRandomGenerator(e.randomType)};Nt.readNumRuns=e=>e.numRuns!==void 0?e.numRuns:e.num_runs!==void 0?e.num_runs:100;Nt.readVerbose=e=>e.verbose===void 0?ne.None:typeof e.verbose=="boolean"?e.verbose===!0?ne.Verbose:ne.None:e.verbose<=ne.None?ne.None:e.verbose>=ne.VeryVerbose?ne.VeryVerbose:e.verbose|0;Nt.safeTimeout=e=>{if(e!==void 0)return v$(e,2147483647)};function I$(e,t,n){let r=null;const s=new Promise(i=>{r=t(()=>{const a=new Me(!0);i(a)},e)});return{clear:()=>n(r),promise:s}}class Rp{constructor(t,n,r,s,i,a){this.property=t,this.getTime=n,this.interruptExecution=s,this.setTimeoutSafe=i,this.clearTimeoutSafe=a,this.skipAfterTime=this.getTime()+r}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}run(t){const n=this.skipAfterTime-this.getTime();if(n<=0){const r=new Me(this.interruptExecution);return this.isAsync()?Promise.resolve(r):r}if(this.interruptExecution&&this.isAsync()){const r=I$(n,this.setTimeoutSafe,this.clearTimeoutSafe),s=Promise.race([this.property.run(t),r.promise]);return s.then(r.clear,r.clear),s}return this.property.run(t)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const T$=(e,t,n)=>{let r=null;const s=new Promise(i=>{r=t(()=>{i({error:new L(`Property timeout: exceeded limit of ${e} milliseconds`)})},e)});return{clear:()=>n(r),promise:s}};class O${constructor(t,n,r,s){this.property=t,this.timeMs=n,this.setTimeoutSafe=r,this.clearTimeoutSafe=s}isAsync(){return!0}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}async run(t){const n=T$(this.timeMs,this.setTimeoutSafe,this.clearTimeoutSafe),r=Promise.race([this.property.run(t),n.promise]);return r.then(n.clear,n.clear),r}runBeforeEach(){return Promise.resolve(this.property.runBeforeEach())}runAfterEach(){return Promise.resolve(this.property.runAfterEach())}}class tS{constructor(t){this.property=t}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,void 0)}shrink(t){return this.property.shrink(t)}run(t){return this.property.run(t)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const Np=Array.from,Dp=typeof Buffer<"u"?Buffer.isBuffer:void 0,es=JSON.stringify,Pp=Number.isNaN,$$=Object.keys,B$=Object.getOwnPropertySymbols,M$=Object.getOwnPropertyDescriptor,jp=Object.getPrototypeOf,Lp=Number.NEGATIVE_INFINITY,R$=Number.POSITIVE_INFINITY,An=Symbol.for("fast-check/toStringMethod");function wh(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&An in e&&typeof e[An]=="function"}const En=Symbol.for("fast-check/asyncToStringMethod");function Ah(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&En in e&&typeof e[En]=="function"}const N$=/^Symbol\((.*)\)$/;function D$(e){if(e.description!==void 0)return e.description;const t=N$.exec(zr(e));return t&&t[1].length?t[1]:null}function Up(e){switch(e){case 0:return 1/e===Lp?"-0":"0";case Lp:return"Number.NEGATIVE_INFINITY";case R$:return"Number.POSITIVE_INFINITY";default:return e===e?zr(e):"Number.NaN"}}function P$(e){let t=-1;for(const n in e){const r=Number(n);if(r!==t+1)return!0;t=r}return t+1!==e.length}function ye(e,t,n){const r=[...t,e];if(typeof e=="object"&&mn(t,e)!==-1)return"[cyclic]";if(Ah(e)){const s=n(e);if(s.state==="fulfilled")return s.value}if(wh(e))try{return e[An]()}catch{}switch(cf(e)){case"[object Array]":{const s=e;if(s.length>=50&&P$(s)){const a=[];for(const u in s)Pp(Number(u))||U(a,`${u}:${ye(s[u],r,n)}`);return a.length!==0?`Object.assign(Array(${s.length}),{${St(a,",")}})`:`Array(${s.length})`}const i=St(ht(s,a=>ye(a,r,n)),",");return s.length===0||s.length-1 in s?`[${i}]`:`[${i},]`}case"[object BigInt]":return`${e}n`;case"[object Boolean]":{const s=e==!0?"true":"false";return typeof e=="boolean"?s:`new Boolean(${s})`}case"[object Date]":{const s=e;return Pp(su(s))?"new Date(NaN)":`new Date(${es(x9(s))})`}case"[object Map]":return`new Map(${ye(Array.from(e),r,n)})`;case"[object Null]":return"null";case"[object Number]":return typeof e=="number"?Up(e):`new Number(${Up(Number(e))})`;case"[object Object]":{try{const a=e.toString;if(typeof a=="function"&&a!==Object.prototype.toString)return e.toString()}catch{return"[object Object]"}const s=a=>`${a==="__proto__"?'["__proto__"]':typeof a=="symbol"?`[${ye(a,r,n)}]`:es(a)}:${ye(e[a],r,n)}`,i=[...jp(e)===null?["__proto__:null"]:[],...ht($$(e),s),...ht(f9(B$(e),a=>{const u=M$(e,a);return u&&u.enumerable}),s)];return"{"+St(i,",")+"}"}case"[object Set]":return`new Set(${ye(Array.from(e),r,n)})`;case"[object String]":return typeof e=="string"?es(e):`new String(${es(e)})`;case"[object Symbol]":{const s=e;if(Fa.keyFor(s)!==void 0)return`Symbol.for(${es(Fa.keyFor(s))})`;const i=D$(s);if(i===null)return"Symbol()";const a=i.startsWith("Symbol.")&&Fa[i.substring(7)];return s===a?i:`Symbol(${es(i)})`}case"[object Promise]":{const s=n(e);switch(s.state){case"fulfilled":return`Promise.resolve(${ye(s.value,r,n)})`;case"rejected":return`Promise.reject(${ye(s.value,r,n)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(e instanceof Error)return`new Error(${ye(e.message,r,n)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof Dp=="function"&&Dp(e))return`Buffer.from(${ye(Np(e.values()),r,n)})`;const s=jp(e),i=s&&s.constructor&&s.constructor.name;if(typeof i=="string"){const u=e.values();return`${i}.from(${ye(Np(u),r,n)})`}break}}try{return e.toString()}catch{return cf(e)}}function Lt(e){return ye(e,[],()=>({state:"unknown",value:void 0}))}function eS(e){const t=Fa(),n=[],r=new Ao;function s(){let c=null;const f=()=>{c!==null&&clearTimeout(c)};return{delay:new Promise(p=>{c=setTimeout(()=>{c=null,p(t)},0)}),cancel:f}}const i={state:"unknown",value:void 0},a=function(f){const x=f;if(r.has(x))return r.get(x);const p=s(),g=En in f?Promise.resolve().then(()=>f[En]()):f;return g.catch(()=>{}),n.push(Promise.race([g,p.delay]).then(b=>{b===t?r.set(x,{state:"pending",value:void 0}):r.set(x,{state:"fulfilled",value:b}),p.cancel()},b=>{r.set(x,{state:"rejected",value:b}),p.cancel()})),r.set(x,i),i};function u(){const c=ye(e,[],a);return n.length===0?c:Promise.all(n.splice(0)).then(u)}return u()}async function Eh(e){return Promise.resolve(eS(e))}function qp(e){return e===null?new Me:e}function j$(...e){return e[1]?e[0].then(qp):qp(e[0])}function L$(e,t){return j$(e,t)}class Vp{constructor(t,n){this.property=t,this.skipRuns=n,this.coveredCases=new Map}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}run(t){const n=Lt(t);if(this.coveredCases.has(n)){const s=this.coveredCases.get(n);return this.skipRuns?L$(s,this.property.isAsync()):s}const r=this.property.run(t);return this.coveredCases.set(n,r),r}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const Wp=Date.now,qc=setTimeout,Vc=clearTimeout;function U$(e,t){let n=e;return e.isAsync()&&t.timeout!==void 0&&(n=new O$(n,t.timeout,qc,Vc)),t.unbiased&&(n=new tS(n)),t.skipAllAfterTimeLimit!==void 0&&(n=new Rp(n,Wp,t.skipAllAfterTimeLimit,!1,qc,Vc)),t.interruptAfterTimeLimit!==void 0&&(n=new Rp(n,Wp,t.interruptAfterTimeLimit,!0,qc,Vc)),t.skipEqualValues&&(n=new Vp(n,!0)),t.ignoreEqualValues&&(n=new Vp(n,!1)),n}var dn;(function(e){e[e.Success=0]="Success",e[e.Skipped=-1]="Skipped",e[e.Failure=1]="Failure"})(dn||(dn={}));class sc{constructor(t,n){this.verbosity=t,this.interruptedAsFailure=n,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+fe(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?fe(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(t,n){const r={status:t,value:n,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(t,n,r){if(this.verbosity>=ne.Verbose){const s=this.appendExecutionTree(dn.Failure,t);this.currentLevelExecutionTrees=s.children}this.pathToFailure==null?this.pathToFailure=`${n}`:this.pathToFailure+=`:${n}`,this.value=t,this.failure=r}skip(t){this.verbosity>=ne.VeryVerbose&&this.appendExecutionTree(dn.Skipped,t),this.pathToFailure==null&&++this.numSkips}success(t){this.verbosity>=ne.VeryVerbose&&this.appendExecutionTree(dn.Success,t),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];const t=[];let n=this.rootExecutionTrees;for(;n.length>0&&n[n.length-1].status===dn.Failure;){const r=n[n.length-1];t.push(r.value),n=r.children}return t}toRunDetails(t,n,r,s){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:t,counterexample:this.value,counterexamplePath:sc.mergePaths(n,this.pathToFailure),errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()};const i=this.interruptedAsFailure||this.numSuccesses===0;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:t,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()}}}sc.mergePaths=(e,t)=>{if(e.length===0)return t;const n=e.split(":"),r=t.split(":"),s=+n[n.length-1]+ +r[0];return[...n.slice(0,n.length-1),`${s}`,...r.slice(1)].join(":")};class nS{constructor(t,n,r,s){this.sourceValues=t,this.shrink=n,this.runExecution=new sc(r,s),this.currentIdx=-1,this.nextValues=t}[Symbol.iterator](){return this}next(){const t=this.nextValues.next();return t.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentValue=t.value,++this.currentIdx,{done:!1,value:t.value.value_})}handleResult(t){t!=null&&typeof t=="object"&&!Me.isFailure(t)?(this.runExecution.fail(this.currentValue.value_,this.currentIdx,t),this.currentIdx=-1,this.nextValues=this.shrink(this.currentValue)):t!=null?t.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentValue.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentValue.value_)}}class q${constructor(t,n,r){this.initialValues=t,this.maxInitialIterations=n,this.remainingSkips=r}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){const t=this.initialValues.next();if(!t.done)return{value:t.value,done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}class Se{constructor(t){this.internalRng=t.clone()}clone(){return new Se(this.internalRng)}next(t){return xs(0,(1<<t)-1,this.internalRng)}nextBoolean(){return xs(0,1,this.internalRng)==1}nextInt(t,n){return xs(t??Se.MIN_INT,n??Se.MAX_INT,this.internalRng)}nextBigInt(t,n){return ou(t,n,this.internalRng)}nextDouble(){const t=this.next(26),n=this.next(27);return(t*Se.DBL_FACTOR+n)*Se.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&typeof this.internalRng.getState=="function")return this.internalRng.getState()}}Se.MIN_INT=-2147483648;Se.MAX_INT=2147483647;Se.DBL_FACTOR=Math.pow(2,27);Se.DBL_DIVISOR=Math.pow(2,-53);function V$(e,t,n){return t.unsafeJump(),e.generate(new Se(t),n)}function*rS(e,t,n,r){for(let s=0;s!==r.length;++s)yield new j(r[s],void 0);for(let s=0,i=n(t);;++s)yield V$(e,i,s)}function W$(e,t,n){return()=>e.generate(new Se(t),n)}function*sS(e,t,n,r){yield*ht(r,a=>()=>new j(a,void 0));let s=0,i=n(t);for(;;)i=i.jump?i.jump():X2(i,42),yield W$(e,i,s++)}function zp(e){return e()}function iS(e,t,n){const r=t,s=e.split(":").map(a=>+a);if(s.length===0)return r.map(zp);if(!s.every(a=>!Number.isNaN(a)))throw new Error(`Unable to replay, got invalid path=${e}`);let i=r.drop(s[0]).map(zp);for(const a of s.slice(1)){const u=i.getNthOrLast(0);if(u===null)throw new Error(`Unable to replay, got wrong path=${e}`);i=n(u).drop(a)}return i}const z$=Object.assign;function G$(e){return e.length===1?`Hint: ${e[0]}`:e.map((t,n)=>`Hint (${n+1}): ${t}`).join(`
`)}function H$(e,t){return`Encountered failures were:
- ${e.map(t).join(`
- `)}`}function Fh(e,t){const n=[],r=[];for(const s of e.slice().reverse())r.push({depth:1,tree:s});for(;r.length!==0;){const s=r.pop(),i=s.tree,a=s.depth,u=i.status===dn.Success?"\x1B[32m√\x1B[0m":i.status===dn.Failure?"\x1B[31m×\x1B[0m":"\x1B[33m!\x1B[0m",c=Array(a).join(". ");n.push(`${c}${u} ${t(i.value)}`);for(const f of i.children.slice().reverse())r.push({depth:a+1,tree:f})}return`Execution summary:
${n.join(`
`)}`}function K$(e,t){const n=`Failed to run property, too many pre-condition failures encountered
{ seed: ${e.seed} }

Ran ${e.numRuns} time(s)
Skipped ${e.numSkips} time(s)`;let r=null;const s=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return e.verbose>=ne.VeryVerbose?r=Fh(e.executionSummary,t):U(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function Y$(e){if(e instanceof L&&e.stack!==void 0)return e.stack;try{return zr(e)}catch{}if(e instanceof L)try{return U9(e)}catch{}if(e!==null&&typeof e=="object")try{return cf(e)}catch{}return"Failed to serialize errorInstance"}function J$(e,t){const r=e.runConfiguration.includeErrorInReport?`
Got ${N9(Y$(e.errorInstance),/^Error: /,"error: ")}`:"",s=`Property failed after ${e.numRuns} tests
{ seed: ${e.seed}, path: "${e.counterexamplePath}", endOnFailure: true }
Counterexample: ${t(e.counterexample)}
Shrunk ${e.numShrinks} time(s)${r}`;let i=null;const a=[];return e.verbose>=ne.VeryVerbose?i=Fh(e.executionSummary,t):e.verbose===ne.Verbose?i=H$(e.failures,t):U(a,"Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:s,details:i,hints:a}}function Z$(e,t){const n=`Property interrupted after ${e.numRuns} tests
{ seed: ${e.seed} }`;let r=null;const s=[];return e.verbose>=ne.VeryVerbose?r=Fh(e.executionSummary,t):U(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function lf(e,t){if(!e.failed)return;const{message:n,details:r,hints:s}=e.counterexamplePath===null?e.interrupted?Z$(e,t):K$(e,t):J$(e,t);let i=n;return r!=null&&(i+=`

${r}`),s.length>0&&(i+=`

${G$(s)}`),i}function oS(e){return lf(e,Lt)}async function aS(e){const t=[];function n(a){const u=eS(a);return typeof u=="string"?u:(t.push(Promise.all([a,u])),"…")}const r=lf(e,n);if(t.length===0)return r;const s=new Ao(await Promise.all(t));function i(a){const u=Gn(s,a);return u!==void 0?u:Lt(a)}return lf(e,i)}function uS(e,t){if(t.runConfiguration.includeErrorInReport)throw new L(e);const n=L,r=new n(e,{cause:t.errorInstance});return"cause"in r||z$(r,{cause:t.errorInstance}),r}function X$(e){if(e.failed)throw uS(oS(e),e)}async function Q$(e){if(e.failed)throw uS(await aS(e),e)}function t8(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):X$(e)}async function e8(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):Q$(e)}function n8(e,t,n,r,s){const i=new nS(n,t,r,s);for(const a of i){e.runBeforeEach();const u=e.run(a);e.runAfterEach(),i.handleResult(u)}return i.runExecution}async function r8(e,t,n,r,s){const i=new nS(n,t,r,s);for(const a of i){await e.runBeforeEach();const u=await e.run(a);await e.runAfterEach(),i.handleResult(u)}return i.runExecution}function cS(e,t){if(e==null||e.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(e.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");const n=Nt.read({...Ke(),...t});if(n.reporter!==void 0&&n.asyncReporter!==void 0)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(n.asyncReporter!==void 0&&!e.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");const r=U$(e,n),s=n.path.length===0||n.path.indexOf(":")===-1?n.numRuns:-1,i=n.numRuns*n.maxSkipsPerRun,a=(...x)=>r.shrink(...x),u=n.path.length===0?rS(r,n.seed,n.randomType,n.examples):iS(n.path,zn(sS(r,n.seed,n.randomType,n.examples)),a),c=new q$(u,s,i),f=n.endOnFailure?V.nil:a;return r.isAsync()?r8(r,f,c,n.verbose,n.markInterruptAsFailure).then(x=>x.toRunDetails(n.seed,n.path,i,n)):n8(r,f,c,n.verbose,n.markInterruptAsFailure).toRunDetails(n.seed,n.path,i,n)}function s8(e,t){const n=cS(e,t);if(e.isAsync())return n.then(e8);t8(n)}function i8(e,t){const n=Object.prototype.hasOwnProperty.call(e,"isAsync")?e:new Us(e,()=>!0);return t.unbiased===!0?new tS(n):n}function fS(e,t){const n=typeof t=="number"?{...Ke(),numRuns:t}:{...Ke(),...t},r=Nt.read(n),s=i8(e,r),i=s.shrink.bind(s);return(r.path.length===0?zn(rS(s,r.seed,r.randomType,r.examples)):iS(r.path,zn(sS(s,r.seed,r.randomType,r.examples)),i)).take(r.numRuns).map(u=>u.value_)}function o8(e,t){return[...fS(e,t)]}function a8(e){return(Math.round(e*100)/100).toFixed(2)}function u8(e,t,n){const r=typeof n=="number"?{...Ke(),numRuns:n}:{...Ke(),...n},s=Nt.read(r),i={};for(const f of fS(e,n)){const x=t(f),p=Array.isArray(x)?x:[x];for(const g of p)i[g]=(i[g]||0)+1}const a=Object.entries(i).sort((f,x)=>x[1]-f[1]).map(f=>[f[0],`${a8(f[1]*100/s.numRuns)}%`]),u=a.map(f=>f[0].length).reduce((f,x)=>Math.max(f,x),0),c=a.map(f=>f[1].length).reduce((f,x)=>Math.max(f,x),0);for(const f of a)s.logger(`${f[0].padEnd(u,".")}..${f[1].padStart(c,".")}`)}const c8=Object.assign;function hf(e,t,n,r){const s=n();let i=e.clone();const a={mrng:e.clone(),biasFactor:t,history:[]},u=p=>{const g=s[a.history.length];if(g!==void 0&&g.arb===p){const S=g.value;return U(a.history,{arb:p,value:S,context:g.context,mrng:g.mrng}),i=g.mrng.clone(),S}const b=p.generate(i,t);return U(a.history,{arb:p,value:b.value_,context:b.context,mrng:i.clone()}),b.value},c=(p,...g)=>u(r(p,g)),f={values(){return ht(a.history,p=>p.value)},[Xt](){return hf(e,t,n,r).value},[An](){return Lt(ht(a.history,p=>p.value))}},x=c8(c,f);return new j(x,a)}const Wc=Array.isArray,Gp=Object.keys,f8=Object.is;function l8(e){const t=new Ao;return function(r,s){const i=Gn(t,r);if(i===void 0){const c=r(...s);return Mr(t,r,[{args:s,value:c}]),c}const a=i;for(const c of a)if(e(s,c.args))return c.value;const u=r(...s);return U(a,{args:s,value:u}),u}}function lS(e,t){if(e!==null&&typeof e=="object"&&t!==null&&typeof t=="object"){if(Wc(e)){if(!Wc(t)||e.length!==t.length)return!1}else if(Wc(t))return!1;if(Gp(e).length!==Gp(t).length)return!1;for(const n in e)if(!(n in t)||!lS(e[n],t[n]))return!1;return!0}else return f8(e,t)}class h8 extends Ct{constructor(){super(...arguments),this.arbitraryCache=l8(lS)}generate(t,n){return hf(t,n,()=>[],this.arbitraryCache)}canShrinkWithoutContext(t){return!1}shrink(t,n){if(n===void 0)return V.nil();const r=n,s=r.mrng,i=r.biasFactor,a=r.history;return U2(a.map(u=>u.arb),a.map(u=>u.value),a.map(u=>u.context)).map(u=>{function c(){const f=u.value,x=u.context;return ht(a,(p,g)=>({arb:p.arb,value:f[g],context:x[g],mrng:p.mrng}))}return hf(s,i,c,this.arbitraryCache)})}}function x8(){return new h8}const p8=Math.floor,Hp=Math.log;function m8(e){return p8(Hp(e)/Hp(2))}function d8(e){return e===$(0)?$(0):$(zr(e).length)}function hS(e,t,n){if(e===t)return[{min:e,max:t}];if(e<0&&t>0){const a=n(-e),u=n(t);return[{min:-a,max:u},{min:t-u,max:t},{min:e,max:e+a}]}const r=n(t-e),s={min:e,max:e+r},i={min:t-r,max:t};return e<0?[i,s]:[s,i]}const g8=Math.ceil,b8=Math.floor;function Kp(e){return b8(e/2)}function Yp(e){return g8(e/2)}function Jp(e,t,n){const r=e-t;function*s(){let a=n?void 0:t;const u=n?r:Kp(r);for(let c=u;c>0;c=Kp(c)){const f=c===r?t:e-c;yield new j(f,a),a=f}}function*i(){let a=n?void 0:t;const u=n?r:Yp(r);for(let c=u;c<0;c=Yp(c)){const f=c===r?t:e-c;yield new j(f,a),a=f}}return r>0?zn(s()):zn(i())}const Zp=Math.sign,y8=Number.isInteger,S8=Object.is;class Hn extends Ct{constructor(t,n){super(),this.min=t,this.max=n}generate(t,n){const r=this.computeGenerateRange(t,n);return new j(t.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(t){return typeof t=="number"&&y8(t)&&!S8(t,-0)&&this.min<=t&&t<=this.max}shrink(t,n){if(!Hn.isValidContext(t,n)){const r=this.defaultTarget();return Jp(t,r,!0)}return this.isLastChanceTry(t,n)?V.of(new j(n,void 0)):Jp(t,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(t,n){if(n===void 0||t.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=hS(this.min,this.max,m8);if(r.length===1)return r[0];const s=t.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(t,n){return t>0?t===n+1&&t>this.min:t<0?t===n-1&&t<this.max:!1}static isValidContext(t,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&Zp(t)!==Zp(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const Xp=Number.isInteger;function _8(e){const t=e.min!==void 0?e.min:-2147483648,n=e.max!==void 0?e.max:2147483647;return{min:t,max:n}}function gt(e={}){const t=_8(e);if(t.min>t.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!Xp(t.min))throw new Error("fc.integer minimum value should be an integer");if(!Xp(t.max))throw new Error("fc.integer maximum value should be an integer");return new Hn(t.min,t.max)}const Qp=new Map;function Ch(e){if(e===void 0)return{depth:0};if(typeof e!="string")return e;const t=Gn(Qp,e);if(t!==void 0)return t;const n={depth:0};return Mr(Qp,e,n),n}function xS(){return{depth:0}}class w8{constructor(t,n,r){this.arb=t,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const A8=Math.min,E8=Math.max;class F8{constructor(t,n,r,s){this.arb=t,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(t){if(t!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===t&&U(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=t-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new j(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const t=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=t.length-1,new j(t[0],void 0);const n=this.mrng.nextInt(0,t.length-1),r=this.mrng.nextInt(0,t.length-1);return this.nextIndexInSlice=A8(n,r),this.lastIndexInSlice=E8(n,r),new j(t[this.nextIndexInSlice++],void 0)}}function tm(e,t,n,r){return r===void 0||n.length===0||t.nextInt(1,r)!==1?new w8(e,t,r):new F8(e,t,n,r)}const C8=Math.floor,em=Math.log,nm=Math.max,v8=Array.isArray;function zc(e,t){return e===t?e:e+C8(em(t-e)/em(2))}class ic extends Ct{constructor(t,n,r,s,i,a,u){super(),this.arb=t,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=a,this.customSlices=u,this.lengthArb=gt({min:n,max:r}),this.depthContext=Ch(i)}preFilter(t){if(this.setBuilder===void 0)return t;const n=this.setBuilder();for(let r=0;r!==t.length;++r)n.tryAdd(t[r]);return n.getData()}static makeItCloneable(t,n){return t[Xt]=()=>{const r=[];for(let s=0;s!==n.length;++s)U(r,n[s].value);return this.makeItCloneable(r,n),r},t}generateNItemsNoDuplicates(t,n,r,s){let i=0;const a=t(),u=tm(this.arb,r,this.customSlices,s);for(;a.size()<n&&i<this.maxGeneratedLength;){const c=u.next();a.tryAdd(c)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(t,n,r,s){const i=nm(0,n-zc(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(t,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(t,n,r){const s=[],i=tm(this.arb,n,this.customSlices,r);i.attemptExact(t);for(let a=0;a!==t;++a){const u=i.next();U(s,u)}return s}safeGenerateNItems(t,n,r){const s=nm(0,t-zc(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(t,n,r)}finally{this.depthContext.depth-=s}}wrapper(t,n,r,s){const i=n?this.preFilter(t):t;let a=!1;const u=[],c=[];for(let x=0;x!==i.length;++x){const p=i[x];a=a||p.hasToBeCloned,U(u,p.value),U(c,p.context)}a&&ic.makeItCloneable(u,i);const f={shrunkOnce:n,lengthContext:t.length===i.length&&r!==void 0?r:void 0,itemsContexts:c,startIndex:s};return new j(u,f)}generate(t,n){const r=this.applyBias(t,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,t,r.biasFactorItems):this.safeGenerateNItems(s,t,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(t,n){if(n===void 0)return{size:this.lengthArb.generate(t,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(t,void 0).value,biasFactorItems:n};if(t.nextInt(1,n)!==1)return{size:this.lengthArb.generate(t,void 0).value};if(t.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(t,void 0).value,biasFactorItems:n};const r=zc(this.minLength,this.maxGeneratedLength);return{size:gt({min:this.minLength,max:r}).generate(t,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(t){if(!v8(t)||this.minLength>t.length||t.length>this.maxLength)return!1;for(let r=0;r!==t.length;++r)if(!(r in t)||!this.arb.canShrinkWithoutContext(t[r]))return!1;return this.preFilter(ht(t,r=>new j(r,void 0))).length===t.length}shrinkItemByItem(t,n,r){const s=[];for(let i=n.startIndex;i<r;++i)U(s,Pn(()=>this.arb.shrink(t[i],n.itemsContexts[i]).map(a=>{const u=ht(Qt(t,0,i),(f,x)=>new j(us(f),n.itemsContexts[x])),c=ht(Qt(t,i+1),(f,x)=>new j(us(f),n.itemsContexts[x+i+1]));return[[...u,a,...c],void 0,i]})));return V.nil().join(...s)}shrinkImpl(t,n){if(t.length===0)return V.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(t.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&t.length>this.minLength+1?1:0).map(s=>{const i=t.length-s.value;return[ht(Qt(t,i),(a,u)=>new j(us(a),r.itemsContexts[u+i])),s.context,0]}).join(Pn(()=>t.length>this.minLength?this.shrinkItemByItem(t,r,1):this.shrinkItemByItem(t,r,t.length))).join(t.length>this.minLength?Pn(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:Qt(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(Qt(t,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new j(us(t[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):V.nil())}shrink(t,n){return this.shrinkImpl(t,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const k8=Math.floor,I8=Math.min,Gr=2147483647,ns=["xsmall","small","medium","large","xlarge"],T8=["-4","-3","-2","-1","=","+1","+2","+3","+4"],vh="small";function O8(e,t){switch(t){case"xsmall":return k8(1.1*e)+1;case"small":return 2*e+10;case"medium":return 11*e+100;case"large":return 101*e+1e3;case"xlarge":return 1001*e+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${t}`)}}function Eo(e,t){const n=mn(T8,e);if(n===-1)return e;const r=mn(ns,t);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${t}`);const s=r+n-4;return s<0?ns[0]:s>=ns.length?ns[ns.length-1]:ns[s]}function ji(e,t,n,r){const{baseSize:s=vh,defaultSizeToMaxWhenMaxSpecified:i}=Ke()||{},a=e!==void 0?e:r&&i?"max":s;if(a==="max")return n;const u=Eo(a,s);return I8(O8(t,u),n)}function $8(e,t){if(typeof e=="number")return 1/e;const{baseSize:n=vh,defaultSizeToMaxWhenMaxSpecified:r}=Ke()||{},s=e!==void 0?e:t&&r?"max":n;if(s==="max")return 0;switch(Eo(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function kh(e){const{baseSize:t=vh}=Ke()||{};return e===void 0?t:Eo(e,t)}function bt(e,t={}){const n=t.size,r=t.minLength||0,s=t.maxLength,i=t.depthIdentifier,a=s!==void 0?s:Gr,c=ji(n,r,a,s!==void 0),f=t.experimentalCustomSlices||[];return new ic(e,r,c,a,i,void 0,f)}function ra(e){return e/$(2)}function rm(e,t,n){const r=e-t;function*s(){let a=n?void 0:t;const u=n?r:ra(r);for(let c=u;c>0;c=ra(c)){const f=e-c;yield new j(f,a),a=f}}function*i(){let a=n?void 0:t;const u=n?r:ra(r);for(let c=u;c<0;c=ra(c)){const f=e-c;yield new j(f,a),a=f}}return r>0?zn(s()):zn(i())}class Ih extends Ct{constructor(t,n){super(),this.min=t,this.max=n}generate(t,n){const r=this.computeGenerateRange(t,n);return new j(t.nextBigInt(r.min,r.max),void 0)}computeGenerateRange(t,n){if(n===void 0||t.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=hS(this.min,this.max,d8);if(r.length===1)return r[0];const s=t.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}canShrinkWithoutContext(t){return typeof t=="bigint"&&this.min<=t&&t<=this.max}shrink(t,n){if(!Ih.isValidContext(t,n)){const r=this.defaultTarget();return rm(t,r,!0)}return this.isLastChanceTry(t,n)?V.of(new j(n,void 0)):rm(t,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?$(0):this.min<0?this.max:this.min}isLastChanceTry(t,n){return t>0?t===n+$(1)&&t>this.min:t<0?t===n-$(1)&&t<this.max:!1}static isValidContext(t,n){if(n===void 0)return!1;if(typeof n!="bigint")throw new Error("Invalid context type passed to BigIntArbitrary (#1)");const r=t>0&&n<0||t<0&&n>0;if(n!==$(0)&&r)throw new Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}}function B8(e){const n=$(-1)<<$(255),r=($(1)<<$(255))-$(1),s=e.min,i=e.max;return{min:s!==void 0?s:n-(i!==void 0&&i<$(0)?i*i:$(0)),max:i!==void 0?i:r+(s!==void 0&&s>$(0)?s*s:$(0))}}function M8(e){return e[0]===void 0?{}:e[1]===void 0?e[0]:{min:e[0],max:e[1]}}function Kn(...e){const t=B8(M8(e));if(t.min>t.max)throw new Error("fc.bigInt expects max to be greater than or equal to min");return new Ih(t.min,t.max)}const R8=Object.getPrototypeOf;class fi extends Ct{constructor(t){super(),this.arb=t}generate(t,n){return this.arb.generate(t,void 0)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return this.arb.shrink(t,n)}}function pS(e){return R8(e)===fi.prototype&&e.generate===fi.prototype.generate&&e.canShrinkWithoutContext===fi.prototype.canShrinkWithoutContext&&e.shrink===fi.prototype.shrink?e:new fi(e)}function N8(e){return e===1}function D8(e){if(typeof e!="boolean")throw new Error("Unsupported input type");return e===!0?1:0}function Fo(){return pS(gt({min:0,max:1}).map(N8,D8))}const yi=Object.is;class P8{constructor(t){this.values=t,this.fastValues=new rc(this.values);let n=!1,r=!1;if(mp(this.fastValues,0))for(let s=0;s!==this.values.length;++s){const i=this.values[s];n=n||yi(i,-0),r=r||yi(i,0)}this.hasMinusZero=n,this.hasPlusZero=r}has(t){return t===0?yi(t,0)?this.hasPlusZero:this.hasMinusZero:mp(this.fastValues,t)}}class mS extends Ct{constructor(t){super(),this.values=t}generate(t,n){const r=this.values.length===1?0:t.nextInt(0,this.values.length-1),s=this.values[r];return Wr(s)?new j(s,r,()=>s[Xt]()):new j(s,r)}canShrinkWithoutContext(t){return this.values.length===1?yi(this.values[0],t):(this.fastValues===void 0&&(this.fastValues=new P8(this.values)),this.fastValues.has(t))}shrink(t,n){return n===0||yi(t,this.values[0])?V.nil():V.of(new j(this.values[0],0))}}function Qe(...e){if(e.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new mS(e)}function j8(e){return!e||!e.withBigInt?Qe(!1,null,void 0,0,"",NaN):Qe(!1,null,void 0,0,"",NaN,$(0))}function Kt(e){return new mS([e])}class Th{constructor(){this.receivedLogs=[]}log(t){this.receivedLogs.push(t)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[Xt](){return new Th}}function L8(){return Kt(new Th)}const U8=Number.NaN,q8=Number.isNaN;function dS(e){return new ru(e)}function gS(e){if(!(e instanceof ru)||e.constructor!==ru)throw new L("Not a valid value for date unmapper");return su(e)}function V8(e){return t=>t===e?new ru(U8):dS(t)}function W8(e){return t=>{const n=gS(t);return q8(n)?e:n}}const sm=Number.isNaN;function bS(e={}){const t=e.min!==void 0?su(e.min):-864e13,n=e.max!==void 0?su(e.max):864e13,r=e.noInvalidDate;if(sm(t))throw new Error("fc.date min must be valid instance of Date");if(sm(n))throw new Error("fc.date max must be valid instance of Date");if(t>n)throw new Error("fc.date max must be greater or equal to min");if(r)return gt({min:t,max:n}).map(dS,gS);const s=n+1;return gt({min:t,max:n+1}).map(V8(s),W8(s))}const z8=Symbol.iterator,G8=Array.isArray,H8=Object.is;class Oh extends Ct{constructor(t,n){super(),this.arb=t,this.numValues=n}generate(t,n){const r=[];if(this.numValues<=0)return this.wrapper(r);for(let s=0;s!==this.numValues-1;++s)U(r,this.arb.generate(t.clone(),n));return U(r,this.arb.generate(t,n)),this.wrapper(r)}canShrinkWithoutContext(t){if(!G8(t)||t.length!==this.numValues)return!1;if(t.length===0)return!0;for(let n=1;n<t.length;++n)if(!H8(t[0],t[n]))return!1;return this.arb.canShrinkWithoutContext(t[0])}shrink(t,n){return t.length===0?V.nil():new V(this.shrinkImpl(t,n!==void 0?n:[])).map(r=>this.wrapper(r))}*shrinkImpl(t,n){const r=ht(t,(i,a)=>this.arb.shrink(i,n[a])[z8]());let s=ht(r,i=>i.next());for(;!s[0].done;)yield ht(s,i=>i.value),s=ht(r,i=>i.next())}static makeItCloneable(t,n){return t[Xt]=()=>{const r=[];for(let s=0;s!==n.length;++s)U(r,n[s].value);return this.makeItCloneable(r,n),r},t}wrapper(t){let n=!1;const r=[],s=[];for(let i=0;i!==t.length;++i){const a=t[i];n=n||a.hasToBeCloned,U(r,a.value),U(s,a.context)}return n&&Oh.makeItCloneable(r,t),new j(r,s)}}function K8(e,t){return new Oh(e,t)}class im{constructor(t){this.isEqual=t,this.data=[]}tryAdd(t){for(let n=0;n!==this.data.length;++n)if(this.isEqual(this.data[n],t))return!1;return U(this.data,t),!0}size(){return this.data.length}getData(){return this.data}}const Y8=Number.isNaN;class J8{constructor(t){this.selector=t,this.selectedItemsExceptNaN=new rc,this.data=[]}tryAdd(t){const n=this.selector(t);if(Y8(n))return U(this.data,t),!0;const r=this.selectedItemsExceptNaN.size;return gh(this.selectedItemsExceptNaN,n),r!==this.selectedItemsExceptNaN.size?(U(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}const Z8=Object.is;class X8{constructor(t){this.selector=t,this.selectedItemsExceptMinusZero=new rc,this.data=[],this.hasMinusZero=!1}tryAdd(t){const n=this.selector(t);if(Z8(n,-0))return this.hasMinusZero?!1:(U(this.data,t),this.hasMinusZero=!0,!0);const r=this.selectedItemsExceptMinusZero.size;return gh(this.selectedItemsExceptMinusZero,n),r!==this.selectedItemsExceptMinusZero.size?(U(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}class Q8{constructor(t){this.selector=t,this.selectedItems=new rc,this.data=[]}tryAdd(t){const n=this.selector(t),r=this.selectedItems.size;return gh(this.selectedItems,n),r!==this.selectedItems.size?(U(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}function t7(e){if(typeof e.comparator=="function"){if(e.selector===void 0){const u=e.comparator,c=(f,x)=>u(f.value_,x.value_);return()=>new im(c)}const r=e.comparator,s=e.selector,i=u=>s(u.value_),a=(u,c)=>r(i(u),i(c));return()=>new im(a)}const t=e.selector||(r=>r),n=r=>t(r.value_);switch(e.comparator){case"IsStrictlyEqual":return()=>new J8(n);case"SameValueZero":return()=>new Q8(n);case"SameValue":case void 0:return()=>new X8(n)}}function Co(e,t={}){const n=t.minLength!==void 0?t.minLength:0,r=t.maxLength!==void 0?t.maxLength:Gr,s=ji(t.size,n,r,t.maxLength!==void 0),i=t.depthIdentifier,a=t7(t),u=new ic(e,n,s,r,i,a,[]);return n===0?u:u.filter(c=>c.length>=n)}const e7=Object.create,n7=Object.defineProperty,r7=Object.getOwnPropertyDescriptor,s7=Object.getPrototypeOf,i7=Object.getOwnPropertySymbols,o7=Object.getOwnPropertyNames,a7=Object.entries;function u7(e){const t=e[1]?e7(null):{};for(const n of e[0])n7(t,n[0],{enumerable:!0,configurable:!0,writable:!0,value:n[1]});return t}function c7(e){return function(n){const r=r7(e,n);return r!==void 0&&!!r.configurable&&!!r.enumerable&&!!r.writable&&r.get===void 0&&r.set===void 0}}function f7(e){if(typeof e!="object"||e===null)throw new L("Incompatible instance received: should be a non-null object");const t=s7(e)===null,n="constructor"in e&&e.constructor===Object;if(!t&&!n)throw new L("Incompatible instance received: should be of exact type Object");if(i7(e).length>0)throw new L("Incompatible instance received: should contain symbols");if(!D2(o7(e),c7(e)))throw new L("Incompatible instance received: should contain only c/e/w properties without get/set");return[a7(e),t]}function l7(e){return e[0]}function $h(e,t,n={}){const r=!!n.noNullPrototype;return nt(Co(nt(e,t),{minLength:n.minKeys,maxLength:n.maxKeys,size:n.size,selector:l7,depthIdentifier:n.depthIdentifier}),r?Kt(!1):Fo()).map(u7,f7)}const h7=Number.POSITIVE_INFINITY,x7=Number.MAX_SAFE_INTEGER,p7=Number.isInteger,m7=Math.floor,d7=Math.pow,g7=Math.min;class Li extends Ct{static from(t,n,r){if(t.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let a=0;a!==t.length;++a){if(t[a].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const c=t[a].weight;if(s+=c,!p7(c))throw new Error(`${r} expects weights to be integer values`);if(c<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:$8(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:h7,withCrossShrink:!!n.withCrossShrink};return new Li(t,i,Ch(n.depthIdentifier))}constructor(t,n,r){super(),this.warbs=t,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==t.length;++i)s+=t[i].weight,U(this.cumulatedWeights,s);this.totalWeight=s}generate(t,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(t,0,n);const r=t.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(t,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(t){return this.canShrinkWithoutContextIndex(t)!==-1}shrink(t,n){if(n!==void 0){const s=n,i=s.selectedIndex,a=s.originalBias,c=this.warbs[i].arbitrary.shrink(t,s.originalContext).map(f=>this.mapIntoValue(i,f,null,a));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,a));const f=s.cachedGeneratedForFirst;return V.of(f).join(c)}return c}const r=this.canShrinkWithoutContextIndex(t);return r===-1?V.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(t,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(t){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(t)||this.warbs[0].fallbackValue===void 0)return V.nil()}finally{--this.context.depth}const n=new j(this.warbs[0].fallbackValue.default,void 0);return V.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(t){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(t)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(t))return n}return-1}finally{--this.context.depth}}mapIntoValue(t,n,r,s){const i={selectedIndex:t,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new j(n.value,i)}safeGenerateForIndex(t,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(t,r),i=this.mustFallbackToFirstInShrink(n)?t.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(t){return t!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const t=this.constraints.depthBias;if(t<=0||this.warbs[0].weight===0)return 0;const n=m7(d7(1+t,this.context.depth))-1;return-g7(this.totalWeight*n,x7)||0}}function b7(e){return e!=null&&typeof e=="object"&&!("generate"in e)&&!("arbitrary"in e)&&!("weight"in e)}function om(e){return C2(e)?{arbitrary:e,weight:1}:e}function Jt(...e){const t=e[0];if(b7(t)){const r=ht(Qt(e,1),om);return Li.from(r,t,"fc.oneof")}const n=ht(e,om);return Li.from(n,{},"fc.oneof")}const y7=Number.isInteger;function Dn(e){const t=typeof e=="number"?e:e&&e.max!==void 0?e.max:2147483647;if(t<0)throw new Error("fc.nat value should be greater than or equal to 0");if(!y7(t))throw new Error("fc.nat maximum value should be an integer");return new Hn(0,t)}const S7=Object.is;function _7(e){let t=0;const n=[];for(const r of e){const s=t;t=s+r.num;const i=t-1;n.push({from:s,to:i,entry:r})}return n}function w7(e,t){let n=0,r=e.length;for(;r-n>1;){const s=~~((n+r)/2);t<e[s].from?r=s:n=s}return e[n]}function A7(e){const t=_7(e);return function(r){const s=w7(t,r);return s.entry.build(r-s.from)}}function E7(e){const t={mapping:new Ao,negativeZeroIndex:void 0};let n=0;for(let r=0;r!==e.length;++r){const s=e[r];for(let i=0;i!==s.num;++i){const a=s.build(i);a===0&&1/a===bn.NEGATIVE_INFINITY?t.negativeZeroIndex=n:Mr(t.mapping,a,n),++n}}return t}function F7(e){let t=null;return function(r){t===null&&(t=E7(e));const s=S7(r,-0)?t.negativeZeroIndex:Gn(t.mapping,r);if(s===void 0)throw new L("Unknown value encountered cannot be built using this mapToConstant");return s}}function C7(e){if(e.length===0)throw new L("fc.mapToConstant expects at least one option");let t=0;for(let n=0;n!==e.length;++n){if(e[n].num<0)throw new L("fc.mapToConstant expects all options to have a number of entries greater or equal to zero");t+=e[n].num}if(t===0)throw new L("fc.mapToConstant expects at least one choice among options");return t}function vo(...e){const t=C7(e);return Dn({max:t-1}).map(A7(e),F7(e))}function yS(e,t,n,r){if(t.length===0)return n>0?void 0:[];if(r<=0)return;const s=[{endIndexChunks:0,nextStartIndex:1,chunks:[]}];for(;s.length>0;){const i=M2(s);for(let a=i.nextStartIndex;a<=t.length;++a){const u=Ft(t,i.endIndexChunks,a);if(e.canShrinkWithoutContext(u)){const c=[...i.chunks,u];if(a===t.length){if(c.length<n)break;return c}U(s,{endIndexChunks:i.endIndexChunks,nextStartIndex:a+1,chunks:i.chunks}),c.length<r&&U(s,{endIndexChunks:a,nextStartIndex:a+1,chunks:c});break}}}}function v7(e){return St(e,"")}function SS(e){return e.minLength!==void 0?e.minLength:0}function _S(e){return e.maxLength!==void 0?e.maxLength:Gr}function k7(e,t){return SS(t)<=e.length&&e.length<=_S(t)}function I7(e,t){return function(r){if(typeof r!="string")throw new L("Unsupported value");const s=yS(e,r,SS(t),_S(t));if(s===void 0)throw new L("Unable to unmap received string");return s}}const wS=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function T7(e,t,n){let r;try{r=n(e)}catch{return}for(const s of r)if(!t.canShrinkWithoutContext(s))return;return r}function O7(e,t){const n=[];for(const r of wS){const s=T7(r,e,t);s!==void 0&&U(n,s)}return n}const am=new WeakMap;function $7(e){const t=[];for(const n of wS){const r=yS(e,n,0,Gr);r!==void 0&&U(t,r)}return t}function B7(e,t){let n=y9(am,e);n===void 0&&(n=$7(e),b9(am,e,n));const r=[];for(const s of n)k7(s,t)&&U(r,s);return r}const M7=[[0,127]],R7=[[0,55295],[57344,1114111]],N7=[[32,126],[160,172],[174,767],[880,887],[890,895],[900,906],[908],[910,929],[931,1154],[1162,1327],[1329,1366],[1369,1418],[1421,1423],[1470],[1472],[1475],[1478],[1488,1514],[1519,1524],[1542,1551],[1563],[1565,1610],[1632,1647],[1649,1749],[1758],[1765,1766],[1769],[1774,1805],[1808],[1810,1839],[1869,1957],[1969],[1984,2026],[2036,2042],[2046,2069],[2074],[2084],[2088],[2096,2110],[2112,2136],[2142],[2144,2154],[2160,2190],[2208,2249],[2308,2361],[2365],[2384],[2392,2401],[2404,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482],[2486,2489],[2493],[2510],[2524,2525],[2527,2529],[2534,2557],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2654],[2662,2671],[2674,2676],[2678],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749],[2768],[2784,2785],[2790,2801],[2809],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877],[2908,2909],[2911,2913],[2918,2935],[2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024],[3046,3066],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133],[3160,3162],[3165],[3168,3169],[3174,3183],[3191,3200],[3204,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261],[3293,3294],[3296,3297],[3302,3311],[3313,3314],[3332,3340],[3342,3344],[3346,3386],[3389],[3407],[3412,3414],[3416,3425],[3430,3455],[3461,3478],[3482,3505],[3507,3515],[3517],[3520,3526],[3558,3567],[3572],[3585,3632],[3634],[3647,3654],[3663,3675],[3713,3714],[3716],[3718,3722],[3724,3747],[3749],[3751,3760],[3762],[3773],[3776,3780],[3782],[3792,3801],[3804,3807],[3840,3863],[3866,3892],[3894],[3896],[3898,3901],[3904,3911],[3913,3948],[3973],[3976,3980],[4030,4037],[4039,4044],[4046,4058],[4096,4138],[4159,4181],[4186,4189],[4193],[4197,4198],[4206,4208],[4213,4225],[4238],[4240,4249],[4254,4293],[4295],[4301],[4304,4351],[4608,4680],[4682,4685],[4688,4694],[4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4960,4988],[4992,5017],[5024,5109],[5112,5117],[5120,5788],[5792,5880],[5888,5905],[5919,5937],[5941,5942],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6100,6108],[6112,6121],[6128,6137],[6144,6154],[6160,6169],[6176,6264],[6272,6276],[6279,6312],[6314],[6320,6389],[6400,6430],[6464],[6468,6509],[6512,6516],[6528,6571],[6576,6601],[6608,6618],[6622,6678],[6686,6740],[6784,6793],[6800,6809],[6816,6829],[6917,6963],[6981,6988],[6992,7018],[7028,7038],[7043,7072],[7086,7141],[7164,7203],[7227,7241],[7245,7304],[7312,7354],[7357,7367],[7379],[7401,7404],[7406,7411],[7413,7414],[7418],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[8192,8202],[8208,8233],[8239,8287],[8304,8305],[8308,8334],[8336,8348],[8352,8384],[8448,8587],[8592,9254],[9280,9290],[9312,11123],[11126,11157],[11159,11502],[11506,11507],[11513,11557],[11559],[11565],[11568,11623],[11631,11632],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11776,11869],[11904,11929],[11931,12019],[12032,12245],[12272,12329],[12336,12351],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12771],[12783,12830],[12832,13312],[19903,19968],[40959,42124],[42128,42182],[42192,42539],[42560,42606],[42611],[42622,42653],[42656,42735],[42738,42743],[42752,42954],[42960,42961],[42963],[42965,42969],[42994,43009],[43011,43013],[43015,43018],[43020,43042],[43048,43051],[43056,43065],[43072,43127],[43138,43187],[43214,43225],[43250,43262],[43264,43301],[43310,43334],[43359],[43396,43442],[43457,43469],[43471,43481],[43486,43492],[43494,43518],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43612,43642],[43646,43695],[43697],[43701,43702],[43705,43709],[43712],[43714],[43739,43754],[43760,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43883],[43888,44002],[44011],[44016,44025],[44032],[55203],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285],[64287,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64450],[64467,64911],[64914,64967],[64975],[65008,65023],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65136,65140],[65142,65276],[65281,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65504,65510],[65512,65518],[65532,65533],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65792,65794],[65799,65843],[65847,65934],[65936,65948],[65952],[66e3,66044],[66176,66204],[66208,66256],[66273,66299],[66304,66339],[66349,66378],[66384,66421],[66432,66461],[66463,66499],[66504,66517],[66560,66717],[66720,66729],[66736,66771],[66776,66811],[66816,66855],[66864,66915],[66927,66938],[66940,66954],[66956,66962],[66964,66965],[66967,66977],[66979,66993],[66995,67001],[67003,67004],[67072,67382],[67392,67413],[67424,67431],[67456,67461],[67463,67504],[67506,67514],[67584,67589],[67592],[67594,67637],[67639,67640],[67644],[67647,67669],[67671,67742],[67751,67759],[67808,67826],[67828,67829],[67835,67867],[67871,67897],[67903],[67968,68023],[68028,68047],[68050,68096],[68112,68115],[68117,68119],[68121,68149],[68160,68168],[68176,68184],[68192,68255],[68288,68324],[68331,68342],[68352,68405],[68409,68437],[68440,68466],[68472,68497],[68505,68508],[68521,68527],[68608,68680],[68736,68786],[68800,68850],[68858,68899],[68912,68921],[69216,69246],[69248,69289],[69293],[69296,69297],[69376,69415],[69424,69445],[69457,69465],[69488,69505],[69510,69513],[69552,69579],[69600,69622],[69635,69687],[69703,69709],[69714,69743],[69745,69746],[69749],[69763,69807],[69819,69820],[69822,69825],[69840,69864],[69872,69881],[69891,69926],[69942,69956],[69959],[69968,70002],[70004,70006],[70019,70066],[70081],[70084,70088],[70093],[70096,70111],[70113,70132],[70144,70161],[70163,70187],[70200,70205],[70207,70208],[70272,70278],[70280],[70282,70285],[70287,70301],[70303,70313],[70320,70366],[70384,70393],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70461],[70480],[70493,70497],[70656,70708],[70727,70747],[70749],[70751,70753],[70784,70831],[70852,70855],[70864,70873],[71040,71086],[71105,71131],[71168,71215],[71233,71236],[71248,71257],[71264,71276],[71296,71338],[71352,71353],[71360,71369],[71424,71450],[71472,71494],[71680,71723],[71739],[71840,71922],[71935,71942],[71945],[71948,71955],[71957,71958],[71960,71983],[72004,72006],[72016,72025],[72096,72103],[72106,72144],[72161,72163],[72192],[72203,72242],[72255,72262],[72272],[72284,72323],[72346,72354],[72368,72440],[72448,72457],[72704,72712],[72714,72750],[72768,72773],[72784,72812],[72816,72847],[72960,72966],[72968,72969],[72971,73008],[73040,73049],[73056,73061],[73063,73064],[73066,73097],[73112],[73120,73129],[73440,73458],[73463,73464],[73476,73488],[73490,73523],[73539,73561],[73648],[73664,73713],[73727,74649],[74752,74862],[74864,74868],[74880,75075],[77712,77810],[77824,78895],[78913,78918],[82944,83526],[92160,92728],[92736,92766],[92768,92777],[92782,92862],[92864,92873],[92880,92909],[92917],[92928,92975],[92983,92997],[93008,93017],[93019,93025],[93027,93047],[93053,93071],[93760,93850],[93952,94026],[94032],[94099,94111],[94176,94179],[94208],[100343],[100352,101589],[101632],[101640],[110576,110579],[110581,110587],[110589,110590],[110592,110882],[110898],[110928,110930],[110933],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[113820],[113823],[118608,118723],[118784,119029],[119040,119078],[119081,119140],[119146,119148],[119171,119172],[119180,119209],[119214,119274],[119296,119361],[119365],[119488,119507],[119520,119539],[119552,119638],[119648,119672],[119808,119892],[119894,119964],[119966,119967],[119970],[119973,119974],[119977,119980],[119982,119993],[119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],[120134],[120138,120144],[120146,120485],[120488,120779],[120782,121343],[121399,121402],[121453,121460],[121462,121475],[121477,121483],[122624,122654],[122661,122666],[122928,122989],[123136,123180],[123191,123197],[123200,123209],[123214,123215],[123536,123565],[123584,123627],[123632,123641],[123647],[124112,124139],[124144,124153],[124896,124902],[124904,124907],[124909,124910],[124912,124926],[124928,125124],[125127,125135],[125184,125251],[125259],[125264,125273],[125278,125279],[126065,126132],[126209,126269],[126464,126467],[126469,126495],[126497,126498],[126500],[126503],[126505,126514],[126516,126519],[126521],[126523],[126530],[126535],[126537],[126539],[126541,126543],[126545,126546],[126548],[126551],[126553],[126555],[126557],[126559],[126561,126562],[126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[126704,126705],[126976,127019],[127024,127123],[127136,127150],[127153,127167],[127169,127183],[127185,127221],[127232,127405],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127994],[128e3,128727],[128732,128748],[128752,128764],[128768,128886],[128891,128985],[128992,129003],[129008],[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],[129200,129201],[129280,129619],[129632,129645],[129648,129660],[129664,129672],[129680,129725],[129727,129733],[129742,129755],[129760,129768],[129776,129784],[129792,129938],[129940,129994],[130032,130041],[131072],[173791],[173824],[177977],[177984],[178205],[178208],[183969],[183984],[191456],[191472],[192093],[194560,195101],[196608],[201546],[201552],[205743]],D7=[[192,197],[199,207],[209,214],[217,221],[224,229],[231,239],[241,246],[249,253],[255,271],[274,293],[296,304],[308,311],[313,318],[323,328],[332,337],[340,357],[360,382],[416,417],[431,432],[461,476],[478,483],[486,496],[500,501],[504,539],[542,543],[550,563],[901,902],[904,906],[908],[910,912],[938,944],[970,974],[979,980],[1024,1025],[1027],[1031],[1036,1038],[1049],[1081],[1104,1105],[1107],[1111],[1116,1118],[1142,1143],[1217,1218],[1232,1235],[1238,1239],[1242,1247],[1250,1255],[1258,1269],[1272,1273],[1570,1574],[1728],[1730],[1747],[2345],[2353],[2356],[2392,2399],[2524,2525],[2527],[2611],[2614],[2649,2651],[2654],[2908,2909],[2964],[3907],[3917],[3922],[3927],[3932],[3945],[4134],[6918],[6920],[6922],[6924],[6926],[6930],[7680,7833],[7835],[7840,7929],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8048],[8050],[8052],[8054],[8056],[8058],[8060],[8064,8116],[8118,8122],[8124],[8129,8132],[8134,8136],[8138],[8140,8146],[8150,8154],[8157,8162],[8164,8170],[8172,8173],[8178,8180],[8182,8184],[8186],[8188],[8602,8603],[8622],[8653,8655],[8708],[8713],[8716],[8740],[8742],[8769],[8772],[8775],[8777],[8800],[8802],[8813,8817],[8820,8821],[8824,8825],[8832,8833],[8836,8837],[8840,8841],[8876,8879],[8928,8931],[8938,8941],[10972],[12364],[12366],[12368],[12370],[12372],[12374],[12376],[12378],[12380],[12382],[12384],[12386],[12389],[12391],[12393],[12400,12401],[12403,12404],[12406,12407],[12409,12410],[12412,12413],[12436],[12446],[12460],[12462],[12464],[12466],[12468],[12470],[12472],[12474],[12476],[12478],[12480],[12482],[12485],[12487],[12489],[12496,12497],[12499,12500],[12502,12503],[12505,12506],[12508,12509],[12532],[12535,12538],[12542],[44032],[55203],[64285],[64287],[64298,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64334],[69786],[69788],[69803],[119134,119140],[119227,119232]],um=String.fromCodePoint,P7=Math.min,j7=Math.max;function cm(e){if(e.length===1){const n=um(e[0]);return{num:1,build:()=>n}}const t=e[0];return{num:e[1]-e[0]+1,build:n=>um(t+n)}}function fm(e,t){const n=[];let r=0,s=0;for(;r<e.length&&s<t.length;){const i=e[r],a=i[0],u=i.length===1?i[0]:i[1],c=t[s],f=c[0],x=c.length===1?c[0]:c[1];if(u<f)r+=1;else if(x<a)s+=1;else{let p=j7(a,f);const g=P7(u,x);if(n.length>=1){const b=n[n.length-1];(b.length===1?b[0]:b[1])+1===p&&(p=b[0],M2(n))}U(n,p===g?[p]:[p,g]),u<=g&&(r+=1),x<=g&&(s+=1)}}return n}const lm=Object.create(null);function L7(e){switch(e){case"full":return R7;case"ascii":return M7}}function U7(e,t){const n=`${e}:${t}`,r=lm[n];if(r!==void 0)return r;const s=L7(t),i=e==="binary"?s:fm(s,N7),a=[];for(const c of i)U(a,cm(c));if(e==="grapheme"){const c=fm(s,D7);for(const f of c){const x=cm(f);U(a,{num:x.num,build:p=>R9(x.build(p),"NFD")})}}const u=vo(...a);return lm[n]=u,u}function li(e,t){return U7(e,t)}function q7(e){if(typeof e.unit=="object")return e.unit;switch(e.unit){case"grapheme":return li("grapheme","full");case"grapheme-composite":return li("composite","full");case"grapheme-ascii":case void 0:return li("grapheme","ascii");case"binary":return li("binary","full");case"binary-ascii":return li("binary","ascii")}}function jt(e={}){const t=q7(e),n=I7(t,e),r=B7(t,e),s={...e,experimentalCustomSlices:r};return bt(t,s).map(v7,n)}const AS=Map,Bh=String.fromCharCode,Mh={num:26,build:e=>Bh(e+97)},V7={num:26,build:e=>Bh(e+65)},ES={num:10,build:e=>Bh(e+48)};function W7(e){const t=XO(e);return e!==t?t:`%${Ni(js(e,0),16)}`}function z7(e){if(typeof e!="string")throw new Error("Unsupported");return decodeURIComponent(e)}const G7=()=>jt({unit:"binary",minLength:1,maxLength:1}).map(W7,z7);let Gc;function H7(){return Gc===void 0&&(Gc=vo(Mh)),Gc}let sa;function xf(e){sa===void 0&&(sa=new AS);let t=Gn(sa,e);return t===void 0&&(t=vo(Mh,ES,{num:e.length,build:n=>e[n]}),Mr(sa,e,t)),t}function K7(e){return vo(Mh,V7,ES,{num:e.length,build:t=>e[t]})}let ia;function Rh(e){ia===void 0&&(ia=new AS);let t=Gn(ia,e);return t===void 0&&(t=Jt({weight:10,arbitrary:K7(e)},{weight:1,arbitrary:G7()}),Mr(ia,e,t)),t}function Rr(e,t={}){const n=t.freq==null?6:t.freq,r=iu(t,"nil")?t.nil:null,i=[{arbitrary:Kt(r),weight:1,fallbackValue:{default:r}},{arbitrary:e,weight:n-1}],a={withCrossShrink:!0,depthSize:t.depthSize,maxDepth:t.maxDepth,depthIdentifier:t.depthIdentifier};return Li.from(i,a,"fc.option")}function Y7(e){return e.length>63?!1:e.length<4||e[0]!=="x"||e[1]!=="n"||e[2]!=="-"||e[3]!=="-"}const FS=Symbol("adapted-value");function J7(e,t){const n=t(e.value_);return n.adapted?new j(n.value,FS):e}class Z7 extends Ct{constructor(t,n){super(),this.sourceArb=t,this.adapter=n,this.adaptValue=r=>J7(r,n)}generate(t,n){const r=this.sourceArb.generate(t,n);return this.adaptValue(r)}canShrinkWithoutContext(t){return this.sourceArb.canShrinkWithoutContext(t)&&!this.adapter(t).adapted}shrink(t,n){return n===FS?this.sourceArb.canShrinkWithoutContext(t)?this.sourceArb.shrink(t,void 0).map(this.adaptValue):V.nil():this.sourceArb.shrink(t,n).map(this.adaptValue)}}function CS(e,t){return new Z7(e,t)}function X7([e,t]){return t===null?e:`${e}${t[0]}${t[1]}`}function Q7(e){if(typeof e!="string"||e.length===0)throw new Error("Unsupported");return e.length===1?[e[0],null]:[e[0],[Ft(e,1,e.length-1),e[e.length-1]]]}function tB(e){const t=xf(""),n=xf("-");return nt(t,Rr(nt(jt({unit:n,size:e,maxLength:61}),t))).map(X7,Q7).filter(Y7)}function eB(e){return`${St(e[0],".")}.${e[1]}`}function nB(e){if(typeof e!="string")throw new Error("Unsupported type");const t=e.lastIndexOf(".");return[fe(Ft(e,0,t),"."),Ft(e,t+1)]}function rB(e){const[t,n]=e;let r=n.length;for(let s=0;s!==t.length;++s)if(r+=1+t[s].length,r>255)return{adapted:!0,value:[Qt(t,0,s),n]};return{adapted:!1,value:e}}function Nh(e={}){const t=kh(e.size),n=Eo("-1",t),r=H7(),s=jt({unit:r,minLength:2,maxLength:63,size:n});return CS(nt(bt(tB(t),{size:n,minLength:1,maxLength:127}),s),rB).map(eB,nB)}function sB(e){let t=e[0].length;for(let n=1;n!==e.length;++n)if(t+=1+e[n].length,t>64)return{adapted:!0,value:Qt(e,0,n)};return{adapted:!1,value:e}}function iB(e){return St(e,".")}function oB(e){if(typeof e!="string")throw new Error("Unsupported");return fe(e,".")}function aB(e){return`${e[0]}@${e[1]}`}function uB(e){if(typeof e!="string")throw new Error("Unsupported");return fe(e,"@",2)}function cB(e={}){const t=xf("!#$%&'*+-/=?^_`{|}~"),n=CS(bt(jt({unit:t,minLength:1,maxLength:64,size:e.size}),{minLength:1,maxLength:32,size:e.size}),sB).map(iB,oB);return nt(n,Nh({size:e.size})).map(aB,uB)}const fB=bn.NEGATIVE_INFINITY,pf=bn.POSITIVE_INFINITY,vS=bn.EPSILON,Dh=$(2146435072)*$(4294967296),lB=-Dh-$(1),hm=4503599627370496,hB=$(0xfffffffffffff),xm=$("9007199254740992"),mf=new Float64Array(1),pm=new Uint32Array(mf.buffer,mf.byteOffset);function xB(e){return mf[0]=e,[pm[1],pm[0]]}function pB(e){const{0:t,1:n}=xB(e),r=t>>>31,s=t>>>20&2047,i=(t&1048575)*4294967296+n,a=s===0?-1022:s-1023;let u=s===0?0:1;return u+=i*vS,u*=r===0?1:-1,{exponent:a,significand:u}}function mm(e,t){if(e===-1022)return $(t*hm);const n=$((t-1)*hm),r=$(e+1023)<<$(52);return n+r}function Ph(e){if(e===pf)return Dh;if(e===fB)return lB;const t=pB(e),n=t.exponent,r=t.significand;return e>0||e===0&&1/e===pf?mm(n,r):-mm(n,-r)-$(1)}function df(e){if(e<0)return-df(-e-$(1));if(e===Dh)return pf;if(e<xm)return bn(e)*2**-1074;const t=e-xm,n=-1021+bn(t>>$(52));return(1+bn(t&hB)*vS)*2**n}const dm=Number.isInteger,gm=Object.is,Hc=Number.NEGATIVE_INFINITY,Kc=Number.POSITIVE_INFINITY;function kS(e,t,n,r){const{noDefaultInfinity:s=!1,minExcluded:i=!1,maxExcluded:a=!1,min:u=s?-t:Hc,max:c=s?t:Kc}=e,f=i?u<-n?-r:Math.max(u,-n):u===Hc?Math.max(u,-r):Math.max(u,-n),x=a?c>n?r:Math.min(c,n):c===Kc?Math.min(c,r):Math.min(c,n);return{noDefaultInfinity:!1,minExcluded:i||(u!==Hc||i)&&dm(f),maxExcluded:a||(c!==Kc||a)&&dm(x),min:gm(f,-0)?0:f,max:gm(x,0)?-0:x,noNaN:e.noNaN||!1}}const IS=Number.NEGATIVE_INFINITY,TS=Number.POSITIVE_INFINITY,mB=Number.MAX_VALUE,dB=45035996273704955e-1,Ui=4503599627370496;function gB(e){return kS(e,mB,dB,Ui)}function bB(e){return e===Ui?TS:e===-Ui?IS:e}function yB(e){if(typeof e!="number")throw new Error("Unsupported type");return e===TS?Ui:e===IS?-Ui:e}const SB=Number.isInteger,OS=Number.isNaN,_B=Number.NEGATIVE_INFINITY,wB=Number.POSITIVE_INFINITY,bm=Number.MAX_VALUE,AB=Number.NaN;function ym(e,t){if(OS(e))throw new Error("fc.double constraints."+t+" must be a 64-bit float");return Ph(e)}function EB(e){if(typeof e!="number")throw new Error("Unsupported type");return Ph(e)}function FB(e){return!SB(e)}function Sm(e){const{noDefaultInfinity:t=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=t?-bm:_B,max:a=t?bm:wB}=e,u=ym(i,"min"),c=r?u+$(1):u,f=ym(a,"max"),x=s?f-$(1):f;if(x<c)throw new Error("fc.double constraints.min must be smaller or equal to constraints.max");if(n)return Kn({min:c,max:x}).map(df,EB);const p=x>$(0),g=p?c:c-$(1),b=p?x+$(1):x;return Kn({min:g,max:b}).map(S=>x<S||S<c?AB:df(S),S=>{if(typeof S!="number")throw new Error("Unsupported type");return OS(S)?x!==b?b:g:Ph(S)})}function oc(e={}){return e.noInteger?Sm(gB(e)).map(bB,yB).filter(FB):Sm(e)}const CB=Number.NEGATIVE_INFINITY,gf=Number.POSITIVE_INFINITY,bf=2**127*(1+(2**23-1)/2**23),$S=2139095040,vB=-2139095041,yf=new Float32Array(1),kB=new Uint32Array(yf.buffer,yf.byteOffset);function IB(e){return yf[0]=e,kB[0]}function TB(e){const t=IB(e),n=t>>>31,r=t>>>23&255,s=t&8388607,i=r===0?-126:r-127;let a=r===0?0:1;return a+=s/2**23,a*=n===0?1:-1,{exponent:i,significand:a}}function _m(e,t){return e===-126?t*8388608:(e+127)*8388608+(t-1)*8388608}function jh(e){if(e===gf)return $S;if(e===CB)return vB;const t=TB(e),n=t.exponent,r=t.significand;return e>0||e===0&&1/e===gf?_m(n,r):-_m(n,-r)-1}function Sf(e){if(e<0)return-Sf(-e-1);if(e===$S)return gf;if(e<16777216)return e*2**-149;const t=e-16777216,n=-125+(t>>23);return(1+(t&8388607)/8388608)*2**n}const BS=Number.NEGATIVE_INFINITY,MS=Number.POSITIVE_INFINITY,OB=bf,$B=83886075e-1,qi=8388608;function BB(e){return kS(e,OB,$B,qi)}function MB(e){return e===qi?MS:e===-qi?BS:e}function RB(e){if(typeof e!="number")throw new Error("Unsupported type");return e===MS?qi:e===BS?-qi:e}const NB=Number.isInteger,RS=Number.isNaN,DB=Math.fround,PB=Number.NEGATIVE_INFINITY,jB=Number.POSITIVE_INFINITY,LB=Number.NaN;function wm(e,t){const r="fc.float constraints."+t+" must be a 32-bit float - "+"you can convert any double to a 32-bit float by using `Math.fround(myDouble)`";if(RS(e)||DB(e)!==e)throw new Error(r);return jh(e)}function UB(e){if(typeof e!="number")throw new Error("Unsupported type");return jh(e)}function qB(e){return!NB(e)}function Am(e){const{noDefaultInfinity:t=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=t?-bf:PB,max:a=t?bf:jB}=e,u=wm(i,"min"),c=r?u+1:u,f=wm(a,"max"),x=s?f-1:f;if(c>x)throw new Error("fc.float constraints.min must be smaller or equal to constraints.max");if(n)return gt({min:c,max:x}).map(Sf,UB);const p=x>0?c:c-1,g=x>0?x+1:x;return gt({min:p,max:g}).map(b=>b>x||b<c?LB:Sf(b),b=>{if(typeof b!="number")throw new Error("Unsupported type");return RS(b)?x!==g?g:p:jh(b)})}function NS(e={}){return e.noInteger?Am(BB(e)).map(MB,RB).filter(qB):Am(e)}function VB(e){return e.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}function DS(e){return e.replace(/\*\//g,"*\\/")}const be=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function au(e){let t=4294967295;for(let n=0;n<e.length;++n){const r=js(e,n);if(r<128)t=be[t&255^r]^t>>8;else if(r<2048)t=be[t&255^(192|r>>6&31)]^t>>8,t=be[t&255^(128|r&63)]^t>>8;else if(r>=55296&&r<57344){const s=js(e,++n);if(r>=56320||s<56320||s>57343||Number.isNaN(s))n-=1,t=be[t&255^239]^t>>8,t=be[t&255^191]^t>>8,t=be[t&255^189]^t>>8;else{const i=(r&1023)+64,a=s&1023;t=be[t&255^(240|i>>8&7)]^t>>8,t=be[t&255^(128|i>>2&63)]^t>>8,t=be[t&255^(128|a>>6&15|(i&3)<<4)]^t>>8,t=be[t&255^(128|a&63)]^t>>8}}else t=be[t&255^(224|r>>12&15)]^t>>8,t=be[t&255^(128|r>>6&63)]^t>>8,t=be[t&255^(128|r&63)]^t>>8}return(t|0)+2147483648}const WB=Object.getPrototypeOf;class hi extends Ct{constructor(t){super(),this.arb=t}generate(t,n){return this.arb.generate(t,n)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return V.nil()}}function uu(e){return WB(e)===hi.prototype&&e.generate===hi.prototype.generate&&e.canShrinkWithoutContext===hi.prototype.canShrinkWithoutContext&&e.shrink===hi.prototype.shrink?e:new hi(e)}const zB=Object.assign,GB=Object.keys;function PS(e){return nt(uu(gt()),uu(gt({min:1,max:4294967295}))).map(([t,n])=>{const r=()=>{const s={};return zB((a,u)=>{const c=Lt(a),f=Lt(u),x=au(`${t}${c}`)%n,p=au(`${t}${f}`)%n,g=e(x,p);return s[`[${c},${f}]`]=g,g},{toString:()=>{const a=GB(s).sort().map(u=>`${u} => ${Lt(s[u])}`).map(u=>`/* ${DS(u)} */`);return`function(a, b) {
  // With hash and stringify coming from fast-check${a.length!==0?`
  ${St(a,`
  `)}`:""}
  const cmp = ${e};
  const hA = hash('${t}' + stringify(a)) % ${n};
  const hB = hash('${t}' + stringify(b)) % ${n};
  return cmp(hA, hB);
}`},[Xt]:r})};return r()})}const HB=Object.assign;function KB(){return PS(HB((e,t)=>e<t,{toString(){return"(hA, hB) => hA < hB"}}))}const YB=Object.assign;function JB(){return PS(YB((e,t)=>e-t,{toString(){return"(hA, hB) => hA - hB"}}))}const ZB=Object.defineProperties,XB=Object.keys;function QB(e){return nt(bt(e,{minLength:1}),uu(gt())).map(([t,n])=>{const r=()=>{const s={},i=(...u)=>{const c=Lt(u),f=t[au(`${n}${c}`)%t.length];return s[c]=f,Wr(f)?f[Xt]():f};function a(u){const c=ht(ht(N2(XB(s)),f=>`${f} => ${Lt(s[f])}`),f=>`/* ${DS(f)} */`);return`function(...args) {
  // With hash and stringify coming from fast-check${c.length!==0?`
  ${c.join(`
  `)}`:""}
  const outs = ${u};
  return outs[hash('${n}' + stringify(args)) % outs.length];
}`}return ZB(i,{toString:{value:()=>a(Lt(t))},[An]:{value:()=>a(Lt(t))},[En]:{value:async()=>a(await Eh(t))},[Xt]:{value:r,configurable:!0}})};return r()})}const tM=Number.MIN_SAFE_INTEGER,eM=Number.MAX_SAFE_INTEGER;function jS(){return new Hn(tM,eM)}const nM=Number.MAX_SAFE_INTEGER;function rM(){return new Hn(0,nM)}const sM=Number.parseInt;function iM(e){const[t,n]=e;switch(t){case"oct":return`0${Ni(n,8)}`;case"hex":return`0x${Ni(n,16)}`;case"dec":default:return`${n}`}}function Ca(e,t){const n=sM(e,t);if(Ni(n,t)!==e)throw new Error("Invalid value");return n}function oM(e){if(typeof e!="string")throw new Error("Invalid type");return e.length>=2&&e[0]==="0"?e[1]==="x"?["hex",Ca(Ft(e,2),16)]:["oct",Ca(Ft(e,1),8)]:["dec",Ca(e,10)]}function aM(e){return St(e,".")}function uM(e){if(typeof e!="string")throw new Error("Invalid type");return ht(fe(e,"."),t=>Ca(t,10))}function Lh(){return nt(Dn(255),Dn(255),Dn(255),Dn(255)).map(aM,uM)}function Ze(e){return nt(Qe("dec","oct","hex"),Dn(e)).map(iM,oM)}function Yc(e){return St(e,".")}function Jc(e){if(typeof e!="string")throw new Error("Invalid type");return fe(e,".")}function LS(){return Jt(nt(Ze(255),Ze(255),Ze(255),Ze(255)).map(Yc,Jc),nt(Ze(255),Ze(255),Ze(65535)).map(Yc,Jc),nt(Ze(255),Ze(16777215)).map(Yc,Jc),Ze(4294967295))}function Uh(e){return e.length===0?[]:fe(e,":")}function qh(e){const t=fe(e,":");return t.length>=2&&t[t.length-1].length<=4?[Qt(t,0,t.length-2),`${t[t.length-2]}:${t[t.length-1]}`]:[Qt(t,0,t.length-1),t[t.length-1]]}function cM(e){return`${St(e[0],":")}:${e[1]}`}function fM(e){if(typeof e!="string")throw new Error("Invalid type");return qh(e)}function lM(e){return`::${St(e[0],":")}:${e[1]}`}function hM(e){if(typeof e!="string")throw new Error("Invalid type");if(!$9(e,"::"))throw new Error("Invalid value");return qh(Ft(e,2))}function va(e){return`${St(e[0],":")}::${St(e[1],":")}:${e[2]}`}function ka(e){if(typeof e!="string")throw new Error("Invalid type");const[t,n]=fe(e,"::",2),[r,s]=qh(n);return[Uh(t),r,s]}function xM(e){return va([e[0],[e[1]],e[2]])}function pM(e){const t=ka(e);return[t[0],St(t[1],":"),t[2]]}function Em(e){return`${St(e[0],":")}::${e[1]}`}function Fm(e){if(typeof e!="string")throw new Error("Invalid type");const[t,n]=fe(e,"::",2);return[Uh(t),n]}function mM(e){return`${St(e[0],":")}::`}function dM(e){if(typeof e!="string")throw new Error("Invalid type");if(!B9(e,"::"))throw new Error("Invalid value");return[Uh(Ft(e,0,e.length-2))]}function gM([e,t]){return`${e}:${t}`}function bM(e){if(typeof e!="string")throw new L("Invalid type");if(!e.includes(":"))throw new L("Invalid value");return e.split(":",2)}const yM="0123456789abcdef";let Zc;function SM(){return Zc===void 0&&(Zc=gt({min:0,max:15}).map(e=>yM[e],e=>{if(typeof e!="string")throw new L("Not a string");if(e.length!==1)throw new L("Invalid length");const t=js(e,0);if(t<=57)return t-48;if(t<97)throw new L("Invalid character");return t-87})),Zc}function US(){const e=jt({unit:SM(),minLength:1,maxLength:4,size:"max"}),t=Jt(nt(e,e).map(gM,bM),Lh());return Jt(nt(bt(e,{minLength:6,maxLength:6,size:"max"}),t).map(cM,fM),nt(bt(e,{minLength:5,maxLength:5,size:"max"}),t).map(lM,hM),nt(bt(e,{minLength:0,maxLength:1,size:"max"}),bt(e,{minLength:4,maxLength:4,size:"max"}),t).map(va,ka),nt(bt(e,{minLength:0,maxLength:2,size:"max"}),bt(e,{minLength:3,maxLength:3,size:"max"}),t).map(va,ka),nt(bt(e,{minLength:0,maxLength:3,size:"max"}),bt(e,{minLength:2,maxLength:2,size:"max"}),t).map(va,ka),nt(bt(e,{minLength:0,maxLength:4,size:"max"}),e,t).map(xM,pM),nt(bt(e,{minLength:0,maxLength:5,size:"max"}),t).map(Em,Fm),nt(bt(e,{minLength:0,maxLength:6,size:"max"}),e).map(Em,Fm),nt(bt(e,{minLength:0,maxLength:7,size:"max"})).map(mM,dM))}class Cm extends Ct{constructor(t){super(),this.name=t,this.underlying=null}generate(t,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(t,n)}canShrinkWithoutContext(t){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(t)}shrink(t,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(t,n)}}const _M=Object.create;function qS(e){const t=_M(null),r=e(s=>(iu(t,s)||(t[s]=new Cm(String(s))),t[s]));for(const s in r){if(!iu(r,s))continue;const i=t[s],a=i!==void 0?i:new Cm(s);a.underlying=r[s],t[s]=a}return r}function wM(e){return St(ht(e,t=>t[t.length-1]===","?Ft(t,0,t.length-1):t)," ")}function AM(e){return function(n){if(typeof n!="string")throw new Error("Unsupported type");const r=[];for(const s of fe(n," "))if(e.canShrinkWithoutContext(s))U(r,s);else if(e.canShrinkWithoutContext(s+","))U(r,s+",");else throw new Error("Unsupported word");return r}}function EM(e){let t=St(e," ");return t[t.length-1]===","&&(t=Ft(t,0,t.length-1)),bh(t[0])+Ft(t,1)+"."}function FM(e){return function(n){if(typeof n!="string")throw new Error("Unsupported type");if(n.length<2||n[n.length-1]!=="."||n[n.length-2]===","||bh(uf(n[0]))!==n[0])throw new Error("Unsupported value");const r=uf(n[0])+Ft(n,1,n.length-1),s=[],i=fe(r," ");for(let a=0;a!==i.length;++a){const u=i[a];if(e.canShrinkWithoutContext(u))U(s,u);else if(a===i.length-1&&e.canShrinkWithoutContext(u+","))U(s,u+",");else throw new Error("Unsupported word")}return s}}function CM(e){return St(e," ")}function vM(e){if(typeof e!="string")throw new Error("Unsupported type");const t=fe(e,". ");for(let n=0;n<t.length-1;++n)t[n]+=".";return t}const _=(e,t)=>({arbitrary:Kt(e),weight:t});function kM(){return Jt(_("non",6),_("adipiscing",5),_("ligula",5),_("enim",5),_("pellentesque",5),_("in",5),_("augue",5),_("et",5),_("nulla",5),_("lorem",4),_("sit",4),_("sed",4),_("diam",4),_("fermentum",4),_("ut",4),_("eu",4),_("aliquam",4),_("mauris",4),_("vitae",4),_("felis",4),_("ipsum",3),_("dolor",3),_("amet,",3),_("elit",3),_("euismod",3),_("mi",3),_("orci",3),_("erat",3),_("praesent",3),_("egestas",3),_("leo",3),_("vel",3),_("sapien",3),_("integer",3),_("curabitur",3),_("convallis",3),_("purus",3),_("risus",2),_("suspendisse",2),_("lectus",2),_("nec,",2),_("ultricies",2),_("sed,",2),_("cras",2),_("elementum",2),_("ultrices",2),_("maecenas",2),_("massa,",2),_("varius",2),_("a,",2),_("semper",2),_("proin",2),_("nec",2),_("nisl",2),_("amet",2),_("duis",2),_("congue",2),_("libero",2),_("vestibulum",2),_("pede",2),_("blandit",2),_("sodales",2),_("ante",2),_("nibh",2),_("ac",2),_("aenean",2),_("massa",2),_("suscipit",2),_("sollicitudin",2),_("fusce",2),_("tempus",2),_("aliquam,",2),_("nunc",2),_("ullamcorper",2),_("rhoncus",2),_("metus",2),_("faucibus,",2),_("justo",2),_("magna",2),_("at",2),_("tincidunt",2),_("consectetur",1),_("tortor,",1),_("dignissim",1),_("congue,",1),_("non,",1),_("porttitor,",1),_("nonummy",1),_("molestie,",1),_("est",1),_("eleifend",1),_("mi,",1),_("arcu",1),_("scelerisque",1),_("vitae,",1),_("consequat",1),_("in,",1),_("pretium",1),_("volutpat",1),_("pharetra",1),_("tempor",1),_("bibendum",1),_("odio",1),_("dui",1),_("primis",1),_("faucibus",1),_("luctus",1),_("posuere",1),_("cubilia",1),_("curae,",1),_("hendrerit",1),_("velit",1),_("mauris,",1),_("gravida",1),_("ornare",1),_("ut,",1),_("pulvinar",1),_("varius,",1),_("turpis",1),_("nibh,",1),_("eros",1),_("id",1),_("aliquet",1),_("quis",1),_("lobortis",1),_("consectetuer",1),_("morbi",1),_("vehicula",1),_("tortor",1),_("tellus,",1),_("id,",1),_("eu,",1),_("quam",1),_("feugiat,",1),_("posuere,",1),_("iaculis",1),_("lectus,",1),_("tristique",1),_("mollis,",1),_("nisl,",1),_("vulputate",1),_("sem",1),_("vivamus",1),_("placerat",1),_("imperdiet",1),_("cursus",1),_("rutrum",1),_("iaculis,",1),_("augue,",1),_("lacus",1))}function IM(e={}){const{maxCount:t,mode:n="words",size:r}=e;if(t!==void 0&&t<1)throw new Error("lorem has to produce at least one word/sentence");const s=kM();if(n==="sentences"){const i=bt(s,{minLength:1,size:"small"}).map(EM,FM(s));return bt(i,{minLength:1,maxLength:t,size:r}).map(CM,vM)}else return bt(s,{minLength:1,maxLength:t,size:r}).map(wM,AM(s))}let oa=10;function TM(e){const t={};return(n=>{const r=n!==void 0?n:oa;if(!iu(t,r)){const s=oa;oa=r-1,t[r]=e(r),oa=s}return t[r]})}function OM(e){let t=0;for(;e>$(0);)e&$(1)&&++t,e>>=$(1);return t}function $M(e,t){const n=($(1)<<$(t))-$(1),r=e&n;let s=OM(e-r),i=r;for(let a=$(1);a<=n&&s!==0;a<<=$(1))i&a||(i|=a,--s);return i}function aa(e,t){const n=[];for(let r=e.length-1;r!==-1;--r)t(e[r])!==e[r]&&U(n,r);return n}function BM(e,t,n){let r=$(0);for(let s=0,i=$(1);s!==n.length;++s,i<<=$(1))e[n[s]]!==t[n[s]]&&(r|=i);return r}function Xc(e,t,n,r){for(let s=0,i=$(1);s!==n.length;++s,i<<=$(1))t&i&&(e[n[s]]=r(e[n[s]]))}class MM extends Ct{constructor(t,n,r){super(),this.stringArb=t,this.toggleCase=n,this.untoggleAll=r}buildContextFor(t,n){return{rawString:t.value,rawStringContext:t.context,flags:n.value,flagsContext:n.context}}generate(t,n){const r=this.stringArb.generate(t,n),s=[...r.value],i=aa(s,this.toggleCase),u=Kn($(0),($(1)<<$(i.length))-$(1)).generate(t,void 0);return Xc(s,u.value,i,this.toggleCase),new j(St(s,""),this.buildContextFor(r,u))}canShrinkWithoutContext(t){return typeof t!="string"?!1:this.untoggleAll!==void 0?this.stringArb.canShrinkWithoutContext(this.untoggleAll(t)):this.stringArb.canShrinkWithoutContext(t)}shrink(t,n){let r;if(n!==void 0)r=n;else if(this.untoggleAll!==void 0){const a=this.untoggleAll(t),u=[...t],c=[...a],f=aa(c,this.toggleCase);r={rawString:a,rawStringContext:void 0,flags:BM(c,u,f),flagsContext:void 0}}else r={rawString:t,rawStringContext:void 0,flags:$(0),flagsContext:void 0};const s=r.rawString,i=r.flags;return this.stringArb.shrink(s,r.rawStringContext).map(a=>{const u=[...a.value],c=aa(u,this.toggleCase),f=$M(i,c.length);return Xc(u,f,c,this.toggleCase),new j(St(u,""),this.buildContextFor(a,new j(f,void 0)))}).join(Pn(()=>{const a=[...s],u=aa(a,this.toggleCase);return Kn($(0),($(1)<<$(u.length))-$(1)).shrink(i,r.flagsContext).map(c=>{const f=Qt(a);return Xc(f,c.value,u,this.toggleCase),new j(St(f,""),this.buildContextFor(new j(s,r.rawStringContext),c))})}))}}function RM(e){const t=bh(e);return t!==e?t:uf(e)}function NM(e,t){const n=t&&t.toggleCase||RM,r=t&&t.untoggleAll;return new MM(e,n,r)}function DM(e){return O2.from(e)}function PM(e){if(!(e instanceof O2))throw new Error("Unexpected type");return[...e]}function VS(e={}){return bt(NS(e),e).map(DM,PM)}function jM(e){return $2.from(e)}function LM(e){if(!(e instanceof $2))throw new Error("Unexpected type");return[...e]}function WS(e={}){return bt(oc(e),e).map(jM,LM)}function vn(e,t,n,r,s){const i=r.name,{min:a=t,max:u=n,...c}=e;if(a>u)throw new Error(`Invalid range passed to ${i}: min must be lower than or equal to max`);if(a<t)throw new Error(`Invalid min value passed to ${i}: min must be greater than or equal to ${t}`);if(u>n)throw new Error(`Invalid max value passed to ${i}: max must be lower than or equal to ${n}`);return bt(s({min:a,max:u}),c).map(f=>r.from(f),f=>{if(!(f instanceof r))throw new Error("Invalid type");return[...f]})}function zS(e={}){return vn(e,-32768,32767,GO,gt)}function GS(e={}){return vn(e,-2147483648,2147483647,HO,gt)}function HS(e={}){return vn(e,-128,127,zO,gt)}function KS(e={}){return vn(e,0,65535,JO,gt)}function YS(e={}){return vn(e,0,4294967295,ZO,gt)}function JS(e={}){return vn(e,0,255,KO,gt)}function ZS(e={}){return vn(e,0,255,YO,gt)}function UM(e){return e!==void 0}function vm(e){return e.hasToBeCloned?new j(e.value_,{generatorContext:e.context},()=>e.value):new j(e.value_,{generatorContext:e.context})}function km(e){return e.hasToBeCloned?new j(e.value_,{shrinkerContext:e.context},()=>e.value):new j(e.value_,{shrinkerContext:e.context})}class qM extends Ct{constructor(t,n){super(),this.generatorArbitrary=t,this.shrinkerArbitrary=n}generate(t,n){return vm(this.generatorArbitrary.generate(t,n))}canShrinkWithoutContext(t){return this.shrinkerArbitrary.canShrinkWithoutContext(t)}shrink(t,n){return UM(n)?"generatorContext"in n?this.generatorArbitrary.shrink(t,n.generatorContext).map(vm):this.shrinkerArbitrary.shrink(t,n.shrinkerContext).map(km):this.shrinkerArbitrary.shrink(t,void 0).map(km)}}function _f(e,t,n){const r=gt({min:e,max:t});if(t===n)return r;const s=gt({min:e,max:n});return new qM(r,s)}const VM=Math.min,wf=Math.max,Im=I2.isArray,WM=Object.entries;function zM(e){let t=-1;for(let n=0;n!==e.length;++n)t=wf(t,e[n][0]);return t}function GM(e,t){const n=I2(e);for(let r=0;r!==t.length;++r){const s=t[r];s[0]<e&&(n[s[0]]=s[1])}return n}function XS(e,t={}){const{size:n,minNumElements:r=0,maxLength:s=Gr,maxNumElements:i=s,noTrailingHole:a,depthIdentifier:u}=t,c=ji(n,r,i,t.maxNumElements!==void 0),f=ji(n,c,s,t.maxLength!==void 0);if(r>s)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(r>i)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");const x=VM(i,s),p=t.maxNumElements!==void 0||n!==void 0?n:"=",g=wf(f-1,0),b=wf(s-1,0),S=Co(nt(_f(0,g,b),e),{size:p,minLength:r,maxLength:x,selector:w=>w[0],depthIdentifier:u}).map(w=>{const d=zM(w);return GM(d+1,w)},w=>{if(!Im(w))throw new Error("Not supported entry type");if(a&&w.length!==0&&!(w.length-1 in w))throw new Error("No trailing hole");return ht(WM(w),d=>[Number(d[0]),d[1]])});return a||s===r?S:nt(S,_f(r,f,s)).map(w=>{const d=w[0],F=w[1];if(d.length>=F)return d;const E=Qt(d);return E.length=F,E},w=>{if(!Im(w))throw new Error("Not supported entry type");return[w,w.length]})}function HM(e){return new Map(e)}function KM(e){if(typeof e!="object"||e===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Map)throw new Error("Incompatible instance received: should be of exact type Map");return Array.from(e)}function YM(e){return new Set(e)}function JM(e){if(typeof e!="object"||e===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Set)throw new Error("Incompatible instance received: should be of exact type Set");return Array.from(e)}function Tm(e,t,n,r,s){return Co(nt(e,t),{maxLength:n,size:r,comparator:"SameValueZero",selector:i=>i[0],depthIdentifier:s}).map(HM,KM)}function ZM(e,t,n,r,s,i){return $h(e,t,{maxKeys:n,noNullPrototype:!i,size:r,depthIdentifier:s})}function XM(e,t,n,r){return Co(e,{maxLength:t,size:n,comparator:"SameValueZero",depthIdentifier:r}).map(YM,JM)}function QM(e){return Jt(HS(e),JS(e),ZS(e),zS(e),KS(e),GS(e),YS(e),VS(e),WS(e))}function QS(e){const t=e.values,n=e.depthSize,r=xS(),s=e.maxDepth,i=e.maxKeys,a=e.size,u=Jt(...t,...e.withBigInt?[Kn()]:[],...e.withDate?[bS()]:[]);return qS(c=>({anything:Jt({maxDepth:s,depthSize:n,depthIdentifier:r},u,c("array"),c("object"),...e.withMap?[c("map")]:[],...e.withSet?[c("set")]:[],...e.withObjectString?[c("anything").map(f=>Lt(f))]:[],...e.withTypedArray?[QM({maxLength:i,size:a})]:[],...e.withSparseArray?[XS(c("anything"),{maxNumElements:i,size:a,depthIdentifier:r})]:[]),keys:e.withObjectString?Jt({arbitrary:e.key,weight:10},{arbitrary:c("anything").map(f=>Lt(f)),weight:1}):e.key,array:bt(c("anything"),{maxLength:i,size:a,depthIdentifier:r}),set:XM(c("anything"),i,a,r),map:Jt(Tm(c("keys"),c("anything"),i,a,r),Tm(c("anything"),c("anything"),i,a,r)),object:ZM(c("keys"),c("anything"),i,a,r,e.withNullPrototype)})).anything}function tR(e){switch(typeof e){case"boolean":return new T2(e);case"number":return new bn(e);case"string":return new zr(e);default:return e}}function eR(e){return typeof e!="object"||e===null||!("constructor"in e)?e:e.constructor===T2||e.constructor===bn||e.constructor===zr?e.valueOf():e}function nR(e){return e.map(tR,eR)}function rR(e,t){return[Fo(),jS(),oc(),t(e),Jt(t(e),Kt(null),Kt(void 0))]}function sR(e){return e.map(t=>nR(t))}function iR(e,t){return t?sR(e).concat(e):e}function t_(e={}){const t={size:e.size,unit:"stringUnit"in e?e.stringUnit:e.withUnicodeString?"binary":void 0};return{key:e.key!==void 0?e.key:jt(t),values:iR(e.values!==void 0?e.values:rR(t,jt),e.withBoxedValues===!0),depthSize:e.depthSize,maxDepth:e.maxDepth,maxKeys:e.maxKeys,size:e.size,withSet:e.withSet===!0,withMap:e.withMap===!0,withObjectString:e.withObjectString===!0,withNullPrototype:e.withNullPrototype===!0,withBigInt:e.withBigInt===!0,withDate:e.withDate===!0,withTypedArray:e.withTypedArray===!0,withSparseArray:e.withSparseArray===!0}}function oR(e){return $h(e.key,QS(e),{maxKeys:e.maxKeys,noNullPrototype:!e.withNullPrototype,size:e.size})}function aR(e){return oR(t_(e))}function uR(e,t){const{depthSize:n,maxDepth:r}=t,s=e,i=[Fo(),oc({noDefaultInfinity:!0,noNaN:!0}),e,Kt(null)];return{key:s,values:i,depthSize:n,maxDepth:r}}function e_(e){return QS(t_(e))}function n_(e={}){const t=e.noUnicodeString===void 0||e.noUnicodeString===!0,n="stringUnit"in e?jt({unit:e.stringUnit}):t?jt():jt({unit:"binary"});return e_(uR(n,e))}const cR=JSON.stringify;function fR(e={}){return n_(e).map(cR)}const lR=Object.keys,hR=Object.getOwnPropertySymbols,xR=Object.getOwnPropertyDescriptor;function pR(e){const t=lR(e),n=hR(e);for(let r=0;r!==n.length;++r){const s=n[r],i=xR(e,s);i&&i.enumerable&&t.push(s)}return t}const mR=Object.create,dR=Object.defineProperty,gR=Object.getOwnPropertyDescriptor,bR=Object.getOwnPropertyNames,yR=Object.getOwnPropertySymbols;function SR(e,t){return function(r){const s=r[1]?mR(null):{};for(let i=0;i!==e.length;++i){const a=r[0][i];a!==t&&dR(s,e[i],{value:a,configurable:!0,enumerable:!0,writable:!0})}return s}}function _R(e,t){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");const s=Object.getPrototypeOf(r)===null,i="constructor"in r&&r.constructor===Object;if(!s&&!i)throw new Error("Incompatible instance received: should be of exact type Object");let a=0;const u=[];for(let x=0;x!==e.length;++x){const p=gR(r,e[x]);if(p!==void 0){if(!p.configurable||!p.enumerable||!p.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(p.get!==void 0||p.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++a,U(u,p.value)}else U(u,t)}const c=bR(r).length,f=yR(r).length;if(a!==c+f)throw new Error("Incompatible instance received: should not contain extra properties");return[u,s]}}const Qc=Symbol("no-key");function t0(e,t,n){const r=pR(e),s=[];for(let i=0;i!==r.length;++i){const a=r[i],u=e[a];t===void 0||mn(t,a)!==-1?U(s,u):U(s,Rr(u,{nil:Qc}))}return nt(nt(...s),n?Kt(!1):Fo()).map(SR(r,Qc),_R(r,Qc))}function wR(e,t){const n=t!==void 0&&!!t.noNullPrototype;if(t==null||!("requiredKeys"in t&&t.requiredKeys!==void 0))return t0(e,void 0,n);const s=("requiredKeys"in t?t.requiredKeys:void 0)||[];for(let i=0;i!==s.length;++i){const a=Object.getOwnPropertyDescriptor(e,s[i]);if(a===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!a.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return t0(e,s,n)}const AR=Object.defineProperties;function e0(e,t){return`Stream(${t!==void 0?`${St(t,",")}…`:`${e} emitted`})`}class ER extends Ct{constructor(t,n){super(),this.arb=t,this.history=n}generate(t,n){const r=n!==void 0&&t.nextInt(1,n)===1?n:void 0,s=()=>{const i=this.history?[]:null;let a=0;const u=function*(f,x){for(;;){const p=f.generate(x,r).value;a++,i!==null&&U(i,p),yield p}},c=new V(u(this.arb,t.clone()));return AR(c,{toString:{value:()=>e0(a,i!==null?i.map(Lt):void 0)},[An]:{value:()=>e0(a,i!==null?i.map(Lt):void 0)},[En]:{value:async()=>e0(a,i!==null?await Promise.all(i.map(Eh)):void 0)},[Xt]:{value:s,enumerable:!0}})};return new j(s(),void 0)}canShrinkWithoutContext(t){return!1}shrink(t,n){return V.nil()}}function FR(e,t){const n=t!==void 0&&typeof t=="object"&&"noHistory"in t?!t.noHistory:!0;return new ER(e,n)}function CR(e){return St(e,"")}function Om(e){if(typeof e!="string")throw new Error("Cannot unmap the passed value");return[...e]}function vR(e){switch(e.length%4){case 0:return e;case 3:return`${e}=`;case 2:return`${e}==`;default:return Ft(e,1)}}function kR(e){if(typeof e!="string"||e.length%4!==0)throw new Error("Invalid string received");const t=e.indexOf("=");if(t===-1)return e;if(e.length-t>2)throw new Error("Cannot unmap the passed value");return Ft(e,0,t)}const n0=String.fromCharCode;function IR(e){return e<26?n0(e+65):e<52?n0(e+97-26):e<62?n0(e+48-52):e===62?"+":"/"}function TR(e){if(typeof e!="string"||e.length!==1)throw new L("Invalid entry");const t=js(e,0);return t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:t>=48&&t<=57?t-48+52:t===43?62:t===47?63:-1}function OR(){return gt({min:0,max:63}).map(IR,TR)}function $R(e={}){const{minLength:t=0,maxLength:n=Gr,size:r}=e,s=t+3-(t+3)%4,i=n-n%4,a=e.maxLength===void 0&&r===void 0?"=":r;if(s>i)throw new L("Minimal length should be inferior or equal to maximal length");if(s%4!==0)throw new L("Minimal length of base64 strings must be a multiple of 4");if(i%4!==0)throw new L("Maximal length of base64 strings must be a multiple of 4");const u=OR(),c=O7(u,Om);return bt(u,{minLength:s,maxLength:i,size:a,experimentalCustomSlices:c}).map(CR,Om).map(vR,kR)}const $m=Object.is;function BR(e,t){const n=new Ao;let r=0;for(const s of e)if($m(s,-0))++r;else{const i=Gn(n,s)||0;Mr(n,s,i+1)}for(let s=0;s!==t.length;++s){if(!(s in t))return!1;const i=t[s];if($m(i,-0)){if(r===0)return!1;--r}else{const a=Gn(n,i)||0;if(a===0)return!1;Mr(n,i,a-1)}}return!0}const MR=Math.floor,Bm=Math.log,RR=Array.isArray;class r_ extends Ct{constructor(t,n,r,s){if(super(),this.originalArray=t,this.isOrdered=n,this.minLength=r,this.maxLength=s,r<0||r>t.length)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be between 0 and the size of the original array");if(s<0||s>t.length)throw new Error("fc.*{s|S}ubarrayOf expects the maximal length to be between 0 and the size of the original array");if(r>s)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be inferior or equal to the maximal length");this.lengthArb=new Hn(r,s),this.biasedLengthArb=r!==s?new Hn(r,r+MR(Bm(s-r)/Bm(2))):this.lengthArb}generate(t,n){const s=(n!==void 0&&t.nextInt(1,n)===1?this.biasedLengthArb:this.lengthArb).generate(t,void 0),i=s.value,a=ht(this.originalArray,(c,f)=>f),u=[];for(let c=0;c!==i;++c){const f=t.nextInt(0,a.length-1);U(u,a[f]),R2(a,f,1)}return this.isOrdered&&N2(u,(c,f)=>c-f),new j(ht(u,c=>this.originalArray[c]),s.context)}canShrinkWithoutContext(t){return!RR(t)||!this.lengthArb.canShrinkWithoutContext(t.length)?!1:BR(this.originalArray,t)}shrink(t,n){return t.length===0?V.nil():this.lengthArb.shrink(t.length,n).map(r=>new j(Qt(t,t.length-r.value),r.context)).join(t.length>this.minLength?Pn(()=>this.shrink(Qt(t,1),void 0).filter(r=>this.minLength<=r.value.length+1).map(r=>new j([t[0],...r.value],void 0))):V.nil())}}function NR(e,t={}){const{minLength:n=0,maxLength:r=e.length}=t;return new r_(e,!0,n,r)}function DR(e,t={}){const{minLength:n=0,maxLength:r=e.length}=t;return new r_(e,!1,n,r)}const PR={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"},jR={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,J:18,K:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,V:27,W:28,X:29,Y:30,Z:31};function LR(e){return e<10?zr(e):PR[e]}function Mm(e,t){let n="";for(;e.length+n.length<t;)n+="0";return n+e}function Rm(e){let t="";for(let n=e;n!==0;){const r=n>>5,s=n-(r<<5);t=LR(s)+t,n=r}return t}function UR(e,t){const n=~~(e/1073741824),r=e&1073741823;return Mm(Rm(n),t-6)+Mm(Rm(r),6)}function s_(e){return function(n){return UR(n,e)}}function r0(e){if(typeof e!="string")throw new L("Unsupported type");let t=0,n=1;for(let r=e.length-1;r>=0;--r){const s=e[r],i=jR[s];if(i===void 0)throw new L("Unsupported type");t+=i*n,n*=32}return t}const qR=s_(10),Nm=s_(8);function VR(e){return qR(e[0])+Nm(e[1])+Nm(e[2])}function WR(e){if(typeof e!="string"||e.length!==26)throw new Error("Unsupported type");return[r0(e.slice(0,10)),r0(e.slice(10,18)),r0(e.slice(18))]}function zR(){const e=gt({min:0,max:0xffffffffffff}),t=gt({min:0,max:0xffffffffff}),n=gt({min:0,max:0xffffffffff});return nt(e,t,n).map(VR,WR)}function i_(e){return M9(Ni(e,16),8,"0")}function GR(e){if(typeof e!="string")throw new Error("Unsupported type");if(e.length!==8)throw new Error("Unsupported value: invalid length");const t=parseInt(e,16);if(e!==i_(t))throw new Error("Unsupported value: invalid content");return t}function s0(e,t){return gt({min:e,max:t}).map(i_,GR)}function HR(e){return`${e[0]}-${Ft(e[1],4)}-${Ft(e[1],0,4)}-${Ft(e[2],0,4)}-${Ft(e[2],4)}${e[3]}`}const KR=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function YR(e){if(typeof e!="string")throw new Error("Unsupported type");const t=KR.exec(e);if(t===null)throw new Error("Unsupported type");return[t[1],t[3]+t[2],t[4]+Ft(t[5],0,4),Ft(t[5],4)]}const Dm="0123456789abcdef";function JR(e){const t={},n={};for(let i=0;i!==e.length;++i){const a=Dm[i],u=Dm[e[i]];t[a]=u,n[u]=a}function r(i){return t[i[0]]+Ft(i,1)}function s(i){if(typeof i!="string")throw new L("Cannot produce non-string values");const a=n[i[0]];if(a===void 0)throw new L("Cannot produce strings not starting by the version in hexa code");return a+Ft(i,1)}return{versionsApplierMapper:r,versionsApplierUnmapper:s}}function ZR(e){const t={};for(const n of e){if(t[n])throw new L(`Version ${n} has been requested at least twice for uuid`);if(t[n]=!0,n<1||n>15)throw new L(`Version must be a value in [1-15] for uuid, but received ${n}`);if(~~n!==n)throw new L(`Version must be an integer value for uuid, but received ${n}`)}if(e.length===0)throw new L("Must provide at least one version for uuid")}function XR(e={}){const t=s0(0,4294967295),n=e.version!==void 0?typeof e.version=="number"?[e.version]:e.version:[1,2,3,4,5,6,7,8];ZR(n);const{versionsApplierMapper:r,versionsApplierUnmapper:s}=JR(n),i=s0(0,268435456*n.length-1).map(r,s),a=s0(2147483648,3221225471);return nt(t,i,a,t).map(HR,YR)}function QR(e){return jt({unit:Rh("-._~!$&'()*+,;=:"),size:e})}function tN([e,t,n]){return(e===null?"":`${e}@`)+t+(n===null?"":`:${n}`)}function eN(e){if(typeof e!="string")throw new Error("Unsupported");const t=e.indexOf("@"),n=t!==-1?e.substring(0,t):null,s=/:(\d+)$/.exec(e),i=s!==null?Number(s[1]):null,a=s!==null?e.substring(t+1,e.length-s[1].length-1):e.substring(t+1);return[n,a,i]}function nN(e){return`[${e}]`}function rN(e){if(typeof e!="string"||e[0]!=="["||e[e.length-1]!=="]")throw new Error("Unsupported");return e.substring(1,e.length-1)}function o_(e){const t=e||{},n=t.size,r=[Nh({size:n}),...t.withIPv4===!0?[Lh()]:[],...t.withIPv6===!0?[US().map(nN,rN)]:[],...t.withIPv4Extended===!0?[LS()]:[]];return nt(t.withUserInfo===!0?Rr(QR(n)):Kt(null),Jt(...r),t.withPort===!0?Rr(Dn(65535)):Kt(null)).map(tN,eN)}function a_(e){return jt({unit:Rh("-._~!$&'()*+,;=:@/?"),size:e})}function u_(e={}){return a_(e.size)}function c_(e={}){return jt({unit:Rh("-._~!$&'()*+,;=:@"),size:e.size})}function sN(e){return St(ht(e,t=>`/${t}`),"")}function iN(e){if(typeof e!="string")throw new Error("Incompatible value received: type");if(e.length!==0&&e[0]!=="/")throw new Error("Incompatible value received: start");return R2(fe(e,"/"),1)}function oN(e){switch(e){case"xsmall":return["xsmall","xsmall"];case"small":return["small","xsmall"];case"medium":return["small","small"];case"large":return["medium","small"];case"xlarge":return["medium","medium"]}}function i0(e,t){return bt(c_({size:e}),{size:t}).map(sN,iN)}function aN(e){const[t,n]=oN(e);return t===n?i0(t,n):Jt(i0(t,n),i0(n,t))}function f_(e){const n=kh((e||{}).size);return aN(n)}function l_(e={}){return a_(e.size)}function uN(e){const[t,n,r]=e,s=e[3]===null?"":`?${e[3]}`,i=e[4]===null?"":`#${e[4]}`;return`${t}://${n}${r}${s}${i}`}const cN=/^([[A-Za-z][A-Za-z0-9+.-]*):\/\/([^/?#]*)([^?#]*)(\?[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?(#[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?$/;function fN(e){if(typeof e!="string")throw new Error("Incompatible value received: type");const t=cN.exec(e);if(t===null)throw new Error("Incompatible value received");const n=t[1],r=t[2],s=t[3],i=t[4],a=t[5];return[n,r,s,i!==void 0?i.substring(1):null,a!==void 0?a.substring(1):null]}function lN(e){const t=e||{},n=kh(t.size),r=t.authoritySettings!==void 0&&t.authoritySettings.size!==void 0?Eo(t.authoritySettings.size,n):n,s={...t.authoritySettings,size:r},i=t.validSchemes||["http","https"],a=Qe(...i),u=o_(s);return nt(a,u,f_({size:n}),t.withQueryParameters===!0?Rr(l_({size:n})):Kt(null),t.withFragments===!0?Rr(u_({size:n})):Kt(null)).map(uN,fN)}class Vh{constructor(t,n){this.commands=t,this.metadataForReplay=n,this[Xt]=function(){return new Vh(this.commands.map(r=>r.clone()),this.metadataForReplay)}}[Symbol.iterator](){return this.commands[Symbol.iterator]()}toString(){const t=this.commands.filter(r=>r.hasRan).map(r=>r.toString()).join(","),n=this.metadataForReplay();return n.length!==0?`${t} /*${n}*/`:t}}class cu{constructor(t){if(this.cmd=t,this.hasRan=!1,wh(t)){const n=t[An];this[An]=function(){return n.call(t)}}if(Ah(t)){const n=t[En];this[En]=function(){return n.call(t)}}}check(t){return this.cmd.check(t)}run(t,n){return this.hasRan=!0,this.cmd.run(t,n)}clone(){return Wr(this.cmd)?new cu(this.cmd[Xt]()):new cu(this.cmd)}toString(){return this.cmd.toString()}}class Pm{static parse(t){const[n,r]=t.split(":"),s=this.parseCounts(n),i=this.parseChanges(r);return this.parseOccurences(s,i)}static stringify(t){const n=this.countOccurences(t),r=this.stringifyCounts(n),s=this.stringifyChanges(n);return`${r}:${s}`}static intToB64(t){return t<26?String.fromCharCode(t+65):t<52?String.fromCharCode(t+97-26):t<62?String.fromCharCode(t+48-52):String.fromCharCode(t===62?43:47)}static b64ToInt(t){return t>="a"?t.charCodeAt(0)-97+26:t>="A"?t.charCodeAt(0)-65:t>="0"?t.charCodeAt(0)-48+52:t==="+"?62:63}static countOccurences(t){return t.reduce((n,r)=>(n.length===0||n[n.length-1].count===64||n[n.length-1].value!==r?n.push({value:r,count:1}):n[n.length-1].count+=1,n),[])}static parseOccurences(t,n){const r=[];for(let s=0;s!==t.length;++s){const i=t[s],a=n[s];for(let u=0;u!==i;++u)r.push(a)}return r}static stringifyChanges(t){let n="";for(let r=0;r<t.length;r+=6){const s=t.slice(r,r+6).reduceRight((i,a)=>i*2+(a.value?1:0),0);n+=this.intToB64(s)}return n}static parseChanges(t){const n=t.split("").map(s=>this.b64ToInt(s)),r=[];for(let s=0;s!==n.length;++s){let i=n[s];for(let a=0;a!==6;++a,i>>=1)r.push(i%2===1)}return r}static stringifyCounts(t){return t.map(({count:n})=>this.intToB64(n-1)).join("")}static parseCounts(t){return t.split("").map(n=>this.b64ToInt(n)+1)}}class hN extends Ct{constructor(t,n,r,s,i){super(),this.sourceReplayPath=s,this.disableReplayLog=i,this.oneCommandArb=Jt(...t).map(a=>new cu(a)),this.lengthArb=_f(0,n,r),this.replayPath=[],this.replayPathPosition=0}metadataForReplay(){return this.disableReplayLog?"":`replayPath=${JSON.stringify(Pm.stringify(this.replayPath))}`}buildValueFor(t,n){const r=t.map(i=>i.value_),s={shrunkOnce:n,items:t};return new j(new Vh(r,()=>this.metadataForReplay()),s)}generate(t){const r=this.lengthArb.generate(t,void 0).value,s=Array(r);for(let i=0;i!==r;++i){const a=this.oneCommandArb.generate(t,void 0);s[i]=a}return this.replayPathPosition=0,this.buildValueFor(s,!1)}canShrinkWithoutContext(t){return!1}filterOnExecution(t){const n=[];for(const r of t)r.value_.hasRan?(this.replayPath.push(!0),n.push(r)):this.replayPath.push(!1);return n}filterOnReplay(t){return t.filter((n,r)=>{const s=this.replayPath[this.replayPathPosition+r];if(s===void 0)throw new Error("Too short replayPath");if(!s&&n.value_.hasRan)throw new Error("Mismatch between replayPath and real execution");return s})}filterForShrinkImpl(t){this.replayPathPosition===0&&(this.replayPath=this.sourceReplayPath!==null?Pm.parse(this.sourceReplayPath):[]);const n=this.replayPathPosition<this.replayPath.length?this.filterOnReplay(t):this.filterOnExecution(t);return this.replayPathPosition+=t.length,n}shrink(t,n){if(n===void 0)return V.nil();const r=n,s=r.shrunkOnce,i=r.items,a=this.filterForShrinkImpl(i);if(a.length===0)return V.nil();const u=s?V.nil():new V([[]][Symbol.iterator]()),c=[];for(let f=0;f!==a.length;++f)c.push(Pn(()=>{const x=a.slice(0,f);return this.lengthArb.shrink(a.length-1-f,void 0).map(p=>x.concat(a.slice(a.length-(p.value+1))))}));for(let f=0;f!==a.length;++f)c.push(Pn(()=>this.oneCommandArb.shrink(a[f].value_,a[f].context).map(x=>a.slice(0,f).concat([x],a.slice(f+1)))));return u.join(...c).map(f=>this.buildValueFor(f.map(x=>new j(x.value_.clone(),x.context)),!0))}}function xN(e,t={}){const{size:n,maxCommands:r=Gr,disableReplayLog:s=!1,replayPath:i=null}=t,a=t.maxCommands!==void 0,u=ji(n,0,r,a);return new hN(e,u,r,i,s)}class pN{constructor(t,n){this.s=t,this.cmd=n}async check(t){let n=null,r=!1;if((await this.s.scheduleSequence([{label:`check@${this.cmd.toString()}`,builder:async()=>{try{r=await Promise.resolve(this.cmd.check(t))}catch(i){throw n=i,i}}}]).task).faulty)throw n;return r}async run(t,n){let r=null;if((await this.s.scheduleSequence([{label:`run@${this.cmd.toString()}`,builder:async()=>{try{await this.cmd.run(t,n)}catch(i){throw r=i,i}}}]).task).faulty)throw r}}const mN=function*(e,t){for(const n of t)yield new pN(e,n)},h_=(e,t,n,r,s)=>e.then(i=>{const{model:a,real:u}=i;let c=n;for(const f of t)c=s(c,()=>r(f,a,u));return c}),dN=(e,t)=>h_({then:i=>{i(e())}},t,void 0,(i,a,u)=>{i.check(a)&&i.run(a,u)},(i,a)=>a()),gN=e=>typeof e.then=="function",x_=async(e,t,n=Promise.resolve())=>await h_({then:a=>{const u=e();return gN(u)?u.then(a):a(u)}},t,n,async(a,u,c)=>{await a.check(u)&&await a.run(u,c)},(a,u)=>a.then(u));function bN(e,t){dN(e,t)}async function yN(e,t){await x_(e,t)}async function SN(e,t,n){const r=mN(e,n),s=x_(t,r,e.schedule(Promise.resolve(),"startModel"));await e.waitFor(s),await e.waitAll()}const ua=e=>e(),o0=50;class Vi{constructor(t,n){this.act=t,this.taskSelector=n,this.lastTaskId=0,this.sourceTaskSelector=n.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[],this[Xt]=function(){return new Vi(this.act,this.sourceTaskSelector)}}static buildLog(t){return`[task\${${t.taskId}}] ${t.label.length!==0?`${t.schedulingType}::${t.label}`:t.schedulingType} ${t.status}${t.outputValue!==void 0?` with value ${VB(t.outputValue)}`:""}`}log(t,n,r,s,i,a){this.triggeredTasks.push({status:i,schedulingType:t,taskId:n,label:r,metadata:s,outputValue:a!==void 0?Lt(a):void 0})}scheduleInternal(t,n,r,s,i,a){const u=++this.lastTaskId;let c;const f=new Promise((x,p)=>{c=()=>{const g=Promise.resolve(a!==void 0?r.then(()=>a()):r);return g.then(b=>{this.log(t,u,n,s,"resolved",b),x(b)},b=>{this.log(t,u,n,s,"rejected",b),p(b)}),g}});return this.scheduledTasks.push({original:r,trigger:c,schedulingType:t,taskId:u,label:n,metadata:s,customAct:i}),this.scheduledWatchers.length!==0&&this.scheduledWatchers[0](),f}schedule(t,n,r,s){return this.scheduleInternal("promise",n||"",t,r,s||ua)}scheduleFunction(t,n){return(...r)=>this.scheduleInternal("function",`${t.name}(${r.map(Lt).join(",")})`,t(...r),void 0,n||ua)}scheduleSequence(t,n){const r={done:!1,faulty:!1},s={then:x=>x()};let i=()=>{};const a=new Promise(x=>{i=()=>x({done:r.done,faulty:r.faulty})}),u=()=>{r.faulty=!0,i()},c=()=>{r.done=!0,i()},f=(x,p)=>{if(x>=t.length){p.then(c,u);return}p.then(()=>{const g=t[x],[b,S,w]=typeof g=="function"?[g,g.name,void 0]:[g.builder,g.label,g.metadata],d=this.scheduleInternal("sequence",S,s,w,n||ua,()=>b());f(x+1,d)},u)};return f(0,s),Object.assign(r,{task:a})}count(){return this.scheduledTasks.length}internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");const t=this.taskSelector.nextTaskIndex(this.scheduledTasks),[n]=this.scheduledTasks.splice(t,1);return n.customAct(()=>n.trigger().catch(s=>{}))}waitOne(t){const n=t||ua;return this.act(()=>n(()=>this.internalWaitOne()))}async waitAll(t){for(;this.scheduledTasks.length>0;)await this.waitOne(t)}async internalWaitFor(t,n){let r=!1;const s=n.customAct,i=n.onWaitStart,a=n.onWaitIdle,u=n.launchAwaiterOnInit;let c,f,x=0,p=null,g=null;const b=async()=>{for(x=o0,x=o0;!r&&x>0;--x)await Promise.resolve();if(!r&&this.scheduledTasks.length>0)return i!==void 0&&i(),g=this.waitOne(s),g.then(()=>(g=null,b()),F=>{throw g=null,r=!0,f(F),F});!r&&a!==void 0&&a(),p=null},S=()=>{if(p!==null){x=o0+1;return}p=b().catch(()=>{})},w=()=>{const F=this.scheduledWatchers.indexOf(S);F!==-1&&this.scheduledWatchers.splice(F,1),F===0&&this.scheduledWatchers.length!==0&&this.scheduledWatchers[0]()},d=new Promise((F,E)=>{c=T=>{w(),F(T)},f=T=>{w(),E(T)}});return t.then(F=>{r=!0,g===null?c(F):g.then(()=>c(F),E=>f(E))},F=>{r=!0,g===null?f(F):g.then(()=>f(F),()=>f(F))}),(this.scheduledTasks.length>0||u)&&this.scheduledWatchers.length===0&&S(),this.scheduledWatchers.push(S),d}waitNext(t,n){let r,s=t;const i=s<=0?Promise.resolve():new Promise(a=>{r=()=>{--s<=0&&a()}});return this.internalWaitFor(i,{customAct:n,onWaitStart:r,onWaitIdle:void 0,launchAwaiterOnInit:!1})}waitIdle(t){let n;const r=new Promise(s=>n=s);return this.internalWaitFor(r,{customAct:t,onWaitStart:void 0,onWaitIdle:n,launchAwaiterOnInit:!0})}waitFor(t,n){return this.internalWaitFor(t,{customAct:n,onWaitStart:void 0,onWaitIdle:void 0,launchAwaiterOnInit:!1})}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(t=>({status:"pending",schedulingType:t.schedulingType,taskId:t.taskId,label:t.label,metadata:t.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(Vi.buildLog).map(t=>`-> ${t}`).join(`
`)+"`"}}function p_(e){let t=0;return{clone:()=>p_(e),nextTaskIndex:n=>{if(e.length<=t)throw new Error("Invalid schedulerFor defined: too many tasks have been scheduled");const r=n.findIndex(s=>s.taskId===e[t]);if(r===-1)throw new Error("Invalid schedulerFor defined: unable to find next task");return++t,r}}}function jm(e,t){return new Vi(e,p_(t))}function m_(e){const t=e.clone();return{clone:()=>m_(t),nextTaskIndex:n=>e.nextInt(0,n.length-1)}}class _N extends Ct{constructor(t){super(),this.act=t}generate(t,n){return new j(new Vi(this.act,m_(t.clone())),void 0)}canShrinkWithoutContext(t){return!1}shrink(t,n){return V.nil()}}function wN(e){const{act:t=n=>n()}=e||{};return new _N(t)}function AN(e,t){const{act:n=r=>r()}=Array.isArray(e)?t||{}:e||{};return Array.isArray(e)?jm(n,e):function(r,...s){return jm(n,s)}}function EN(e={}){return vn(e,$("-9223372036854775808"),$("9223372036854775807"),VO,Kn)}function FN(e={}){return vn(e,$(0),$("18446744073709551615"),WO,Kn)}function CN(e){return new Error(`Unsupported AST node! Received: ${Lt(e)}`)}function Ia(e,t,n){if(!t&&!n)return e;const r={hasStart:!1,hasEnd:!1},s=d_(e,t,n,r),i=t&&!r.hasStart,a=n&&!r.hasEnd;if(!i&&!a)return s;const u=[];return i&&(u.push({type:"Assertion",kind:"^"}),u.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}})),u.push(s),a&&(u.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}}),u.push({type:"Assertion",kind:"$"})),{type:"Group",capturing:!1,expression:{type:"Alternative",expressions:u}}}function d_(e,t,n,r){switch(e.type){case"Char":return e;case"Repetition":return e;case"Quantifier":throw new Error("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return r.hasStart=!0,r.hasEnd=!0,{...e,expressions:e.expressions.map((s,i)=>Ia(s,t&&i===0,n&&i===e.expressions.length-1))};case"CharacterClass":return e;case"ClassRange":return e;case"Group":return{...e,expression:d_(e.expression,t,n,r)};case"Disjunction":return r.hasStart=!0,r.hasEnd=!0,{...e,left:e.left!==null?Ia(e.left,t,n):null,right:e.right!==null?Ia(e.right,t,n):null};case"Assertion":{if(e.kind==="^"||e.kind==="Lookahead")return r.hasStart=!0,e;if(e.kind==="$"||e.kind==="Lookbehind")return r.hasEnd=!0,e;throw new Error(`Assertions of kind ${e.kind} not implemented yet!`)}case"Backreference":return e;default:throw CN(e)}}function vN(e){return Ia(e,!0,!0)}function Lm(e,t){return e[t]>="\uD800"&&e[t]<="\uDBFF"&&e[t+1]>="\uDC00"&&e[t+1]<="\uDFFF"?2:1}function Bt(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function Af(e){return e>="0"&&e<="9"}function g_(e,t){for(let n=t;n!==e.length;++n){const r=e[n];if(r==="\\")n+=1;else if(r==="]")return n}throw new Error("Missing closing ']'")}function kN(e,t){let n=0;for(let r=t;r!==e.length;++r){const s=e[r];if(s==="\\")r+=1;else if(s===")"){if(n===0)return r;n-=1}else s==="["?r=g_(e,r):s==="("&&(n+=1)}throw new Error("Missing closing ')'")}function IN(e,t){let n=!1;for(let r=t;r!==e.length;++r){const s=e[r];if(!Af(s)){if(t===r)return-1;if(s===","){if(n)return-1;n=!0}else return s==="}"?r:-1}}return-1}var gn;(function(e){e[e.Full=0]="Full",e[e.Character=1]="Character"})(gn||(gn={}));function TN(e,t,n,r){switch(e[t]){case"[":return r===gn.Character?t+1:g_(e,t+1)+1;case"{":{if(r===gn.Character)return t+1;const s=IN(e,t+1);return s===-1?t+1:s+1}case"(":return r===gn.Character?t+1:kN(e,t+1)+1;case"]":case"}":case")":return t+1;case"\\":{const s=e[t+1];switch(s){case"x":if(Bt(e[t+2])&&Bt(e[t+3]))return t+4;throw new Error(`Unexpected token '${e.substring(t,t+4)}' found`);case"u":if(e[t+2]==="{"){if(!n)return t+2;if(e[t+4]==="}"){if(Bt(e[t+3]))return t+5;throw new Error(`Unexpected token '${e.substring(t,t+5)}' found`)}if(e[t+5]==="}"){if(Bt(e[t+3])&&Bt(e[t+4]))return t+6;throw new Error(`Unexpected token '${e.substring(t,t+6)}' found`)}if(e[t+6]==="}"){if(Bt(e[t+3])&&Bt(e[t+4])&&Bt(e[t+5]))return t+7;throw new Error(`Unexpected token '${e.substring(t,t+7)}' found`)}if(e[t+7]==="}"){if(Bt(e[t+3])&&Bt(e[t+4])&&Bt(e[t+5])&&Bt(e[t+6]))return t+8;throw new Error(`Unexpected token '${e.substring(t,t+8)}' found`)}if(e[t+8]==="}"&&Bt(e[t+3])&&Bt(e[t+4])&&Bt(e[t+5])&&Bt(e[t+6])&&Bt(e[t+7]))return t+9;throw new Error(`Unexpected token '${e.substring(t,t+9)}' found`)}if(Bt(e[t+2])&&Bt(e[t+3])&&Bt(e[t+4])&&Bt(e[t+5]))return t+6;throw new Error(`Unexpected token '${e.substring(t,t+6)}' found`);case"p":case"P":{if(!n)return t+2;let i=t+2;for(;i<e.length&&e[i]!=="}";i+=e[i]==="\\"?2:1);if(e[i]!=="}")throw new Error("Invalid \\P definition");return i+1}case"k":{let i=t+2;for(;i<e.length&&e[i]!==">";++i);if(e[i]!==">"){if(!n)return t+2;throw new Error("Invalid \\k definition")}return i+1}default:{if(Af(s)){const a=n?e.length:Math.min(t+4,e.length);let u=t+2;for(;u<a&&Af(e[u]);++u);return u}const i=n?Lm(e,t+1):1;return t+i+1}}}default:{const s=n?Lm(e,t):1;return t+s}}}function ca(e,t,n,r){const s=TN(e,t,n,r);return e.substring(t,s)}const a0=String.fromCodePoint;function u0(e){const t=e.pop();if(t===void 0)throw new Error("Unable to extract token preceeding the currently parsed one");return t}function b_(e){return e>="0"&&e<="9"}function Ta(e,t){return{type:"Char",kind:"simple",symbol:e,value:e,codePoint:e.codePointAt(0)||-1,escaped:t}}function rs(e,t){return{type:"Char",kind:"meta",symbol:t,value:e,codePoint:t.codePointAt(0)||-1}}function $n(e,t){if(e.length>1)return{type:"Alternative",expressions:e};if(!t&&e.length===0)throw new Error("Unsupported no token");return e[0]}function c0(e){if(e[0]==="\\"){const t=e[1];switch(t){case"x":{const n=e.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"hex",symbol:a0(r),value:e,codePoint:r}}case"u":{if(e==="\\u")return Ta("u",!0);const n=e[2]==="{"?e.substring(3,e.length-1):e.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"unicode",symbol:a0(r),value:e,codePoint:r}}case"0":return rs(e,"\0");case"n":return rs(e,`
`);case"f":return rs(e,"\f");case"r":return rs(e,"\r");case"t":return rs(e,"	");case"v":return rs(e,"\v");case"w":case"W":case"d":case"D":case"s":case"S":case"b":case"B":return{type:"Char",kind:"meta",symbol:void 0,value:e,codePoint:Number.NaN};default:{if(b_(t)){const r=e.substring(1),s=Number(r);return{type:"Char",kind:"decimal",symbol:a0(s),value:e,codePoint:s}}if(e.length>2&&(t==="p"||t==="P"))throw new Error("UnicodeProperty not implemented yet!");const n=e.substring(1);return Ta(n,!0)}}}return Ta(e)}function os(e,t,n,r){let s=null;for(let i=0,a=ca(t,i,n,gn.Full);i!==t.length;i+=a.length,a=ca(t,i,n,gn.Full)){const u=a[0];switch(u){case"|":{s===null&&(s=[]),s.push($n(e.splice(0),!0)||null);break}case".":{e.push({type:"Char",kind:"meta",symbol:a,value:a,codePoint:Number.NaN});break}case"*":case"+":{const c=u0(e);e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:u,greedy:!0}});break}case"?":{const c=u0(e);c.type==="Repetition"?(c.quantifier.greedy=!1,e.push(c)):e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:u,greedy:!0}});break}case"{":{if(a==="{"){e.push(Ta(a));break}const c=u0(e),x=a.substring(1,a.length-1).split(","),p=Number(x[0]),g=x.length===1?p:x[1].length!==0?Number(x[1]):void 0;e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:"Range",greedy:!0,from:p,to:g}});break}case"[":{const c=a.substring(1,a.length-1),f=[];let x,p=!1;for(let g=0,b=ca(c,g,n,gn.Character);g!==c.length;g+=b.length,b=ca(c,g,n,gn.Character)){if(g===0&&b==="^"){x=!0;continue}const S=c0(b);if(b==="-")f.push(S),p=!0;else{const w=f.length>=2?f[f.length-2]:void 0;p&&w!==void 0&&w.type==="Char"?(f.pop(),f.pop(),f.push({type:"ClassRange",from:w,to:S})):f.push(S),p=!1}}e.push({type:"CharacterClass",expressions:f,negative:x});break}case"(":{const c=a.substring(1,a.length-1),f=[];if(c[0]==="?")if(c[1]===":")os(f,c.substring(2),n,r),e.push({type:"Group",capturing:!1,expression:$n(f)});else if(c[1]==="="||c[1]==="!")os(f,c.substring(2),n,r),e.push({type:"Assertion",kind:"Lookahead",negative:c[1]==="!"?!0:void 0,assertion:$n(f)});else if(c[1]==="<"&&(c[2]==="="||c[2]==="!"))os(f,c.substring(3),n,r),e.push({type:"Assertion",kind:"Lookbehind",negative:c[2]==="!"?!0:void 0,assertion:$n(f)});else{const x=c.split(">");if(x.length<2||x[0][1]!=="<")throw new Error(`Unsupported regex content found at ${JSON.stringify(a)}`);const p=++r.lastIndex,g=x[0].substring(2);r.named.set(g,p),os(f,x.slice(1).join(">"),n,r),e.push({type:"Group",capturing:!0,nameRaw:g,name:g,number:p,expression:$n(f)})}else{const x=++r.lastIndex;os(f,c,n,r),e.push({type:"Group",capturing:!0,number:x,expression:$n(f)})}break}default:{if(a==="^")e.push({type:"Assertion",kind:a});else if(a==="$")e.push({type:"Assertion",kind:a});else if(a[0]==="\\"&&b_(a[1])){const c=Number(a.substring(1));n||c<=r.lastIndex?e.push({type:"Backreference",kind:"number",number:c,reference:c}):e.push(c0(a))}else if(a[0]==="\\"&&a[1]==="k"&&a.length!==2){const c=a.substring(3,a.length-1);e.push({type:"Backreference",kind:"name",number:r.named.get(c)||0,referenceRaw:c,reference:c})}else e.push(c0(a));break}}}if(s!==null){s.push($n(e.splice(0),!0)||null);let i={type:"Disjunction",left:s[0],right:s[1]};for(let a=2;a<s.length;++a)i={type:"Disjunction",left:i,right:s[a]};e.push(i)}}function ON(e){const t=mn([...e.flags],"u")!==-1,n=e.source,r=[];return os(r,n,t,{lastIndex:0,named:new Map}),$n(r)}const $N=String.fromCodePoint,Um=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],qm=[..."0123456789"],Vm=[...` 	\r
\v\f`],Ef=[...`\r
`],y_=[...""],BN=[...Ef,...y_],lr=()=>jt({unit:"grapheme-ascii",minLength:1,maxLength:1});function Wm(e){return new L(`Unsupported AST node! Received: ${Lt(e)}`)}function Bn(e,t,n){switch(e.type){case"Char":{if(e.kind==="meta")switch(e.value){case"\\w":return Qe(...Um);case"\\W":return lr().filter(r=>mn(Um,r)===-1);case"\\d":return Qe(...qm);case"\\D":return lr().filter(r=>mn(qm,r)===-1);case"\\s":return Qe(...Vm);case"\\S":return lr().filter(r=>mn(Vm,r)===-1);case"\\b":case"\\B":throw new L(`Meta character ${e.value} not implemented yet!`);case".":{const r=n.dotAll?y_:BN;return lr().filter(s=>mn(r,s)===-1)}}if(e.symbol===void 0)throw new L(`Unexpected undefined symbol received for non-meta Char! Received: ${Lt(e)}`);return Kt(e.symbol)}case"Repetition":{const r=Bn(e.expression,t,n);switch(e.quantifier.kind){case"*":return jt({...t,unit:r});case"+":return jt({...t,minLength:1,unit:r});case"?":return jt({...t,minLength:0,maxLength:1,unit:r});case"Range":return jt({...t,minLength:e.quantifier.from,maxLength:e.quantifier.to,unit:r});default:throw Wm(e.quantifier)}}case"Quantifier":throw new L("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return nt(...ht(e.expressions,r=>Bn(r,t,n))).map(r=>St(r,""));case"CharacterClass":if(e.negative){const r=ht(e.expressions,s=>Bn(s,t,n));return lr().filter(s=>D2(r,i=>!i.canShrinkWithoutContext(s)))}return Jt(...ht(e.expressions,r=>Bn(r,t,n)));case"ClassRange":{const r=e.from.codePoint,s=e.to.codePoint;return gt({min:r,max:s}).map(i=>$N(i),i=>{if(typeof i!="string")throw new L("Invalid type");if([...i].length!==1)throw new L("Invalid length");return js(i,0)})}case"Group":return Bn(e.expression,t,n);case"Disjunction":{const r=e.left!==null?Bn(e.left,t,n):Kt(""),s=e.right!==null?Bn(e.right,t,n):Kt("");return Jt(r,s)}case"Assertion":{if(e.kind==="^"||e.kind==="$")return n.multiline?e.kind==="^"?Jt(Kt(""),nt(jt({unit:lr()}),Qe(...Ef)).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new L("Invalid type");return[Ft(r,0,r.length-1),r[r.length-1]]})):Jt(Kt(""),nt(Qe(...Ef),jt({unit:lr()})).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new L("Invalid type");return[r[0],Ft(r,1)]})):Kt("");throw new L(`Assertions of kind ${e.kind} not implemented yet!`)}case"Backreference":throw new L("Backreference nodes not implemented yet!");default:throw Wm(e)}}function MN(e,t={}){for(const i of e.flags)if(i!=="d"&&i!=="g"&&i!=="m"&&i!=="s"&&i!=="u")throw new L(`Unable to use "stringMatching" against a regex using the flag ${i}`);const n={size:t.size},r={multiline:e.multiline,dotAll:e.dotAll},s=vN(ON(e));return Bn(s,n,r)}function RN(e){const t=[];for(let n=0;n!==e.length;++n)t.push(e[n].next());return t}function NN(e,t){for(let n=0;n!==e.length;++n)t[n]=e[n].next()}function DN(e){for(let t=0;t!==e.length;++t)if(e[t].done)return!0;return!1}function*PN(...e){const t=RN(e);for(;!DN(t);)yield t.map(n=>n.value),NN(e,t)}function*jN(e){let t=e;for(;;)yield t,++t}class LN extends Ct{constructor(t,n){super(),this.arb=t,this.maxShrinks=n}generate(t,n){const r=this.arb.generate(t,n);return this.valueMapper(r,0)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return this.isSafeContext(n)?this.safeShrink(t,n.originalContext,n.length):this.safeShrink(t,void 0,0)}safeShrink(t,n,r){const s=this.maxShrinks-r;return s<=0?V.nil():new V(PN(this.arb.shrink(t,n),jN(r+1))).take(s).map(i=>this.valueMapper(i[0],i[1]))}valueMapper(t,n){const r={originalContext:t.context,length:n};return new j(t.value,r)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalContext"in t&&"length"in t}}function UN(e,t){return new LN(e,t)}const qN="module",VN="4.3.0",WN="fc3afba040ebfb5e6d276359f55ff2752618bc45";var rt=Object.freeze({__proto__:null,Arbitrary:Ct,get ExecutionStatus(){return dn},PreconditionFailure:Me,Random:Se,Stream:V,Value:j,get VerbosityLevel(){return ne},__commitHash:WN,__type:qN,__version:VN,anything:e_,array:bt,assert:s8,asyncDefaultReportMessage:aS,asyncModelRun:yN,asyncProperty:K9,asyncStringify:Eh,asyncToStringMethod:En,base64String:$R,bigInt:Kn,bigInt64Array:EN,bigUint64Array:FN,boolean:Fo,check:cS,clone:K8,cloneIfNeeded:us,cloneMethod:Xt,commands:xN,compareBooleanFunc:KB,compareFunc:JB,configureGlobal:G9,constant:Kt,constantFrom:Qe,context:L8,createDepthIdentifier:xS,date:bS,defaultReportMessage:oS,dictionary:$h,domain:Nh,double:oc,emailAddress:cB,falsy:j8,float:NS,float32Array:VS,float64Array:WS,func:QB,gen:x8,getDepthContextFor:Ch,hasAsyncToStringMethod:Ah,hasCloneMethod:Wr,hasToStringMethod:wh,hash:au,infiniteStream:FR,int16Array:zS,int32Array:GS,int8Array:HS,integer:gt,ipV4:Lh,ipV4Extended:LS,ipV6:US,json:fR,jsonValue:n_,letrec:qS,limitShrink:UN,lorem:IM,mapToConstant:vo,maxSafeInteger:jS,maxSafeNat:rM,memo:TM,mixedCase:NM,modelRun:bN,nat:Dn,noBias:pS,noShrink:uu,object:aR,oneof:Jt,option:Rr,pre:kO,property:Y9,readConfigureGlobal:Ke,record:wR,resetConfigureGlobal:H9,sample:o8,scheduledModelRun:SN,scheduler:wN,schedulerFor:AN,shuffledSubarray:DR,sparseArray:XS,statistics:u8,stream:zn,string:jt,stringMatching:MN,stringify:Lt,subarray:NR,toStringMethod:An,tuple:nt,uint16Array:KS,uint32Array:YS,uint8Array:JS,uint8ClampedArray:ZS,ulid:zR,uniqueArray:Co,uuid:XR,webAuthority:o_,webFragments:u_,webPath:f_,webQueryParameters:l_,webSegment:c_,webUrl:lN});function zN(e,t){return function(n){if(Array.isArray(n))return n.reduce(t,e);let r=e;for(const s of n)r=t(r,s);return r}}function GN(e){return function(t){return Array.isArray(t)?t.map(e):(function*(){for(const n of t)yield e(n)})()}}const HN=e=>t=>{const n=Object.keys(t);return e.imap(e.productAll(n.map(r=>t[r])),r=>{const s={};for(let i=0;i<r.length;i++)s[n[i]]=r[i];return s},r=>n.map(s=>r[s]))},Fe=(e,t=(n,r)=>zN(n,e)(r))=>({combine:e,combineMany:t}),KN=e=>Fe((t,n)=>e(t,n)===-1?t:n),YN=e=>Fe(()=>e,()=>e),JN=m(3,(e,t,n)=>Fe((r,s)=>t(e.combine(n(r),n(s))),(r,s)=>t(e.combineMany(n(r),GN(n)(s))))),ZN=(e,t)=>Fe(([n,r],[s,i])=>[e.combine(n,s),t.combine(r,i)]),S_=e=>Fe((t,n)=>{const r=Math.min(t.length,n.length),s=[];let i=0;for(const a of e){if(i>=r)break;s.push(a.combine(t[i],n[i])),i++}return s}),XN=(e,t)=>{const n=S_(t);return Fe((r,s)=>[e.combine(r[0],s[0]),...n.combine(r.slice(1),s.slice(1))])},QN=YN,tD={of:QN,imap:JN,product:ZN,productMany:XN,productAll:S_},__=HN(tD),rr=(e,t)=>({combine:e.combine,combineMany:e.combineMany,empty:t,combineAll:n=>e.combineMany(t,n)}),eD=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n].empty);return rr(__(e),t)},nD=e=>m(3,(t,n,r)=>e.map(e.product(t,n),([s,i])=>r(s,i))),w_=e=>t=>m(2,(n,r)=>nD(e)(n,r,t)),A_=e=>m(2,(t,n)=>e.bimap(t,n,st)),E_=e=>m(2,(t,n)=>e.bimap(t,st,n)),rD=e=>m(3,(t,n,r)=>e(t,r)),Hr=e=>m(3,(t,n,r)=>e(t,n)),sD=e=>m(2,(t,n)=>e.map(n,r=>r(t))),Wh=e=>t=>n=>e.traverse(t)(n,st),zm=m(2,(e,t)=>e.map(n=>t(n))),iD=m(2,(e,t)=>e.chain(n=>t(n))),zh={map:zm,imap:Hr(zm),flatMap:iD},{map:F_,flatMap:oD}=zh,aD=e=>rt.oneof(l(e,F_(R)),rt.constant(B())),hn=rt.integer({min:-100,max:100}),uD=rt.string({minLength:0,maxLength:3});F_(e=>new Error(e));const cD=e=>l(fD,oD(N(O(t=>[t,e]),Object.fromEntries,rt.record))),fD=rt.uniqueArray(rt.string({minLength:1,maxLength:5}),{minLength:1,maxLength:5,comparator:Or}),{map:lD}=zh;lD(e=>h2(new Error(e)));const hD=e=>t=>e(t),xD=()=>e=>rt.func(e).map(hD),C_=()=>xD()(rt.boolean()),{flatMap:pD,map:v_}=zh;rt.oneof(hn.map(e=>_r(e)),hn.map(e=>Hg(e)),hn.map(e=>Kg(e)),hn.map(e=>Yg(e)),hn.map(e=>Jg(e)),hn.map(e=>Zg(e)));l(rt.tuple(hn,hn),pD(([e,t])=>{const[n,r]=e<t?[e,t]:[t,e],s=rt.constant({compare:LF,maxBound:_r(n),minBound:_r(r)});return rt.tuple(l({min:n,max:r},rt.integer,v_(_r),rt.constant),s)}));l({min:-14,max:14},rt.integer,v_(e=>H5(e)));const mD=(e="",...t)=>({name:e,laws:t,sets:[]}),dD=(...e)=>mD("",...e);dD();const gD=e=>m(2,(t,n)=>e.productAll(pt(t).map(n))),Gh={traverse:gD};Hr(y5);const bD=m(2,(e,t)=>n=>l(n,t,e));rD(bD);Hr(J3);const yD=e=>rr(Fe((t,n)=>Et(t)?n:Et(n)?t:R(e.combine(t.value,n.value))),B());m(3,(e,t,n)=>l(e,Ee({onNone:Ki(t),onSome:r=>n(t,r)})));const SD=Fe((e,t)=>e+t),Ff=rr(SD,0),_D=aD(hn);cD(_D);C_();const wD=lg(Fu);bE(wD);yD(Ff);C_();rr(__({x:KN(mt),y:Fe(m(2,oh))}),{x:0,y:""});const{$is:f0,$match:AD,Left:ED,Right:FD,Both:CD}=ih(),ko=({Left:e,Right:t,Both:n})=>r=>l(r,AD({Left:s=>e(s),Right:s=>t(s),Both:s=>n(s)})),[Io,To,Yn]=[Object.assign(ED,{from:e=>Io({left:e})}),Object.assign(FD,{from:e=>To({right:e})}),Object.assign(CD,{from:(e,t)=>Yn({left:t,right:e})})];f0("Left"),f0("Right"),f0("Both");m(2,(e,t)=>l(e,ko({Left:()=>Io.from(t),Right:({right:n})=>Yn.from(n,t),Both:({right:n})=>Yn.from(n,t)})));m(2,(e,t)=>l(e,ko({Left:({left:n})=>Yn.from(t,n),Right:()=>To.from(t),Both:({left:n})=>Yn.from(t,n)})));const vD=e=>l(e,ko({Left:({left:t})=>[B(),R(t)],Right:({right:t})=>[R(t),B()],Both:({left:t,right:n})=>[R(n),R(t)]})),k_=(e,t,n)=>{const r=t.length-e.length;return[...Au(e,t,N(Yn.from,n)),...r===0?[]:r>0?l(t,ja(r),O(N(Io.from,n))):l(e,ja(-1*r),O(N(To.from,n)))]};m(2,(e,t)=>k_(e,t,st));const kD=e=>l(e,O(vD),wo(N(La(([t])=>ce(t)),O(([t])=>t.value)),N(La(([,t])=>ce(t)),O(([,t])=>t.value)))),Cf=m(3,(e,t,n)=>l(e,ko({Right:({right:r})=>l(r,t,To.from),Left:({left:r})=>l(r,n,Io.from),Both:({left:r,right:s})=>Yn({left:n(r),right:t(s)})}))),Gm={bimap:Cf};A_(Gm),E_(Gm);Object.assign(y0,{removeReadOnly:y0});const Ce=e=>({node:e}),We=Object.assign(m(2,(e,t)=>({node:e,forest:t})),{tupled:([e,t])=>({node:e,forest:t}),flipped:m(2,(e,t)=>({node:t,forest:e}))}),Jn=Object.assign(m(2,(e,t)=>Wt(t)?We(e,t):Ce(e)),{flipped:m(2,(e,t)=>Jn(t,e)),tupled:([e,t])=>Jn(e,t)}),I_=e=>!("forest"in e),ID=e=>!I_(e),ie=({onLeaf:e,onBranch:t})=>n=>ID(n)?t(n.node,n.forest):e(n.node),TD=ie({onLeaf:()=>0,onBranch:(e,t)=>t.length}),ac=({node:e})=>e,OD=({forest:e})=>e,$D=m(2,(e,t)=>l(t,ie({onLeaf:()=>Ce(e),onBranch:(n,r)=>We(e,r)})));m(2,(e,t)=>l(t,ie({onLeaf:n=>Jn(n,e),onBranch:n=>Jn(n,e)})));m(2,(e,t)=>l(e,ac,t,$D(e)));const T_=m(2,(e,t)=>l(e,ie({onLeaf:Ce,onBranch:(n,r)=>({node:n,forest:O(r,t)})})));Hr(T_);m(2,(e,t)=>l(e,T_(t),ie({onLeaf:Ce,onBranch:We})));const BD=e=>m(2,(t,n)=>l(t,ie({onLeaf:N(Ce,e.of),onBranch:(r,s)=>MD(e)(r,O(s,n))}))),Oo={traverse:BD},MD=e=>(t,n)=>l(t,e.of,w_(e)(Jn)(Wh(Gh)(e)(n))),uc=e=>({unfixed:e}),Hh=e=>e.unfixed,RD=Be,O_=Ve,ND=Hr(O_),DD=e=>(t,n)=>Zu([t,n],e),PD=e=>(t,n)=>Zu([t,...n],e),jD=e=>t=>Zu(t,e),LD=e=>({imap:ND,of:RD,map:O_,product:DD(e),productMany:PD(e),productAll:jD(e)}),Wi=e=>t=>l(t,e,Be),$_=e=>(t,n)=>{const r=e.traverse(LD()),s=i=>l(i,t,wn(a=>Vr(()=>l(a,r(s)))),wn(n));return s},B_=e=>(t,n)=>r=>l(r,$_(e)(Wi(t),Wi(n)),nr),M_=e=>t=>$_(e)(n=>l(n,Hh,Be),t),Kh=e=>t=>N(l(t,Wi,M_(e)),nr),UD=e=>t=>B_(e)(t,uc),[R_,qD]=[uc,Hh],Oa=uc,VD=Hh,Ye=N(Ce,R_),Fn=Object.assign(m(2,(e,t)=>Oa(We(e,t))),{flipped:e=>t=>Oa(We(e,t)),tupled:([e,t])=>Oa(We(e,t))}),fa=(e,t=[])=>Wt(t)?Fn(e,t):Ye(e),Zn=Object.assign(fa,{curried:e=>t=>fa(t,e),flipped:e=>t=>fa(e,t),tupled:([e,t])=>fa(e,t)}),on=e=>I_(e.unfixed),WD=e=>!on(e),xe=N(qD,ac),Qs=N(VD,OD),re=({onLeaf:e,onBranch:t})=>n=>WD(n)?t(...l(n,wo(xe,Qs))):l(n,xe,e),zD=(e,t)=>l(e,re({onLeaf:N(t,Ve(Ye)),onBranch:(n,r)=>Vr(()=>l(r,Ds(Nr(t)),wn(s=>l(n,t,Ve(Fn(s))))))})),GD=e=>re({onLeaf:N(e,Ve(Ye)),onBranch:(t,n)=>Vr(()=>wn(e(t),r=>l(n,Ds(Nr.pre(e)),Ve(Zn.flipped(r)))))}),Nr=Object.assign(m(2,zD),{pre:GD}),an=m(2,(e,t)=>l(e,Nr.pre(N(t,Be)),nr)),HD=Hr(an),N_={map:an,imap:HD};sD(N_);const D_=e=>l(e,ie({onLeaf:st,onBranch:(t,n)=>Fn(xe(t),n)}));Kh(Oo)(D_);const Hm=M_(Oo)(N(D_,Be)),KD=Object.assign(m(2,(e,t)=>l(e,Nr(t),wn(Hm))),{pre:e=>t=>l(t,Nr.pre(e),wn(Hm))}),YD=m(2,(e,t)=>l(e,KD(N(t,Be)),nr)),JD=Ye;({...N_});m(2,(e,t)=>l(e,YD(n=>l(t,an($r.withFirst(n))))));const fu=re({onLeaf:()=>0,onBranch:(e,t)=>t.length}),ZD=e=>l(e,re({onLeaf:()=>[],onBranch:(t,n)=>n})),XD=m(2,(e,t)=>({unfixed:l(e,re({onLeaf:()=>Ce(t),onBranch:(n,r)=>We(t,r)}))})),Km=(e,t)=>l(e,xe,We(t),Oa),Yh=Object.assign(m(2,Km),{flip:e=>t=>Km(e,t)});m(2,(e,t)=>on(e)?e:t(e));m(2,(e,t)=>XD(e,l(e,xe,t)));const Jh=m(2,(e,t)=>l(e,wo(xe,N(ZD,t)),Zn.tupled)),P_=e=>t=>Yh(t,l(t,Qs,e)),Ym=(e,t)=>l(t,re({onLeaf:Xs(B()),onBranch:(n,r)=>_g(r,e+(e<0?r.length:0))})),Jm=Object.assign(m(2,(e,t)=>Ym(e,t)),{flip:e=>t=>Ym(e,t)}),QD=(e,t)=>{const[n,...r]=e;if(n===void 0)return B();let s=Jm(n,t);if(Et(s))return B();for(const i of r)if(s=Jm(i,s.value),Et(s))return B();return s},tP=Object.assign(m(2,QD),{flip:e=>t=>tP(e,t)}),l0=(e,t,n)=>l(e,re({onLeaf:r=>[],onBranch:(r,s)=>s.slice(t,n)}));Object.assign(l0,{curry:(e,t)=>n=>l0(n,e,t),flip:e=>(t,n)=>l0(e,t,n)});const eP=Fe((e,t)=>e&&t,(e,t)=>{if(e===!1)return!1;for(const n of t)if(n===!1)return!1;return!0}),nP=Fe((e,t)=>e||t,(e,t)=>{if(e===!0)return!0;for(const n of t)if(n===!0)return!0;return!1}),rP=Fe((e,t)=>e!==t),sP=Fe((e,t)=>e===t),iP=rr(eP,!0),oP=rr(nP,!1),aP=rr(rP,!1),uP=rr(sP,!0),kn=Kh(Oo);m(3,(e,t,n)=>l(t,j_(n,e),nr));const j_=(e,t)=>n=>l(t,re({onLeaf:r=>Be(e(n,r)),onBranch:(r,s)=>Lr(s,Be(e(n,r)),(i,a)=>Vr(()=>l(i,wn(j_(e,a)))))})),cc=e=>kn(L_(e)),L_=e=>t=>l(t,ie({onLeaf:n=>e.combine(e.empty,n),onBranch:(n,r)=>Lr(r,e.combine(e.empty,n),e.combine)}));cc(iP);cc(oP);cc(aP);cc(uP);const Zm=e=>t=>n=>r=>{const s=cP(t),i=re({onLeaf:N(n,Ve(t.map(Ye))),onBranch:(a,u)=>Vr(()=>e==="post"?l(u,Ds(i),wn(c=>Ve(n(a),s(c)))):l(a,n,wn(c=>l(u,Ds(i),Ve(f=>s(c,f))))))});return i(r)};Object.assign(Zm("pre"),{post:Zm("post")});const cP=e=>m(2,(t,n)=>w_(e)((r,s)=>Zn(r,s))(t,l(n,Wh(Gh)(e)))),$o=UD(Oo),fP=e=>N(wo(e,Jn.flipped),pO),lP=B_(Oo),hP=m(3,(e,t,n)=>{const r=t+(t<0?fu(e):0);return l(e,re({onLeaf:Fn(n),onBranch:(s,i)=>{const a=r>=i.length?[...i,...n]:i.toSpliced(r,0,...n);return Fn(s,a)}}))});m(3,(e,t,n)=>hP(e,n,[t]));const xP=m(2,(e,t)=>on(e)?l(e,xe,Fn([t])):l(e,P_(ah(t)))),pP=m(2,(e,t)=>on(e)?l(e,xe,Fn([t])):l(e,P_(g2(t))));m(2,(e,t)=>me(t)?on(e)?l(e,Yh(t)):l(e,Jh(X5(t))):e);m(2,(e,t)=>me(t)?on(e)?l(e,Yh(t)):l(e,Jh(Q5(t))):e);const Xm=(e,t)=>n=>{const r=e+(e<0?fu(n):0);return l(n,Jh(s=>r>=s.length?[...s]:s.toSpliced(r,t)))},U_=Object.assign(m(2,(e,t)=>Xm(e,1)(t)),{flip:e=>Xm(e,1)});U_.flip(0);U_.flip(-1);const mP=({depth:e,degree:t=()=>1})=>fP(n=>n>=e?[]:er(n+1,t(n))),dP=([e,t])=>{const n=t+1;return l(e,re({onLeaf:N($r.withSecond(n),Ce),onBranch:(r,s)=>We([r,n],l(s,O($r.withSecond(n))))}))},gP=e=>(t=1)=>l(e,mP,$o)(t),vf=({degree:e,depth:t})=>gP({depth:t,degree:Xs(e)})(1);vf.string=N(vf,an(ec));const Qm=e=>vf({degree:2,depth:e});Qm.string=N(Qm,an(ec));const bP=ie({onLeaf:e=>[e],onBranch:(e,t)=>l(t,so,nn(e))}),yP=ie({onLeaf:()=>1,onBranch:(e,t)=>Math.max(...t)+1}),SP=ie({onLeaf:()=>0,onBranch:(e,t)=>Math.max(t.length,...t)}),_P=e=>l(e,kn(yP)),wP=e=>l(e,kn(SP)),q_=e=>(t,n)=>{const r=Vd(q_(e)),s=e(xe(t),xe(n)),i=()=>l(s,Ye,Be);return l(t,re({onLeaf:i,onBranch:(a,u)=>l(n,re({onLeaf:i,onBranch:(c,f)=>Vr(()=>l(u,Ei(f),Ds(r),Ve(Zn.flipped(s))))}))}))},AP=(e,t,n)=>nr(q_(n)(e,t));m(2,(e,t)=>AP(e,t,(n,r)=>[n,r]));const EP=e=>ie({onLeaf:$r.withSecond(B()),onBranch:(t,n)=>l(n,NE(FP(e)),Qf(nE(()=>R(t))))});function FP(e){return l(e,Hf(hg))}const CP=e=>t=>{const[n,r]=l(e,EP,kn)(t);return[(Et(r)?st:l(n,ch.curried(e),lA,vP))(t),n,r]},vP=e=>l(e,IP,kn),kP=e=>ie({onLeaf:Ye,onBranch:(t,n)=>Zn(t,l(n,La(e)))}),IP=e=>kP(({unfixed:t})=>TD(t)!==0||l(t,ac,e)),td=(e,t=2)=>l([e,0],lP(dP,bP),O(([n,r])=>l((r-1)*t,EO,_O(n)))),V_=Object.assign(td,{curried:e=>t=>td(t,e)}),W_=e=>{const[t,n]=e;if(n===void 0)return R_(Ce(t));const r=ed(n),s=a=>ed(a)/r,i=l(e,O(a=>[a.trimStart(),s(a)]));return l(i,$o(z_))},z_=([[e,t],n,...r])=>{if(n===void 0)return Ce(e);const s=[[n]];for(const[i,a]of r)a>t+1?s.at(-1).push([i,a]):s.push([[i,a]]);return We(e,s)},ed=e=>l(e,vO(wO(" ")),z5);var TP=Object.freeze({__proto__:null,decode:W_,decodeIndentedUnfold:z_,encode:V_});const G_=e=>dg(e)?Jn(...e):Ce(e),OP=$o(G_),H_=e=>{if(dg(ac(e)))throw new Error("Cannot encode a tree of arrays as an array tree.");return l(e,ie({onLeaf:st,onBranch:(t,n)=>[t,n]}))},$P=e=>l(e,kn(H_));var BP=Object.freeze({__proto__:null,decode:OP,decodeUnfold:G_,encode:$P,unsafeEncodeFold:H_});const Zh=e=>l(e,Lr(jP(),MP)),MP=(e,t)=>l([t,e],RP,NP,DP,lE),RP=([[e,t],{roots:n,...r}])=>[[e,t],{...r,roots:l(n,l(t,Ee({onNone:()=>ls,onSome:()=>yl}))(e))}],NP=([[e,t],{toParent:n,...r}])=>[[e,t],{...r,toParent:l(n,l(t,Ee({onNone:()=>st,onSome:s=>wl(e,s)})))}],DP=([[e,t],{toChildren:n,...r}])=>[[e,t],{...r,toChildren:l(t,Ee({onNone:()=>n,onSome:PP(n,e)}))}],PP=(e,t)=>n=>l(e,mb(n,N(Ee({onNone:()=>[t],onSome:Ln(t)}),R))),jP=()=>({roots:qn(),toParent:Ii(),toChildren:Ii()}),lu=e=>[e,B()],K_=e=>([t])=>[t,R(e)],Y_=({roots:e,toChildren:t})=>{const[n]=k3(e);if(n===void 0)throw new Error("Edge map |roots|=0");if(bl(e)!==1)throw new Error("Edge map |roots|≠1");return[n,l(t,_l(n),en(()=>[]))]},J_=e=>t=>({...e,roots:ub([t])}),Z_=e=>y0(e,lg(e)),LP=e=>l(e,Z_,Ur),X_=e=>t=>l(t,Er(xE(e,oE(e)))),UP=O(Qf(en(()=>0))),Q_=e=>{const[t,n]=Y_(e);return l(n,SE({onEmpty:()=>Ce(t),onNonEmpty:N(O(J_(e)),Jn.flipped(t))}))},tw=e=>l(e,$o(Q_)),Xh=N(Zh,tw),ew=ie({onLeaf:e=>[lu(e)],onBranch:(e,t)=>l(t,Fg(vE(K_(e))),nn(lu(e)))}),Qh=kn(ew),qP=N(Qh,Zh);var VP=Object.freeze({__proto__:null,decode:Xh,decodeMap:tw,decodeUnfold:Q_,encode:Qh,encodeFold:ew,getEdgeEquivalence:Z_,getEdgeListEquivalence:LP,getMapChildren:Y_,index:qP,indexParents:Zh,numeric:UP,rootTreeEdge:lu,setMapRoot:J_,setParent:K_,sortEdgeList:X_});const nw=e=>l(e,ie({onLeaf:t=>[[t]],onBranch:(t,n)=>l(n,so,O(r=>[t,...r]))})),rw=e=>t=>{const n=l(e,Hf(Zt)),r=ch(n),s=t[0][0],i=l(t,O(yn),La(Wt));return Wt(i)?We(s,Eg(l(i,CE(n)),r)):Ce(s)},sw=kn(nw),qs=e=>t=>l(t,$o(rw(e)));qs.number=qs(mt);qs.string=qs(V5);const WP=e=>t=>{const n=new Map,r=new Set,s=t[0][0];for(const i of t){const[a,u]=[Zt(i),ro(i)];if(!e(a,s)||r.has(u))return!1;r.add(u);const c=l(yn(i),Ei(rl(i)));if(gg(c))return t.length===1;for(const[f,x]of c){const p=n.get(f);if(p===void 0)n.set(f,x);else if(!e(p,x))return!1}}return!0};var zP=Object.freeze({__proto__:null,decode:qs,encode:sw,isValidPathList:WP,pathListFold:nw,pathListUnfold:rw});const iw=e=>{const[t,n]=GP(e);let r=[],s=0,i=n,a;for(;(a=i.shift())!==void 0;){const u=e[s++]??1,c=t[u];r=ah(r,[a,R(u)]),c===0&&u!==1?i=Z5(i)(u):c!==void 0&&(t[u]=c-1)}return[lu(1),...l(r,X_(mt))]},In=e=>me(e)?l(e,iw,Xh):Fn(1,[Ye(2)]),GP=e=>{const t=l(e,Er(mt)),n=RE(mg(2,e.length+2),Eu(t,Fu));return[HP(t),n]},HP=e=>{const t=l(e,Eg(Fu),O(([r,...s])=>[r,s.length])),n=l(e.length,wu,O(()=>0));for(const[r,s]of t)n[r]=s;return n},Kr=e=>t=>{const[n,...r]=Qs(t);if(r.length===0&&on(n))return[];const s=CP(e),i=a=>{const[u,,c]=s(a);return l(c,Ee({onNone:()=>Be([]),onSome:f=>l(Vr(()=>i(u)),Ve(g2(f)))}))};return l(l(t,i,nr),rl)},ow=e=>BigInt(e)**(BigInt(e)-2n),Yr=e=>e.length+2,tx=e=>e-2,zi=(e,t)=>{if(t<3)return[];const n=O(y2(e-1n,t),Ig),r=t-n.length-2;return l(n,Ai(r===0?[]:er(1,r)))},ex=e=>{if(e.length===0)return[1n,2];const[t,n]=l(e,O(Tg),Wn.mapSecond(Yr));return[S2(t,n)+1n,n]},KP=(e,t)=>l(zi(e,t),In),YP=e=>l(e,Kr(mt),ex),aw=e=>{const t=ow(e);return e>=36?[zi(1n,e)]:l(mg(1,Number(t)),O(n=>zi(BigInt(n),e)))},JP=e=>e<2?[]:e===2?[Fn(1,[JD(2)])]:l(e,aw,O(In)),nx=e=>e<3?[]:l(e,tx,t=>er(1,t)),rx=e=>e<3?[]:l(e,tx,t=>er(e,t)),sx=e=>me(e)?Cg(e,t=>t===1):!0,ix=e=>{if(me(e)){const t=Yr(e);return l(e,Cg(n=>n===t))}else return!0},ox=e=>me(e)?sx(e)?e.length===1?[]:rx(Yr(e)-1):l(e,fw(Xf(t=>t-1n))):[],ax=e=>ix(e)?nx(Yr(e)+1):l(e,fw(Xf(t=>t+1n))),uw=e=>me(e)?sx(e)?l(e,Yr,rx):ox(e):[],cw=e=>ix(e)?l(e,Yr,nx):ax(e),ZP=e=>l(e,Kr(mt),ox,In),XP=e=>l(e,Kr(mt),ax,In),QP=e=>l(e,Kr(mt),uw,In),tj=e=>l(e,Kr(mt),cw,In),fw=e=>t=>{const[n,r]=l(t,ex,e);return zi(n,r)};var ej=Object.freeze({__proto__:null,allCodesAt:aw,allTreesAt:JP,codeCount:tx,computeNodeCount:Yr,decode:In,encode:Kr,fromOrdinal:zi,getFirstCodeFor:nx,getLastCodeFor:rx,getNthTree:KP,isFirstCode:sx,isLastCode:ix,labeledTreeCount:ow,nextCode:ax,nextCodeWrap:cw,nextTree:XP,nextTreeWrap:tj,previousCode:ox,previousCodeWrap:uw,previousTree:ZP,previousTreeWrap:QP,toEdges:iw,toOrdinal:ex,treeToOrdinal:YP});const nj=()=>({to:Qh,from:Xh}),rj=e=>({to:sw,from:qs(e)}),sj={to:Kr(mt),from:In},ij=e=>({to:V_.curried(e),from:W_});var oj=Object.freeze({__proto__:null,Arrays:BP,ArraysIsomorphism:rj,EdgeListIsomorphism:nj,Edges:VP,Indented:TP,IndentedIsomorphism:ij,Paths:zP,Prufer:ej,PruferIsomorphism:sj});O(([e,t])=>l(e,_u,fg($r.withSecond(t))));const aj=eD({numerator:Ff,denominator:Ff}),uj=e=>l(e,L_(aj)),cj=({numerator:e,denominator:t})=>t===0?0:e/t,fj=e=>({numerator:e,denominator:1});N(an(fj),kn(uj),cj);const lw=e=>{const[t,n]=[Nr(Wi(N(To.from,e))),Nr(Wi(N(Io.from,e)))],r=i=>Ve(Zn.flipped(i)),s=i=>a=>u=>l(u,Ds(a),r(i));return(i,a)=>{const u=e(Yn.from(xe(i),xe(a)));return l(i,re({onLeaf:()=>l(a,re({onLeaf:()=>l(u,Ye,Be),onBranch:(c,f)=>s(u)(n)(f)})),onBranch:(c,f)=>l(a,re({onLeaf:()=>s(u)(t)(f),onBranch:(x,p)=>l(k_(p,f,ko({Left:({left:g})=>t(g),Right:({right:g})=>n(g),Both:({left:g,right:b})=>lw(e)(g,b)})),Zu,r(u))}))}))}};ie({onLeaf:Cf(Ye,Ye),onBranch:(e,t)=>{const[n,r]=kD(t);return l(e,Cf(Zn.curried(r),Zn.curried(n)))}});const lj=e=>N(lw(e),nr);m(2,(e,t)=>lj(st)(e,t));const hw=(e,t)=>rt.integer({min:e,max:t}).map(n=>String.fromCodePoint(n)),hj=hw(65,90),xj=hw(97,122),xw=rt.boolean().chain(e=>e?hj:xj),kf=rt.array(xw,{minLength:0,maxLength:3}),nd=kf.map(xt),ux=rt.array(xw,{minLength:1,maxLength:3});ux.map(xt);const pj=["topLeft","topRight"],mj=["bottomRight","bottomLeft"],rd=[...pj,...mj],ps=["top","right","bottom","left"],sd=(e,t,n)=>tl(e,t,Xs(n)),id=Object.assign(m(3,sd),{named:(e,t)=>n=>sd(Xn(n),e,t)}),dj={ascii:Ie("..''"),diagonal:{topLeft:"╱",topRight:"╲",bottomLeft:"╲",bottomRight:"╱"},double:Ie("╔╗╚╝"),hDouble:Ie("╒╕╘╛"),hThick:Ie("┍┑┕┙"),round:Ie("╭╮╰╯"),solid:tn("█")(...rd),space:tn(" ")(...rd),thick:Ie("┏┓┗┛"),thin:Ie("┌┐└┘"),vDouble:Ie("╓╖╙╜"),vThick:Ie("┎┒┖┚"),halfSolid:Ie("▞▚▚▞"),halfSolidNear:Ie("▗▖▝▘"),halfSolidFar:Ie("▛▜▙▟")},Xn=e=>dj[e];function Ie(e){const[t,n,r,s]=nc(e);return{topLeft:t,topRight:n,bottomRight:s,bottomLeft:r}}const od=(e,t,n)=>tl(e,t,Xs(n)),ad=Object.assign(m(3,od),{named:(e,t)=>n=>od($e(n),e,t)}),gj={ascii:le("-|"),dashed:le("┄┆"),dashedWide:le("╌╎"),dotted:le("┈┊"),double:le("═║"),halfSolid:la("▀▐▄▌"),halfSolidNear:la("▄▌▀▐"),halfSolidFar:la("▀▐▄▌"),hDouble:le("═│"),hThick:le("━│"),near:la("▁▏▔▕"),solid:tn("█")(...ps),space:tn(" ")(...ps),thick:le("━┃"),thickDashed:le("┅┇"),thickDashedWide:le("╍╏"),thickDotted:le("┉┋"),thin:le("─│"),vDouble:le("─║"),vThick:le("─┃")},$e=e=>gj[e];function le(e){const[t,n]=nc(e);return{top:t,right:n,bottom:t,left:n}}function la(e){const[t,n,r,s]=nc(e);return{top:t,right:n,bottom:r,left:s}}Object.assign(m(3,({lines:e,...t},n,r)=>({...t,lines:ad(e,n,r)})),{named:(e,t)=>({lines:n,...r})=>({...r,lines:ad(n,e,cx(t).lines[e])})});Object.assign(m(3,({elbows:e,...t},n,r)=>({...t,elbows:id(e,n,r)})),{named:(e,t)=>({elbows:n,...r})=>({...r,elbows:id(n,e,Xn(t)[e])})});const bj={ascii:Mt("ascii","ascii"),thin:Mt("thin","thin"),dashed:Mt("dashed","thin"),dashedWide:Mt("dashedWide","thin"),dotted:Mt("dotted","thin"),thick:Mt("thick","thick"),hThick:Mt("hThick","hThick"),vThick:Mt("vThick","vThick"),thickDashed:Mt("thickDashed","thick"),thickDashedWide:Mt("dashedWide","thick"),thickDotted:Mt("thickDotted","thick"),double:Mt("double","double"),hDouble:Mt("hDouble","hDouble"),vDouble:Mt("vDouble","vDouble"),solid:Mt("solid","solid"),space:Mt("space","space"),near:Mt("near","space"),halfSolid:Mt("halfSolid","halfSolid"),halfSolidNear:Mt("halfSolidNear","halfSolidNear"),halfSolidFar:Mt("halfSolidFar","halfSolidFar"),beveled:Mt("near","diagonal")},cx=e=>bj[e];function Mt(e,t){return{lines:$e(e),elbows:Xn(t)}}const ud=(e,t,n)=>tl(e,t,Xs(n));Object.assign(m(3,ud),{named:(e,t)=>n=>ud(Vs(n),e,t)});const yj={ascii:tn("+")(...ps),double:ln("╩╠╦╣"),hDouble:ln("╧╞╤╡"),hThick:ln("┷┝┯┥"),solid:tn("█")(...ps),space:tn(" ")(...ps),thick:ln("┻┣┳┫"),thin:ln("┴├┬┤"),vDouble:ln("╨╟╥╢"),vThick:ln("┸┠┰┨"),vThickTop:ln("┴┞┰┦"),vThickBottom:ln("┸┟┬┧")},Vs=e=>yj[e];function ln(e){const[t,n,r,s]=nc(e);return{top:t,right:n,bottom:r,left:s}}const pe=(e=[" "],t="",n="")=>({axis:"horizontal",prefix:t,body:e,suffix:n}),rn=(e=[""],t=[],n=[])=>({axis:"vertical",prefix:t,body:e,suffix:n}),hu=(e,t=e)=>({left:e,right:t}),xu=(e,t=e)=>({top:e,bottom:t});pe.space=pe([" "]);rn.empty=rn([""]);hu.space=hu(pe.space);xu.empty=xu(rn.empty);const Gi=pe.space,If=rn.empty,Sj={top:If,right:Gi,bottom:If,left:Gi},pw=e=>({...Sj,...rf(e??{})});pe.fill=({prefix:e,body:t,suffix:n})=>r=>{if(r===0)return"";const s=r-Br(e)-Br(n);if(s>=0)return e+l(t,xt,of(s))+n;const i=Math.floor(r/2),a=r-i;return xt([...nu(0,a)(e),...nu(0,i)(n)])};rn.fill=({prefix:e,body:t,suffix:n})=>r=>{if(r===0)return[];const s=r-e.length-n.length;if(s>=0)return[...e,...FO(s)(t),...n];const i=Math.floor(r/2),a=r-i;return[...e.slice(0,a),...n.slice(0,i)]};hu.fill=({left:e,right:t})=>(n,r)=>s=>pe.fill(e)(n)+s+pe.fill(t)(r);xu.fill=({top:e,bottom:t})=>([n,r])=>s=>[...rn.fill(e)(n),...s,...rn.fill(t)(r)];const fx=(e=If,t=Gi,n=e,r=t)=>({top:e,right:t,bottom:n,left:r}),$a=Ur(Or),Tf=mu({prefix:Or,body:$a,suffix:Or}),Of=mu({prefix:$a,body:$a,suffix:$a}),cd=({prefix:e,body:t,suffix:n})=>`⊦${e}«${xt.quote.fancy(t)}»${n}`,fd=({prefix:e,body:t,suffix:n})=>xt.rest("⊥",xt.comma(e),`«${xt.quote.fancy(t)}»`,xt.comma(n)),mw=({right:e,left:t})=>xt.rest(`←${cd(t)}`,...Tf(t,e)?[]:[`→${cd(e)}`]),_j=({top:e,bottom:t})=>xt.rest(`↑${fd(e)}`,...Of(e,t)?[]:[`↓${fd(t)}`]),wj=({top:e,right:t,bottom:n,left:r})=>xt.rest(mw({left:r,right:t}),_j({top:e,bottom:n})),Aj=(e,t,n)=>r=>r==="left"?e():r==="center"?t():n(),Ej=(e,t,n)=>r=>r==="top"?e():r==="middle"?t():n(),dw=e=>[e("left",0),e("center",1),e("right",2)],gw=e=>[e("top",0),e("middle",1),e("bottom",2)],ti=e=>no(dw((t,n)=>[t,e(t,n)])),lx=e=>no(gw((t,n)=>[t,e(t,n)])),Fj={left:"⮄",center:"⮂",right:"⮆",top:"⮅",middle:"⮁",bottom:"⮇"},$f=e=>Fj[e],bw=mu({left:Tf,right:Tf,hAlign:Or}),Cj=mu({top:Of,bottom:Of,vAlign:Or}),vj=eA(bw,Cj),yw=(e,t,n=!1)=>r=>{if(r.length<=1)return r;const s=CO(r),i=a=>s-Br(a);return l(r,O(a=>{const u=i(a);return u<=0?a:kj(e,t,u,n)(a)}))};function kj(e,t,n,r){const{left:s,right:i}=e;return a=>l(t,Aj(()=>a+pe.fill(i)(n),()=>hu.fill(e)(...(r?_2:w2)(n))(a),()=>pe.fill(s)(n)+a))}const Bf=(e,t,n,r=!1)=>s=>{const i=rO(s);return i===0?s:l(s,O(a=>{const u=i-a.length;return l(a,u<=0?st:Ij(e,t,u,r),n)}))};Bf.useTopRound=(e,t,n)=>Bf(e,t,n,!0);function Ij(e,t,n,r=!1){return l(t,Ej(()=>[n,0],()=>hO[r?"halfToFirst":"halfToSecond"](n),()=>[0,n]),hE,xu.fill(e))}const Bo=ih(),Mo=Bo.$is,Sw=Bo.EmptyF,_w=Bo.TextF,fc=Bo.RowF,lc=Bo.ColumnF,hx=e=>Mo("EmptyF")(e),xx=e=>Mo("TextF")(e),px=e=>Mo("RowF")(e),ww=e=>Mo("ColumnF")(e),ei=(e,t,n,r)=>s=>hx(s)?e:xx(s)?t(s.show):px(s)?n(s):r(s),hc=Sw(),xc=e=>_w({show:e}),Aw=e=>t=>fc({...e,cells:t}),Ew=e=>t=>lc({...e,cells:t}),pc=m(2,(e,t)=>l(e,ei(hc,n=>xc(n),({cells:n,...r})=>fc({...r,cells:l(n,O(t))}),({cells:n,...r})=>lc({...r,cells:l(n,O(t))})))),Fw=Hr(pc),Cw=e=>m(2,(t,n)=>l(t,pc(n),Oj(e))),Tj={map:pc,imap:Fw},vw={traverse:Cw},Oj=e=>t=>{const n=Wh(Gh)(e),r=e.map;return l(t,ei(e.of(hc),N(xc,e.of),({cells:s,...i})=>l(s,n,r(a=>fc({...i,cells:[...a]}))),({cells:s,...i})=>l(s,n,r(a=>lc({...i,cells:[...a]})))))},$j=e=>(t,n)=>l(t,ei(hx(n),r=>xx(n)&&n.show===r,r=>px(n)&&Bj(e)(r,n),r=>ww(n)&&Mj(e)(r,n))),Bj=e=>({cells:t,...n},{cells:r,...s})=>vj(n,s)&&Ur(e)(t,r),Mj=e=>({cells:t,...n},{cells:r,...s})=>bw(n,s)&&Ur(e)(t,r),Rj=Be({}),Nj=h2(void 0);var Dj=Object.freeze({__proto__:null,ColumnF:lc,Covariant:Tj,EmptyF:Sw,RowF:fc,TextF:_w,Traversable:vw,columnF:Ew,emptyF:hc,equalsFail:Nj,equalsSuccess:Rj,getEquivalence:$j,imap:Fw,isColumnF:ww,isEmptyF:hx,isPartFOf:Mo,isRowF:px,isTextF:xx,map:pc,matchPartF:ei,rowF:Aw,textF:xc,traverse:Cw});const mc=e=>uc(e),Pj=e=>N(Aw(e),mc),kw=e=>N(Ew(e),mc),Iw=mc(hc),Cn=N(xc,mc),ld=(e="middle")=>(t="center")=>(n,r)=>Pj({hAlign:t,vAlign:e,...pw(r)})(n),Si=Object.assign(ld,lx(N(ld,ti))),hd=(e="middle")=>(t="center")=>(n,r)=>s=>Si(e)(t)([s,n],r),xd=(e="middle")=>(t="center")=>(n,r)=>s=>Si(e)(t)([n,s],r),jj=Object.assign(hd,lx(e=>ti(t=>hd(e)(t)))),Tw=Object.assign(xd,lx(e=>ti(t=>xd(e)(t)))),pd=(e="center")=>(t,n=Gi,r=n)=>kw({hAlign:e,left:n,right:r})(t),jn=Object.assign(pd,ti(pd)),Mf=(e="center")=>(t,n=Gi,r=n)=>s=>kw({hAlign:e,left:n,right:r})([t,s]),md=e=>(t,n,r)=>s=>Mf(e)(s,n,r)(t),dd=Object.assign(e=>(t,n,r)=>s=>Mf(e)(t,n,r)(s),ti(Mf)),gd=Object.assign(e=>(t,n,r)=>s=>md(e)(t,n,r)(s),ti(md)),Rf=e=>Kh(vw)(e),bd=ei([],he,Uj,qj),Lj=Object.assign(Rf(bd),{unlines:e=>l(e,Rf(bd),Ps)});function Uj({hAlign:e,vAlign:t,cells:[n,...r],...s}){if(n===void 0)return[];const{left:i,right:a,top:u,bottom:c}=pw(s),f=l([n,...r],Bf({top:u,bottom:c},t,yw({left:i,right:a},e)));return l(f,m2,O(O(en(Xs(" ")))),O(xt))}function qj({cells:e,hAlign:t,...n}){return l(e,so,yw(n,t))}const Vj=ei("∅",Ot.quote.fancy,Wj,zj);Rf(Vj);function Wj({cells:e,hAlign:t,vAlign:n,...r}){return xt.rest($f(t),$f(n),".",wj(r),"(",e.join(", "),")")}function zj({hAlign:e,cells:t,...n}){return xt.rest($f(e),mw(n),"(",t.join(", "),")")}const Ow=["rootBullet","branchBullet","leafBullet"],Gj=["elbow","hLine","indent","rightTee","space","tee","vLine",...Ow],Hj=tn("")(...Ow),_i={...tn("")(...Gj),...$w("space"),...Hj,tee:Vs("space").bottom,rightTee:Vs("space").right,elbow:Xn("space").bottomLeft,space:" ",indent:" "},yd={..._i,hLine:$e("thin").top,vLine:" "+$e("thin").left,elbow:" "+Xn("thin").bottomLeft,tee:$e("thin").bottom,rightTee:" "+Vs("thin").right,indent:Zs(2)($e("thin").top),space:"  "},Kj={ascii:{..._i,...Rt("ascii"),indent:$e("ascii").top},bullets:{..._i,rootBullet:"►",branchBullet:"∘",leafBullet:"∙"},dashed:l("thin",Rt,ss("dashed")),dashedWide:l("thin",Rt,ss("dashedWide")),dotted:l("thin",Rt,ss("dotted")),double:Rt("double"),hDouble:Rt("hDouble"),hThick:Rt("hThick"),hThickDashed:l("hThick",Rt,mr("thickDashed"),pr("dashed")),hThickDashedWide:l("hThick",Rt,mr("thickDashedWide"),pr("dashedWide")),hThickDotted:l("hThick",Rt,mr("thickDotted"),pr("dotted")),round:{...Rt("thin"),elbow:Xn("round").bottomLeft},space:_i,thick:Rt("thick"),thickDashed:l("thick",Rt,ss("thickDashed")),thickDashedWide:l("thick",Rt,ss("thickDashedWide")),thickDotted:l("thick",Rt,ss("thickDotted")),thin:Rt("thin"),unix:yd,unixRound:{...yd,elbow:" "+Xn("round").bottomLeft},vThick:Rt("vThick"),vThickDashed:l("vThick",Rt,mr("dashed"),pr("thickDashed")),vThickDashedWide:l("vThick",Rt,mr("dashedWide"),pr("thickDashedWide")),vThickDotted:l("vThick",Rt,mr("dotted"),pr("thickDotted")),vDouble:Rt("vDouble")},mx=e=>Kj[e];function ss(e){return N(mr(e),pr(e))}function pr(e){return t=>({...t,vLine:$e(e).left})}function mr(e){return t=>({...t,hLine:$e(e).top})}function Rt(e){return{..._i,...$w(e),...Yj(e),elbow:Xn(e).bottomLeft,indent:$e(e).top}}function $w(e){return{hLine:$e(e).top,vLine:$e(e).left}}function Yj(e){return{tee:Vs(e).bottom,rightTee:Vs(e).right}}const Bw=["ascii","bullets","space"],Mw=l(["dashed","dashedWide","dotted","double","hDouble","hThick","hThickDashed","hThickDashedWide","hThickDotted","round","thick","thickDashed","thickDashedWide","thickDotted","thin","unix","unixRound","vDouble","vThick","vThickDashed","vThickDashedWide","vThickDotted"]),Jj={spacing:0,indents:0,glyphs:mx("thin"),formatter:st},Zj=[...Mw,...Bw],Xj=[...l(Mw,O(Wn.mapSecond(e=>Sd(e,0)))),...l(Bw,O(Wn.mapSecond(e=>Sd(e,1))))],Rw=no(Xj),Qj=e=>Rw[e],tL=e=>l(Zj,O(Wn.mapSecond(t=>e(Rw[t],t))),no);function eL(e=mx("thin"),t=0,n){return{...Jj,indents:t,glyphs:e,...n}}function Sd(e="thin",t=0,n){return eL(mx(e),t,n)}const dc=Object.assign(m(2,(e,{glyphs:t})=>t[e]),{flipped:e=>({glyphs:t})=>t[e]});m(2,(e,t)=>Cn(dc(e,t)));const nL=({formatter:e})=>an(e),rL=e=>(t,n)=>{const r=dc(e);return l(n,r,Zs(e.indents),sf(r(t)))},Nw=(e,t)=>n=>N(rL(n),Cn)(e,t);function sL(e){return t=>(e+l(`
`,Zs(t.spacing))).split(/\n/)}const iL=Nw("rightTee","indent"),oL=Nw("elbow","indent"),aL=Dw("hLine","leafBullet","space"),uL=Dw("tee","branchBullet","vLine");function Dw(e,t,n){return r=>s=>{const i=dc(s),[a,u,c]=[i(e),i(t),i(n)],f=a+u,x=Zs(Br(f))(c)+u;return l(s,sL(r),eO(N(sf(f),Cn),N(sf(x),Cn)),jn.left)}}const cL=Pw(iL,"vLine"),fL=Pw(oL,"space");function Pw(e,t){return n=>{const r=dc(n);return Tw.top.left(e(n),fx(rn.empty,pe([r("space")],r(t))))}}const jw=Object.assign(_d,{flip:sO(_d)});function _d(e){return t=>l(e,re({onLeaf:n=>aL(n)(t),onBranch:lL(t)}))}const lL=e=>(t,n)=>{const r=[uL(t),hL(n)];return l(r,xL,Pf(e),jn.left)},hL=e=>t=>{const n=N(jw,Pf(t));return l(e,nO(N(n,cL(t)),N(n,fL(t))),jn.left)};function xL(e){return t=>O(e,Pf(t))}const wd=(e,t)=>l(e,nL(t),jw.flip(t)),pL=Object.assign(m(2,wd),{number:e=>t=>wd(an(t,ec),e)}),Ad=(e,t)=>l(pL(e,t),Lj),mL=Object.assign(m(2,Ad),{unlines:e=>t=>Ps(Ad(t,e))}),dL=Object.assign(Ed("thin"),tL((e,t)=>Ed(t)));function Ed(e){return Object.assign(Fd(e,st),{number:Fd(e,ec)})}function Fd(e,t){return Object.assign(Cd(e,t),{unlines:N(Cd(e,t),Ps)})}function Cd(e,t){return N(an(t),l(e,Qj,mL))}const Hi=Cn(""),vd=(e,t)=>l(e,Je(t??""),Cn),gL=Object.assign((e,t)=>vd(e,t),{curried:e=>t=>vd(t,e)}),h0=(e,t="center")=>l(e,O(Cn),jn[t]),bL=Object.assign(h0,{curried:e=>t=>h0(t,e),rest:(...e)=>h0(e)}),ha=m(2,(e,t)=>e===0?Iw:l(t,er(e),gL)),xa=e=>e===0?Iw:l(Hi,er(e),jn.center),yL=Object.assign((e=" ",t=" ")=>(n=1,r=n)=>s=>Si.middle.center([ha(n,e),s,ha(r,t)]),{left:(e=" ",t=0)=>n=>Si.middle.center([ha(t,e),n]),right:(e=" ",t=0)=>n=>Si.middle.center([n,ha(t,e)])}),SL=Object.assign((e=1,t=e)=>n=>jn.center([xa(e),n,xa(t)]),{top:(e,t=0)=>jn.center([xa(t),e]),bottom:(e,t=0)=>jn.center([e,xa(t)])}),kd=m(2,(e,{top:t,right:n,bottom:r,left:s})=>l(e,SL(t,r),yL()(s,n))),Id=Object.assign(({lines:{top:e}})=>dd.center(Hi,pe([e])),{corners:({lines:{top:e},elbows:{topLeft:t,topRight:n}})=>dd.left(Hi,pe([e],t,n))}),_L=({lines:{right:e}})=>t=>l(t,jj.middle.center(Cn(e),fx(rn([e])))),Td=Object.assign(({lines:{bottom:e}})=>gd.center(Hi,pe([e])),{corners:({lines:{bottom:e},elbows:{bottomLeft:t,bottomRight:n}})=>gd.right(Hi,pe([e],t,n))}),wL=({lines:{left:e}})=>t=>l(t,Tw.middle.center(Cn(e),fx(rn([e])))),AL=e=>t=>l(t,wL(e),_L(e)),EL=Object.assign(e=>t=>l(t,Id(e),Td(e)),{corners:e=>t=>l(t,Id.corners(e),Td.corners(e))}),Od=(e,t)=>l(e,AL(t),EL.corners(t)),Nf=Object.assign(Od,{curried:e=>t=>Od(t,e)}),$d=([e,...t])=>n=>l(t,Lr(l(n,Nf.curried(e)),Nf));Object.assign($d,{rest:(...e)=>t=>$d(e)(t)});const pu=tn(0)(...ps),FL={padding:pu,margin:pu,border:cx("thin")},CL=(e=FL)=>({padding:{...pu,...rf(e.padding??{})},margin:{...pu,...rf(e.margin??{})},border:e.border??cx("thin")}),x0=(e,t)=>{const{padding:n,margin:r,border:s}=CL(t);return l(e,kd(n),Nf.curried(s),kd(r))};Object.assign(x0,{curried:e=>t=>x0(t,e),lines:e=>(t,n="center")=>x0(bL(t,n),e)});const Bd=rt.record({axis:rt.constant("horizontal"),prefix:nd,body:ux,suffix:nd}),Md=rt.record({axis:rt.constant("vertical"),prefix:kf,body:ux,suffix:kf}),Lw=rt.record({right:Bd,left:Bd}),Uw=rt.record({top:Md,bottom:Md});rt.tuple(Lw,Uw).map(([e,t])=>({...e,...t}));const{emptyF:vL,textF:kL}=Dj,IL=Lw.chain(({left:e,right:t})=>rt.record({hAlign:rt.oneof(...dw(rt.constant)),left:rt.constant(e),right:rt.constant(t)})),TL=Uw.chain(({top:e,bottom:t})=>rt.record({vAlign:rt.oneof(...gw(rt.constant)),top:rt.constant(e),bottom:rt.constant(t)}));IL.chain(e=>TL.map(t=>({...e,...t})));const OL=rt.constant(vL),$L=uD.map(kL);OL.map(e=>({unfixed:e}));$L.map(e=>({unfixed:e}));function dx(e){return{parent:l(e.focus,xe,R),levels:ah(e.levels,K5(e,"lefts","rights","parent"))}}const Ro=m(3,(e,t,n)=>{let r=e;for(let s=0;s<t;s++){const i=n(r);if(Et(i))return i;r=i.value}return R(r)});m(3,(e,t,n)=>l(e,Ro(t,n),tr));const qw=e=>{const{focus:t}=e;if(on(t))return B();const n=Qs(t);return R({...dx(e),focus:Zt(n),lefts:[],rights:n.slice(1)})},BL=m(2,(e,t)=>Ro(e,t,qw)),Vw=e=>{const{focus:t}=e;if(on(t))return B();const n=Qs(t);return R({...dx(e),focus:ro(n),lefts:n.slice(0,-1),rights:[]})},ML=m(2,(e,t)=>Ro(e,t,Vw)),RL=({focus:e,lefts:t,rights:n,...r})=>{if(!me(t))return B();const[s,i]=b2(t);return R({...r,focus:s,lefts:i,rights:[e,...n]})},NL=m(2,(e,t)=>Ro(e,t,RL)),DL=({focus:e,lefts:t,rights:n,...r})=>{if(!me(n))return B();const[s,...i]=n;return R({...r,focus:s,lefts:[...t,e],rights:i})},PL=m(2,(e,t)=>Ro(e,t,DL)),jL=m(2,(e,t)=>{const{focus:n}=e,r=fu(n),s=t+(t<0?r:0);if(on(n)||s>=fu(n))return B();const i=n,a=Qs(i),[u,c,f]=[a.slice(0,t),a.at(s),a.slice(t)];return R({...dx(e),focus:c,lefts:u,rights:f,parent:l(i,xe,R)})}),LL=N(qw,tr);m(2,(e,t)=>l(e,BL(t),tr));const UL=N(Vw,tr);m(2,(e,t)=>l(e,ML(t),tr));m(2,(e,t)=>l(e,NL(t),tr));m(2,(e,t)=>l(e,PL(t),tr));m(2,(e,t)=>l(jL(e,t),tr));m(2,({focus:e,...t},n)=>({...t,focus:n}));const Rd=({focus:e,...t},n)=>({...t,focus:pP(e,n)}),Nd=({focus:e,...t},n)=>({...t,focus:xP(e,n)});Object.assign(m(2,Rd),{move:e=>t=>LL(Rd(t,e))});Object.assign(m(2,Nd),{move:e=>t=>UL(Nd(t,e))});const qL=e=>"_tag"in e&&e._tag==="effect-tree-demo",VL=e=>({data:t})=>{const n=t;return qL(n)?{...n,...e(n)}:void 0};Object.assign(Ln,{flipped:e=>t=>Ln(e,t)});Object.assign(nn,{flipped:e=>t=>nn(e,t)});Object.assign(bs,{flipped:e=>t=>bs(e,t)});Object.assign(Ai,{flipped:e=>t=>Ai(e,t)});Eu(Or);const WL=new Intl.Segmenter,Dt=([e,t])=>n=>`${e}${n}${t}`;Dt.rest=(e,t)=>Dt([e,t]);Dt.parentheses=Dt(["(",")"]);Dt.squareBrackets=Dt(["[","]"]);Dt.curlyBrackets=Dt(["{","}"]);Dt.angledBrackets=Dt(["<",">"]);Dt.quote=Object.assign(Dt(["'","'"]),{double:Dt(['"','"']),fancy:Dt(["“","”"]),parentheses:Dt(["(",")"]),squareBrackets:Dt(["[","]"]),curlyBrackets:Dt(["{","}"]),angledBrackets:Dt(["<",">"])});const ue=e=>e.join("");ue.rest=(...e)=>ue(e);ue.pipeline=e=>l(e,Je(" | "));ue.slash=e=>l(e,Je(" | "));ue.spaced=Object.assign(e=>e.join(" "),{rest:(...e)=>e.join(" "),literal:(...e)=>e.join(" ")});ue.comma=Object.assign(e=>e.join(", "),{rest:(...e)=>e.join(", ")});ue.quote=Object.assign(e=>l(e,O(Dt.quote),ue.comma),{double:e=>l(e,O(Dt.quote.double),ue.comma),fancy:e=>l(e,O(Dt.quote.fancy),ue.comma)});const zL=E2.stringWidth;O(zL);const gc=e=>[...WL.segment(e)].map(t=>t.segment),{$is:p0,$match:GL,Left:HL,Right:KL,Both:YL}=ih(),gx=({Left:e,Right:t,Both:n})=>r=>l(r,GL({Left:s=>e(s),Right:s=>t(s),Both:s=>n(s)})),[bc,yc,Dr]=[Object.assign(HL,{from:e=>bc({left:e})}),Object.assign(KL,{from:e=>yc({right:e})}),Object.assign(YL,{from:(e,t)=>Dr({left:t,right:e})})];p0("Left"),p0("Right"),p0("Both");m(2,(e,t)=>l(e,gx({Left:()=>bc.from(t),Right:({right:n})=>Dr.from(n,t),Both:({right:n})=>Dr.from(n,t)})));m(2,(e,t)=>l(e,gx({Left:({left:n})=>Dr.from(t,n),Right:()=>yc.from(t),Both:({left:n})=>Dr.from(t,n)})));const JL=(e,t,n)=>{const r=t.length-e.length;return[...Au(e,t,N(Dr.from,n)),...r===0?[]:r>0?l(t,ja(r),O(N(bc.from,n))):l(e,ja(-1*r),O(N(yc.from,n)))]};m(2,(e,t)=>JL(e,t,st));const ZL=m(3,(e,t,n)=>l(e,gx({Right:({right:r})=>l(r,t,yc.from),Left:({left:r})=>l(r,n,bc.from),Both:({left:r,right:s})=>Dr({left:n(r),right:t(s)})}))),Dd={bimap:ZL};A_(Dd),E_(Dd);var m0={exports:{}},xi={},d0={exports:{}},mi={exports:{}};mi.exports;var Pd;function XL(){return Pd||(Pd=1,(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function n(h,y){Object.defineProperty(i.prototype,h,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",y[0],y[1])}})}function r(h){return h===null||typeof h!="object"?null:(h=yx&&h[yx]||h["@@iterator"],typeof h=="function"?h:null)}function s(h,y){h=(h=h.constructor)&&(h.displayName||h.name)||"ReactClass";var C=h+"."+y;Sx[C]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",y,h),Sx[C]=!0)}function i(h,y,C){this.props=h,this.context=y,this.refs=_c,this.updater=C||_x}function a(){}function u(h,y,C){this.props=h,this.context=y,this.refs=_c,this.updater=C||_x}function c(){}function f(h){return""+h}function x(h){try{f(h);var y=!1}catch{y=!0}if(y){y=console;var C=y.error,v=typeof Symbol=="function"&&Symbol.toStringTag&&h[Symbol.toStringTag]||h.constructor.name||"Object";return C.call(y,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",v),f(h)}}function p(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===zw?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case A:return"Fragment";case wt:return"Profiler";case K:return"StrictMode";case Tt:return"Suspense";case Tn:return"SuspenseList";case bx:return"Activity"}if(typeof h=="object")switch(typeof h.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),h.$$typeof){case sr:return"Portal";case ir:return h.displayName||"Context";case vt:return(h._context.displayName||"Context")+".Consumer";case Jr:var y=h.render;return h=h.displayName,h||(h=y.displayName||y.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case or:return y=h.displayName||null,y!==null?y:p(h.type)||"Memo";case ar:y=h._payload,h=h._init;try{return p(h(y))}catch{}}return null}function g(h){if(h===A)return"<>";if(typeof h=="object"&&h!==null&&h.$$typeof===ar)return"<...>";try{var y=p(h);return y?"<"+y+">":"<...>"}catch{return"<...>"}}function b(){var h=et.A;return h===null?null:h.getOwner()}function S(){return Error("react-stack-top-frame")}function w(h){if(No.call(h,"key")){var y=Object.getOwnPropertyDescriptor(h,"key").get;if(y&&y.isReactWarning)return!1}return h.key!==void 0}function d(h,y){function C(){Fx||(Fx=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",y))}C.isReactWarning=!0,Object.defineProperty(h,"key",{get:C,configurable:!0})}function F(){var h=p(this.type);return vx[h]||(vx[h]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),h=this.props.ref,h!==void 0?h:null}function E(h,y,C,v,M,ot){var Z=C.ref;return h={$$typeof:un,type:h,key:y,props:C,_owner:v},(Z!==void 0?Z:null)!==null?Object.defineProperty(h,"ref",{enumerable:!1,get:F}):Object.defineProperty(h,"ref",{enumerable:!1,value:null}),h._store={},Object.defineProperty(h._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(h,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(h,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:M}),Object.defineProperty(h,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:ot}),Object.freeze&&(Object.freeze(h.props),Object.freeze(h)),h}function T(h,y){return y=E(h.type,y,h.props,h._owner,h._debugStack,h._debugTask),h._store&&(y._store.validated=h._store.validated),y}function k(h){J(h)?h._store&&(h._store.validated=1):typeof h=="object"&&h!==null&&h.$$typeof===ar&&(h._payload.status==="fulfilled"?J(h._payload.value)&&h._payload.value._store&&(h._payload.value._store.validated=1):h._store&&(h._store.validated=1))}function J(h){return typeof h=="object"&&h!==null&&h.$$typeof===un}function o(h){var y={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(C){return y[C]})}function q(h,y){return typeof h=="object"&&h!==null&&h.key!=null?(x(h.key),o(""+h.key)):y.toString(36)}function I(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(c,c):(h.status="pending",h.then(function(y){h.status==="pending"&&(h.status="fulfilled",h.value=y)},function(y){h.status==="pending"&&(h.status="rejected",h.reason=y)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function z(h,y,C,v,M){var ot=typeof h;(ot==="undefined"||ot==="boolean")&&(h=null);var Z=!1;if(h===null)Z=!0;else switch(ot){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(h.$$typeof){case un:case sr:Z=!0;break;case ar:return Z=h._init,z(Z(h._payload),y,C,v,M)}}if(Z){Z=h,M=M(Z);var dt=v===""?"."+q(Z,0):v;return Ax(M)?(C="",dt!=null&&(C=dt.replace(Ix,"$&/")+"/"),z(M,y,C,"",function(On){return On})):M!=null&&(J(M)&&(M.key!=null&&(Z&&Z.key===M.key||x(M.key)),C=T(M,C+(M.key==null||Z&&Z.key===M.key?"":(""+M.key).replace(Ix,"$&/")+"/")+dt),v!==""&&Z!=null&&J(Z)&&Z.key==null&&Z._store&&!Z._store.validated&&(C._store.validated=2),M=C),y.push(M)),1}if(Z=0,dt=v===""?".":v+":",Ax(h))for(var at=0;at<h.length;at++)v=h[at],ot=dt+q(v,at),Z+=z(v,y,C,ot,M);else if(at=r(h),typeof at=="function")for(at===h.entries&&(kx||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),kx=!0),h=at.call(h),at=0;!(v=h.next()).done;)v=v.value,ot=dt+q(v,at++),Z+=z(v,y,C,ot,M);else if(ot==="object"){if(typeof h.then=="function")return z(I(h),y,C,v,M);throw y=String(h),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.")}return Z}function P(h,y,C){if(h==null)return h;var v=[],M=0;return z(h,v,"","",function(ot){return y.call(C,ot,M++)}),v}function ct(h){if(h._status===-1){var y=h._ioInfo;y!=null&&(y.start=y.end=performance.now()),y=h._result;var C=y();if(C.then(function(M){if(h._status===0||h._status===-1){h._status=1,h._result=M;var ot=h._ioInfo;ot!=null&&(ot.end=performance.now()),C.status===void 0&&(C.status="fulfilled",C.value=M)}},function(M){if(h._status===0||h._status===-1){h._status=2,h._result=M;var ot=h._ioInfo;ot!=null&&(ot.end=performance.now()),C.status===void 0&&(C.status="rejected",C.reason=M)}}),y=h._ioInfo,y!=null){y.value=C;var v=C.displayName;typeof v=="string"&&(y.name=v)}h._status===-1&&(h._status=0,h._result=C)}if(h._status===1)return y=h._result,y===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,y),"default"in y||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,y),y.default;throw h._result}function it(){var h=et.H;return h===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),h}function ge(){et.asyncTransitions--}function _t(h){if(Do===null)try{var y=("require"+Math.random()).slice(0,7);Do=(e&&e[y]).call(e,"timers").setImmediate}catch{Do=function(v){Ox===!1&&(Ox=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var M=new MessageChannel;M.port1.onmessage=v,M.port2.postMessage(void 0)}}return Do(h)}function Ut(h){return 1<h.length&&typeof AggregateError=="function"?new AggregateError(h):h[0]}function qt(h,y){y!==Po-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Po=y}function $t(h,y,C){var v=et.actQueue;if(v!==null)if(v.length!==0)try{ve(v),_t(function(){return $t(h,y,C)});return}catch(M){et.thrownErrors.push(M)}else et.actQueue=null;0<et.thrownErrors.length?(v=Ut(et.thrownErrors),et.thrownErrors.length=0,C(v)):y(h)}function ve(h){if(!wc){wc=!0;var y=0;try{for(;y<h.length;y++){var C=h[y];do{et.didUsePromise=!1;var v=C(!1);if(v!==null){if(et.didUsePromise){h[y]=C,h.splice(0,y);return}C=v}else break}while(!0)}h.length=0}catch(M){h.splice(0,y+1),et.thrownErrors.push(M)}finally{wc=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var un=Symbol.for("react.transitional.element"),sr=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),wt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),ir=Symbol.for("react.context"),Jr=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Tn=Symbol.for("react.suspense_list"),or=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),bx=Symbol.for("react.activity"),yx=Symbol.iterator,Sx={},_x={isMounted:function(){return!1},enqueueForceUpdate:function(h){s(h,"forceUpdate")},enqueueReplaceState:function(h){s(h,"replaceState")},enqueueSetState:function(h){s(h,"setState")}},wx=Object.assign,_c={};Object.freeze(_c),i.prototype.isReactComponent={},i.prototype.setState=function(h,y){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,y,"setState")},i.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};var ke={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(ni in ke)ke.hasOwnProperty(ni)&&n(ni,ke[ni]);a.prototype=i.prototype,ke=u.prototype=new a,ke.constructor=u,wx(ke,i.prototype),ke.isPureReactComponent=!0;var Ax=Array.isArray,zw=Symbol.for("react.client.reference"),et={H:null,A:null,T:null,S:null,actQueue:null,asyncTransitions:0,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},No=Object.prototype.hasOwnProperty,Ex=console.createTask?console.createTask:function(){return null};ke={react_stack_bottom_frame:function(h){return h()}};var Fx,Cx,vx={},Gw=ke.react_stack_bottom_frame.bind(ke,S)(),Hw=Ex(g(S)),kx=!1,Ix=/\/+/g,Tx=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Ox=!1,Do=null,Po=0,jo=!1,wc=!1,$x=typeof queueMicrotask=="function"?function(h){queueMicrotask(function(){return queueMicrotask(h)})}:_t;ke=Object.freeze({__proto__:null,c:function(h){return it().useMemoCache(h)}});var ni={map:P,forEach:function(h,y,C){P(h,function(){y.apply(this,arguments)},C)},count:function(h){var y=0;return P(h,function(){y++}),y},toArray:function(h){return P(h,function(y){return y})||[]},only:function(h){if(!J(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};t.Activity=bx,t.Children=ni,t.Component=i,t.Fragment=A,t.Profiler=wt,t.PureComponent=u,t.StrictMode=K,t.Suspense=Tt,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,t.__COMPILER_RUNTIME=ke,t.act=function(h){var y=et.actQueue,C=Po;Po++;var v=et.actQueue=y!==null?y:[],M=!1;try{var ot=h()}catch(at){et.thrownErrors.push(at)}if(0<et.thrownErrors.length)throw qt(y,C),h=Ut(et.thrownErrors),et.thrownErrors.length=0,h;if(ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Z=ot;return $x(function(){M||jo||(jo=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(at,On){M=!0,Z.then(function(Zr){if(qt(y,C),C===0){try{ve(v),_t(function(){return $t(Zr,at,On)})}catch(Yw){et.thrownErrors.push(Yw)}if(0<et.thrownErrors.length){var Kw=Ut(et.thrownErrors);et.thrownErrors.length=0,On(Kw)}}else at(Zr)},function(Zr){qt(y,C),0<et.thrownErrors.length&&(Zr=Ut(et.thrownErrors),et.thrownErrors.length=0),On(Zr)})}}}var dt=ot;if(qt(y,C),C===0&&(ve(v),v.length!==0&&$x(function(){M||jo||(jo=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),et.actQueue=null),0<et.thrownErrors.length)throw h=Ut(et.thrownErrors),et.thrownErrors.length=0,h;return{then:function(at,On){M=!0,C===0?(et.actQueue=v,_t(function(){return $t(dt,at,On)})):at(dt)}}},t.cache=function(h){return function(){return h.apply(null,arguments)}},t.cacheSignal=function(){return null},t.captureOwnerStack=function(){var h=et.getCurrentStack;return h===null?null:h()},t.cloneElement=function(h,y,C){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var v=wx({},h.props),M=h.key,ot=h._owner;if(y!=null){var Z;t:{if(No.call(y,"ref")&&(Z=Object.getOwnPropertyDescriptor(y,"ref").get)&&Z.isReactWarning){Z=!1;break t}Z=y.ref!==void 0}Z&&(ot=b()),w(y)&&(x(y.key),M=""+y.key);for(dt in y)!No.call(y,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&y.ref===void 0||(v[dt]=y[dt])}var dt=arguments.length-2;if(dt===1)v.children=C;else if(1<dt){Z=Array(dt);for(var at=0;at<dt;at++)Z[at]=arguments[at+2];v.children=Z}for(v=E(h.type,M,v,ot,h._debugStack,h._debugTask),M=2;M<arguments.length;M++)k(arguments[M]);return v},t.createContext=function(h){return h={$$typeof:ir,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:vt,_context:h},h._currentRenderer=null,h._currentRenderer2=null,h},t.createElement=function(h,y,C){for(var v=2;v<arguments.length;v++)k(arguments[v]);v={};var M=null;if(y!=null)for(at in Cx||!("__self"in y)||"key"in y||(Cx=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),w(y)&&(x(y.key),M=""+y.key),y)No.call(y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(v[at]=y[at]);var ot=arguments.length-2;if(ot===1)v.children=C;else if(1<ot){for(var Z=Array(ot),dt=0;dt<ot;dt++)Z[dt]=arguments[dt+2];Object.freeze&&Object.freeze(Z),v.children=Z}if(h&&h.defaultProps)for(at in ot=h.defaultProps,ot)v[at]===void 0&&(v[at]=ot[at]);M&&d(v,typeof h=="function"?h.displayName||h.name||"Unknown":h);var at=1e4>et.recentlyCreatedOwnerStacks++;return E(h,M,v,b(),at?Error("react-stack-top-frame"):Gw,at?Ex(g(h)):Hw)},t.createRef=function(){var h={current:null};return Object.seal(h),h},t.forwardRef=function(h){h!=null&&h.$$typeof===or?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof h!="function"?console.error("forwardRef requires a render function but was given %s.",h===null?"null":typeof h):h.length!==0&&h.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",h.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),h!=null&&h.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var y={$$typeof:Jr,render:h},C;return Object.defineProperty(y,"displayName",{enumerable:!1,configurable:!0,get:function(){return C},set:function(v){C=v,h.name||h.displayName||(Object.defineProperty(h,"name",{value:v}),h.displayName=v)}}),y},t.isValidElement=J,t.lazy=function(h){h={_status:-1,_result:h};var y={$$typeof:ar,_payload:h,_init:ct},C={name:"lazy",start:-1,end:-1,value:null,owner:null,debugStack:Error("react-stack-top-frame"),debugTask:console.createTask?console.createTask("lazy()"):null};return h._ioInfo=C,y._debugInfo=[{awaited:C}],y},t.memo=function(h,y){h==null&&console.error("memo: The first argument must be a component. Instead received: %s",h===null?"null":typeof h),y={$$typeof:or,type:h,compare:y===void 0?null:y};var C;return Object.defineProperty(y,"displayName",{enumerable:!1,configurable:!0,get:function(){return C},set:function(v){C=v,h.name||h.displayName||(Object.defineProperty(h,"name",{value:v}),h.displayName=v)}}),y},t.startTransition=function(h){var y=et.T,C={};C._updatedFibers=new Set,et.T=C;try{var v=h(),M=et.S;M!==null&&M(C,v),typeof v=="object"&&v!==null&&typeof v.then=="function"&&(et.asyncTransitions++,v.then(ge,ge),v.then(c,Tx))}catch(ot){Tx(ot)}finally{y===null&&C._updatedFibers&&(h=C._updatedFibers.size,C._updatedFibers.clear(),10<h&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),y!==null&&C.types!==null&&(y.types!==null&&y.types!==C.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),y.types=C.types),et.T=y}},t.unstable_useCacheRefresh=function(){return it().useCacheRefresh()},t.use=function(h){return it().use(h)},t.useActionState=function(h,y,C){return it().useActionState(h,y,C)},t.useCallback=function(h,y){return it().useCallback(h,y)},t.useContext=function(h){var y=it();return h.$$typeof===vt&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),y.useContext(h)},t.useDebugValue=function(h,y){return it().useDebugValue(h,y)},t.useDeferredValue=function(h,y){return it().useDeferredValue(h,y)},t.useEffect=function(h,y){return h==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"),it().useEffect(h,y)},t.useEffectEvent=function(h){return it().useEffectEvent(h)},t.useId=function(){return it().useId()},t.useImperativeHandle=function(h,y,C){return it().useImperativeHandle(h,y,C)},t.useInsertionEffect=function(h,y){return h==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),it().useInsertionEffect(h,y)},t.useLayoutEffect=function(h,y){return h==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),it().useLayoutEffect(h,y)},t.useMemo=function(h,y){return it().useMemo(h,y)},t.useOptimistic=function(h,y){return it().useOptimistic(h,y)},t.useReducer=function(h,y,C){return it().useReducer(h,y,C)},t.useRef=function(h){return it().useRef(h)},t.useState=function(h){return it().useState(h)},t.useSyncExternalStore=function(h,y,C){return it().useSyncExternalStore(h,y,C)},t.useTransition=function(){return it().useTransition()},t.version="19.2.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(mi,mi.exports)),mi.exports}var jd;function QL(){return jd||(jd=1,d0.exports=XL()),d0.exports}var Ld;function tU(){if(Ld)return xi;Ld=1;/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function e(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===ct?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case d:return"Fragment";case E:return"Profiler";case F:return"StrictMode";case o:return"Suspense";case q:return"SuspenseList";case P:return"Activity"}if(typeof A=="object")switch(typeof A.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),A.$$typeof){case w:return"Portal";case k:return A.displayName||"Context";case T:return(A._context.displayName||"Context")+".Consumer";case J:var K=A.render;return A=A.displayName,A||(A=K.displayName||K.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case I:return K=A.displayName||null,K!==null?K:e(A.type)||"Memo";case z:K=A._payload,A=A._init;try{return e(A(K))}catch{}}return null}function t(A){return""+A}function n(A){try{t(A);var K=!1}catch{K=!0}if(K){K=console;var wt=K.error,vt=typeof Symbol=="function"&&Symbol.toStringTag&&A[Symbol.toStringTag]||A.constructor.name||"Object";return wt.call(K,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",vt),t(A)}}function r(A){if(A===d)return"<>";if(typeof A=="object"&&A!==null&&A.$$typeof===z)return"<...>";try{var K=e(A);return K?"<"+K+">":"<...>"}catch{return"<...>"}}function s(){var A=it.A;return A===null?null:A.getOwner()}function i(){return Error("react-stack-top-frame")}function a(A){if(ge.call(A,"key")){var K=Object.getOwnPropertyDescriptor(A,"key").get;if(K&&K.isReactWarning)return!1}return A.key!==void 0}function u(A,K){function wt(){qt||(qt=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",K))}wt.isReactWarning=!0,Object.defineProperty(A,"key",{get:wt,configurable:!0})}function c(){var A=e(this.type);return $t[A]||($t[A]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),A=this.props.ref,A!==void 0?A:null}function f(A,K,wt,vt,ir,Jr){var Tt=wt.ref;return A={$$typeof:S,type:A,key:K,props:wt,_owner:vt},(Tt!==void 0?Tt:null)!==null?Object.defineProperty(A,"ref",{enumerable:!1,get:c}):Object.defineProperty(A,"ref",{enumerable:!1,value:null}),A._store={},Object.defineProperty(A._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(A,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(A,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ir}),Object.defineProperty(A,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Jr}),Object.freeze&&(Object.freeze(A.props),Object.freeze(A)),A}function x(A,K,wt,vt,ir,Jr){var Tt=K.children;if(Tt!==void 0)if(vt)if(_t(Tt)){for(vt=0;vt<Tt.length;vt++)p(Tt[vt]);Object.freeze&&Object.freeze(Tt)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else p(Tt);if(ge.call(K,"key")){Tt=e(A);var Tn=Object.keys(K).filter(function(ar){return ar!=="key"});vt=0<Tn.length?"{key: someKey, "+Tn.join(": ..., ")+": ...}":"{key: someKey}",sr[Tt+vt]||(Tn=0<Tn.length?"{"+Tn.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,vt,Tt,Tn,Tt),sr[Tt+vt]=!0)}if(Tt=null,wt!==void 0&&(n(wt),Tt=""+wt),a(K)&&(n(K.key),Tt=""+K.key),"key"in K){wt={};for(var or in K)or!=="key"&&(wt[or]=K[or])}else wt=K;return Tt&&u(wt,typeof A=="function"?A.displayName||A.name||"Unknown":A),f(A,Tt,wt,s(),ir,Jr)}function p(A){g(A)?A._store&&(A._store.validated=1):typeof A=="object"&&A!==null&&A.$$typeof===z&&(A._payload.status==="fulfilled"?g(A._payload.value)&&A._payload.value._store&&(A._payload.value._store.validated=1):A._store&&(A._store.validated=1))}function g(A){return typeof A=="object"&&A!==null&&A.$$typeof===S}var b=QL(),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ct=Symbol.for("react.client.reference"),it=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=Object.prototype.hasOwnProperty,_t=Array.isArray,Ut=console.createTask?console.createTask:function(){return null};b={react_stack_bottom_frame:function(A){return A()}};var qt,$t={},ve=b.react_stack_bottom_frame.bind(b,i)(),un=Ut(r(i)),sr={};xi.Fragment=d,xi.jsx=function(A,K,wt){var vt=1e4>it.recentlyCreatedOwnerStacks++;return x(A,K,wt,!1,vt?Error("react-stack-top-frame"):ve,vt?Ut(r(A)):un)},xi.jsxs=function(A,K,wt){var vt=1e4>it.recentlyCreatedOwnerStacks++;return x(A,K,wt,!0,vt?Error("react-stack-top-frame"):ve,vt?Ut(r(A)):un)}})(),xi}var Ud;function eU(){return Ud||(Ud=1,m0.exports=tU()),m0.exports}eU();const nU=e=>()=>e,Ww=3999,rU={lower:{icon:"ⅰ,ⅱ,ⅲ",label:"Roman Unicode",title:"Use lowercase Unicode Roman numerals from the ‘Number Forms’ block (U+2150…U+218F)"},upper:{icon:"Ⅰ,Ⅱ,Ⅲ",label:"Roman Unicode (uppercase)",title:"Use uppercase Unicode Roman numerals from the ‘Number Forms’ block (U+2150…U+218F)"},lowerAscii:{icon:"i,ii,iii",label:"Roman ASCII",title:"Use lowercase ASCII emulation of Roman numerals."},upperAscii:{icon:"I,II,III",label:"Roman ASCII (uppercase)",title:"Use uppercase ASCII emulation of Roman numerals."},decimal:{icon:"1,2,3",label:"Decimal",title:"Format labels as decimals."}};l(rU,pg((e,t)=>[t,{id:t,...e}]));const sU={upper:["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"]},pa=[["",...sU.upper.slice(0,9)],["","Ⅹ","ⅩⅩ","ⅩⅩⅩ","ⅩⅬ","Ⅼ","ⅬⅩ","ⅬⅩⅩ","ⅬⅩⅩⅩ","ⅩⅭ"],["","Ⅽ","ⅭⅭ","ⅭⅭⅭ","ⅭⅮ","Ⅾ","ⅮⅭ","ⅮⅭⅭ","ⅮⅭⅭⅭ","ⅭⅯ"],["","Ⅿ","ⅯⅯ","ⅯⅯⅯ"]],iU={"Ⅰ":["ⅰ","I","i"],"Ⅱ":["ⅱ","II","ii"],"Ⅲ":["ⅲ","III","iii"],"Ⅳ":["ⅳ","IV","iv"],"Ⅴ":["ⅴ","V","v"],"Ⅵ":["ⅵ","VI","vi"],"Ⅶ":["ⅶ","VII","vii"],"Ⅷ":["ⅷ","VIII","viii"],"Ⅸ":["ⅸ","IX","ix"],"Ⅹ":["ⅹ","X","x"],"Ⅺ":["ⅺ","XI","xi"],"Ⅻ":["ⅻ","XII","xii"],"Ⅽ":["ⅽ","C","c"],"Ⅼ":["ⅼ","L","l"],"Ⅾ":["ⅾ","D","d"],"Ⅿ":["ⅿ","M","m"]},Sc=e=>iU[e],oU=e=>Sc(e)[0],aU=e=>Sc(e)[1],uU=e=>Sc(e)[2],cU=e=>t=>e==="upper"?t:Sc(t)[e==="lower"?0:e==="upperAscii"?1:2],Pr=e=>e<1||e>Ww?" ":ue.rest(pa[3]?.[Math.floor(e/1e3)]??" ",pa[2]?.[Math.floor(e%1e3/100)]??" ",pa[1]?.[Math.floor(e%100/10)]??" ",pa[0]?.[e%10]??" ");Pr.lower=e=>l(e,Pr,gc,O(oU),ue);Pr.upperAscii=e=>l(e,Pr,gc,O(aU),ue);Pr.lowerAscii=e=>l(e,Pr,gc,O(uU),ue);const fU=e=>t=>{if(e==="decimal")return t.toLocaleString();const n=cU(e);return l(t,Pr,gc,O(n),ue)},lU=(e,t,n)=>l(e,an(r=>r>Ww?r.toLocaleString():fU(t)(r)),dL[n],O(N(W5,G5(" "," ")))),{Prufer:ma}=oj,hU=300,xU=l([is("nodeCount","Nodes","Number of nodes.")(N(ma.computeNodeCount,BigInt)),is("treeCount","Trees","Number of labeled sorted trees at this node count.")(N(ma.computeNodeCount,ma.labeledTreeCount)),is("treeIndex","Ordinal","Index of current tree in ordered set of all trees in this node count.")(N(ma.toOrdinal,hg)),is("maxNodes","Max Nodes","Maximum node count limit.")(nU(BigInt(hU))),is("maxDepth","max depth","Maximum hops from a leaf node to root.")((e,t)=>BigInt(_P(t))),is("maxDegree","max degree","Size of the  largest forest.")((e,t)=>BigInt(wP(t)))],O(e=>[e.id,e]),no),Df=(e,t)=>l(xU,pg(({compute:n,...r},s)=>[s,{...r,value:n(e,t)}]));Df.tupled=Vd(Df);function is(e,t,n){return r=>({id:e,label:t,title:n,compute:r})}globalThis.global=globalThis;globalThis.window=globalThis;window.__vite_plugin_react_preamble_installed__=!0;globalThis.onmessage=e=>{const t=VL(n=>{const{code:r,format:s,theme:i}=n,a=In(r),u=lU(a,s,i),c=Df(r,a);return{...n,stats:c,code:r,tree:a,lines:u}})(e);t!==void 0&&globalThis.postMessage(t)};
