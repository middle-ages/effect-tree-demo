(function(){"use strict";const Uw=e=>typeof e=="function",m=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(s){return t(s,n)}};case 3:return function(n,r,s){return arguments.length>=3?t(n,r,s):function(i){return t(i,n,r)}};case 4:return function(n,r,s,i){return arguments.length>=4?t(n,r,s,i):function(a){return t(a,n,r,s)}};case 5:return function(n,r,s,i,a){return arguments.length>=5?t(n,r,s,i,a):function(u){return t(u,n,r,s,i)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},yc=(...e)=>t=>t(...e),et=e=>e,ei=e=>()=>e,bx=ei(!0),Sc=ei(!1),yx=ei(void 0),qw=yx,Sx=e=>t=>e(...t);function l(e,t,n,r,s,i,a,u,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return s(r(n(t(e))));case 6:return i(s(r(n(t(e)))));case 7:return a(i(s(r(n(t(e))))));case 8:return u(a(i(s(r(n(t(e)))))));case 9:return c(u(a(i(s(r(n(t(e))))))));default:{let f=arguments[0];for(let x=1;x<arguments.length;x++)f=arguments[x](f);return f}}}function N(e,t,n,r,s,i,a,u,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return s(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(s(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return a(i(s(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(a(i(s(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(u(a(i(s(r(n(t(e.apply(this,arguments)))))))))}}}const sr=e=>(t,n)=>t===n||e(t,n),Vw=(e,t)=>e===t,_x=()=>Vw,Ww=_x(),zw=_x(),Gw=m(2,(e,t)=>sr((n,r)=>e(n,r)&&t(n,r))),Kw=m(2,(e,t)=>sr((n,r)=>e(t(n),t(r)))),Hw=e=>sr((t,n)=>{const r=Math.min(t.length,n.length);let s=0;for(const i of e){if(s>=r)break;if(!i(t[s],n[s]))return!1;s++}return!0}),Yw=(...e)=>Hw(e),Jw=e=>sr((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),Po=e=>{const t=Object.keys(e);return sr((n,r)=>{for(const s of t)if(!e[s](n[s],r[s]))return!1;return!0})},wx="effect/GlobalValue";let ni;const lt=(e,t)=>(ni||(globalThis[wx]??=new Map,ni=globalThis[wx]),ni.has(e)||ni.set(e,t()),ni.get(e)),Zw=e=>typeof e=="string",jo=e=>typeof e=="number",Xw=e=>typeof e=="bigint",Lo=Uw,Qw=e=>e!==void 0,tA=e=>typeof e=="object"&&e!==null,ri=e=>tA(e)||Lo(e),tt=m(2,(e,t)=>ri(e)&&t in e),_c=m(2,(e,t)=>tt(e,"_tag")&&e._tag===t),Hr=e=>e==null,Ax=e=>typeof e=="string"||tt(e,Symbol.iterator),eA=e=>tt(e,"then")&&Lo(e.then),nA=e=>t=>!e(t),Uo=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;let Ex=class Lw{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Lw(this.self)}};const rA=335903614,sA=4150755663,iA=1481765933,oA=1284865837,aA=9007199254740992,uA=134217728;class cA{_state;constructor(t,n,r,s){return Hr(n)&&Hr(t)?(n=Math.random()*4294967295>>>0,t=0):Hr(n)&&(n=t,t=0),Hr(s)&&Hr(r)?(s=this._state?this._state[3]:sA,r=this._state?this._state[2]:rA):Hr(s)&&(s=r,r=0),this._state=new Int32Array([0,0,r>>>0,((s||0)|1)>>>0]),this._next(),Fx(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){const t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*uA+n)/aA}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;fA(this._state,t,n,iA,oA),Fx(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,s=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,s=(s^n)>>>0;const i=(s>>>27|r<<5)>>>0,a=t>>>27,u=(-a>>>0&31)>>>0;return(i>>>a|i<<u)>>>0}}function fA(e,t,n,r,s){let i=(n>>>16)*(s&65535)>>>0,a=(n&65535)*(s>>>16)>>>0,u=(n&65535)*(s&65535)>>>0,c=(n>>>16)*(s>>>16)+((a>>>16)+(i>>>16))>>>0;a=a<<16>>>0,u=u+a>>>0,u>>>0<a>>>0&&(c=c+1>>>0),i=i<<16>>>0,u=u+i>>>0,u>>>0<i>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,s)>>>0,e[0]=c,e[1]=u}function Fx(e,t,n,r,s){let i=t+r>>>0;const a=n+s>>>0;a>>>0<n>>>0&&(i=i+1|0),e[0]=i,e[1]=a}const wc=Symbol.for("effect/Utils/YieldWrap");class si{#t;constructor(t){this.#t=t}[wc](){return this.#t}}function lA(e){if(typeof e=="object"&&e!==null&&wc in e)return e[wc]();throw new Error(Uo("yieldWrapGet"))}const ve=lt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Cx={effect_internal_function:e=>e()},hA={effect_internal_function:e=>{try{return e()}finally{}}},ae=Cx.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0?Cx.effect_internal_function:hA.effect_internal_function,Ac=lt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),J=Symbol.for("effect/Hash"),D=e=>{if(ve.enabled===!0)return 0;switch(typeof e){case"number":return Fc(e);case"bigint":return $t(e.toString(10));case"boolean":return $t(String(e));case"symbol":return $t(String(e));case"string":return $t(e);case"undefined":return $t("undefined");case"function":case"object":return e===null?$t("null"):e instanceof Date?D(e.toISOString()):e instanceof URL?D(e.href):xA(e)?e[J]():Ec(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},Ec=e=>(Ac.has(e)||Ac.set(e,Fc(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Ac.get(e)),ut=e=>t=>t*53^e,qo=e=>e&3221225471|e>>>1&1073741824,xA=e=>tt(e,J),Fc=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return qo(t)},$t=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return qo(t)},pA=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=l($t(t[r]),ut(D(e[t[r]])));return qo(n)},vx=e=>pA(e,Object.keys(e)),ii=e=>{let t=6151;for(let n=0;n<e.length;n++)t=l(t,ut(D(e[n])));return qo(t)},vt=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,J,{value(){return r},enumerable:!1}),r}}const e=arguments[0],t=arguments[1];return Object.defineProperty(e,J,{value(){return t},enumerable:!1}),t},H=Symbol.for("effect/Equal");function Z(){return arguments.length===1?e=>Vo(e,arguments[0]):Vo(arguments[0],arguments[1])}function Vo(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(Wo(e)&&Wo(t))return D(e)===D(t)&&e[H](t)?!0:ve.enabled&&ve.tester?ve.tester(e,t):!1;if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(ve.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,s)=>Vo(r,t[s]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),s=Object.keys(t);if(r.length===s.length){for(const i of r)if(!(i in t&&Vo(e[i],t[i])))return ve.tester?ve.tester(e,t):!1;return!0}}return ve.tester?ve.tester(e,t):!1}}return ve.enabled&&ve.tester?ve.tester(e,t):!1}const Wo=e=>tt(e,H),Cc=()=>Z,kt=Symbol.for("nodejs.util.inspect.custom"),zt=e=>{try{if(tt(e,"toJSON")&&Lo(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(zt)}catch{return{}}return dA(e)},Qt=e=>JSON.stringify(e,null,2),Yr=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?kx(e,t):String(e)}catch{return String(e)}},kx=(e,t)=>{let n=[];const r=JSON.stringify(e,(s,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&(ir.fiberRefs!==void 0&&Ix(i)?i[vc](ir.fiberRefs):i):i,t);return n=void 0,r},vc=Symbol.for("effect/Inspectable/Redactable"),Ix=e=>typeof e=="object"&&e!==null&&vc in e,ir=lt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),mA=(e,t)=>{const n=ir.fiberRefs;ir.fiberRefs=e;try{return t()}finally{ir.fiberRefs=n}},dA=e=>Ix(e)&&ir.fiberRefs!==void 0?e[vc](ir.fiberRefs):e,G=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,s=t.length;r<s;r++)n=t[r](n);return n}}},oi="Async",zo="Commit",Re="Failure",kc="OnFailure",Go="OnSuccess",Ko="OnSuccessAndFailure",Ne="Success",Tx="Sync",gA="Tag",ai="UpdateRuntimeFlags",Ho="While",Yo="Iterator",Ox="WithRuntime",Jo="Yield",Ic="RevertFlags";let bA="3.18.4";const Tc=()=>bA,yA=Symbol.for("effect/Effect"),SA=Symbol.for("effect/Stream"),_A=Symbol.for("effect/Sink"),wA=Symbol.for("effect/Channel"),Jr={_R:e=>e,_E:e=>e,_A:e=>e,_V:Tc()},AA={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},EA={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},ui={[yA]:Jr,[SA]:Jr,[_A]:AA,[wA]:EA,[H](e){return this===e},[J](){return vt(this,Ec(this))},[Symbol.iterator](){return new Ex(new si(this))},pipe(){return G(this,arguments)}},ci={[J](){return vt(this,vx(this))},[H](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e&&Z(this[r],e[r])))return!1;return!0}},fi={...ui,_op:zo},FA={...fi,...ci},CA=(function(){function e(){}return e.prototype=fi,e})(),$x=Symbol.for("effect/Option"),Bx={...ui,[$x]:{_A:e=>e},[kt](){return this.toJSON()},toString(){return Qt(this.toJSON())}},vA=Object.assign(Object.create(Bx),{_tag:"Some",_op:"Some",[H](e){return Mx(e)&&Nx(e)&&Z(this.value,e.value)},[J](){return vt(this,ut(D(this._tag))(D(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:zt(this.value)}}}),kA=D("None"),IA=Object.assign(Object.create(Bx),{_tag:"None",_op:"None",[H](e){return Mx(e)&&Rx(e)},[J](){return kA},toJSON(){return{_id:"Option",_tag:this._tag}}}),Mx=e=>tt(e,$x),Rx=e=>e._tag==="None",Nx=e=>e._tag==="Some",li=Object.create(IA),$n=e=>{const t=Object.create(vA);return t.value=e,t},Dx=Symbol.for("effect/Either"),Px={...ui,[Dx]:{_R:e=>e},[kt](){return this.toJSON()},toString(){return Qt(this.toJSON())}},TA=Object.assign(Object.create(Px),{_tag:"Right",_op:"Right",[H](e){return jx(e)&&Ux(e)&&Z(this.right,e.right)},[J](){return ut(D(this._tag))(D(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:zt(this.right)}}}),OA=Object.assign(Object.create(Px),{_tag:"Left",_op:"Left",[H](e){return jx(e)&&Lx(e)&&Z(this.left,e.left)},[J](){return ut(D(this._tag))(D(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:zt(this.left)}}}),jx=e=>tt(e,Dx),Lx=e=>e._tag==="Left",Ux=e=>e._tag==="Right",$A=e=>{const t=Object.create(OA);return t.left=e,t},cn=e=>{const t=Object.create(TA);return t.right=e,t},Zr=$A,hi=Lx,Zo=Ux,BA=m(2,(e,{onLeft:t,onRight:n})=>hi(e)?t(e.left):n(e.right))({onLeft:et,onRight:et}),Oc=e=>e.length>0,Xr=e=>(t,n)=>t===n?0:e(t,n),MA=Xr((e,t)=>e<t?-1:1),RA=Xr((e,t)=>e<t?-1:1),NA=m(2,(e,t)=>Xr((n,r)=>{let s=e(n,r);if(s!==0)return s;for(const i of t)if(s=i(n,r),s!==0)return s;return s})),DA=()=>Xr(()=>0),PA=e=>NA(DA(),e),$c=m(2,(e,t)=>Xr((n,r)=>e(t(n),t(r)))),Xo=e=>m(2,(t,n)=>e(t,n)===-1),Bc=e=>m(2,(t,n)=>e(t,n)===1),Mc=e=>m(2,(t,n)=>e(t,n)!==1),jA=e=>m(2,(t,n)=>e(t,n)!==-1),Rc=e=>m(2,(t,n)=>t===n||e(t,n)<1?t:n),Nc=e=>m(2,(t,n)=>t===n||e(t,n)>-1?t:n),LA=e=>m(2,(t,n)=>Rc(e)(n.maximum,Nc(e)(n.minimum,t))),UA=e=>m(2,(t,n)=>!Xo(e)(t,n.minimum)&&!Bc(e)(t,n.maximum)),B=()=>li,M=$n,_t=Rx,de=Nx,ge=m(2,(e,{onNone:t,onSome:n})=>_t(e)?t():n(e.value)),Xe=m(2,(e,t)=>_t(e)?t():e.value),qA=m(2,(e,t)=>_t(e)?t():e),VA=m(2,(e,t)=>_t(e)?M(t()):e),Qo=e=>e==null?B():M(e),or=Xe(yx),Bn=m(2,(e,t)=>{if(de(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),qx=m(2,(e,t)=>_t(e)?B():M(t(e.value))),WA=m(2,(e,t)=>_t(e)?B():t(e.value)),Vx=e=>sr((t,n)=>_t(t)?_t(n):_t(n)?!1:e(t.value,n.value)),zA=(e=>m(2,(t,n)=>_t(t)?!1:e(t.value,n)))(Cc()),GA=(...e)=>e,Wx=e=>e[0],KA=e=>e[1],Dc=m(2,(e,t)=>[t(e[0]),e[1]]),Pc=m(2,(e,t)=>[e[0],t(e[1])]),HA=e=>[e[1],e[0]],jc=Yw,YA=m(3,(e,t,n)=>{if(Array.isArray(e))return e.reduce(n,t);let r=0,s=t;for(const i of e)s=n(s,i,r++);return s}),JA=()=>({}),xi=Object.fromEntries,zx=m(2,(e,t)=>Object.prototype.hasOwnProperty.call(e,t)),Lc=m(3,(e,t,n)=>zx(e,t)?{...e,[t]:n(e[t])}:{...e}),Gx=m(2,(e,t)=>{const n={};for(const r of Uc(e)){const[s,i]=t(e[r],r);n[s]=i}return n}),ZA=m(2,(e,t)=>{const n=JA();for(const r of Uc(e))t(e[r],r)&&(n[r]=e[r]);return n}),Uc=e=>Object.keys(e),XA=e=>m(2,(t,n)=>{for(const r of Uc(t))if(!zx(n,r)||!e(t[r],n[r]))return!1;return!0}),QA=e=>{const t=XA(e);return(n,r)=>t(n,r)&&t(r,n)},qc=e=>new Array(e),Vc=m(2,(e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let s=0;s<n;s++)r[s]=t(s);return r}),tE=(e,t)=>e<=t?Vc(t-e+1,n=>e+n):[e],fn=m(2,(e,t)=>Vc(t,()=>e)),pt=e=>Array.isArray(e)?e:Array.from(e),eE=e=>Array.isArray(e)?e:[e],nE=m(2,(e,{onEmpty:t,onNonEmpty:n})=>Ut(e)?n(e):t()),Qe=m(2,(e,t)=>[t,...e]),pi=m(2,(e,t)=>pt(t).concat(pt(e))),Mn=m(2,(e,t)=>[...e,t]),Qr=m(2,(e,t)=>pt(e).concat(pt(t))),Kx=Array.isArray,Hx=e=>e.length===0,rE=Hx,fe=Oc,Ut=Oc,Yx=e=>e.length,Jx=(e,t)=>e<0||e>=t.length,Zx=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),Xx=m(2,(e,t)=>{const n=Math.floor(t);return Jx(n,e)?B():M(e[n])}),Qx=m(2,(e,t)=>{const n=Math.floor(t);if(Jx(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),mi=Xx(0),Gt=Qx(0),sE=e=>Ut(e)?M(di(e)):B(),di=e=>e[e.length-1],ln=e=>e.slice(1),Wc=e=>e.slice(0,-1),ta=m(2,(e,t)=>{const n=pt(e),r=Zx(t,n);return r===0?[]:n.slice(-r)}),iE=(e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n},oE=m(2,(e,t)=>hE(e,iE(e,t))),aE=m(2,(e,t)=>{const n=pt(e);return n.slice(Zx(t,n),n.length)}),zc=e=>Array.from(e).reverse(),gi=m(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),uE=(...e)=>{const t=gi(PA(e));return n=>{const r=pt(n);return Ut(r)?t(r):[]}},bi=m(2,(e,t)=>ea(e,t,GA)),ea=m(3,(e,t,n)=>{const r=pt(e),s=pt(t);if(Ut(r)&&Ut(s)){const i=[n(Gt(r),Gt(s))],a=Math.min(r.length,s.length);for(let u=1;u<a;u++)i[u]=n(r[u],s[u]);return i}return[]}),cE=m(2,(e,t)=>[t(Gt(e)),...ln(e)]),fE=Cc(),lE=m(2,(e,t)=>{const n=pt(e);if(Ut(n)){const[r,s]=t(n),i=[r];let a=s;for(;Oc(a);){const[u,c]=t(a);i.push(u),a=c}return i}return[]}),hE=m(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return Ut(n)?r>=1?xE(n,r):[[],n]:[n,[]]}),xE=m(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[pE(e),[]]:[Qe(e.slice(1,n),Gt(e)),e.slice(n)]}),pE=e=>e.slice(),mE=m(2,(e,t)=>lE(e,n=>{const r=Gt(n),s=[r];let i=1;for(;i<n.length;i++){const a=n[i];if(t(a,r))s.push(a);else break}return[s,n.slice(i)]})),dE=m(3,(e,t,n)=>{const r=pt(e),s=pt(t);return Ut(r)?Ut(s)?Kc(n)(Qr(r,s)):r:s}),na=m(2,(e,t)=>dE(e,t,fE)),ts=()=>[],le=e=>[e],O=m(2,(e,t)=>e.map(t)),t1=m(2,(e,t)=>{if(rE(e))return[];const n=[];for(let r=0;r<e.length;r++){const s=t(e[r],r);for(let i=0;i<s.length;i++)n.push(s[i])}return n}),yi=t1(et),ra=m(2,(e,t)=>{const n=pt(e),r=[];for(let s=0;s<n.length;s++)t(n[s],s)&&r.push(n[s]);return r}),ar=m(3,(e,t,n)=>pt(e).reduce((r,s,i)=>n(r,s,i),t)),e1=m(2,(e,t)=>e.every(t)),gE=m(2,(e,t)=>e.reduce(Rc(t))),Gc=m(2,(e,t)=>e.reduce(Nc(t))),n1=(e,t)=>{const n=[];let r=e,s;for(;de(s=t(r));){const[i,a]=s.value;n.push(i),r=a}return n},ur=Jw,Kc=m(2,(e,t)=>{const n=pt(e);if(Ut(n)){const r=[Gt(n)],s=ln(n);for(const i of s)r.every(a=>!t(i,a))&&r.push(i);return r}return[]}),bE=e=>Kc(e,Cc()),De=m(2,(e,t)=>pt(e).join(t)),yE=jo,SE=e=>s1(e,-1),Hc=m(2,(e,t)=>e+t),_E=e=>YA(e,0,Hc),r1=m(2,(e,t)=>e-t),s1=m(2,(e,t)=>e*t),wE=e=>{let t=1;for(const n of e){if(n===0)return 0;t*=n}return t},AE=m(2,(e,t)=>t===0?li:$n(e/t)),EE=m(2,(e,t)=>e/t),Yc=e=>Hc(e,1),Jc=e=>r1(e,1),i1=zw,gt=RA,FE=Xo(gt),CE=Mc(gt),vE=Bc(gt),kE=jA(gt),IE=UA(gt),TE=LA(gt),OE=Rc(gt),$E=Nc(gt),BE=e=>gt(e,0),ME=m(2,(e,t)=>{const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}),RE=e=>{const t=Math.ceil(Math.log(e)/Math.log(2));return Math.max(Math.pow(2,t),2)},NE=e=>{if(e==="NaN")return $n(NaN);if(e==="Infinity")return $n(1/0);if(e==="-Infinity")return $n(-1/0);if(e.trim()==="")return li;const t=Number(e);return Number.isNaN(t)?li:$n(t)},DE=m(2,(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n}),PE=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),jE=Symbol.for("effect/Context/Tag"),sa=Symbol.for("effect/Context/Reference"),o1={...ui,_op:"Tag",[Symbol.for("effect/STM")]:Jr,[jE]:{_Service:e=>e,_Identifier:e=>e},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[kt](){return this.toJSON()},of(e){return e},context(e){return u1(this,e)}},LE={...o1,[sa]:sa},UE=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(o1);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r},qE=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function s(){}return Object.setPrototypeOf(s,LE),s.key=e,s.defaultValue=t.defaultValue,Object.defineProperty(s,"stack",{get(){return r.stack}}),s},a1=Symbol.for("effect/Context"),VE={[a1]:{_Services:e=>e},[H](e){if(zE(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!Z(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[J](){return vt(this,Fc(this.unsafeMap.size))},pipe(){return G(this,arguments)},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(zt)}},[kt](){return this.toJSON()}},es=e=>{const t=Object.create(VE);return t.unsafeMap=e,t},WE=e=>{const t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){const n=e.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},zE=e=>tt(e,a1),GE=e=>tt(e,sa),KE=es(new Map),HE=()=>KE,u1=(e,t)=>es(new Map([[e.key,t]])),YE=m(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),es(r)}),Zc=lt("effect/Context/defaultValueCache",()=>new Map),Xc=e=>{if(Zc.has(e.key))return Zc.get(e.key);const t=e.defaultValue();return Zc.set(e.key,t),t},JE=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):Xc(t),c1=m(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(sa in t)return Xc(t);throw WE(t)}return e.unsafeMap.get(t.key)}),ZE=c1,XE=m(2,(e,t)=>e.unsafeMap.has(t.key)?$n(e.unsafeMap.get(t.key)):GE(t)?$n(Xc(t)):li),QE=m(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,s]of t.unsafeMap)n.set(r,s);return es(n)}),cr=UE,Qc=HE,tF=u1,Si=YE,f1=ZE,l1=c1,_i=XE,h1=QE,x1=qE,p1=Symbol.for("effect/Chunk");function eF(e,t,n,r,s){for(let i=t;i<Math.min(e.length,t+s);i++)n[r+i-t]=e[i];return n}const m1=[],nF=(e=>sr((t,n)=>t.length===n.length&&fr(t).every((r,s)=>e(r,rs(n,s)))))(Z),rF={[p1]:{_A:e=>e},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"Chunk",values:fr(this).map(zt)}},[kt](){return this.toJSON()},[H](e){return d1(e)&&nF(this,e)},[J](){return vt(this,ii(fr(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return m1[Symbol.iterator]();default:return fr(this)[Symbol.iterator]()}},pipe(){return G(this,arguments)}},Kt=e=>{const t=Object.create(rF);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=tn,t.right=tn;break}case"ISingleton":{t.length=1,t.depth=0,t.left=tn,t.right=tn;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=tn,t.right=tn;break}}return t},d1=e=>tt(e,p1),tn=Kt({_tag:"IEmpty"}),hn=()=>tn,t0=(...e)=>sF(e),be=e=>Kt({_tag:"ISingleton",a:e}),g1=e=>d1(e)?e:ia(pt(e)),e0=(e,t,n)=>{switch(e.backing._tag){case"IArray":{eF(e.backing.array,0,t,n,e.length);break}case"IConcat":{e0(e.left,t,n),e0(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,s=n;for(;r<e.length;)t[s]=rs(e,r),r+=1,s+=1;break}}},fr=e=>{switch(e.backing._tag){case"IEmpty":return m1;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return e0(e,t,0),e.backing={_tag:"IArray",array:t},e.left=tn,e.right=tn,e.depth=0,t}}},ns=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Kt({_tag:"IArray",array:zc(e.backing.array)});case"IConcat":return Kt({_tag:"IConcat",left:ns(e.backing.right),right:ns(e.backing.left)});case"ISlice":return ia(zc(fr(e)))}},ia=e=>e.length===0?hn():e.length===1?be(e[0]):Kt({_tag:"IArray",array:e}),sF=e=>ia(e),rs=m(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?rs(e.left,t):rs(e.right,t-e.left.length);case"ISlice":return rs(e.backing.chunk,t+e.backing.offset)}}),iF=m(2,(e,t)=>je(e,be(t))),Pe=m(2,(e,t)=>je(be(t),e)),n0=m(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return tn;switch(e.backing._tag){case"ISlice":return Kt({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?n0(e.right,t-e.left.length):Kt({_tag:"IConcat",left:n0(e.left,t),right:e.right});default:return Kt({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),je=m(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Kt({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){const r=je(e.right,t);return Kt({_tag:"IConcat",left:e.left,right:r})}else{const r=je(e.right.right,t);if(r.depth===e.depth-3){const s=Kt({_tag:"IConcat",left:e.right.left,right:r});return Kt({_tag:"IConcat",left:e.left,right:s})}else{const s=Kt({_tag:"IConcat",left:e.left,right:e.right.left});return Kt({_tag:"IConcat",left:s,right:r})}}else if(t.right.depth>=t.left.depth){const r=je(e,t.left);return Kt({_tag:"IConcat",left:r,right:t.right})}else{const r=je(e,t.left.left);if(r.depth===t.depth-3){const s=Kt({_tag:"IConcat",left:r,right:t.left.right});return Kt({_tag:"IConcat",left:s,right:t.right})}else{const s=Kt({_tag:"IConcat",left:t.left.right,right:t.right});return Kt({_tag:"IConcat",left:r,right:s})}}}),oF=e=>e.length===0,ss=e=>e.length>0,b1=e=>rs(e,0),is=b1,lr=e=>n0(e,1),r0=Symbol.for("effect/Duration"),y1=BigInt(0),S1=BigInt(24),oa=BigInt(60),s0=BigInt(1e3),_1=BigInt(1e6),w1=BigInt(1e9),aF=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,xn=e=>{if(E1(e))return e;if(jo(e))return hr(e);if(Xw(e))return i0(e);if(Array.isArray(e)&&e.length===2&&e.every(jo))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?F1:e[0]===1/0||e[1]===1/0?lF:i0(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(Zw(e)){const t=aF.exec(e);if(t){const[n,r,s]=t,i=Number(r);switch(s){case"nano":case"nanos":return i0(BigInt(r));case"micro":case"micros":return hF(BigInt(r));case"milli":case"millis":return hr(i);case"second":case"seconds":return C1(i);case"minute":case"minutes":return v1(i);case"hour":case"hours":return k1(i);case"day":case"days":return I1(i);case"week":case"weeks":return T1(i)}}}throw new Error("Invalid DurationInput")},A1={_tag:"Millis",millis:0},uF={_tag:"Infinity"},cF={[r0]:r0,[J](){return vt(this,vx(this.value))},[H](e){return E1(e)&&SF(this,e)},toString(){return`Duration(${wF(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:pF(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[kt](){return this.toJSON()},pipe(){return G(this,arguments)}},en=e=>{const t=Object.create(cF);return jo(e)?isNaN(e)||e<=0?t.value=A1:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=uF:e<=y1?t.value=A1:t.value={_tag:"Nanos",nanos:e},t},E1=e=>tt(e,r0),fF=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===y1;case"Infinity":return!1}},F1=en(0),lF=en(1/0),i0=e=>en(e),hF=e=>en(e*s0),hr=e=>en(e),C1=e=>en(e*1e3),v1=e=>en(e*6e4),k1=e=>en(e*36e5),I1=e=>en(e*864e5),T1=e=>en(e*6048e5),o0=e=>mF(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),xF=e=>{const t=xn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},pF=e=>{const t=xn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/w1),Number(t.value.nanos%w1)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},mF=m(2,(e,t)=>{const n=xn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),aa=m(3,(e,t,n)=>{const r=xn(e),s=xn(t);if(r.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(o0(r),o0(s));if(r.value._tag==="Nanos"||s.value._tag==="Nanos"){const i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(i,a)}return n.onMillis(r.value.millis,s.value.millis)}),dF=Xr((e,t)=>aa(e,t,{onMillis:(n,r)=>n<r?-1:n>r?1:0,onNanos:(n,r)=>n<r?-1:n>r?1:0})),gF=(e,t)=>aa(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),bF=m(2,(e,t)=>aa(e,t,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r})),yF=m(2,(e,t)=>aa(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),SF=m(2,(e,t)=>gF(xn(e),xn(t))),_F=e=>{const t=xn(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=xF(t),r=n/_1,s=r/s0,i=s/oa,a=i/oa,u=a/S1;return{days:Number(u),hours:Number(a%S1),minutes:Number(i%oa),seconds:Number(s%oa),millis:Number(r%s0),nanos:Number(n%_1)}},wF=e=>{const t=xn(e);if(t.value._tag==="Infinity")return"Infinity";if(fF(t))return"0";const n=_F(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},xr=5,a0=Math.pow(2,xr),AF=a0-1,EF=a0/2,FF=a0/4;function CF(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function os(e,t){return t>>>e&AF}function as(e){return 1<<e}function O1(e,t){return CF(e&t-1)}const vF=(e,t)=>({value:e,previous:t});function us(e,t,n,r){let s=r;if(!e){const i=r.length;s=new Array(i);for(let a=0;a<i;++a)s[a]=r[a]}return s[t]=n,s}function $1(e,t,n){const r=n.length-1;let s=0,i=0,a=n;if(e)s=i=t;else for(a=new Array(r);s<t;)a[i++]=n[s++];for(++s;s<=r;)a[i++]=n[s++];return e&&(a.length=r),a}function kF(e,t,n,r){const s=r.length;if(e){let c=s;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let i=0,a=0;const u=new Array(s+1);for(;i<t;)u[a++]=r[i++];for(u[t]=n;i<s;)u[++a]=r[i++];return u}class Rn{_tag="EmptyNode";modify(t,n,r,s,i,a){const u=r(B());return _t(u)?new Rn:(++a.value,new pr(t,s,i,u))}}function Le(e){return _c(e,"EmptyNode")}function IF(e){return Le(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function ua(e,t){return Le(e)?!1:t===e.edit}class pr{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,s){this.edit=t,this.hash=n,this.key=r,this.value=s}modify(t,n,r,s,i,a){if(Z(i,this.key)){const c=r(this.value);return c===this.value?this:_t(c)?(--a.value,new Rn):ua(this,t)?(this.value=c,this):new pr(t,s,i,c)}const u=r(B());return _t(u)?this:(++a.value,B1(t,n,this.hash,this,s,new pr(t,s,i,u)))}}class u0{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,s,i,a){if(s===this.hash){const c=ua(this,t),f=this.updateCollisionList(c,t,this.hash,this.children,r,i,a);return f===this.children?this:f.length>1?new u0(t,this.hash,f):f[0]}const u=r(B());return _t(u)?this:(++a.value,B1(t,n,this.hash,this,s,new pr(t,s,i,u)))}updateCollisionList(t,n,r,s,i,a,u){const c=s.length;for(let x=0;x<c;++x){const p=s[x];if("key"in p&&Z(a,p.key)){const g=p.value,b=i(g);return b===g?s:_t(b)?(--u.value,$1(t,x,s)):us(t,x,new pr(n,r,a,b),s)}}const f=i(B());return _t(f)?s:(++u.value,us(t,c,new pr(n,r,a,f),s))}}class cs{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,s,i,a){const u=this.mask,c=this.children,f=os(n,s),x=as(f),p=O1(u,x),g=u&x,b=ua(this,t);if(!g){const E=new Rn().modify(t,n+xr,r,s,i,a);return E?c.length>=EF?OF(t,f,E,u,c):new cs(t,u|x,kF(b,p,E,c)):this}const S=c[p],w=S.modify(t,n+xr,r,s,i,a);if(S===w)return this;let d=u,F;if(Le(w)){if(d&=~x,!d)return new Rn;if(c.length<=2&&IF(c[p^1]))return c[p^1];F=$1(b,p,c)}else F=us(b,p,w,c);return b?(this.mask=d,this.children=F,this):new cs(t,d,F)}}class c0{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,s,i,a){let u=this.size;const c=this.children,f=os(n,s),x=c[f],p=(x||new Rn).modify(t,n+xr,r,s,i,a);if(x===p)return this;const g=ua(this,t);let b;if(Le(x)&&!Le(p))++u,b=us(g,f,p,c);else if(!Le(x)&&Le(p)){if(--u,u<=FF)return TF(t,u,f,c);b=us(g,f,new Rn,c)}else b=us(g,f,p,c);return g?(this.size=u,this.children=b,this):new c0(t,u,b)}}function TF(e,t,n,r){const s=new Array(t-1);let i=0,a=0;for(let u=0,c=r.length;u<c;++u)if(u!==n){const f=r[u];f&&!Le(f)&&(s[i++]=f,a|=1<<u)}return new cs(e,a,s)}function OF(e,t,n,r,s){const i=[];let a=r,u=0;for(let c=0;a;++c)a&1&&(i[c]=s[u++]),a>>>=1;return i[t]=n,new c0(e,u+1,i)}function $F(e,t,n,r,s,i){if(n===s)return new u0(e,n,[i,r]);const a=os(t,n),u=os(t,s);if(a===u)return c=>new cs(e,as(a)|as(u),[c]);{const c=a<u?[r,i]:[i,r];return new cs(e,as(a)|as(u),c)}}function B1(e,t,n,r,s,i){let a,u=t;for(;;){const c=$F(e,u,n,r,s,i);if(typeof c=="function")a=vF(c,a),u=u+xr;else{let f=c;for(;a!=null;)f=a.value(f),a=a.previous;return f}}}const M1="effect/HashMap",f0=Symbol.for(M1),BF={[f0]:f0,[Symbol.iterator](){return new ca(this,(e,t)=>[e,t])},[J](){let e=D(M1);for(const t of this)e^=l(D(t[0]),ut(D(t[1])));return vt(this,e)},[H](e){if(NF(e)){if(e._size!==this._size)return!1;for(const t of this){const n=l(e,h0(t[0],D(t[0])));if(_t(n))return!1;if(!Z(t[1],n.value))return!1}return!0}return!1},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(zt)}},[kt](){return this.toJSON()},pipe(){return G(this,arguments)}},l0=(e,t,n,r)=>{const s=Object.create(BF);return s._editable=e,s._edit=t,s._root=n,s._size=r,s};class ca{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=R1(this.map._root,this.f,void 0)}next(){if(_t(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=fa(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new ca(this.map,this.f)}}const fa=e=>e?N1(e[0],e[1],e[2],e[3],e[4]):B(),R1=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return de(e.value)?M({value:t(e.key,e.value.value),cont:n}):fa(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return N1(r.length,r,0,t,n)}default:return fa(n)}},N1=(e,t,n,r,s)=>{for(;n<e;){const i=t[n++];if(i&&!Le(i))return R1(i,r,[e,t,n,r,s])}return fa(s)},MF=l0(!1,0,new Rn,0),la=()=>MF,RF=e=>{const t=D1(la());for(const n of e)wi(t,n[0],n[1]);return UF(t)},NF=e=>tt(e,f0),DF=e=>e&&Le(e._root),PF=m(2,(e,t)=>h0(e,t,D(t))),h0=m(3,(e,t,n)=>{let r=e._root,s=0;for(;;)switch(r._tag){case"LeafNode":return Z(t,r.key)?r.value:B();case"CollisionNode":{if(n===r.hash){const i=r.children;for(let a=0,u=i.length;a<u;++a){const c=i[a];if("key"in c&&Z(t,c.key))return c.value}}return B()}case"IndexedNode":{const i=os(s,n),a=as(i);if(r.mask&a){r=r.children[O1(r.mask,a)],s+=xr;break}return B()}case"ArrayNode":{if(r=r.children[os(s,n)],r){s+=xr;break}return B()}default:return B()}}),jF=m(2,(e,t)=>de(h0(e,t,D(t)))),wi=m(3,(e,t,n)=>m0(e,t,()=>M(n))),LF=m(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:l0(e._editable,e._edit,t,n)),x0=e=>new ca(e,t=>t),p0=e=>e._size,D1=e=>l0(!0,e._edit+1,e._root,e._size),UF=e=>(e._editable=!1,e),m0=m(3,(e,t,n)=>qF(e,t,D(t),n)),qF=m(4,(e,t,n,r)=>{const s={value:e._size},i=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,s);return l(e,LF(i,s.value))}),P1=m(2,(e,t)=>m0(e,t,B)),VF=m(2,(e,t)=>ha(e,la(),(n,r,s)=>wi(n,s,t(r,s)))),WF=m(2,(e,t)=>ha(e,void 0,(n,r,s)=>t(r,s))),ha=m(3,(e,t,n)=>{const r=e._root;if(r._tag==="LeafNode")return de(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;const s=[r.children];let i;for(;i=s.pop();)for(let a=0,u=i.length;a<u;){const c=i[a++];c&&!Le(c)&&(c._tag==="LeafNode"?de(c.value)&&(t=n(t,c.value.value,c.key)):s.push(c.children))}return t}),j1="effect/HashSet",d0=Symbol.for(j1),zF={[d0]:d0,[Symbol.iterator](){return x0(this._keyMap)},[J](){return vt(this,ut(D(this._keyMap))(D(j1)))},[H](e){return GF(e)?p0(this._keyMap)===p0(e._keyMap)&&Z(this._keyMap,e._keyMap):!1},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(zt)}},[kt](){return this.toJSON()},pipe(){return G(this,arguments)}},xa=e=>{const t=Object.create(zF);return t._keyMap=e,t},GF=e=>tt(e,d0),KF=xa(la()),pa=()=>KF,HF=e=>{const t=g0(pa());for(const n of e)Ai(t,n);return b0(t)},YF=(...e)=>{const t=g0(pa());for(const n of e)Ai(t,n);return b0(t)},JF=m(2,(e,t)=>jF(e._keyMap,t)),ZF=e=>x0(e._keyMap),XF=e=>p0(e._keyMap),g0=e=>xa(D1(e._keyMap)),b0=e=>(e._keyMap._editable=!1,e),L1=m(2,(e,t)=>{const n=g0(e);return t(n),b0(n)}),Ai=m(2,(e,t)=>e._keyMap._editable?(wi(t,!0)(e._keyMap),e):xa(wi(t,!0)(e._keyMap))),U1=m(2,(e,t)=>e._keyMap._editable?(P1(t)(e._keyMap),e):xa(P1(t)(e._keyMap))),QF=m(2,(e,t)=>L1(e,n=>{for(const r of t)U1(n,r)})),t3=m(2,(e,t)=>L1(pa(),n=>{e3(e,r=>Ai(n,r));for(const r of t)Ai(n,r)})),e3=m(2,(e,t)=>WF(e._keyMap,(n,r)=>t(r))),n3=m(3,(e,t,n)=>ha(e._keyMap,t,(r,s,i)=>n(r,i))),Nn=pa,q1=HF,y0=YF,r3=JF,s3=ZF,S0=XF,fs=Ai,_0=U1,V1=QF,Ei=t3,ma=n3,W1=Symbol.for("effect/MutableRef"),i3={[W1]:W1,toString(){return Qt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:zt(this.current)}},[kt](){return this.toJSON()},pipe(){return G(this,arguments)}},z1=e=>{const t=Object.create(i3);return t.current=e,t},da=e=>e.current,G1=m(2,(e,t)=>(e.current=t,e)),w0="effect/FiberId",Fi=Symbol.for(w0),ga="None",A0="Runtime",o3="Composite",a3=$t(`${w0}-${ga}`);let u3=class{[Fi]=Fi;_tag=ga;id=-1;startTimeMillis=-1;[J](){return a3}[H](t){return K1(t)&&t._tag===ga}toString(){return Qt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[kt](){return this.toJSON()}};class c3{id;startTimeMillis;[Fi]=Fi;_tag=A0;constructor(t,n){this.id=t,this.startTimeMillis=n}[J](){return vt(this,$t(`${w0}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[H](t){return K1(t)&&t._tag===A0&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return Qt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[kt](){return this.toJSON()}}const f3=new u3,K1=e=>tt(e,Fi),E0=e=>{switch(e._tag){case ga:return Nn();case A0:return y0(e.id);case o3:return l(E0(e.left),Ei(E0(e.right)))}},H1=lt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>z1(0)),Y1=e=>Array.from(E0(e)).map(n=>`#${n}`).join(","),l3=()=>{const e=da(H1);return l(H1,G1(e+1)),new c3(e,Date.now())},ls=f3,h3=Y1,J1=l3,Ci=la,x3=RF,p3=DF,F0=PF,C0=wi,Z1=x0,X1=m0,m3=VF,Q1=ha,vi=Symbol.for("effect/List"),v0=e=>pt(e),d3=(e=>Kw(ur(e),v0))(Z),g3={[vi]:vi,_tag:"Cons",toString(){return Qt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:v0(this).map(zt)}},[kt](){return this.toJSON()},[H](e){return tp(e)&&this._tag===e._tag&&d3(this,e)},[J](){return vt(this,ii(v0(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return G(this,arguments)}},hs=(e,t)=>{const n=Object.create(g3);return n.head=e,n.tail=t,n},b3=$t("Nil"),y3={[vi]:vi,_tag:"Nil",toString(){return Qt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[kt](){return this.toJSON()},[J](){return b3},[H](e){return tp(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return G(this,arguments)}},ba=Object.create(y3),tp=e=>tt(e,vi),Ue=e=>e._tag==="Nil",S3=e=>e._tag==="Cons",_3=()=>ba,mr=(e,t)=>hs(e,t),xs=_3,k0=e=>hs(e,ba),w3=m(2,(e,t)=>E3(t,e)),A3=m(2,(e,t)=>mr(t,e)),E3=m(2,(e,t)=>{if(Ue(e))return t;if(Ue(t))return e;{const n=hs(t.head,e);let r=n,s=t.tail;for(;!Ue(s);){const i=hs(s.head,e);r.tail=i,r=i,s=s.tail}return n}}),F3=m(2,(e,t)=>{if(Ue(e))return e;{let n=0;const r=hs(t(e.head,n++),ba);let s=r,i=e.tail;for(;!Ue(i);){const a=hs(t(i.head,n++),ba);s.tail=a,s=a,i=i.tail}return r}}),C3=m(3,(e,t,n)=>{let r=t,s=e;for(;!Ue(s);)r=n(r,s.head),s=s.tail;return r}),v3=e=>{let t=xs(),n=e;for(;!Ue(n);)t=A3(t,n.head),n=n.tail;return t},I0=(function(){function e(t){t&&Object.assign(this,t)}return e.prototype=ci,e})(),k3=e=>Object.assign(Object.create(ci),e),I3=Symbol.for("effect/DifferContextPatch");function ep(e){return e}const ki={...I0.prototype,[I3]:{_Value:ep,_Patch:ep}},T3=Object.create(Object.assign(Object.create(ki),{_tag:"Empty"})),np=()=>T3,O3=Object.assign(Object.create(ki),{_tag:"AndThen"}),$3=(e,t)=>{const n=Object.create(O3);return n.first=e,n.second=t,n},B3=Object.assign(Object.create(ki),{_tag:"AddService"}),M3=(e,t)=>{const n=Object.create(B3);return n.key=e,n.service=t,n},R3=Object.assign(Object.create(ki),{_tag:"RemoveService"}),N3=e=>{const t=Object.create(R3);return t.key=e,t},D3=Object.assign(Object.create(ki),{_tag:"UpdateService"}),P3=(e,t)=>{const n=Object.create(D3);return n.key=e,n.update=t,n},j3=(e,t)=>{const n=new Map(e.unsafeMap);let r=np();for(const[s,i]of t.unsafeMap.entries())if(n.has(s)){const a=n.get(s);n.delete(s),Z(a,i)||(r=ya(P3(s,()=>i))(r))}else n.delete(s),r=ya(M3(s,i))(r);for(const[s]of n.entries())r=ya(N3(s))(r);return r},ya=m(2,(e,t)=>$3(e,t)),L3=m(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=be(e);const s=new Map(t.unsafeMap);for(;ss(r);){const a=is(r),u=lr(r);switch(a._tag){case"Empty":{r=u;break}case"AddService":{s.set(a.key,a.service),r=u;break}case"AndThen":{r=Pe(Pe(u,a.second),a.first);break}case"RemoveService":{s.delete(a.key),r=u;break}case"UpdateService":{s.set(a.key,a.update(s.get(a.key))),n=!0,r=u;break}}}if(!n)return es(s);const i=new Map;for(const[a]of t.unsafeMap)s.has(a)&&(i.set(a,s.get(a)),s.delete(a));for(const[a,u]of s)i.set(a,u);return es(i)}),U3=Symbol.for("effect/DifferHashSetPatch");function T0(e){return e}const Sa={...I0.prototype,[U3]:{_Value:T0,_Key:T0,_Patch:T0}},q3=Object.create(Object.assign(Object.create(Sa),{_tag:"Empty"})),rp=()=>q3,V3=Object.assign(Object.create(Sa),{_tag:"AndThen"}),W3=(e,t)=>{const n=Object.create(V3);return n.first=e,n.second=t,n},z3=Object.assign(Object.create(Sa),{_tag:"Add"}),G3=e=>{const t=Object.create(z3);return t.value=e,t},K3=Object.assign(Object.create(Sa),{_tag:"Remove"}),H3=e=>{const t=Object.create(K3);return t.value=e,t},Y3=(e,t)=>{const[n,r]=ma([e,rp()],([s,i],a)=>r3(a)(s)?[_0(a)(s),i]:[s,O0(G3(a))(i)])(t);return ma(r,(s,i)=>O0(H3(i))(s))(n)},O0=m(2,(e,t)=>W3(e,t)),J3=m(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=be(e);for(;ss(r);){const s=is(r),i=lr(r);switch(s._tag){case"Empty":{r=i;break}case"AndThen":{r=Pe(s.first)(Pe(s.second)(i));break}case"Add":{n=fs(s.value)(n),r=i;break}case"Remove":n=_0(s.value)(n),r=i}}return n}),Z3=Symbol.for("effect/DifferReadonlyArrayPatch");function sp(e){return e}const Ii={...I0.prototype,[Z3]:{_Value:sp,_Patch:sp}},X3=Object.create(Object.assign(Object.create(Ii),{_tag:"Empty"})),ip=()=>X3,Q3=Object.assign(Object.create(Ii),{_tag:"AndThen"}),tC=(e,t)=>{const n=Object.create(Q3);return n.first=e,n.second=t,n},eC=Object.assign(Object.create(Ii),{_tag:"Append"}),nC=e=>{const t=Object.create(eC);return t.values=e,t},rC=Object.assign(Object.create(Ii),{_tag:"Slice"}),sC=(e,t)=>{const n=Object.create(rC);return n.from=e,n.until=t,n},iC=Object.assign(Object.create(Ii),{_tag:"Update"}),oC=(e,t)=>{const n=Object.create(iC);return n.index=e,n.patch=t,n},aC=e=>{let t=0,n=ip();for(;t<e.oldValue.length&&t<e.newValue.length;){const r=e.oldValue[t],s=e.newValue[t],i=e.differ.diff(r,s);Z(i,e.differ.empty)||(n=_a(n,oC(t,i))),t=t+1}return t<e.oldValue.length&&(n=_a(n,sC(0,t))),t<e.newValue.length&&(n=_a(n,nC(aE(t)(e.newValue)))),n},_a=m(2,(e,t)=>tC(e,t)),uC=m(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),s=le(e);for(;fe(s);){const i=Gt(s),a=ln(s);switch(i._tag){case"Empty":{s=a;break}case"AndThen":{a.unshift(i.first,i.second),s=a;break}case"Append":{for(const u of i.values)r.push(u);s=a;break}case"Slice":{r=r.slice(i.from,i.until),s=a;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),s=a;break}}}return r}),cC={[Symbol.for("effect/Differ")]:{_P:et,_V:et},pipe(){return G(this,arguments)}},ps=e=>{const t=Object.create(cC);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},fC=()=>ps({empty:np(),combine:(e,t)=>ya(t)(e),diff:(e,t)=>j3(e,t),patch:(e,t)=>L3(t)(e)}),lC=()=>ps({empty:rp(),combine:(e,t)=>O0(t)(e),diff:(e,t)=>Y3(e,t),patch:(e,t)=>J3(t)(e)}),hC=e=>ps({empty:ip(),combine:(t,n)=>_a(t,n),diff:(t,n)=>aC({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>uC(t,n,e)}),op=()=>xC((e,t)=>t),xC=e=>ps({empty:et,combine:(t,n)=>t===et?n:n===et?t:r=>n(t(r)),diff:(t,n)=>Z(t,n)?et:ei(n),patch:(t,n)=>e(n,t(n))}),Ti=255,ap=8,$0=e=>e&Ti,B0=e=>e>>ap&Ti,Oi=(e,t)=>(e&Ti)+((t&e&Ti)<<ap),pC=Oi(0,0),mC=e=>Oi(e,e),dC=e=>Oi(e,0),gC=m(2,(e,t)=>Oi($0(e)&~t,B0(e))),bC=m(2,(e,t)=>e|t),yC=e=>~e>>>0&Ti,SC=0,ms=1,_C=2,up=4,M0=16,cp=32,wC=e=>wa(e,cp),AC=m(2,(e,t)=>e|t),Dn=e=>fp(e)&&!FC(e),fp=e=>wa(e,ms),wa=m(2,(e,t)=>(e&t)!==0),lp=(...e)=>e.reduce((t,n)=>t|n,0),EC=lp(SC),hp=e=>wa(e,up),FC=e=>wa(e,M0),Aa=m(2,(e,t)=>Oi(e^t,t)),Ea=m(2,(e,t)=>e&(yC($0(t))|B0(t))|$0(t)&B0(t)),xp=ps({empty:pC,diff:(e,t)=>Aa(e,t),combine:(e,t)=>bC(t)(e),patch:(e,t)=>Ea(t,e)}),CC=mC,pp=dC,mp=gC,dp=(e,t)=>({_tag:"Par",left:e,right:t}),Fa=(e,t)=>({_tag:"Seq",left:e,right:t}),vC=e=>{let t=k0(e),n=xs();for(;;){const[r,s]=C3(t,[gp(),xs()],([i,a],u)=>{const[c,f]=kC(u);return[BC(i,c),w3(a,f)]});if(n=IC(n,r),Ue(s))return v3(n);t=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},kC=e=>{let t=e,n=gp(),r=xs(),s=xs();for(;;)switch(t._tag){case"Empty":{if(Ue(r))return[n,s];t=r.head,r=r.tail;break}case"Par":{r=mr(t.right,r),t=t.left;break}case"Seq":{const i=t.left,a=t.right;switch(i._tag){case"Empty":{t=a;break}case"Par":{const u=i.left,c=i.right;t=dp(Fa(u,a),Fa(c,a));break}case"Seq":{const u=i.left,c=i.right;t=Fa(u,Fa(c,a));break}case"Single":{t=i,s=mr(a,s);break}}break}case"Single":{if(n=$C(n,t),Ue(r))return[n,s];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},IC=(e,t)=>{if(Ue(e))return k0(N0(t));if(MC(t))return e;const n=LC(e.head),r=RC(t);return n.length===1&&r.length===1&&Z(n[0],r[0])?mr(jC(e.head,N0(t)),e.tail):mr(N0(t),e)},TC=Symbol.for("effect/RequestBlock/RequestBlockParallel"),OC={_R:e=>e};class R0{map;[TC]=OC;constructor(t){this.map=t}}const gp=()=>new R0(Ci()),$C=(e,t)=>new R0(X1(e.map,t.dataSource,n=>VA(qx(n,iF(t.blockedRequest)),()=>be(t.blockedRequest)))),BC=(e,t)=>new R0(Q1(e.map,t.map,(n,r,s)=>C0(n,s,ge(F0(n,s),{onNone:()=>r,onSome:i=>je(r,i)})))),MC=e=>p3(e.map),RC=e=>Array.from(Z1(e.map)),N0=e=>PC(m3(e.map,t=>be(t))),NC=Symbol.for("effect/RequestBlock/RequestBlockSequential"),DC={_R:e=>e};class bp{map;[NC]=DC;constructor(t){this.map=t}}const PC=e=>new bp(e),jC=(e,t)=>new bp(Q1(t.map,e.map,(n,r,s)=>C0(n,s,ge(F0(n,s),{onNone:()=>hn(),onSome:i=>je(i,r)})))),LC=e=>Array.from(Z1(e.map)),UC=e=>Array.from(e.map),$i="Die",dr="Empty",ds="Fail",gs="Interrupt",bs="Parallel",ys="Sequential",yp="effect/Cause",Sp=Symbol.for(yp),qC={_E:e=>e},Ss={[Sp]:qC,[J](){return l(D(yp),ut(D(rv(this))),vt(this))},[H](e){return VC(e)&&nv(this,e)},pipe(){return G(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:zt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:zt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:zt(this.left),right:zt(this.right)}}},toString(){return Ri(this)},[kt](){return this.toJSON()}},gr=(()=>{const e=Object.create(Ss);return e._tag=dr,e})(),Bi=e=>{const t=Object.create(Ss);return t._tag=ds,t.error=e,t},qe=e=>{const t=Object.create(Ss);return t._tag=$i,t.defect=e,t},pn=e=>{const t=Object.create(Ss);return t._tag=gs,t.fiberId=e,t},Mi=(e,t)=>{const n=Object.create(Ss);return n._tag=bs,n.left=e,n.right=t,n},ye=(e,t)=>{const n=Object.create(Ss);return n._tag=ys,n.left=e,n.right=t,n},VC=e=>tt(e,Sp),WC=e=>e._tag===dr,zC=e=>e._tag===dr?!0:_s(e,!0,(t,n)=>{switch(n._tag){case dr:return M(t);case $i:case ds:case gs:return M(!1);default:return B()}}),GC=e=>de(XC(e)),D0=e=>L0(void 0,iv)(e),KC=e=>ns(_s(e,hn(),(t,n)=>n._tag===ds?M(l(t,Pe(n.error))):B())),HC=e=>ns(_s(e,hn(),(t,n)=>n._tag===$i?M(l(t,Pe(n.defect))):B())),YC=e=>_s(e,Nn(),(t,n)=>n._tag===gs?M(l(t,fs(n.fiberId))):B()),JC=e=>wp(e,t=>t._tag===ds?M(t.error):B()),ZC=e=>{const t=JC(e);switch(t._tag){case"None":return cn(e);case"Some":return Zr(t.value)}},XC=e=>wp(e,t=>t._tag===gs?M(t.fiberId):B()),_p=e=>j0(e,{onEmpty:gr,onFail:()=>gr,onDie:qe,onInterrupt:pn,onSequential:ye,onParallel:Mi}),QC=e=>j0(e,{onEmpty:gr,onFail:qe,onDie:qe,onInterrupt:pn,onSequential:ye,onParallel:Mi}),tv=m(2,(e,t)=>ev(e,n=>Bi(t(n)))),ev=m(2,(e,t)=>j0(e,{onEmpty:gr,onFail:n=>t(n),onDie:n=>qe(n),onInterrupt:n=>pn(n),onSequential:(n,r)=>ye(n,r),onParallel:(n,r)=>Mi(n,r)})),nv=(e,t)=>{let n=be(e),r=be(t);for(;ss(n)&&ss(r);){const[s,i]=l(is(n),_s([Nn(),hn()],([c,f],x)=>{const[p,g]=P0(x);return M([l(c,Ei(p)),l(f,je(g))])})),[a,u]=l(is(r),_s([Nn(),hn()],([c,f],x)=>{const[p,g]=P0(x);return M([l(c,Ei(p)),l(f,je(g))])}));if(!Z(s,a))return!1;n=i,r=u}return!0},rv=e=>sv(be(e),hn()),sv=(e,t)=>{for(;;){const[n,r]=l(e,ar([Nn(),hn()],([i,a],u)=>{const[c,f]=P0(u);return[l(i,Ei(c)),l(a,je(f))]})),s=S0(n)>0?l(t,Pe(n)):t;if(oF(r))return ns(s);e=r,t=s}throw new Error(Uo("Cause.flattenCauseLoop"))},wp=m(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),s=t(r);switch(s._tag){case"None":{switch(r._tag){case ys:case bs:{n.push(r.right),n.push(r.left);break}}break}case"Some":return s}}return B()}),P0=e=>{let t=e;const n=[];let r=Nn(),s=hn();for(;t!==void 0;)switch(t._tag){case dr:{if(n.length===0)return[r,s];t=n.pop();break}case ds:{if(r=fs(r,t0(t._tag,t.error)),n.length===0)return[r,s];t=n.pop();break}case $i:{if(r=fs(r,t0(t._tag,t.defect)),n.length===0)return[r,s];t=n.pop();break}case gs:{if(r=fs(r,t0(t._tag,t.fiberId)),n.length===0)return[r,s];t=n.pop();break}case ys:{switch(t.left._tag){case dr:{t=t.right;break}case ys:{t=ye(t.left.left,ye(t.left.right,t.right));break}case bs:{t=Mi(ye(t.left.left,t.right),ye(t.left.right,t.right));break}default:{s=Pe(s,t.right),t=t.left;break}}break}case bs:{n.push(t.right),t=t.left;break}}throw new Error(Uo("Cause.evaluateCauseLoop"))},iv={emptyCase:bx,failCase:Sc,dieCase:Sc,interruptCase:bx,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},Ap="SequentialCase",Ep="ParallelCase",j0=m(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:s,onParallel:i,onSequential:a})=>L0(e,void 0,{emptyCase:()=>n,failCase:(u,c)=>r(c),dieCase:(u,c)=>t(c),interruptCase:(u,c)=>s(c),sequentialCase:(u,c,f)=>a(c,f),parallelCase:(u,c,f)=>i(c,f)})),_s=m(3,(e,t,n)=>{let r=t,s=e;const i=[];for(;s!==void 0;){const a=n(r,s);switch(r=de(a)?a.value:r,s._tag){case ys:{i.push(s.right),s=s.left;break}case bs:{i.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&i.length>0&&(s=i.pop())}return r}),L0=m(3,(e,t,n)=>{const r=[e],s=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case dr:{s.push(cn(n.emptyCase(t)));break}case ds:{s.push(cn(n.failCase(t,a.error)));break}case $i:{s.push(cn(n.dieCase(t,a.defect)));break}case gs:{s.push(cn(n.interruptCase(t,a.fiberId)));break}case ys:{r.push(a.right),r.push(a.left),s.push(Zr({_tag:Ap}));break}case bs:{r.push(a.right),r.push(a.left),s.push(Zr({_tag:Ep}));break}}}const i=[];for(;s.length>0;){const a=s.pop();switch(a._tag){case"Left":{switch(a.left._tag){case Ap:{const u=i.pop(),c=i.pop(),f=n.sequentialCase(t,u,c);i.push(f);break}case Ep:{const u=i.pop(),c=i.pop(),f=n.parallelCase(t,u,c);i.push(f);break}}break}case"Right":{i.push(a.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),Ri=(e,t)=>D0(e)?"All fibers interrupted without errors.":Cp(e).map(function(n){return t?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Fp(n.cause,"  ")}
}`}).join(`
`),Fp=(e,t)=>{const n=e.stack.split(`
`);let r=`${t}[cause]: ${n[0]}`;for(let s=1,i=n.length;s<i;s++)r+=`
${t}${n[s]}`;return e.cause&&(r+=` {
${Fp(e.cause,`${t}  `)}
${t}}`),r};class Ca extends globalThis.Error{span=void 0;constructor(t){const n=typeof t=="object"&&t!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(ov(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new Ca(t.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(ws in t&&(this.span=t[ws]),Object.keys(t).forEach(s=>{s in this||(this[s]=t[s])})),this.stack=cv(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const ov=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(tt(e,"toString")&&Lo(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return kx(e)},av=/\((.*)\)/g,uv=lt("effect/Tracer/spanToTrace",()=>new WeakMap),cv=(e,t,n)=>{const r=[e],s=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let i=1;i<s.length;i++){if(s[i].includes(" at new BaseEffectError")||s[i].includes(" at new YieldableError")){i++;continue}if(s[i].includes("Generator.next")||s[i].includes("effect_internal_function"))break;r.push(s[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,a=0;for(;i&&i._tag==="Span"&&a<10;){const u=uv.get(i);if(typeof u=="function"){const c=u();if(typeof c=="string"){const f=c.matchAll(av);let x=!1;for(const[,p]of f)x=!0,r.push(`    at ${i.name} (${p})`);x||r.push(`    at ${i.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=or(i.parent),a++}}return r.join(`
`)},ws=Symbol.for("effect/SpanAnnotation"),Cp=e=>L0(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Ca(n)],failCase:(t,n)=>[new Ca(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),va="Pending",vp="Done",fv=Symbol.for("effect/Deferred"),lv={_E:e=>e,_A:e=>e},hv=e=>({_tag:va,joiners:e}),xv=e=>({_tag:vp,effect:e});class Ni{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Ni(this.self)}}const kp=(e,t)=>{const n=new ee("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},pv=e=>{const t=new ee("RunBlocked");return t.effect_instruction_i0=e,t},As=Symbol.for("effect/Effect");class mv{patch;op;_op=Ic;constructor(t,n){this.patch=t,this.op=n}}class ee{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[As]=Jr;constructor(t){this._op=t}[H](t){return this===t}[J](){return vt(this,Ec(this))}pipe(){return G(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:zt(this.effect_instruction_i0),effect_instruction_i1:zt(this.effect_instruction_i1),effect_instruction_i2:zt(this.effect_instruction_i2)}}toString(){return Qt(this.toJSON())}[kt](){return this.toJSON()}[Symbol.iterator](){return new Ni(new si(this))}}class Ip{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[As]=Jr;constructor(t){this._op=t,this._tag=t}[H](t){return X0(t)&&t._op==="Failure"&&Z(this.effect_instruction_i0,t.effect_instruction_i0)}[J](){return l($t(this._tag),ut(D(this.effect_instruction_i0)),vt(this))}get cause(){return this.effect_instruction_i0}pipe(){return G(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Qt(this.toJSON())}[kt](){return this.toJSON()}[Symbol.iterator](){return new Ni(new si(this))}}class Tp{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[As]=Jr;constructor(t){this._op=t,this._tag=t}[H](t){return X0(t)&&t._op==="Success"&&Z(this.effect_instruction_i0,t.effect_instruction_i0)}[J](){return l($t(this._tag),ut(D(this.effect_instruction_i0)),vt(this))}get value(){return this.effect_instruction_i0}pipe(){return G(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:zt(this.value)}}toString(){return Qt(this.toJSON())}[kt](){return this.toJSON()}[Symbol.iterator](){return new Ni(new si(this))}}const U0=e=>tt(e,As),Se=e=>{const t=new ee(Ox);return t.effect_instruction_i0=e,t},dv=m(3,(e,t,n)=>Ta(r=>W(e,s=>W(Rp(Ht(()=>r(t(s)))),i=>Ht(()=>n(s,i)).pipe(Es({onFailure:a=>{switch(i._tag){case Re:return Ve(ye(i.effect_instruction_i0,a));case Ne:return Ve(a)}},onSuccess:()=>i})))))),Di=m(2,(e,t)=>W(e,()=>bt(t))),Pi=e=>Di(e,void 0),Op=function(){const e=new ee(zo);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(Uo("you're not supposed to end up here"))}return e},ka=(e,t=ls)=>{const n=new ee(oi);let r;return n.effect_instruction_i0=s=>{r=e(s)},n.effect_instruction_i1=t,Up(n,s=>U0(r)?r:We)},gv=(e,t=ls)=>Ht(()=>ka(e,t)),ji=(e,t=ls)=>Op(e,function(){let n,r;function s(c){n?n(c):r===void 0&&(r=c)}const i=new ee(oi);i.effect_instruction_i0=c=>{n=c,r&&c(r)},i.effect_instruction_i1=t;let a,u;return this.effect_instruction_i0.length!==1?(u=new AbortController,a=ae(()=>this.effect_instruction_i0(s,u.signal))):a=ae(()=>this.effect_instruction_i0(s)),a||u?Up(i,c=>(u&&u.abort(),a??We)):i}),$p=m(2,(e,t)=>V0(e,{onFailure:t,onSuccess:bt})),Bp=Symbol.for("effect/OriginalAnnotation"),q0=(e,t)=>de(t)?new Proxy(e,{has(n,r){return r===ws||r===Bp||r in n},get(n,r){return r===ws?t.value:r===Bp?e:n[r]}}):e,Mp=e=>ri(e)&&!(ws in e)?Se(t=>Ve(qe(q0(e,tf(t))))):Ve(qe(e)),bv=e=>yv(()=>qe(new Hv(e))),Li=e=>V0(e,{onFailure:t=>bt(Zr(t)),onSuccess:t=>bt(cn(t))}),Rp=e=>wv(e,{onFailure:wt,onSuccess:qt}),ne=e=>ri(e)&&!(ws in e)?Se(t=>Ve(Bi(q0(e,tf(t))))):Ve(Bi(e)),Np=e=>W(K(e),ne),Ve=e=>{const t=new Ip(Re);return t.effect_instruction_i0=e,t},yv=e=>W(K(e),Ve),Sv=Se(e=>bt(e.id())),Dp=e=>Se(t=>e(t.id())),W=m(2,(e,t)=>{const n=new ee(Go);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),_v=e=>{const t=new ee("OnStep");return t.effect_instruction_i0=e,t},Pp=e=>W(e,et),wv=m(2,(e,t)=>Es(e,{onFailure:n=>bt(t.onFailure(n)),onSuccess:n=>bt(t.onSuccess(n))})),Es=m(2,(e,t)=>{const n=new ee(Ko);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),V0=m(2,(e,t)=>Es(e,{onFailure:n=>{if(HC(n).length>0)return Ve(QC(n));const s=KC(n);return s.length>0?t.onFailure(b1(s)):Ve(n)},onSuccess:t.onSuccess})),Pn=m(2,(e,t)=>Ht(()=>{const n=pt(e),r=qc(n.length);let s=0;return Di(G0({while:()=>s<n.length,body:()=>t(n[s],s),step:i=>{r[s++]=i}}),r)})),Ia=m(2,(e,t)=>Ht(()=>{const n=pt(e);let r=0;return G0({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),jp=e=>{const t=new ee(ai);return t.effect_instruction_i0=CC(ms),t.effect_instruction_i1=()=>e,t},oe=m(2,(e,t)=>W(e,n=>K(()=>t(n)))),Lp=m(2,(e,t)=>V0(e,{onFailure:n=>Np(()=>t.onFailure(n)),onSuccess:n=>K(()=>t.onSuccess(n))})),W0=m(2,(e,t)=>Es(e,{onFailure:n=>{const r=ZC(n);switch(r._tag){case"Left":return Np(()=>t(r.left));case"Right":return Ve(r.right)}},onSuccess:bt})),z0=m(2,(e,t)=>Ta(n=>Es(n(e),{onFailure:r=>{const s=wt(r);return Es(t(s),{onFailure:i=>wt(ye(r,i)),onSuccess:()=>s})},onSuccess:r=>{const s=qt(r);return Oa(t(s),s)}}))),Up=m(2,(e,t)=>z0(e,om({onFailure:n=>D0(n)?Pi(t(YC(n))):We,onSuccess:()=>We}))),bt=e=>{const t=new Tp(Ne);return t.effect_instruction_i0=e,t},Ht=e=>{const t=new ee(zo);return t.commit=e,t},K=e=>{const t=new ee(Tx);return t.effect_instruction_i0=e,t},Av=m(e=>e.length===3||e.length===2&&!(ri(e[1])&&"onlyEffect"in e[1]),(e,t)=>W(e,n=>{const r=typeof t=="function"?t(n):t;return U0(r)?Di(r,n):eA(r)?ka(s=>{r.then(i=>s(bt(n)),i=>s(ne(new Zv(i,"An unknown error occurred in Effect.tap"))))}):bt(n)})),Ev=e=>Se(t=>{const n=t.getFiberRef(Z0),r=l(n,Xe(()=>t.scope()));return e($a(Z0,M(r)))}),qp=e=>{const t=new ee(ai);return t.effect_instruction_i0=pp(ms),t.effect_instruction_i1=()=>e,t},Ta=e=>Op(e,function(){const t=new ee(ai);return t.effect_instruction_i0=pp(ms),t.effect_instruction_i1=n=>fp(n)?ae(()=>this.effect_instruction_i0(jp)):ae(()=>this.effect_instruction_i0(qp)),t}),We=bt(void 0),Fv=e=>{const t=new ee(ai);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},G0=e=>{const t=new ee(Ho);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},K0=e=>{const t=new ee(Jo);return typeof e?.priority<"u"?Uv(t,e.priority):t},Vp=m(2,(e,t)=>W(e,n=>oe(t,r=>[n,r]))),Wp=m(2,(e,t)=>W(e,n=>Di(t,n))),Oa=m(2,(e,t)=>W(e,()=>t)),Cv=e=>W(Sv,t=>l(e,zp(t))),zp=m(2,(e,t)=>W(e.interruptAsFork(t),()=>e.await)),vv={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return G(this,arguments)}},kv={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return G(this,arguments)}},Iv={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return G(this,arguments)}},Gp={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return G(this,arguments)}},Kp={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return G(this,arguments)}},Hp={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return G(this,arguments)}},Tv={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return G(this,arguments)}},Ov={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return G(this,arguments)}},$v=Symbol.for("effect/FiberRef"),Bv={_A:e=>e},H0=e=>Se(t=>qt(t.getFiberRef(e))),Y0=m(2,(e,t)=>W(H0(e),t)),Yp=m(2,(e,t)=>Mv(e,()=>[void 0,t])),Mv=m(2,(e,t)=>Se(n=>{const[r,s]=t(n.getFiberRef(e));return n.setFiberRef(e,s),bt(r)})),$a=m(3,(e,t,n)=>dv(Wp(H0(t),Yp(t,n)),()=>e,r=>Yp(t,r))),he=(e,t)=>Fs(e,{differ:op(),fork:t?.fork??et,join:t?.join}),Rv=e=>{const t=lC();return Fs(e,{differ:t,fork:t.empty})},Nv=e=>{const t=hC(op());return Fs(e,{differ:t,fork:t.empty})},Jp=e=>{const t=fC();return Fs(e,{differ:t,fork:t.empty})},Fs=(e,t)=>({...fi,[$v]:Bv,initial:e,commit(){return H0(this)},diff:(r,s)=>t.differ.diff(r,s),combine:(r,s)=>t.differ.combine(r,s),patch:r=>s=>t.differ.patch(r,s),fork:t.fork,join:t.join??((r,s)=>s)}),Dv=e=>Fs(e,{differ:xp,fork:xp.empty}),Ui=lt(Symbol.for("effect/FiberRef/currentContext"),()=>Jp(Qc())),Ba=lt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>he(0)),Zp=lt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>he(2048)),Pv=lt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>he(Ci())),jv=lt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>he(Kp)),Lv=lt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>he(xs())),Uv=m(2,(e,t)=>$a(e,Ba,t)),qv=lt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>he("unbounded")),Vv=lt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>he(!0)),Wv=lt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>he(M(Hp))),zv=lt(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>he(M(Gp))),J0=lt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>Nv(ts())),Z0=lt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>he(B(),{fork:()=>B(),join:(e,t)=>e})),Ma=lt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>he(gr,{fork:()=>gr,join:(e,t)=>e})),Gv=(e,t)=>e.addFinalizer(()=>Pi(t)),Kv=(e,t)=>e.close(t),Ra=(e,t)=>e.fork(t),Xp=(function(){class e extends globalThis.Error{commit(){return ne(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[kt](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Ri(Bi(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,FA),e})(),Qp=(e,t)=>{class n extends Xp{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},tm=Symbol.for("effect/Cause/errors/RuntimeException"),Hv=Qp({[tm]:tm},"RuntimeException"),Yv=Symbol.for("effect/Cause/errors/InterruptedException"),Jv=e=>tt(e,Yv),em=Symbol.for("effect/Cause/errors/NoSuchElement"),nm=Qp({[em]:em},"NoSuchElementException"),rm=Symbol.for("effect/Cause/errors/UnknownException"),Zv=(function(){class e extends Xp{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(e.prototype,{[rm]:rm,name:"UnknownException"}),e})(),X0=e=>U0(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),sm=(e,t)=>ek(e,t?.parallel?Mi:ye),Xv=e=>wt(qe(e)),im=e=>wt(Bi(e)),wt=e=>{const t=new Ip(Re);return t.effect_instruction_i0=e,t},Qv=e=>wt(pn(e)),Q0=m(2,(e,t)=>{switch(e._tag){case Re:return wt(e.effect_instruction_i0);case Ne:return qt(t(e.effect_instruction_i0))}}),om=m(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case Re:return t(e.effect_instruction_i0);case Ne:return n(e.effect_instruction_i0)}}),qt=e=>{const t=new Tp(Ne);return t.effect_instruction_i0=e,t},br=qt(void 0),tk=m(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case Re:switch(t._tag){case Ne:return wt(e.effect_instruction_i0);case Re:return wt(n(e.effect_instruction_i0,t.effect_instruction_i0))}case Ne:switch(t._tag){case Ne:return qt(r(e.effect_instruction_i0,t.effect_instruction_i0));case Re:return wt(t.effect_instruction_i0)}}}),ek=(e,t)=>{const n=g1(e);return ss(n)?l(lr(n),ar(l(is(n),Q0(be)),(r,s)=>l(r,tk(s,{onSuccess:(i,a)=>l(i,Pe(a)),onFailure:t}))),Q0(ns),Q0(r=>fr(r)),M):B()},nk=e=>({...fi,[fv]:lv,state:z1(hv([])),commit(){return am(this)},blockingOn:e}),am=e=>gv(t=>{const n=da(e.state);switch(n._tag){case vp:return t(n.effect);case va:return n.joiners.push(t),rk(e,t)}},e.blockingOn),um=(e,t)=>{const n=da(e.state);if(n._tag===va){G1(e.state,xv(t));for(let r=0,s=n.joiners.length;r<s;r++)n.joiners[r](t)}},rk=(e,t)=>K(()=>{const n=da(e.state);if(n._tag===va){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),sk=Se(e=>qt(e.currentContext)),ik=()=>sk,qi=e=>W(ik(),e),ok=m(2,(e,t)=>$a(Ui,t)(e)),ak=m(2,(e,t)=>qi(n=>ok(e,t(n)))),tf=e=>{const t=e.currentSpan;return t!==void 0&&t._tag==="Span"?M(t):B()},cm=Symbol.for("effect/MutableHashMap"),uk={[cm]:cm,[Symbol.iterator](){return new ef(this)},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(zt)}},[kt](){return this.toJSON()},pipe(){return G(this,arguments)}};class ef{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new ck(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new ef(this.self)}}class ck{backing;constructor(t){this.backing=t}currentBucket;next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const fk=()=>{const e=Object.create(uk);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},yr=m(2,(e,t)=>{if(Wo(t)===!1)return e.referential.has(t)?M(e.referential.get(t)):B();const n=t[J](),r=e.buckets.get(n);return r===void 0?B():lk(e,r,t)}),lk=(e,t,n,r=!1)=>{for(let s=0,i=t.length;s<i;s++)if(n[H](t[s][0])){const a=t[s][1];return r&&(t.splice(s,1),e.bucketsSize--),M(a)}return B()},Vi=m(2,(e,t)=>de(yr(e,t))),Wi=m(3,(e,t,n)=>{if(Wo(t)===!1)return e.referential.set(t,n),e;const r=t[J](),s=e.buckets.get(r);return s===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(hk(e,s,t),s.push([t,n]),e.bucketsSize++,e)}),hk=(e,t,n)=>{for(let r=0,s=t.length;r<s;r++)if(n[H](t[r][0])){t.splice(r,1),e.bucketsSize--;return}},fm=Symbol.for("effect/Clock"),nf=cr("effect/Clock"),xk=2**31-1,lm={unsafeSchedule(e,t){const n=o0(t);if(n>xk)return Sc;let r=!1;const s=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(s),!r)}},hm=(function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;let t;return()=>(t===void 0&&(t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6))),t+BigInt(Math.round(performance.now()*1e6)))})(),pk=(function(){const e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return hm;const t=hm()-e.bigint();return()=>t+e.bigint()})();class mk{[fm]=fm;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return pk()}currentTimeMillis=K(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=K(()=>this.unsafeCurrentTimeNanos());scheduler(){return bt(lm)}sleep(t){return ji(n=>{const r=lm.unsafeSchedule(()=>n(We),t);return Pi(K(r))})}}const dk=()=>new mk,xm="And",pm="Or",mm="InvalidData",dm="MissingData",gm="SourceUnavailable",bm="Unsupported",ym=Symbol.for("effect/ConfigError"),Cs={_tag:"ConfigError",[ym]:ym},Sm=(e,t)=>{const n=Object.create(Cs);return n._op=xm,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},_m=(e,t)=>{const n=Object.create(Cs);return n._op=pm,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},gk=(e,t,n={pathDelim:"."})=>{const r=Object.create(Cs);return r._op=mm,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${l(this.path,De(n.pathDelim))}: "${this.message}")`}}),r},Sr=(e,t,n={pathDelim:"."})=>{const r=Object.create(Cs);return r._op=dm,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${l(this.path,De(n.pathDelim))}: "${this.message}")`}}),r},bk=(e,t,n,r={pathDelim:"."})=>{const s=Object.create(Cs);return s._op=gm,s.path=e,s.message=t,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${l(this.path,De(r.pathDelim))}: "${this.message}")`}}),s},yk=(e,t,n={pathDelim:"."})=>{const r=Object.create(Cs);return r._op=bm,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${l(this.path,De(n.pathDelim))}: "${this.message}")`}}),r},_r=m(2,(e,t)=>{switch(e._op){case xm:return Sm(_r(e.left,t),_r(e.right,t));case pm:return _m(_r(e.left,t),_r(e.right,t));case mm:return gk([...t,...e.path],e.message);case dm:return Sr([...t,...e.path],e.message);case gm:return bk([...t,...e.path],e.message,e.cause);case bm:return yk([...t,...e.path],e.message)}}),Sk={_tag:"Empty"},rf=m(2,(e,t)=>{let n=k0(t),r=e;for(;S3(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=mr(s.first,mr(s.second,n.tail));break}case"MapName":{r=O(r,s.f),n=n.tail;break}case"Nested":{r=Qe(r,s.name),n=n.tail;break}case"Unnested":{if(l(mi(r),zA(s.name)))r=ln(r),n=n.tail;else return Zr(Sr(r,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return cn(r)}),_k="Constant",wk="Fail",Ak="Fallback",Ek="Described",Fk="Lazy",Ck="MapOrFail",vk="Nested",kk="Primitive",Ik="Sequence",Tk="HashMap",Ok="ZipWith";var wm={};const Na=(e,t)=>[...e,...t],Am=Symbol.for("effect/ConfigProvider"),$k=cr("effect/ConfigProvider"),Em=Symbol.for("effect/ConfigProviderFlat"),Bk=e=>({[Am]:Am,pipe(){return G(this,arguments)},...e}),Mk=e=>({[Em]:Em,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),Rk=e=>Bk({load:t=>W(ke(e,ts(),t,!1),n=>ge(mi(n),{onNone:()=>ne(Sr(ts(),`Expected a single value having structure: ${t}`)),onSome:bt})),flattened:e}),Nk=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=c=>l(c,De(t)),s=c=>c.split(t),i=()=>typeof process<"u"&&"env"in process&&typeof wm=="object"?wm:{};return Rk(Mk({load:(c,f,x=!0)=>{const p=r(c),g=i(),b=p in g?M(g[p]):B();return l(b,W0(()=>Sr(c,`Expected ${p} to exist in the process context`)),W(S=>Uk(S,c,f,n,x)))},enumerateChildren:c=>K(()=>{const f=i(),g=Object.keys(f).map(b=>s(b.toUpperCase())).filter(b=>{for(let S=0;S<c.length;S++){const w=l(c,Qx(S)),d=b[S];if(d===void 0||w!==d)return!1}return!0}).flatMap(b=>b.slice(c.length,c.length+1));return q1(g)}),patch:Sk}))},Dk=(e,t,n,r)=>{const s=n1(n.length,c=>c>=r.length?B():M([e(c),c+1])),i=n1(r.length,c=>c>=n.length?B():M([t(c),c+1])),a=Na(n,s),u=Na(r,i);return[a,u]},Pk=(e,t)=>{let n=t;if(n._tag==="Nested"){const r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},ke=(e,t,n,r)=>{const s=n;switch(s._tag){case _k:return bt(le(s.value));case Ek:return Ht(()=>ke(e,t,s.config,r));case wk:return ne(Sr(t,s.message));case Ak:return l(Ht(()=>ke(e,t,s.first,r)),$p(i=>s.condition(i)?l(ke(e,t,s.second,r),$p(a=>ne(_m(i,a)))):ne(i)));case Fk:return Ht(()=>ke(e,t,s.config(),r));case Ck:return Ht(()=>l(ke(e,t,s.original,r),W(Pn(i=>l(s.mapOrFail(i),W0(_r(Pk(t,s.original))))))));case vk:return Ht(()=>ke(e,Na(t,le(s.name)),s.config,r));case kk:return l(rf(t,e.patch),W(i=>l(e.load(i,s,r),W(a=>{if(a.length===0){const u=l(sE(i),Xe(()=>"<n/a>"));return ne(Sr([],`Expected ${s.description} with name ${u}`))}return bt(a)}))));case Ik:return l(rf(t,e.patch),W(i=>l(e.enumerateChildren(i),W(Vk),W(a=>a.length===0?Ht(()=>oe(ke(e,t,s.config,!0),le)):l(Pn(a,u=>ke(e,Mn(t,`[${u}]`),s.config,!0)),oe(u=>{const c=yi(u);return c.length===0?le(ts()):le(c)}))))));case Tk:return Ht(()=>l(rf(t,e.patch),W(i=>l(e.enumerateChildren(i),W(a=>l(a,Pn(u=>ke(e,Na(i,le(u)),s.valueConfig,r)),oe(u=>u.length===0?le(Ci()):l(qk(u),O(c=>x3(bi(pt(a),c)))))))))));case Ok:return Ht(()=>l(ke(e,t,s.left,r),Li,W(i=>l(ke(e,t,s.right,r),Li,W(a=>{if(hi(i)&&hi(a))return ne(Sm(i.left,a.left));if(hi(i)&&Zo(a))return ne(i.left);if(Zo(i)&&hi(a))return ne(a.left);if(Zo(i)&&Zo(a)){const u=l(t,De(".")),c=jk(t,u),[f,x]=Dk(c,c,l(i.right,O(cn)),l(a.right,O(cn)));return l(f,bi(x),Pn(([p,g])=>l(Vp(p,g),oe(([b,S])=>s.zip(b,S)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},jk=(e,t)=>n=>Zr(Sr(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),Lk=(e,t)=>e.split(new RegExp(`\\s*${PE(t)}\\s*`)),Uk=(e,t,n,r,s)=>s?l(Lk(e,r),Pn(i=>n.parse(i.trim())),W0(_r(t))):l(n.parse(e),Lp({onFailure:_r(t),onSuccess:le})),qk=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Vk=e=>l(Pn(e,zk),Lp({onFailure:()=>ts(),onSuccess:gi(gt)}),Li,oe(BA)),Wk=/^(\[(\d+)\])$/,zk=e=>{const t=e.match(Wk);if(t!==null){const n=t[2];return l(n!==void 0&&n.length>0?M(n):B(),WA(Gk))}return B()},Gk=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?B():M(t)},Fm=Symbol.for("effect/Console"),Cm=cr("effect/Console"),Kk={[Fm]:Fm,assert(e,...t){return K(()=>{console.assert(e,...t)})},clear:K(()=>{console.clear()}),count(e){return K(()=>{console.count(e)})},countReset(e){return K(()=>{console.countReset(e)})},debug(...e){return K(()=>{console.debug(...e)})},dir(e,t){return K(()=>{console.dir(e,t)})},dirxml(...e){return K(()=>{console.dirxml(...e)})},error(...e){return K(()=>{console.error(...e)})},group(e){return e?.collapsed?K(()=>console.groupCollapsed(e?.label)):K(()=>console.group(e?.label))},groupEnd:K(()=>{console.groupEnd()}),info(...e){return K(()=>{console.info(...e)})},log(...e){return K(()=>{console.log(...e)})},table(e,t){return K(()=>{console.table(e,t)})},time(e){return K(()=>console.time(e))},timeEnd(e){return K(()=>console.timeEnd(e))},timeLog(e,...t){return K(()=>{console.timeLog(e,...t)})},trace(...e){return K(()=>{console.trace(...e)})},warn(...e){return K(()=>{console.warn(...e)})},unsafe:console},vm=Symbol.for("effect/Random"),Hk=cr("effect/Random");class Yk{seed;[vm]=vm;PRNG;constructor(t){this.seed=t,this.PRNG=new cA(t)}get next(){return K(()=>this.PRNG.number())}get nextBoolean(){return oe(this.next,t=>t>.5)}get nextInt(){return K(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return oe(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return K(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Jk(t,n=>this.nextIntBetween(0,n))}}const Jk=(e,t)=>Ht(()=>l(K(()=>Array.from(e)),W(n=>{const r=[];for(let s=n.length;s>=2;s=s-1)r.push(s);return l(r,Ia(s=>l(t(s),oe(i=>Zk(n,s-1,i)))),Di(g1(n)))}))),Zk=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Xk=e=>new Yk(D(e)),km=Symbol.for("effect/Tracer"),Qk=e=>({[km]:km,...e}),Im=cr("effect/Tracer"),Tm=cr("effect/ParentSpan"),Om=(function(){const e="abcdef0123456789",t=e.length;return function(n){let r="";for(let s=0;s<n;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}})();class tI{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(t,n,r,s,i,a){this.name=t,this.parent=n,this.context=r,this.startTime=i,this.kind=a,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:Om(32),this.spanId=Om(16),this.links=Array.from(s)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}addLinks(t){this.links.push(...t)}}const eI=l(Qc(),Si(nf,dk()),Si(Cm,Kk),Si(Hk,Xk(Math.random())),Si($k,Nk()),Si(Im,Qk({span:(e,t,n,r,s,i)=>new tI(e,t,n,r,s,i),context:e=>e()}))),Da=lt(Symbol.for("effect/DefaultServices/currentServices"),()=>Jp(eI));function nI(e){return new jn(e)}function rI(){return nI(new Map)}const $m=Symbol.for("effect/FiberRefs");class jn{locals;[$m]=$m;constructor(t){this.locals=t}pipe(){return G(this,arguments)}}const sI=(e,t,n,r=!1)=>{const s=e;let i=t,a=n,u=r,c;for(;c===void 0;)if(Ut(i)&&Ut(a)){const f=Gt(i)[0],x=ln(i),p=Gt(a)[0],g=Gt(a)[1],b=ln(a);f.startTimeMillis<p.startTimeMillis?(a=b,u=!0):f.startTimeMillis>p.startTimeMillis?i=x:f.id<p.id?(a=b,u=!0):f.id>p.id?i=x:c=[g,u]}else c=[s.initial,!0];return c},iI=m(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((s,i)=>{const a=s[0][1];if(!s[0][0][H](t)){if(!r.has(i)){if(Z(a,i.initial))return;r.set(i,[[t,i.join(i.initial,a)]]);return}const u=r.get(i),[c,f]=sI(i,u,s);if(f){const x=i.diff(c,a),p=u[0][1],g=i.join(p,i.patch(x)(p));if(!Z(p,g)){let b;const S=u[0][0];S[H](t)?b=[[S,g],...u.slice(1)]:b=[[t,g],...u],r.set(i,b)}}}}),new jn(r)}),oI=m(2,(e,t)=>{const n=new Map;return Bm(e,n,t),new jn(n)}),Bm=(e,t,n)=>{e.locals.forEach((r,s)=>{const i=r[0][1],a=s.patch(s.fork)(i);Z(i,a)?t.set(s,r):t.set(s,[[n,a],...r])})},Mm=m(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new jn(n)}),aI=m(2,(e,t)=>e.locals.has(t)?M(Gt(e.locals.get(t))[1]):B()),zi=m(2,(e,t)=>l(aI(e,t),Xe(()=>t.initial))),sf=m(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new jn(new Map([[n,[[t,r]]]]));const s=new Map(e.locals);return of(s,t,n,r),new jn(s)}),of=(e,t,n,r)=>{const s=e.get(n)??[];let i;if(Ut(s)){const[a,u]=Gt(s);if(a[H](t)){if(Z(u,r))return;i=[[t,r],...s.slice(1)]}else i=[[t,r],...s]}else i=[[t,r]];e.set(n,i)},uI=m(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new jn(new Map(t));const r=new Map(e.locals);return n!==void 0&&Bm(e,r,n),t.forEach(([s,i])=>{i.length===1?of(r,i[0][0],s,i[0][1]):i.forEach(([a,u])=>{of(r,a,s,u)})}),new jn(r)}),cI=zi,fI=uI,lI=rI,hI=vv,xI=kv,pI=Iv,mI=Gp,dI=Kp,gI=Hp,bI=Tv,yI=Ov,SI=Bc(l(gt,$c(e=>e.ordinal))),_I=e=>{switch(e){case"All":return hI;case"Debug":return gI;case"Error":return pI;case"Fatal":return xI;case"Info":return dI;case"Trace":return bI;case"None":return yI;case"Warning":return mI}},Rm=e=>e.replace(/[\s="]/g,"_"),wI=e=>t=>`${Rm(t.label)}=${e-t.startTime}ms`,AI=ui,EI=CA;class FI extends EI{}const Nm="Empty",Dm="Add",Pm="Remove",jm="Update",Lm="AndThen",CI={_tag:Nm},vI=(e,t)=>{const n=new Map(e.locals);let r=CI;for(const[s,i]of t.locals.entries()){const a=Gt(i)[1],u=n.get(s);if(u!==void 0){const c=Gt(u)[1];Z(c,a)||(r=af({_tag:jm,fiberRef:s,patch:s.diff(c,a)})(r))}else r=af({_tag:Dm,fiberRef:s,value:a})(r);n.delete(s)}for(const[s]of n.entries())r=af({_tag:Pm,fiberRef:s})(r);return r},af=m(2,(e,t)=>({_tag:Lm,first:e,second:t})),kI=m(3,(e,t,n)=>{let r=n,s=le(e);for(;Ut(s);){const i=Gt(s),a=ln(s);switch(i._tag){case Nm:{s=a;break}case Dm:{r=sf(r,{fiberId:t,fiberRef:i.fiberRef,value:i.value}),s=a;break}case Pm:{r=Mm(r,i.fiberRef),s=a;break}case jm:{const u=zi(r,i.fiberRef);r=sf(r,{fiberId:t,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(u)}),s=a;break}case Lm:{s=Qe(i.first)(Qe(i.second)(a));break}}}return r}),Um="effect/MetricLabel",uf=Symbol.for(Um);class II{key;value;[uf]=uf;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=$t(Um+this.key+this.value)}[J](){return this._hash}[H](t){return OI(t)&&this.key===t.key&&this.value===t.value}pipe(){return G(this,arguments)}}const TI=(e,t)=>new II(e,t),OI=e=>tt(e,uf),$I="Sequential",BI="Parallel",MI="ParallelN",qm={_tag:$I},RI={_tag:BI},NI=e=>({_tag:MI,parallelism:e}),cf=qm,ff=RI,lf=NI,DI=vI,PI=kI,Pa="effect/FiberStatus",wr=Symbol.for(Pa),ja="Done",Vm="Running",Wm="Suspended",jI=$t(`${Pa}-${ja}`);class LI{[wr]=wr;_tag=ja;[J](){return jI}[H](t){return hf(t)&&t._tag===ja}}class UI{runtimeFlags;[wr]=wr;_tag=Vm;constructor(t){this.runtimeFlags=t}[J](){return l(D(Pa),ut(D(this._tag)),ut(D(this.runtimeFlags)),vt(this))}[H](t){return hf(t)&&t._tag===Vm&&this.runtimeFlags===t.runtimeFlags}}class qI{runtimeFlags;blockingOn;[wr]=wr;_tag=Wm;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[J](){return l(D(Pa),ut(D(this._tag)),ut(D(this.runtimeFlags)),ut(D(this.blockingOn)),vt(this))}[H](t){return hf(t)&&t._tag===Wm&&this.runtimeFlags===t.runtimeFlags&&Z(this.blockingOn,t.blockingOn)}}const VI=new LI,WI=e=>new UI(e),zI=(e,t)=>new qI(e,t),hf=e=>tt(e,wr),GI=e=>e._tag===ja,KI=VI,zm=WI,HI=zI,YI=GI,JI=Symbol.for("effect/Micro"),La=Symbol.for("effect/Micro/MicroExit"),Gm=Symbol.for("effect/Micro/MicroCause"),ZI={_E:et};class Km extends globalThis.Error{_tag;traces;[Gm];constructor(t,n,r){const s=`MicroCause.${t}`;let i,a,u;if(n instanceof globalThis.Error){i=`(${s}) ${n.name}`,a=n.message;const c=a.split(`
`).length;u=n.stack?`(${s}) ${n.stack.split(`
`).slice(0,c+3).join(`
`)}`:`${i}: ${a}`}else i=s,a=Yr(n,0),u=`${i}: ${a}`;r.length>0&&(u+=`
    ${r.join(`
    `)}`),super(a),this._tag=t,this.traces=r,this[Gm]=ZI,this.name=i,this.stack=u}pipe(){return G(this,arguments)}toString(){return this.stack}[kt](){return this.stack}}class XI extends Km{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}const QI=(e,t=[])=>new XI(e,t);class t6 extends Km{constructor(t=[]){super("Interrupt","interrupted",t)}}const e6=(e=[])=>new t6(e),n6=e=>e._tag==="Interrupt",Hm=Symbol.for("effect/Micro/MicroFiber"),r6={_A:et,_E:et};class s6{context;interruptible;[Hm];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[Hm]=r6}getRef(t){return JE(this.context,t)}addObserver(t){return this._exit?(t(this._exit),qw):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(bf))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){const s=this._yielded;this._yielded=void 0,s()}const n=this.runLoop(t);if(n===qa)return;const r=Ym.interruptChildren&&Ym.interruptChildren(this);if(r!==void 0)return this.evaluate(Wa(r,()=>n));this._exit=n;for(let s=0;s<this._observers.length;s++)this._observers[s](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(Sf).shouldYield(this)){n=!0;const s=r;r=Wa(u6,()=>s)}if(r=r[xf](this),r===qa){const s=this._yielded;return La in s?(this._yielded=void 0,s):qa}}}catch(s){return tt(r,xf)?yf(s):yf(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[Ua]&&n[Ua](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,qa}children(){return this._children??=new Set}}const Ym=lt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),Jm=Symbol.for("effect/Micro/identifier"),Yt=Symbol.for("effect/Micro/args"),xf=Symbol.for("effect/Micro/evaluate"),vs=Symbol.for("effect/Micro/successCont"),ks=Symbol.for("effect/Micro/failureCont"),Ua=Symbol.for("effect/Micro/ensureCont"),qa=Symbol.for("effect/Micro/Yield"),i6={_A:et,_E:et,_R:et},o6={...AI,_op:"Micro",[JI]:i6,pipe(){return G(this,arguments)},[Symbol.iterator](){return new Ex(new si(this))},toJSON(){return{_id:"Micro",op:this[Jm],...Yt in this?{args:this[Yt]}:void 0}},toString(){return Qt(this)},[kt](){return Qt(this)}};function a6(e){return yf("Micro.evaluate: Not implemented")}const Va=e=>({...o6,[Jm]:e.op,[xf]:e.eval??a6,[vs]:e.contA,[ks]:e.contE,[Ua]:e.ensure}),pf=e=>{const t=Va(e);return function(){const n=Object.create(t);return n[Yt]=e.single===!1?arguments:arguments[0],n}},Zm=e=>{const t={...Va(e),[La]:La,_tag:e.op,get[e.prop](){return this[Yt]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Yt]}},[H](n){return l6(n)&&n._tag===e.op&&Z(this[Yt],n[Yt])},[J](){return vt(this,ut($t(e.op))(D(this[Yt])))}};return function(n){const r=Object.create(t);return r[Yt]=n,r[vs]=void 0,r[ks]=void 0,r[Ua]=void 0,r}},mf=Zm({op:"Success",prop:"value",eval(e){const t=e.getCont(vs);return t?t[vs](this[Yt],e):e.yieldWith(this)}}),Xm=Zm({op:"Failure",prop:"cause",eval(e){let t=e.getCont(ks);for(;n6(this[Yt])&&t&&e.interruptible;)t=e.getCont(ks);return t?t[ks](this[Yt],e):e.yieldWith(this)}}),u6=pf({op:"Yield",eval(e){let t=!1;return e.getRef(Sf).scheduleTask(()=>{t||e.evaluate(h6)},this[Yt]??0),e.yieldWith(()=>{t=!0})}})(0),c6=mf(void 0),df=pf({op:"WithMicroFiber",eval(e){return this[Yt](e)}}),Wa=m(2,(e,t)=>{const n=Object.create(f6);return n[Yt]=e,n[vs]=t,n}),f6=Va({op:"OnSuccess",eval(e){return e._stack.push(this),this[Yt]}}),l6=e=>tt(e,La),Qm=mf,gf=Xm,bf=gf(e6()),yf=e=>gf(QI(e)),h6=Qm(void 0),x6="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class td{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,x6(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(d6)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const p6=m(2,(e,t)=>df(n=>{const r=n.context;return n.context=t(r),y6(e,()=>(n.context=r,c6))})),m6=m(2,(e,t)=>p6(e,h1(t)));class d6 extends x1()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class Sf extends x1()("effect/Micro/currentScheduler",{defaultValue:()=>new td}){}const g6=m(2,(e,t)=>{const n=Object.create(b6);return n[Yt]=e,n[vs]=t.onSuccess,n[ks]=t.onFailure,n}),b6=Va({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Yt]}}),y6=m(2,(e,t)=>_6(n=>g6(n(e),{onFailure:r=>Wa(t(gf(r)),()=>Xm(r)),onSuccess:r=>Wa(t(Qm(r)),()=>mf(r))}))),ed=pf({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Yt],e._interrupted&&e.interruptible)return()=>bf}}),S6=e=>df(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(ed(!1)),t._interrupted?bf:e)),_6=e=>df(t=>t.interruptible?(t.interruptible=!1,t._stack.push(ed(!0)),e(S6)):e(et)),w6=(e,t)=>{const n=new s6(Sf.context(new td));return n.evaluate(e),n};class nd{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let s,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)s=this.buckets[i];s&&s[0]===n?s[1].push(t):i===r?this.buckets.push([n,[t]]):this.buckets.splice(i,0,[n,[t]])}}class A6{maxNextTickBeforeTimer;running=!1;tasks=new nd;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,s]of n)for(let i=0;i<s.length;i++)s[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(Zp)?t.getFiberRef(Ba):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const rd=lt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new A6(2048));class E6{tasks=new nd;deferred=!1;scheduleTask(t,n){this.deferred?rd.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(Zp)?t.getFiberRef(Ba):!1}flush(){for(;this.tasks.buckets.length>0;){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of t)for(let s=0;s<r.length;s++)r[s]()}this.deferred=!0}}const sd=lt(Symbol.for("effect/FiberRef/currentScheduler"),()=>he(rd)),id=lt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>he(new Map)),od=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return Y0(qv,s=>s==="unbounded"?n():s>1?r(s):t());default:return e>1?r(e):t()}},_f="InterruptSignal",wf="Stateful",Af="Resume",Ef="YieldNow",Ff=e=>({_tag:_f,cause:e}),za=e=>({_tag:wf,onFiber:e}),Is=e=>({_tag:Af,effect:e}),F6=()=>({_tag:Ef}),Ga=Symbol.for("effect/FiberScope");class C6{[Ga]=Ga;fiberId=ls;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class v6{fiberId;parent;[Ga]=Ga;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(za(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const k6=e=>new v6(e.id(),e),Cf=lt(Symbol.for("effect/FiberScope/Global"),()=>new C6),I6=Symbol.for("effect/Fiber"),T6={_E:e=>e,_A:e=>e},O6=Symbol.for("effect/Fiber"),ad=e=>Wp(Pp(e.await),e.inheritAll);({...fi});const Ar="effect/FiberCurrent",$6=Symbol.for("effect/Logger"),B6={_Message:e=>e,_Output:e=>e},vf=e=>({[$6]:B6,log:e,pipe(){return G(this,arguments)}}),M6=/^[^\s"=]*$/,R6=vf(((e,t)=>({annotations:n,cause:r,date:s,fiberId:i,logLevel:a,message:u,spans:c})=>{const f=S=>S.match(M6)?S:e(S),x=(S,w)=>`${Rm(S)}=${f(w)}`,p=(S,w)=>" "+x(S,w);let g=x("timestamp",s.toISOString());g+=p("level",a.label),g+=p("fiber",Y1(i));const b=eE(u);for(let S=0;S<b.length;S++)g+=p("message",Yr(b[S],t));WC(r)||(g+=p("cause",Ri(r,{renderErrorCause:!0})));for(const S of c)g+=" "+wI(s.getTime())(S);for(const[S,w]of n)g+=p(S,Yr(w,t));return g})(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`));typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null&&process.stdout.isTTY;const ud="effect/MetricBoundaries",kf=Symbol.for(ud);class N6{values;[kf]=kf;constructor(t){this.values=t,this._hash=l($t(ud),ut(ii(this.values)))}_hash;[J](){return this._hash}[H](t){return D6(t)&&Z(this.values,t.values)}pipe(){return G(this,arguments)}}const D6=e=>tt(e,kf),P6=e=>{const t=l(e,Qr(be(Number.POSITIVE_INFINITY)),bE);return new N6(t)},j6=e=>l(Vc(e.count-1,t=>e.start*Math.pow(e.factor,t)),ia,P6),cd=Symbol.for("effect/MetricKeyType"),fd="effect/MetricKeyType/Counter",If=Symbol.for(fd),L6=Symbol.for("effect/MetricKeyType/Frequency"),U6=Symbol.for("effect/MetricKeyType/Gauge"),ld="effect/MetricKeyType/Histogram",Tf=Symbol.for(ld),q6=Symbol.for("effect/MetricKeyType/Summary"),hd={_In:e=>e,_Out:e=>e};class V6{incremental;bigint;[cd]=hd;[If]=If;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=$t(fd)}_hash;[J](){return this._hash}[H](t){return xd(t)}pipe(){return G(this,arguments)}}class W6{boundaries;[cd]=hd;[Tf]=Tf;constructor(t){this.boundaries=t,this._hash=l($t(ld),ut(D(this.boundaries)))}_hash;[J](){return this._hash}[H](t){return pd(t)&&Z(this.boundaries,t.boundaries)}pipe(){return G(this,arguments)}}const z6=e=>new V6(e?.incremental??!1,e?.bigint??!1),G6=e=>new W6(e),xd=e=>tt(e,If),K6=e=>tt(e,L6),H6=e=>tt(e,U6),pd=e=>tt(e,Tf),Y6=e=>tt(e,q6),md=Symbol.for("effect/MetricKey"),J6={_Type:e=>e},Z6=ur(Z);class Of{name;keyType;description;tags;[md]=J6;constructor(t,n,r,s=[]){this.name=t,this.keyType=n,this.description=r,this.tags=s,this._hash=l($t(this.name+this.description),ut(D(this.keyType)),ut(ii(this.tags)))}_hash;[J](){return this._hash}[H](t){return X6(t)&&this.name===t.name&&Z(this.keyType,t.keyType)&&Z(this.description,t.description)&&Z6(this.tags,t.tags)}pipe(){return G(this,arguments)}}const X6=e=>tt(e,md),Q6=(e,t)=>new Of(e,z6(t),Qo(t?.description)),t4=(e,t,n)=>new Of(e,G6(t),Qo(n)),e4=m(2,(e,t)=>t.length===0?e:new Of(e.name,e.keyType,e.description,na(e.tags,t))),Gi=Symbol.for("effect/MetricState"),dd="effect/MetricState/Counter",$f=Symbol.for(dd),gd="effect/MetricState/Frequency",Bf=Symbol.for(gd),bd="effect/MetricState/Gauge",Mf=Symbol.for(bd),yd="effect/MetricState/Histogram",Rf=Symbol.for(yd),Sd="effect/MetricState/Summary",Nf=Symbol.for(Sd),Ki={_A:e=>e};class n4{count;[Gi]=Ki;[$f]=$f;constructor(t){this.count=t}[J](){return l(D(dd),ut(D(this.count)),vt(this))}[H](t){return x4(t)&&this.count===t.count}pipe(){return G(this,arguments)}}const r4=ur(Z);class s4{occurrences;[Gi]=Ki;[Bf]=Bf;constructor(t){this.occurrences=t}_hash;[J](){return l($t(gd),ut(ii(pt(this.occurrences.entries()))),vt(this))}[H](t){return p4(t)&&r4(pt(this.occurrences.entries()),pt(t.occurrences.entries()))}pipe(){return G(this,arguments)}}class i4{value;[Gi]=Ki;[Mf]=Mf;constructor(t){this.value=t}[J](){return l(D(bd),ut(D(this.value)),vt(this))}[H](t){return m4(t)&&this.value===t.value}pipe(){return G(this,arguments)}}class o4{buckets;count;min;max;sum;[Gi]=Ki;[Rf]=Rf;constructor(t,n,r,s,i){this.buckets=t,this.count=n,this.min=r,this.max=s,this.sum=i}[J](){return l(D(yd),ut(D(this.buckets)),ut(D(this.count)),ut(D(this.min)),ut(D(this.max)),ut(D(this.sum)),vt(this))}[H](t){return d4(t)&&Z(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return G(this,arguments)}}class a4{error;quantiles;count;min;max;sum;[Gi]=Ki;[Nf]=Nf;constructor(t,n,r,s,i,a){this.error=t,this.quantiles=n,this.count=r,this.min=s,this.max=i,this.sum=a}[J](){return l(D(Sd),ut(D(this.error)),ut(D(this.quantiles)),ut(D(this.count)),ut(D(this.min)),ut(D(this.max)),ut(D(this.sum)),vt(this))}[H](t){return g4(t)&&this.error===t.error&&Z(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return G(this,arguments)}}const u4=e=>new n4(e),c4=e=>new s4(e),f4=e=>new i4(e),l4=e=>new o4(e.buckets,e.count,e.min,e.max,e.sum),h4=e=>new a4(e.error,e.quantiles,e.count,e.min,e.max,e.sum),x4=e=>tt(e,$f),p4=e=>tt(e,Bf),m4=e=>tt(e,Mf),d4=e=>tt(e,Rf),g4=e=>tt(e,Nf),b4=Symbol.for("effect/MetricHook"),y4={_In:e=>e,_Out:e=>e},Hi=e=>({[b4]:y4,pipe(){return G(this,arguments)},...e}),_d=BigInt(0),S4=e=>{let t=e.keyType.bigint?_d:0;const n=e.keyType.incremental?e.keyType.bigint?s=>s>=_d:s=>s>=0:s=>!0,r=s=>{n(s)&&(t=t+s)};return Hi({get:()=>u4(t),update:r,modify:r})},_4=e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const s=t.get(r)??0;t.set(r,s+1)};return Hi({get:()=>c4(t),update:n,modify:n})},w4=(e,t)=>{let n=t;return Hi({get:()=>f4(n),update:r=>{n=r},modify:r=>{n=n+r}})},A4=e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),s=new Float64Array(n);let i=0,a=0,u=Number.MAX_VALUE,c=Number.MIN_VALUE;l(t,gi(gt),O((p,g)=>{s[g]=p}));const f=p=>{let g=0,b=n;for(;g!==b;){const S=Math.floor(g+(b-g)/2),w=s[S];p<=w?b=S:g=S,b===g+1&&(p<=s[g]?b=g:g=b)}r[g]=r[g]+1,i=i+1,a=a+p,p<u&&(u=p),p>c&&(c=p)},x=()=>{const p=qc(n);let g=0;for(let b=0;b<n;b++){const S=s[b],w=r[b];g=g+w,p[b]=[S,g]}return p};return Hi({get:()=>l4({buckets:x(),count:i,min:u,max:c,sum:a}),update:f,modify:f})},E4=e=>{const{error:t,maxAge:n,maxSize:r,quantiles:s}=e.keyType,i=l(s,gi(gt)),a=qc(r);let u=0,c=0,f=0,x=0,p=0;const g=S=>{const w=[];let d=0;for(;d!==r-1;){const F=a[d];if(F!=null){const[E,T]=F,k=hr(S-E);yF(k,F1)&&bF(k,n)&&w.push(T)}d=d+1}return F4(t,i,gi(w,gt))},b=(S,w)=>{if(r>0){u=u+1;const d=u%r;a[d]=[w,S]}x=c===0?S:Math.min(x,S),p=c===0?S:Math.max(p,S),c=c+1,f=f+S};return Hi({get:()=>h4({error:t,quantiles:g(Date.now()),count:c,min:x,max:p,sum:f}),update:([S,w])=>b(S,w),modify:([S,w])=>b(S,w)})},F4=(e,t,n)=>{const r=n.length;if(!Ut(t))return ts();const s=t[0],i=t.slice(1),a=wd(e,r,B(),0,s,n),u=le(a);return i.forEach(c=>{u.push(wd(e,r,a.value,a.consumed,c,a.rest))}),O(u,c=>[c.quantile,c.value])},wd=(e,t,n,r,s,i)=>{let a=e,u=t,c=n,f=r,x=s,p=i,g=e,b=t,S=n,w=r,d=s,F=i;for(;;){if(!Ut(p))return{quantile:x,value:B(),consumed:f,rest:[]};if(x===1)return{quantile:x,value:M(di(p)),consumed:f+p.length,rest:[]};const E=Gt(p),T=oE(p,I=>I===E),k=x*u,X=a/2*k,o=f+T[0].length,V=Math.abs(o-k);if(o<k-X){g=a,b=u,S=mi(p),w=o,d=x,F=T[1],a=g,u=b,c=S,f=w,x=d,p=F;continue}if(o>k+X){const I=_t(c)?M(E):c;return{quantile:x,value:I,consumed:f,rest:p}}switch(c._tag){case"None":{g=a,b=u,S=mi(p),w=o,d=x,F=T[1],a=g,u=b,c=S,f=w,x=d,p=F;continue}case"Some":{const I=Math.abs(k-c.value);if(V<I){g=a,b=u,S=mi(p),w=o,d=x,F=T[1],a=g,u=b,c=S,f=w,x=d,p=F;continue}return{quantile:x,value:M(c.value),consumed:f,rest:p}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},C4=Symbol.for("effect/MetricPair"),v4={_Type:e=>e},k4=(e,t)=>({[C4]:v4,metricKey:e,metricState:t,pipe(){return G(this,arguments)}}),Ad=Symbol.for("effect/MetricRegistry");class I4{[Ad]=Ad;map=fk();snapshot(){const t=[];for(const[n,r]of this.map)t.push(k4(n,r.get()));return t}get(t){const n=l(this.map,yr(t),or);if(n==null){if(xd(t.keyType))return this.getCounter(t);if(H6(t.keyType))return this.getGauge(t);if(K6(t.keyType))return this.getFrequency(t);if(pd(t.keyType))return this.getHistogram(t);if(Y6(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=l(this.map,yr(t),or);if(n==null){const r=S4(t);l(this.map,Vi(t))||l(this.map,Wi(t,r)),n=r}return n}getFrequency(t){let n=l(this.map,yr(t),or);if(n==null){const r=_4(t);l(this.map,Vi(t))||l(this.map,Wi(t,r)),n=r}return n}getGauge(t){let n=l(this.map,yr(t),or);if(n==null){const r=w4(t,t.keyType.bigint?BigInt(0):0);l(this.map,Vi(t))||l(this.map,Wi(t,r)),n=r}return n}getHistogram(t){let n=l(this.map,yr(t),or);if(n==null){const r=A4(t);l(this.map,Vi(t))||l(this.map,Wi(t,r)),n=r}return n}getSummary(t){let n=l(this.map,yr(t),or);if(n==null){const r=E4(t);l(this.map,Vi(t))||l(this.map,Wi(t,r)),n=r}return n}}const T4=()=>new I4,O4=Symbol.for("effect/Metric"),$4={_Type:e=>e,_In:e=>e,_Out:e=>e},Ed=lt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>T4()),Fd=function(e,t,n,r){const s=Object.assign(i=>Av(i,a=>N4(s,a)),{[O4]:$4,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return G(this,arguments)}});return s},Ka=(e,t)=>Cd(Q6(e,t)),Cd=e=>{let t;const n=new WeakMap,r=s=>{if(s.length===0)return t!==void 0||(t=Ed.get(e)),t;let i=n.get(s);return i!==void 0||(i=Ed.get(e4(e,s)),n.set(s,i)),i};return Fd(e.keyType,(s,i)=>r(i).update(s),s=>r(s).get(),(s,i)=>r(i).modify(s))},B4=(e,t,n)=>Cd(t4(e,t,n)),M4=m(3,(e,t,n)=>R4(e,[TI(t,n)])),R4=m(2,(e,t)=>Fd(e.keyType,(n,r)=>e.unsafeUpdate(n,na(t,r)),n=>e.unsafeValue(na(t,n)),(n,r)=>e.unsafeModify(n,na(t,r)))),N4=m(2,(e,t)=>Y0(J0,n=>K(()=>e.unsafeUpdate(t,n))));({...ci});const D4=m(2,(e,t)=>Y0(id,n=>K(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,um(r.result,t))}}))),Ha=Symbol.for("effect/Supervisor"),Df={_T:e=>e};class Ya{underlying;value0;[Ha]=Df;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,s){this.underlying.onStart(t,n,r,s)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Ya(this,l(this.value,oe(t)))}zip(t){return new Ja(this,t)}}class Ja{left;right;_tag="Zip";[Ha]=Df;constructor(t,n){this.left=t,this.right=n}get value(){return Vp(this.left.value,this.right.value)}onStart(t,n,r,s){this.left.onStart(t,n,r,s),this.right.onStart(t,n,r,s)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Ya(this,l(this.value,oe(t)))}zip(t){return new Ja(this,t)}}const vd=e=>tt(e,Ha)&&_c(e,"Zip");class P4{effect;[Ha]=Df;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,s){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ya(this,l(this.value,oe(t)))}zip(t){return new Ja(this,t)}onRun(t,n){return t()}}const j4=e=>new P4(e),Za=lt("effect/Supervisor/none",()=>j4(We)),L4=ps,kd="Empty",Id="AddSupervisor",Td="RemoveSupervisor",Od="AndThen",Yi={_tag:kd},Xa=(e,t)=>({_tag:Od,first:e,second:t}),U4=(e,t)=>q4(t,be(e)),q4=(e,t)=>{let n=e,r=t;for(;ss(r);){const s=is(r);switch(s._tag){case kd:{r=lr(r);break}case Id:{n=n.zip(s.supervisor),r=lr(r);break}case Td:{n=Pf(n,s.supervisor),r=lr(r);break}case Od:{r=Pe(s.first)(Pe(s.second)(lr(r)));break}}}return n},Pf=(e,t)=>Z(e,t)?Za:vd(e)?Pf(e.left,t).zip(Pf(e.right,t)):e,Qa=e=>Z(e,Za)?Nn():vd(e)?l(Qa(e.left),Ei(Qa(e.right))):y0(e),V4=L4({empty:Yi,patch:U4,combine:Xa,diff:(e,t)=>{if(Z(e,t))return Yi;const n=Qa(e),r=Qa(t),s=l(r,V1(n),ma(Yi,(a,u)=>Xa(a,{_tag:Id,supervisor:u}))),i=l(n,V1(r),ma(Yi,(a,u)=>Xa(a,{_tag:Td,supervisor:u})));return Xa(s,i)}}),W4=Ka("effect_fiber_started",{incremental:!0}),$d=Ka("effect_fiber_active"),z4=Ka("effect_fiber_successes",{incremental:!0}),G4=Ka("effect_fiber_failures",{incremental:!0}),K4=M4(B4("effect_fiber_lifetimes",j6({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Ji="Continue",H4="Done",Bd="Yield",Y4={_E:e=>e,_A:e=>e},tu=e=>{throw new Error(`BUG: FiberRuntime - ${Yr(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},mn=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),dn=lt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Zi={[Go]:(e,t,n)=>ae(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>qt(qt(n)),[Ko]:(e,t,n)=>ae(()=>t.effect_instruction_i2(n)),[Ic]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),Dn(e.currentRuntimeFlags)&&e.isInterrupted()?wt(e.getInterruptedCause()):qt(n)),[Ho]:(e,t,n)=>(ae(()=>t.effect_instruction_i2(n)),ae(()=>t.effect_instruction_i0())?(e.pushStack(t),ae(()=>t.effect_instruction_i1())):We),[Yo]:(e,t,n)=>{const r=ae(()=>t.effect_instruction_i0.next(n));return r.done?qt(r.value):(e.pushStack(t),lA(r.value))}},J4={[_f]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),Dn(t)?wt(r.cause):n),[Af]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[wf]:(e,t,n,r)=>(r.onFiber(e,zm(t)),n),[Ef]:(e,t,n,r)=>W(K0(),()=>n)},Z4=e=>Ia(vC(e),t=>Er(UC(t),([n,r])=>{const s=new Map,i=[];for(const u of r){i.push(fr(u));for(const c of u)s.set(c.request,c)}const a=i.flat();return $a(pT(n.runAll(i),a,()=>a.forEach(u=>{u.listeners.interrupted=!0})),id,s)},!1,!1)),X4=Tc();class Md extends FI{[I6]=T6;[O6]=Y4;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,hp(r)){const s=this.getFiberRef(J0);W4.unsafeUpdate(1,s),$d.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return ad(this)}id(){return this._fiberId}resume(t){this.tell(Is(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>YI(n)?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return k6(this)}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Ma)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return Ht(()=>{const n=nk(this._fiberId);return this.tell(za((r,s)=>{um(n,K(()=>t(r,s)))})),am(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ji(t=>{const n=r=>t(bt(r));return this.tell(za((r,s)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),K(()=>this.tell(za((r,s)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Se((t,n)=>{const r=t.id(),s=t.getFiberRefs(),i=n.runtimeFlags,a=this.getFiberRefs(),u=iI(s,r,a);t.setFiberRefs(u);const c=t.getFiberRef(Ud),f=l(Aa(i,c),mp(ms),mp(M0));return Fv(f)})}get poll(){return K(()=>Qo(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return K(()=>this.tell(Ff(pn(t))))}unsafeInterruptAsFork(t){this.tell(Ff(pn(t)))}addObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(Ud,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=Mm(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=sf(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Da),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Im.key),this.currentSupervisor=this.getFiberRef(xT),this.currentScheduler=this.getFiberRef(sd),this.currentContext=this.getFiberRef(Ui),this.currentSpan=this.currentContext.unsafeMap.get(Tm.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,n!==null&&n.size>0)for(const r of n)r._exitValue===null&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=Ji;const r=globalThis[Ar];globalThis[Ar]=this;try{for(;n===Ji;)n=this._queue.length===0?H4:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Ar]=r}this._queue.length>0&&!this._running?(this._running=!0,n===Bd?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Ba))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];r=J4[s._tag](this,t,r,s)}return r}isInterrupted(){return!zC(this.getFiberRef(Ma))}addInterruptedCause(t){const n=this.getFiberRef(Ma);this.setFiberRef(Ma,ye(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(const n of this._children)n.tell(Ff(pn(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return G0({while:()=>!n,body:()=>{const s=t.next();return s.done?K(()=>{n=!0}):Pi(s.value.await)},step:()=>{}})}return null}reportExitValue(t){if(hp(this.currentRuntimeFlags)){const n=this.getFiberRef(J0),r=this.id().startTimeMillis,s=Date.now();switch(K4.unsafeUpdate(s-r,n),$d.unsafeUpdate(-1,n),t._tag){case Ne:{z4.unsafeUpdate(1,n);break}case Re:{G4.unsafeUpdate(1,n);break}}}if(t._tag==="Failure"){const n=this.getFiberRef(Wv);!D0(t.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(rT)}log(t,n,r){const s=de(r)?r.value:this.getFiberRef(jv),i=this.getFiberRef(Q4);if(SI(i,s))return;const a=this.getFiberRef(Lv),u=this.getFiberRef(Pv),c=this.getLoggers(),f=this.getFiberRefs();if(S0(c)>0){const x=f1(this.getFiberRef(Da),nf),p=new Date(x.unsafeCurrentTimeMillis());mA(f,()=>{for(const g of c)g.log({fiberId:this.id(),logLevel:s,message:t,cause:n,context:f,spans:a,annotations:u,date:p})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case Ef:return Bd;case _f:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(wt(t.cause)),this._asyncInterruptor=null),Ji;case Af:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),Ji;case wf:return t.onFiber(this,this._exitValue!==null?KI:HI(this.currentRuntimeFlags,this._asyncBlockingOn)),Ji;default:return tu(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=Dn(this.currentRuntimeFlags)&&this.isInterrupted()?wt(this.getInterruptedCause()):t;for(;n!==null;){const r=n,s=this.runLoop(r);if(s===mn){const i=dn.currentOp;dn.currentOp=null,i._op===Jo?wC(this.currentRuntimeFlags)?(this.tell(F6()),this.tell(Is(br)),n=null):n=br:i._op===oi&&(n=null)}else{this.currentRuntimeFlags=l(this.currentRuntimeFlags,AC(M0));const i=this.interruptAllChildren();i!==null?n=W(i,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Is(s)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(Is(t));else{this._running=!0;const n=globalThis[Ar];globalThis[Ar]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Ar]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(Is(t))}patchRuntimeFlags(t,n){const r=Ea(t,n);return globalThis[Ar]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const s=i=>{r||(r=!0,this.tell(Is(i)))};Dn(t)&&(this._asyncInterruptor=s);try{n(s)}catch(i){s(Ve(qe(i)))}}pushStack(t){this._stack.push(t),t._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return t._op==="OnStep"&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==kc)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==Go&&t._op!==Ho&&t._op!==Yo)return t;t=this.popStack()}}[gA](t){return K(()=>l1(this.currentContext,t))}Left(t){return ne(t.left)}None(t){return ne(new nm)}Right(t){return qt(t.right)}Some(t){return qt(t.value)}Micro(t){return ka(n=>{let r=n;const s=w6(m6(t,this.currentContext));return s.addObserver(i=>{if(i._tag==="Success")return r(qt(i.value));switch(i.cause._tag){case"Interrupt":return r(wt(pn(ls)));case"Fail":return r(ne(i.cause.error));case"Die":return r(Mp(i.cause.defect))}}),ka(i=>{r=a=>{i(We)},s.unsafeInterrupt()})})}[Tx](t){const n=ae(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in Zi||tu(r),Zi[r._op](this,r,n)):(dn.currentOp=qt(n),mn)}[Ne](t){const n=t,r=this.getNextSuccessCont();return r!==void 0?(r._op in Zi||tu(r),Zi[r._op](this,r,n.effect_instruction_i0)):(dn.currentOp=n,mn)}[Re](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case kc:case Ko:return Dn(this.currentRuntimeFlags)&&this.isInterrupted()?wt(_p(n)):ae(()=>r.effect_instruction_i1(n));case"OnStep":return Dn(this.currentRuntimeFlags)&&this.isInterrupted()?wt(_p(n)):qt(wt(n));case Ic:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),Dn(this.currentRuntimeFlags)&&this.isInterrupted()?wt(ye(n,this.getInterruptedCause())):wt(n);default:tu(r)}else return dn.currentOp=wt(n),mn}[Ox](t){return ae(()=>t.effect_instruction_i0(this,zm(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],i=this._steps[this._steps.length-1];let a=this.popStack();for(;a&&a._op!=="OnStep";)s.push(a),a=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;const u=DI(i.refs,n),c=Aa(i.flags,r);return qt(kp(t.effect_instruction_i0,Se(f=>{for(;s.length>0;)f.pushStack(s.pop());return f.setFiberRefs(PI(f.id(),f.getFiberRefs())(u)),f.currentRuntimeFlags=Ea(c)(f.currentRuntimeFlags),t.effect_instruction_i1})))}return Ta(s=>W(Nd(pv(t.effect_instruction_i0)),()=>s(t.effect_instruction_i1)))}RunBlocked(t){return Z4(t.effect_instruction_i0)}[ai](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,s=Ea(r,n);if(Dn(s)&&this.isInterrupted())return wt(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const i=Aa(s,r);return this.pushStack(new mv(i,t)),ae(()=>t.effect_instruction_i1(r))}else return br}[Go](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[kc](t){return this.pushStack(t),t.effect_instruction_i0}[Ko](t){return this.pushStack(t),t.effect_instruction_i0}[oi](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),dn.currentOp=t,mn}[Jo](t){return this._isYielding=!1,dn.currentOp=t,mn}[Ho](t){const n=t.effect_instruction_i0,r=t.effect_instruction_i1;return n()?(this.pushStack(t),r()):br}[Yo](t){return Zi[Yo](this,t,void 0)}[zo](t){return ae(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&_C)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;const s=n;n=W(K0({priority:r}),()=>s)}}try{if(n=this.currentTracer.context(()=>{if(X4!==n[As]._V){const r=this.getFiberRef(zv);if(r._tag==="Some"){const s=n[As]._V;this.log(`Executing an Effect versioned ${s} with a Runtime of version ${Tc()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,gr,r)}}return this[n._op](n)},this),n===mn){const r=dn.currentOp;return r._op===Jo||r._op===oi?mn:(dn.currentOp=null,r._op===Ne||r._op===Re?r:wt(qe(r)))}}catch(r){n!==mn&&!tt(n,"_op")||!(n._op in this)?n=bv(`Not a valid effect: ${Yr(n)}`):Jv(r)?n=wt(ye(qe(r),pn(ls))):n=Mp(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const Q4=lt("effect/FiberRef/currentMinimumLogLevel",()=>he(_I("Info"))),tT=e=>vf(t=>{const n=cI(t.context,Da);f1(n,Cm).unsafe.log(e.log(t))}),eT=lt(Symbol.for("effect/Logger/defaultLogger"),()=>tT(R6)),nT=lt(Symbol.for("effect/Logger/tracerLogger"),()=>vf(({annotations:e,cause:t,context:n,fiberId:r,logLevel:s,message:i})=>{const a=_i(zi(n,Ui),Tm);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const u=l1(zi(n,Da),nf),c={};for(const[f,x]of e)c[f]=x;c["effect.fiberId"]=h3(r),c["effect.logLevel"]=s.label,t!==null&&t._tag!=="Empty"&&(c["effect.cause"]=Ri(t,{renderErrorCause:!0})),a.value.event(Yr(Array.isArray(i)&&i.length===1?i[0]:i),u.unsafeCurrentTimeNanos(),c)})),rT=lt(Symbol.for("effect/FiberRef/currentLoggers"),()=>Rv(y0(eT,nT))),sT=e=>{if(Array.isArray(e)||Ax(e))return[e,B()];const t=Object.keys(e),n=t.length;return[t.map(r=>e[r]),M(r=>{const s={};for(let i=0;i<n;i++)s[t[i]]=r[i];return s})]},iT=(e,t,n)=>{const r=[];for(const s of e)r.push(Li(s));return W(Ts(r,et,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>{const i=B(),a=s.length,u=new Array(a),c=new Array(a);let f=!1;for(let x=0;x<a;x++){const p=s[x];p._tag==="Left"?(u[x]=M(p.left),f=!0):(c[x]=p.right,u[x]=i)}return f?t._tag==="Some"?ne(t.value(u)):ne(u):n?.discard?We:t._tag==="Some"?bt(t.value(c)):bt(c)})},oT=(e,t,n)=>{const r=[];for(const s of e)r.push(Li(s));return n?.discard?Ts(r,et,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):oe(Ts(r,et,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>t._tag==="Some"?t.value(s):s)},aT=(e,t)=>{const[n,r]=sT(e);return t?.mode==="validate"?iT(n,r,t):t?.mode==="either"?oT(n,r,t):t?.discard!==!0&&r._tag==="Some"?oe(Ts(n,et,t),r.value):Ts(n,et,t)},Ts=m(e=>Ax(e[0]),(e,t,n)=>Se(r=>{const s=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(Vv);return n?.discard?od(n.concurrency,()=>Os(cf,n?.concurrentFinalizers)(i=>s?Er(e,(a,u)=>i(t(a,u)),!0,!1,1):Ia(e,(a,u)=>i(t(a,u)))),()=>Os(ff,n?.concurrentFinalizers)(i=>Er(e,(a,u)=>i(t(a,u)),s,!1)),i=>Os(lf(i),n?.concurrentFinalizers)(a=>Er(e,(u,c)=>a(t(u,c)),s,!1,i))):od(n?.concurrency,()=>Os(cf,n?.concurrentFinalizers)(i=>s?Rd(e,1,(a,u)=>i(t(a,u)),!0):Pn(e,(a,u)=>i(t(a,u)))),()=>Os(ff,n?.concurrentFinalizers)(i=>uT(e,(a,u)=>i(t(a,u)),s)),i=>Os(lf(i),n?.concurrentFinalizers)(a=>Rd(e,i,(u,c)=>a(t(u,c)),s)))})),uT=(e,t,n)=>Ht(()=>{const r=pt(e),s=new Array(r.length);return Oa(Er(r,(a,u)=>W(t(a,u),c=>K(()=>s[u]=c)),n,!1),bt(s))}),Er=(e,t,n,r,s)=>Ta(i=>Ev(a=>Se(u=>{let c=Array.from(e).reverse(),f=c.length;if(f===0)return We;let x=0,p=!1;const g=s?Math.min(c.length,s):c.length,b=new Set,S=new Array,w=()=>b.forEach(I=>{I.currentScheduler.scheduleTask(()=>{I.unsafeInterruptAsFork(u.id())},0)}),d=new Array,F=new Array,E=new Array,T=()=>{const I=S.filter(({exit:z})=>z._tag==="Failure").sort((z,j)=>z.index<j.index?-1:z.index===j.index?0:1).map(({exit:z})=>z);return I.length===0&&I.push(br),I},k=(I,z=!1)=>{const j=qp(a(I)),ft=fT(j,u,u.currentRuntimeFlags,Cf);return u.currentScheduler.scheduleTask(()=>{z&&ft.unsafeInterruptAsFork(u.id()),ft.resume(j)},0),ft},X=()=>{r||(f-=c.length,c=[]),p=!0,w()},o=n?_v:Rp,V=k(ji(I=>{const z=(ft,it)=>{ft._op==="Blocked"?E.push(ft):(S.push({index:it,exit:ft}),ft._op==="Failure"&&!p&&X())},j=()=>{if(c.length>0){const ft=c.pop();let it=x++;const Ce=()=>{const Lt=c.pop();return it=x++,W(K0(),()=>W(o(i(t(Lt,it))),At))},At=Lt=>c.length>0&&(z(Lt,it),c.length>0)?Ce():bt(Lt),Vt=W(o(i(t(ft,it))),At),Wt=k(Vt);d.push(Wt),b.add(Wt),p&&Wt.currentScheduler.scheduleTask(()=>{Wt.unsafeInterruptAsFork(u.id())},0),Wt.addObserver(Lt=>{let Be;if(Lt._op==="Failure"?Be=Lt:Be=Lt.effect_instruction_i0,F.push(Wt),b.delete(Wt),z(Be,it),S.length===f)I(bt(Xe(sm(T(),{parallel:!0}),()=>br)));else if(E.length+S.length===f){const On=T(),Wr=E.map(A=>A.effect_instruction_i0).reduce(dp);I(bt(kp(Wr,Er([Xe(sm(On,{parallel:!0}),()=>br),...E.map(A=>A.effect_instruction_i1)],A=>A,n,!0,s))))}else j()})}};for(let ft=0;ft<g;ft++)j()}));return Pi(z0(Pp(i(ad(V))),om({onFailure:I=>{X();const z=E.length+1,j=Math.min(typeof s=="number"?s:E.length,E.length),ft=Array.from(E);return ji(it=>{let Ce=0,At=0;const Vt=(Lt,Be)=>On=>{Ce++,Ce===z&&it(qt(wt(I))),ft.length>0&&Be&&Wt()},Wt=()=>{k(ft.pop(),!0).addObserver(Vt(At,!0)),At++};V.addObserver(Vt(At,!1)),At++;for(let Lt=0;Lt<j;Lt++)Wt()})},onSuccess:()=>Pn(F,I=>I.inheritAll)})))}))),Rd=(e,t,n,r)=>Ht(()=>{const s=pt(e),i=new Array(s.length);return Oa(Er(s,(u,c)=>oe(n(u,c),f=>i[c]=f),r,!1,t),bt(i))}),Nd=e=>lT(e,Cf),cT=(e,t,n,r=null)=>{const s=Dd(e,t,n,r);return s.resume(e),s},fT=(e,t,n,r=null)=>Dd(e,t,n,r),Dd=(e,t,n,r=null)=>{const s=J1(),i=t.getFiberRefs(),a=oI(i,s),u=new Md(s,a,n),c=zi(a,Ui),f=u.currentSupervisor;return f.onStart(c,e,M(t),u),u.addObserver(p=>f.onEnd(p,u)),(r!==null?r:l(t.getFiberRef(Z0),Xe(()=>t.scope()))).add(n,u),u},lT=(e,t)=>Se((n,r)=>bt(cT(e,n,r.runtimeFlags,t))),Pd=e=>qi(t=>ge(_i(t,Xi),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return W(Ra(n,ff),r=>jf(e,r))}}})),jd=e=>t=>qi(n=>ge(_i(n,Xi),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:W(Ra(r,lf(e)),s=>jf(t,s))})),Os=(e,t)=>n=>qi(r=>ge(_i(r,Xi),{onNone:()=>n(et),onSome:s=>{if(t===!0){const i=e._tag==="Parallel"?Pd:e._tag==="Sequential"?Ld:jd(e.parallelism);switch(s.strategy._tag){case"Parallel":return i(n(Pd));case"Sequential":return i(n(Ld));case"ParallelN":return i(n(jd(s.strategy.parallelism)))}}else return n(et)}})),Ld=e=>qi(t=>ge(_i(t,Xi),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return W(Ra(n,cf),r=>jf(e,r))}}})),Xi=cr("effect/Scope"),jf=m(2,(e,t)=>ak(e,h1(tF(Xi,t)))),hT=e=>Fs(e,{differ:V4,fork:Yi}),Ud=Dv(EC),xT=hT(Za),pT=(e,t,n)=>Dp(r=>W(W(Nd(jp(e)),s=>ji(i=>{const a=t.map(f=>f.listeners.count),u=()=>{a.every(f=>f===0)&&t.every(f=>f.result.state.current._tag==="Pending"?!0:!!(f.result.state.current._tag==="Done"&&X0(f.result.state.current.effect)&&f.result.state.current.effect._tag==="Failure"&&GC(f.result.state.current.effect.cause)))&&(c.forEach(f=>f()),n?.(),i(Cv(s)))};s.addObserver(f=>{c.forEach(x=>x()),i(f)});const c=t.map((f,x)=>{const p=g=>{a[x]=g,u()};return f.listeners.addObserver(p),()=>f.listeners.removeObserver(p)});return u(),K(()=>{c.forEach(f=>f())})})),()=>Ht(()=>{const s=t.flatMap(i=>i.state.completed?[]:[i]);return Ia(s,i=>D4(i.request,Qv(r)))}))),mT=tv,dT=Kv,gT=Ra,Lf=e=>function(){if(arguments.length===1){const t=arguments[0];return(n,...r)=>e(t,n,...r)}return e.apply(this,arguments)},bT=Lf((e,t,n)=>{const r=J1(),s=[[Ui,[[r,e.context]]]];n?.scheduler&&s.push([sd,[[r,n.scheduler]]]);let i=fI(e.fiberRefs,{entries:s,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));const a=new Md(r,i,e.runtimeFlags);let u=t;n?.scope&&(u=W(gT(n.scope,qm),f=>Oa(Gv(f,Dp(x=>Z(x,a.id())?We:zp(a,x))),z0(t,x=>dT(f,x)))));const c=a.currentSupervisor;return c!==Za&&(c.onStart(e.context,u,B(),a),a.addObserver(f=>c.onEnd(f,a))),Cf.add(e.runtimeFlags,a),n?.immediate===!1?a.resume(u):a.start(u),a}),yT=Lf((e,t)=>{const n=FT(e)(t);if(n._tag==="Failure")throw AT(n.effect_instruction_i0);return n.effect_instruction_i0});class ST extends Error{fiber;_tag="AsyncFiberException";constructor(t){super(`Fiber #${t.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=t,this.name=this._tag,this.stack=this.message}}const _T=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new ST(e);return Error.stackTraceLimit=t,n},Uf=Symbol.for("effect/Runtime/FiberFailure"),eu=Symbol.for("effect/Runtime/FiberFailure/Cause");class wT extends Error{[Uf];[eu];constructor(t){const n=Cp(t)[0];super(n?.message||"An error has occurred"),this[Uf]=Uf,this[eu]=t,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[eu].toJSON()}}toString(){return"(FiberFailure) "+Ri(this[eu],{renderErrorCause:!0})}[kt](){return this.toString()}}const AT=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new wT(e);return Error.stackTraceLimit=t,n},ET=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return im(t.left);case"Right":return qt(t.right);case"Some":return qt(t.value);case"None":return im(nm())}},FT=Lf((e,t)=>{const n=ET(t);if(n)return n;const r=new E6,s=bT(e)(t,{scheduler:r});r.flush();const i=s.unsafePoll();return i||Xv(q0(_T(s),tf(s)))});class CT{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return G(this,arguments)}}const vT=yT((e=>new CT(e.context,e.runtimeFlags,e.fiberRefs))({context:Qc(),runtimeFlags:lp(ms,cp,up),fiberRefs:lI()})),kT=k3,IT=e=>t=>{const n=t===void 0?Object.create(ci):kT(t);return n._tag=e,n},qf=()=>new Proxy({},{get(e,t,n){return t==="$is"?_c:t==="$match"?TT:IT(t)}});function TT(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const e=arguments[0];return arguments[1][e._tag](e)}const Vf=Symbol.for("effect/DateTime/TimeZone"),OT={...{[Vf]:Vf,[kt](){return this.toString()}},_tag:"Offset",[J](){return vt(this,$t(`Offset:${this.offset}`))},[H](e){return $T(e)&&e._tag==="Offset"&&this.offset===e.offset},toString(){return`TimeZone.Offset(${MT(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},$T=e=>tt(e,Vf),BT=e=>{const t=Object.create(OT);return t.offset=e,t},MT=e=>{const t=Math.abs(e);let n=Math.floor(t/(3600*1e3)),r=Math.round(t%(3600*1e3)/(60*1e3));return r===60&&(n+=1,r=0),`${e<0?"-":"+"}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`},Fr=Ww,RT=MA,Wf=m(2,(e,t)=>e+t),NT=e=>e.trimEnd(),DT=e=>e.length,$s=e=>t=>t.repeat(e),PT=(e,t)=>n=>n.replaceAll(e,t),nu=aT,Bs=Ts,qd=ne,Ie=bt,Cr=Ht,ze=oe,gn=W,Ln=vT,jT=BT,LT=m(e=>ri(e[0]),(e,...t)=>{const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}),Vd=e=>{const[t,n,...r]=e;return n===void 0?l(t,O(le)):l(r,ar(bi(t,n),(s,i)=>ea(s,i,(a,u)=>Mn(a,u))))},Wd=e=>fe(e)?Vd(e):[];Wd.nonEmpty=Vd;const zd=e=>fe(e)?Gd(e):[],Gd=([e,...t])=>fe(t)?l(UT([e,...t]),Wd.nonEmpty):l(e,O(N(M,le)));zd.nonEmpty=Gd;const UT=e=>{const t=l(e,O(Yx),Gc(gt),qT);return l(e,O(r=>[...O(r,M),...t([...r])]))},qT=e=>t=>e===t.length?[]:fn(B(),e-t.length),Kd=Object.assign(Mn,{flip:e=>t=>Mn(e,t)}),Hd=Object.assign(Qe,{flip:e=>t=>Qe(e,t)}),VT=Object.assign(Qr,{flip:e=>t=>Qr(e,t)}),WT=Object.assign(pi,{flip:e=>t=>pi(e,t)}),Yd=e=>[di(e),Wc(e)],zT=([e,...t])=>[e,t];function GT(e,t){return n=>{const[r,s]=zT(n);return[e(r),...l(s,O(t))]}}function KT(e,t){return n=>{const[r,s]=Yd(n);return l(s,O(e),Mn(t(r)))}}const HT=e=>Gc(gt)([0,...l(e,O(t=>Yx(t)))]),YT=e=>t=>n=>e(n)(t),Ms=e=>()=>e,Jd=(e,t)=>{const n=BigInt(t);let r=e/n;const s=[Number(e%n)];for(;r>0;)s.unshift(Number(r%n)),r=r/n;return s},Zd=(e,t)=>{const n=BigInt(t);let r=0n,s=0n;for(const i of zc(e))s+=BigInt(i)*n**r++;return s},ru=(e,t)=>[Math.floor(e/t),e%t],zf=e=>ru(e,2),JT=e=>e>0,ZT=e=>e!==0,XT=e=>e===0,QT=e=>e%2===0,t5=e=>e%2!==0,e5=e=>e<0,n5=e=>t=>e===t,Xd=e=>{const[t,n]=zf(e);return[t+n,t]},Qd=e=>{const[t,n]=zf(e);return[t,t+n]};var r5=Object.freeze({__proto__:null,Equivalence:i1,Order:gt,between:IE,clamp:TE,decrement:Jc,divide:AE,floorMod:ru,floorMod2:zf,fromRadix:Zd,greaterThan:vE,greaterThanOrEqualTo:kE,halfToFirst:Xd,halfToSecond:Qd,increment:Yc,isEqual:n5,isEven:QT,isNegative:e5,isNonZero:ZT,isNumber:yE,isOdd:t5,isPositive:JT,isZero:XT,lessThan:FE,lessThanOrEqualTo:CE,max:$E,min:OE,multiply:s1,multiplyAll:wE,negate:SE,nextPow2:RE,parse:NE,remainder:ME,round:DE,sign:BE,subtract:r1,sum:Hc,sumAll:_E,toRadix:Jd,unsafeDivide:EE});const Gf=e=>(t,n)=>Mc(e)(t,n)&&!Xo(e)(t,n);Gf.curried=e=>t=>n=>Mc(e)(n,t)&&!Xo(e)(n,t);const Qi=(e,t)=>n=>[e(n),t(n)],vr=(e,t)=>[e,t];vr.withFirst=Object.assign(e=>t=>[e,t],{removeReadonly:e=>t=>[e,t]});const s5=e=>t=>[t,e];vr.withSecond=s5;const Un=e=>[e,e];Un.mapFirst=e=>t=>l(t,Un,Dc(e)),Un.mapSecond=e=>t=>l(t,Un,Pc(e));const i5=([e,t])=>t(e),Kf=e=>l(e,ZA(Qw)),nn=e=>(...t)=>{const n={};for(const r of t)n[r]=e;return n};var Hf={},su={},iu={},ou={},tg;function Yf(){if(tg)return ou;tg=1,Object.defineProperty(ou,"__esModule",{value:!0});const e="(?:(?:\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]|(?:\\x1b\\x5d|\\x9d)[\\S\\s]*?(?:\\x1b\\x5c|[\\x07\\x9c])|(?:\\x1b[\\x50\\x58\\x5e\\x5f]|[\\x90\\x98\\x9e\\x9f])[\\S\\s]*?(?:\\x1b\\x5c|\\x9c)|\\x1b[\\x20-\\x2f]*[\\x30-\\x7e])";function t({global:n=!0}={}){return new RegExp(e,n?"g":void 0)}return ou.default=t,ou}var eg;function Jf(){if(eg)return iu;eg=1,Object.defineProperty(iu,"__esModule",{value:!0});const t=(0,Yf().default)();function n(r){return typeof r=="string"?r.replace(t,""):String(r)}return iu.default=n,iu}var au={},ng;function Zf(){if(ng)return au;ng=1,Object.defineProperty(au,"__esModule",{value:!0});function e(t){return t<880?(t<=159?t<=31||t>=127:t>=768||t===173)?0:1:t<2816?(t<1425?t>=1155&&t<=1161:t<1552?t<=1474&&t!==1470&&t!==1472||t>=1476&&t<=1479&&t!==1478:t<1774?t<=1564&&t!==1563||t>=1611&&t<=1631||t===1648||t>=1750&&t<=1756||t>=1759&&t<=1764||t>=1767&&t!==1769:t<1867?t===1809||t>=1840:t<2070?t>=1958&&t<=1968||t>=2027&&t<=2035||t===2045:t<2094?t<=2083&&t!==2074||t>=2085&&t!==2088:t<2307?t>=2137&&t<=2139||t>=2199&&t<=2207||t>=2250&&t!==2274:t<2404?t>=2362&&t<=2364&&t!==2363||t>=2369&&t<=2376||t===2381||t>=2385&&t<=2391||t>=2402:t<2561?t===2433||t===2492||t>=2497&&t<=2500||t===2509||t>=2530&&t<=2531||t===2558:t<2689?t<=2562||t===2620||t>=2625&&t<=2626||t>=2631&&t<=2632||t>=2635&&t<=2637||t===2641||t>=2672&&t<=2673||t===2677:t<=2690||t===2748||t>=2753&&t<=2760&&t!==2758||t===2765||t>=2786&&t<=2787||t>=2810)?0:1:t<4256?(t<2916?t===2817||t===2876||t>=2879&&t<=2884&&t!==2880||t===2893||t>=2901&&t<=2902||t>=2914:t<3072?t===2946||t===3008||t===3021:t<3172?t===3072||t===3076||t===3132||t>=3134&&t<=3136||t>=3142&&t<=3149&&t!==3145||t>=3157&&t<=3158||t>=3170:t<3328?t===3201||t===3260||t===3263||t===3270||t>=3276&&t<=3277||t>=3298&&t<=3299:t<3428?t<=3329||t>=3387&&t<=3388||t>=3393&&t<=3396||t===3405||t>=3426:t<3543?t===3457||t===3530||t>=3538&&t!==3541:t<3663?t===3633||t>=3636&&t<=3642||t>=3655:t<3864?t===3761||t>=3764&&t<=3772||t>=3784&&t<=3790:t<4141?t<=3865||t===3893||t===3895||t===3897||t>=3953&&t<=3975&&t!==3967&&t!==3973||t>=3981&&t<=4028&&t!==3992||t===4038:t<=4154&&t!==4145&&t!==4152||t>=4157&&t<=4158||t>=4184&&t<=4185||t>=4190&&t<=4192||t>=4209&&t<=4212||t===4226||t>=4229&&t<=4230||t===4237||t===4253)?0:1:t<6832?t<5906?t<=4448?t>=4447?0:t>=4352?2:1:t>=4957&&t<=4959?0:1:(t<6068?t<=5908||t>=5938&&t<=5939||t>=5970&&t<=5971||t>=6002&&t<=6003:t<6155?t<=6077&&t!==6070||t===6086||t>=6089&&t<=6099||t===6109:t<6432?t<=6159||t>=6277&&t<=6278||t===6313:t<6460?t<=6434||t>=6439&&t<=6440||t===6450||t>=6457:t<6742?t>=6679&&t<=6680||t===6683:t<=6750&&t!==6743||t===6752||t===6754||t>=6757&&t<=6764||t>=6771&&t<=6780||t===6783)?0:1:t<8203?(t<6912?t<=6862:t<7040?t<=6915||t>=6964&&t<=6970&&t!==6965||t===6972||t===6978||t>=7019&&t<=7027:t<7086?t<=7041||t>=7074&&t<=7077||t>=7080&&t!==7082:t<7154?t>=7142&&t<=7145&&t!==7143||t>=7149&&t!==7150:t<7376?t>=7212&&t<=7219||t>=7222&&t<=7223:t<7418?t<=7392&&t!==7379||t>=7394&&t<=7400||t===7405||t===7412||t>=7416:t>=7616&&t<=7679)?0:1:t<11776?t<8986?t<=8432&&(t<=8207||t>=8234&&t<=8238||t>=8288&&t<=8303||t>=8400)?0:1:t<9748?(t<9204?t<=8987||t>=9001&&t<=9002||t>=9193&&t<=9196||t===9200||t===9203:t>=9725&&t<=9726)?2:1:t<9984?(t<=9925?t<=9749||t>=9776&&t<=9783||t>=9800&&t<=9811||t===9855||t>=9866&&t<=9871||t===9875||t===9889||t>=9898&&t<=9899||t>=9917&&t<=9918||t>=9924:t===9934||t===9940||t===9962||t>=9970&&t<=9973&&t!==9972||t===9978||t===9981)?2:1:t<10176?(t<10067?t===9989||t>=9994&&t<=9995||t===10024||t===10060||t===10062:t<=10071&&t!==10070||t>=10133&&t<=10135||t===10160||t===10175)?2:1:t<11503?t>=11035&&(t<=11036||t===11088||t===11093)?2:1:t<=11505||t===11647||t>=11744?0:1:t<43392?t<12272?t>=11904&&(t<=12019&&t!==11930||t>=12032&&t<=12245)?2:1:t<12544?t<=12350?t>=12330&&t<=12333?0:2:t>=12353&&t<=12438||t>=12443?2:t>=12441?0:1:t<42607?t<=12773?t===12644?0:t>=12549&&t!==12592&&t!==12687?2:1:(t<12880?t>=12783&&t<=12871&&t!==12831:t<=42124||t<=42182&&t>=42128)?2:1:t<43204?(t<43008?t<=42621&&t!==42611||t>=42654&&t<=42655||t>=42736&&t<=42737:t===43010||t===43014||t===43019||t>=43045&&t<=43046||t===43052)?0:1:t<=43345?t<=43205||t>=43232&&t<=43249||t===43263||t>=43302&&t<=43309||t>=43335?0:1:t>=43360&&t<=43388?2:1:t<65536?t<44032?(t<43561?t<=43394||t===43443||t>=43446&&t<=43449||t>=43452&&t<=43453||t===43493:t<43696?t<=43566||t>=43569&&t<=43570||t>=43573&&t<=43574||t===43587||t===43596||t===43644:t<43714?t<=43700&&t!==43697||t>=43703&&t<=43704||t>=43710&&t!==43712:t<43968?t>=43756&&t<=43757||t===43766:t===44005||t===44008||t===44013)?0:1:t<65024?t<=64217?t<=55203||t>=63744&&t<=64109||t>=64112?2:1:t===64286?0:1:t<65132?t<65072?t<=65039||t>=65056?0:t<=65049?2:1:t<=65126&&t!==65107||t>=65128?2:1:t<65281?t===65279?0:1:t<=65510?t<=65376||t>=65504?2:t===65440?0:1:t>=65520&&t<=65528?0:1:t<70400?(t<68097?t===66045||t===66272||t>=66422&&t<=66426:t<68325?t<=68102&&t!==68100||t>=68108&&t<=68111||t>=68152&&t<=68154||t===68159:t<68904?t<=68326||t>=68900:t<69457?t>=68969&&t<=68973||t>=69291&&t<=69292||t>=69372&&t<=69375||t>=69446:t<69759?t>=69506&&t<=69509||t===69633||t>=69688&&t<=69702||t===69744||t>=69747&&t<=69748:t<69888?t<=69761||t>=69811&&t<=69814||t>=69817&&t<=69818||t===69826:t<70016?t<=69890||t>=69927&&t<=69940&&t!==69932||t===70003:t<70191?t<=70017||t>=70070&&t<=70078||t>=70089&&t<=70092||t===70095:t<70272?t<=70193||t>=70196&&t<=70199&&t!==70197||t===70206||t===70209:t===70367||t>=70371&&t<=70378)?0:1:t<92880?(t<=70626?t<70517?t<=70401||t>=70459&&t<=70460||t===70464||t>=70502&&t<=70508||t>=70512:t>=70587&&(t<=70592||t===70606||t===70608||t===70610||t>=70625):t<70852?t<=70750?t>=70712&&(t<=70719||t>=70722&&t<=70726&&t!==70725||t===70750):t>=70835&&(t<=70842&&t!==70841||t>=70847&&t!==70849):t<71233?t<71134?t>=71090&&(t<=71093||t>=71100&&t<=71104&&t!==71102||t>=71132):t>=71219&&(t<=71226||t>=71229&&t!==71230):t<71468?t<71352?t>=71339&&(t<=71341&&t!==71340||t>=71344&&t!==71350):t>=71453&&(t<=71455&&t!==71454||t>=71458&&t!==71462):t<72148?t<=71738?t>=71727&&t!==71736:t>=71995&&(t<=71998&&t!==71997||t===72003):t<72193?t<=72151||t>=72154&&t<=72155||t===72160:t<72273?t<=72202||t>=72243&&t<=72248||t>=72251&&t<=72254||t===72263:t<72850?t<=72345?t<=72278||t>=72281&&t<=72283||t>=72330&&t!==72343:t>=72752&&t<=72767&&t!==72759&&t!==72766:t<72887?t<=72871||t>=72874&&t<=72880||t>=72882&&t!==72884:t<73032?t>=73009&&t<=73014||t>=73018&&t<=73021&&t!==73019||t>=73023&&t!==73030:t<73472?t<=73460&&t>=73104&&(t<=73105||t===73109||t===73111||t>=73459):t<=73562?t<=73473||t>=73526&&t<=73530||t===73536||t===73538||t===73562:t<=78933?t===78912||t>=78919:t>=90398&&t<=90409||t>=90413&&t<=90415)?0:1:t<126976?t<94208?t<94099?t>=92912&&t<=92916||t>=92976&&t<=92982||t===94031||t>=94095?0:1:t>=94176&&t<=94193?t<=94179||t>=94192?2:t===94180?0:1:1:t<111356?(t<=101640?t<=100343||t>=100352&&t<=101589||t>=101631:t<=110882?t>=110576&&t!==110580&&t!==110588&&t!==110591:t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960)?2:1:t<119365?(t<119143?t>=113821&&t<=113827&&t!==113823||t>=118528&&t<=118573||t>=118576&&t<=118598:t<=119145||t>=119155&&t<=119170||t>=119173&&t<=119179||t>=119210&&t<=119213||t>=119362)?0:1:t<121344?t<=119670&&(t>=119552&&t<=119638||t>=119648)?2:1:(t<122880?t<=121398||t>=121403&&t<=121452||t===121461||t===121476||t>=121499&&t<=121519&&t!==121504:t<122923?t<=122904&&t!==122887||t>=122907&&t<=122913||t>=122915&&t!==122917:t<=125258&&(t===123023||t>=123184&&t<=123190||t===123566||t>=123628&&t<=123631||t>=124140&&t<=124143||t>=124398&&t<=124399||t>=125136&&t<=125142||t>=125252))?0:1:t<=205743?(t<127488?t===126980||t===127183||t===127374||t>=127377&&t<=127386:t<127744?t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t>=127568&&t<=127569||t>=127584&&t<=127589:t<128592?t<127992?t<=127776||t>=127789&&t<=127891&&t!==127798&&t!==127869||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988:t<=128252&&t!==128063&&t!==128065||t>=128255&&t<=128317||t>=128331&&t<=128359&&t!==128335||t===128378||t>=128405&&t<=128406||t===128420||t>=128507:t<128765?t>=128640&&(t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||t>=128747&&t<=128748||t>=128756):t<129536?t>=128992&&t<=129003||t===129008||t>=129292&&t!==129339&&t!==129350:t<=129784?t>=129648&&(t<=129734?t<=129660||t>=129664&&t<=129673||t>=129679:t>=129742&&t<=129756||t>=129759&&t<=129769||t>=129776):t>=131072&&(t<=183969?t<=173791||t>=173824&&t<=177977||t>=177984&&t<=178205||t>=178208:t>=183984&&t<=191456||t>=191472&&t<=192093||t>=194560&&t<=195101||t>=196608&&t<=201546||t>=201552))?2:1:t>=917504&&t<=921599?0:1}return au.default=e,au}var Xf={},rg;function uu(){return rg||(rg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shouldBreak=e.isGraphemeBase=e.graphemeBreakProperty=e.InCBProps=e.Emoji_Modifier=e.GBProps=void 0;const t=0,n=1,r=2,s=3,i=4,a=5,u=6,c=7,f=8,x=9,p=10,g=11,b=12,S=13,w=14;e.GBProps={None:t,CR:n,LF:r,Control:s,Extend:i,ZWJ:a,RI:u,Prepend:c,SpacingMark:f,L:x,V:p,T:g,LV:b,LVT:S,ExtendedPictographic:w};const d=16,F=32,E=64;e.Emoji_Modifier=128,e.InCBProps={Extend:d,Linker:F,Consonant:E};function T(o){return o<127?o>31?t:o===13?n:o===10?r:s:o<880?o<=174?o<=159||o===173?s:o===169||o===174?w:t:o>=768?i|d:t:o<4352?o<1536?(o<1425?o>=1155&&o<=1161:o<=1469||o>=1471&&o<=1474&&o!==1472||o>=1476&&o<=1479&&o!==1478)?i|d:t:o<1792?o<1750?o<=1541?c:o===1564?s:o>=1552&&o<=1562||o>=1611&&o<=1631||o===1648?i|d:t:o===1757?c:o<=1764&&o!==1758||o>=1767&&o<=1773&&o!==1769?i|d:t:o<2048?o<=1866?o>=1840||o===1809?i|d:o===1807?c:t:(o<2027?o>=1958&&o<=1968:o<=2035||o===2045)?i|d:t:o<2307?o<=2139?o>=2070&&o<=2083&&o!==2074||o>=2085&&o<=2093&&o!==2088||o>=2137?i|d:t:o<2250?o>=2192&&o<=2193?c:o>=2199&&o<=2207?i|d:t:o===2274?c:i|d:o<2433?o<2366?o===2307||o===2363?f:o<2362?o>=2325?E:t:o<=2364?i|d:t:o<=2383?o>=2369&&o<=2376?i|d:o===2381?i|F:f:o<=2399?o<2392?o>=2385?i|d:t:E:o>=2402&&o<=2403?i|d:o>=2424&&o<=2431?E:t:o<2561?o<=2489?o<2453?o<=2435?o===2433?i|d:f:t:o<=2480&&o!==2473||o>=2486||o===2482?E:t:o<=2508?o<=2500?o<2494?o===2492?i|d:t:o<=2496&&o>=2495?f:i|d:o>=2507||o>=2503&&o<=2504?f:t:o<2530?o<2524?o===2509?i|F:o===2519?i|d:t:o<=2525||o===2527?E:t:o<=2545?o<=2531?i|d:o>=2544?E:t:o===2558?i|d:t:o<2689?o<2625?o===2563||o>=2622?f:o<=2562||o===2620?i|d:t:(o<=2637?o<=2626||o>=2631&&o<=2632||o>=2635:o===2641||o>=2672&&o<=2673||o===2677)?i|d:t:o<2816?o<=2745?o<2709?o<=2690?i|d:o===2691?f:t:o!==2729&&o!==2737&&o!==2740?E:t:o<=2760?o>=2750&&o<=2752?f:o>=2753&&o!==2758||o===2748?i|d:t:o<2786?o<=2764?o!==2762?f:t:o===2765?i|F:t:o>=2810||o<=2787?i|d:o===2809?E:t:o<2944?o<=2873?o<2837?o>=2818&&o<=2819?f:o===2817?i|d:t:o<=2864&&o!==2857||o>=2866&&o!==2868?E:t:o<=2892?o<=2884?o===2880?f:o>=2878||o===2876?i|d:t:o>=2887&&o<=2888||o>=2891?f:t:o<2908?o<2901?o===2893?i|F:t:o<=2903?i|d:t:o<2914?o<=2909||o===2911?E:t:o<=2915?i|d:o===2929?E:t:o<3072?o<3009?o===3007?f:o===2946||o>=3006?i|d:t:o<=3020?o<=3010||o>=3014&&o<=3016||o>=3018?f:t:o===3021||o===3031?i|d:t:o<3172?o<3134?o<=3076?o>=3073&&o<=3075?f:i|d:o>=3093&&o<=3129&&o!==3113?E:o===3132?i|d:t:o<=3148?o<=3140&&o>=3137?f:o<=3136||o>=3142&&o!==3145?i|d:t:o<=3162?o===3149?i|F:o>=3157&&o<=3158?i|d:o>=3160?E:t:o>=3170?i|d:t:o<3328?o<=3268?o<3260?o>=3202&&o<=3203?f:o===3201?i|d:t:o<3265?o===3262?f:o!==3261?i|d:t:o===3266?i|d:f:o<=3299?o>=3270&&o<=3272||o>=3274&&o<=3277||o>=3285&&o<=3286||o>=3298?i|d:t:o===3315?f:t:o<3428?o<=3396?o<3387?o>=3349?E:o<=3329?i|d:o<=3331?f:t:o>=3391&&o<=3392?f:o!==3389?i|d:t:o<=3404?o>=3398&&o!==3401?f:t:o===3405?i|F:o===3415||o>=3426?i|d:o===3406?c:t:o<3572?o<=3540?o>=3458&&o<=3459||o>=3536&&o<=3537?f:o===3457||o===3530||o>=3535?i|d:t:o===3542||o===3551?i|d:o>=3544&&o<=3550||o>=3570?f:t:o<3864?o<=3662?o===3635?f:o>=3633&&o<=3642&&o!==3634||o>=3655?i|d:t:o===3763?f:o>=3761&&o<=3772&&o!==3762||o>=3784&&o<=3790?i|d:t:o<4141?o<3953?o<=3897?o<=3865||o>=3893&&o!==3894&&o!==3896?i|d:t:o<=3903&&o>=3902?f:t:o<=3975?o===3967?f:o!==3973?i|d:t:o>=3981&&o<=4028&&o!==3992||o===4038?i|d:t:o<=4158?o===4145||o>=4155&&o<=4156?f:o!==4152?i|d:t:o<4229?o>=4182&&o<=4183||o===4228?f:o>=4184&&o<=4185||o>=4190&&o<=4192||o>=4209&&o<=4212||o===4226?i|d:t:o<=4230||o===4237||o===4253?i|d:t:o<7424?o<4608?o<4448?x:o<4520?p:g:o<6004?(o<=5909?o>=4957&&o<=4959||o>=5906:o>=5938&&o<=5940||o>=5970&&o<=5971||o>=6002)?i|d:t:o<6155?o>=6068&&o<=6099?o===6070||o>=6078&&o<=6085||o>=6087&&o<=6088?f:i|d:o===6109?i|d:t:o<6432?o===6158?s:o<=6159||o>=6277&&o<=6278||o===6313?i|d:t:o<6741?o<=6459?o<=6443?o<=6434||o>=6439&&o<=6440?i|d:f:o>=6448?o>=6457||o===6450?i|d:f:t:o>=6679&&o<=6683?o>=6681&&o<=6682?f:i|d:t:o<6912?o<6757?o<=6750?o>=6744||o===6742?i|d:f:o===6752||o===6754?i|d:t:o<=6780?o<=6764||o>=6771?i|d:f:o===6783||o>=6832&&o<=6862?i|d:t:o<7040?o<6964?o<=6915?i|d:o===6916?f:t:o<=6980?o<=6973||o>=6978?i|d:f:o>=7019&&o<=7027?i|d:t:o<7142?o<7074?o<=7041?i|d:o===7042||o===7073?f:t:o<=7085?o<=7077||o>=7080?i|d:f:t:o<7376?o<=7155?o>=7146&&o<=7148||o===7143||o===7150?f:i|d:o>=7204&&o<=7223?o<=7211||o>=7220&&o<=7221?f:i|d:t:o===7393||o===7415?f:o<=7378||o>=7380&&o<=7400||o===7405||o===7412||o>=7416&&o<=7417?i|d:t:o<8448?o<8203?o>=7616&&o<=7679?i|d:t:o===8205?a|d:o<=8303?o===8204?i:o<=8207||o>=8232&&o<=8238||o>=8288?s:o===8252||o===8265?w:t:o>=8400&&o<=8432?i|d:t:o<11264?(o<8986?o<8596?o===8482||o===8505:o<=8618&&(o<=8601||o>=8617):o<9211?o<=8987||o===9e3||o===9096||o===9167||o>=9193&&o<=9203||o>=9208:o<9728?o<9642?o===9410:o<=9726&&(o<=9643||o===9654||o===9664||o>=9723):o<10176?o<=10006?o<=9861&&o!==9734&&o!==9747||o>=9872&&o<=9989||o>=9992&&o!==10003&&o!==10005:o<=10036?o===10013||o===10017||o===10024||o>=10035:o<=10071?o===10052||o===10055||o===10060||o===10062||o>=10067&&o!==10070:o>=10083&&o<=10087||o>=10133&&o<=10135||o===10145||o===10160||o===10175:o>=10548&&o<=10549||o>=11013&&(o<=11015||o>=11035&&o<=11036||o===11088||o===11093))?w:t:o<44032?o<12330?o<=11775&&o>=11503&&(o<=11505||o===11647||o>=11744)?i|d:t:o<13056?o<=12442?o<=12335||o>=12441?i|d:o===12336||o===12349?w:t:o===12951||o===12953?w:t:o<43008?o>=42607&&o<=42737&&(o<=42621&&o!==42611||o>=42654&&o<=42655||o>=42736)?i|d:t:o<43136?o<43043?o===43010||o===43014||o===43019?i|d:t:o<=43047?o>=43045&&o<=43046?i|d:f:o===43052?i|d:t:o<43264?o<43204?o<=43137||o>=43188?f:t:o<=43205||o>=43232&&o<=43249||o===43263?i|d:t:o<43392?o<43335?o>=43302&&o<=43309?i|d:t:o<=43347?o===43346?f:i|d:o>=43360&&o<=43388?x:t:o<43561?o<43444?o<=43394||o===43443?i|d:o===43395?f:t:o<43456?o<=43445||o>=43450&&o<=43451||o>=43454?f:i|d:o===43456||o===43493?i|d:t:o<43648?o<=43574?o<=43566||o>=43569&&o<=43570||o>=43573?i|d:f:o===43587||o===43596||o===43644?i|d:o===43597?f:t:o<43776?o<43755?o>=43696&&o<=43700&&o!==43697||o>=43703&&o<=43704||o>=43710&&o<=43713&&o!==43712?i|d:t:o<=43759?o>=43756&&o<=43757?i|d:f:o===43765?f:o===43766?i|d:t:o>=44003?o<=44010?o===44005||o===44008?i|d:f:o===44012?f:o===44013?i|d:t:t:o<65536?o<=55203?(o-44032)%28?S:b:o<=55291?o>=55243?g:o>=55216&&o<=55238?p:t:o<=65071?(o<65024?o===64286:o<=65039||o>=65056)?i|d:t:o===65279||o>=65520&&o<=65531?s:o>=65438&&o<=65439?i|d:t:o<70784?o<69632?(o<68097?o<=66426&&(o===66045||o===66272||o>=66422):o<68325?o<=68102&&o!==68100||o>=68108&&o<=68111||o>=68152&&o<=68154||o===68159:o<69372?o<=68326||o>=68900&&o<=68903||o>=68969&&o<=68973||o>=69291&&o<=69292:o<=69375||o>=69446&&o<=69456||o>=69506&&o<=69509)?i|d:t:o<69762?o<=69634?o===69633?i|d:f:(o<69747?o>=69688&&o<=69702||o===69744:o<=69748||o>=69759)?i|d:t:o<69888?o<=69818?o<69808?o===69762?f:t:o<=69810||o>=69815&&o<=69816?f:i|d:o===69821||o===69837?c:o===69826?i|d:t:o<70016?o<=69940?o===69932?f:o<=69890||o>=69927?i|d:t:o<=69958?o>=69957?f:t:o===70003?i|d:t:o<70188?o<=70080?o<70070?o<=70017?i|d:o===70018||o>=70067?f:t:o===70079?f:i|d:o<=70092?o>=70089?i|d:o<=70083&&o>=70082?c:t:o===70094?f:o===70095?i|d:t:o<70400?o<=70199?o<=70190||o>=70194&&o<=70195?f:i|d:o<70367?o===70206||o===70209?i|d:t:o<=70378?o>=70368&&o<=70370?f:i|d:t:o<70517?o<70465?o<70459?o<=70403?o<=70401?i|d:f:t:o===70463?f:o!==70461?i|d:t:o<70477?o<=70468||o>=70471&&o<=70472||o>=70475?f:t:o<=70499?o>=70498?f:o===70477||o===70487?i|d:t:o>=70502&&o<=70508||o>=70512?i|d:t:o<70627?o<=70594?o>=70584?o>=70585&&o<=70586?f:o!==70593?i|d:t:t:o<=70601?o===70597||o>=70599?i|d:t:o<70606?o!==70603?f:t:o===70609?c:o<=70610||o>=70625?i|d:t:o<=70724?o>=70709?o<=70711||o>=70720&&o<=70721?f:i|d:t:o===70725?f:o===70726||o===70750?i|d:t:o<72704?o<71087?o>=70832&&o<=70851?o>=70833&&o<=70834||o===70841||o>=70843&&o<=70844||o===70846||o===70849?f:i|d:t:o<71216?o<=71099?o>=71088&&o<=71089||o>=71096?f:o<=71093?i|d:t:o<=71104?o===71102?f:i|d:o>=71132&&o<=71133?i|d:t:o<71339?o<=71232?o<=71218||o>=71227&&o<=71228||o===71230?f:i|d:t:o<71453?o<=71351?o===71340||o>=71342&&o<=71343?f:i|d:t:o<71984?o<=71467?o===71454||o===71462?f:o<=71455||o>=71458?i|d:t:o>=71724&&o<=71738?o<=71726||o===71736?f:i|d:t:o<72145?o<71995?o===71984?i|d:o<=71992&&o!==71990?f:t:o<=72003?o<=71998||o===72003?i|d:o===71999||o===72001?c:f:t:o<72193?o<=72151?o<=72147?f:i|d:o>=72154&&o<=72160?o>=72156&&o<=72159?f:i|d:o===72164?f:t:o<72273?o<72243?o<=72202?i|d:t:o<=72254?o<=72248||o>=72251?i|d:o===72249?f:c:o===72263?i|d:t:o<=72283?o>=72279&&o<=72280?f:i|d:o>=72324&&o<=72345?o<=72329?c:o===72343?f:i|d:t:o<126976?o<73009?o<=72767?o>=72751?o===72751||o===72766?f:o!==72759?i|d:t:t:o>=72850&&o<=72886?o===72873||o===72881||o===72884?f:o!==72872?i|d:t:t:o<73098?o<73020?o<=73014||o===73018?i|d:t:o<=73031&&o!==73022?o===73030?c:i|d:t:o<73459?o<=73108?o<=73102||o>=73107?f:o>=73104&&o<=73105?i|d:t:o<=73111?o===73110?f:i|d:t:o<78896?o<=73538?o<73472?o<=73462?o<=73460?i|d:f:t:o<73524?o<=73475?o<=73473?i|d:o===73474?c:f:t:o<73534?o<=73525?f:o<=73530?i|d:t:o<=73535?f:i|d:o===73562?i|d:t:o<94031?o<90398?o<=78933?o<=78911?s:o>=78919||o===78912?i|d:t:t:o<=92982?o<=90415?o<=90409||o>=90413?i|d:f:o>=92912&&o<=92982&&(o<=92916||o>=92976)?i|d:t:o===93539||o>=93543&&o<=93546?p:t:o<119141?o<=94098?o>=94033&&o<=94087?f:o===94031||o>=94095?i|d:t:o<=94193?o===94180||o>=94192?i|d:t:o>=113821&&o<=113827?o<=113822?i|d:o>=113824?s:t:o>=118528&&o<=118598&&(o<=118573||o>=118576)?i|d:t:o<121520?o<119163?o<119155?o<=119145||o>=119149?i|d:t:s:(o<=119364?o<=119170||o>=119173&&o<=119179||o>=119210&&o<=119213||o>=119362:o>=121344&&(o<=121398||o>=121403&&o<=121452||o===121461||o===121476||o>=121499&&o!==121504))?i|d:t:(o<=122922?o>=122880&&(o<=122904&&o!==122887||o>=122907&&o!==122914&&o!==122917):o<=124143?o<=123190?o===123023||o>=123184:o===123566||o>=123628&&o<=123631||o>=124140:o<125136?o>=124398&&o<=124399:o<=125258&&(o<=125142||o>=125252))?i|d:t:o<131070?o<127488?o<127405?(o<=127345?o<=127231||o>=127245&&o<=127247||o===127279||o>=127340:o>=127358&&o<=127386&&(o<=127359||o===127374||o>=127377))?w:t:o<=127461?w:u:o<127561?o>=127489&&o<=127551&&(o<=127503||o===127514||o===127535||o>=127538&&o!==127547)?w:t:o<128318?o>=127995&&o<=127999?i|d|e.Emoji_Modifier:w:(o<=129023?o>=128326&&(o<=128591||o>=128640&&o<=128767||o>=128884&&o<=128895||o>=128981):o<129198?o>=129036&&o<=129167&&(o<=129039||o>=129096&&o<=129103||o>=129114&&o<=129119||o>=129160):o<=129279||o>=129292&&o<=129791&&o!==129339&&o!==129350||o>=130048)?w:t:o>=917504?o>921599?t:o>=918e3||o<=917535||o>=917632&&o<=917759?s:i|d:t}e.graphemeBreakProperty=T;function k(o,V){return(V&15)===i?!!(V&e.Emoji_Modifier):o<1536?!(o<=159?o<=31||o>=127:o===173):o<2304?!(o<1872?o<=1541||o===1564||o===1757||o===1807:o>=2192&&(o<=2193||o===2274)):o<8304?!(o<8203?o===6158:o<=8207||o>=8232&&o<=8238||o>=8288):o<=65531?!(o===65279||o>=65519):o<=119162?!(o<78896?o===69821||o===69837:o<113824?o<=78911:o<=113827||o>=119155):!(o>=205744&&o<=983039&&(o<=917535||o>=918e3||o>=917632&&o<=917759))}e.isGraphemeBase=k;function X(o,V,I){var z;if(V===n&&I===r)return!1;if(V===s||V===n||V===r||I===s||I===n||I===r)return!0;if(V===x&&(I===x||I===p||I===b||I===S)||(V===b||V===p)&&(I===p||I===g)||(V===S||V===g)&&I===g||(I&15)===i||(I&15)===a||I===f||V===c)return!1;if(I&E&&V&48){let j=!!(V&F);for(let ft=o.length-1;ft>=0;ft-=1){if(o[ft]&E){if(j)return!1;break}if(o[ft]&48){j||(j=!!(o[ft]&F));continue}break}}if((V&15)===a&&I===w){let j=o.length-1;for(;(((z=o[j])!==null&&z!==void 0?z:0)&15)===i;)j-=1;return o[j]!==w}if(V===u&&I===u){let j=o.length-1;for(;o[j]===u;)j-=1;return(o.length-1-j)%2===1}return!0}e.shouldBreak=X})(Xf)),Xf}var Ge={},sg;function ig(){if(sg)return Ge;sg=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.isEmojiModifierBase=Ge.isEmojiModifierSequence=Ge.isEmojiZwjSequence=Ge.emojiProps=void 0;function e(i){return i<11264?i<8986?i>=8482&&(i<8596?i===8482||i===8505:i<=8601||i>=8617&&i<=8618)?1:0:i<9211?i<9193?i<=8987?3:i===9e3||i===9167?1:0:i<=9203?i<=9196||i===9200||i===9203?3:1:i>=9208?1:0:i<9728?i<9723?(i<=9643?i===9410||i>=9642:i===9654||i===9664)?1:0:i<=9726?i<=9724?1:3:0:i<9760?i<9748?i<=9732||i===9742||i===9745?1:0:i<=9749?3:i===9752?1:i===9757?5:0:i<9800?(i<=9775?i<=9763&&i!==9761||i===9766||i===9770||i>=9774:i>=9784&&(i<=9786||i===9792||i===9794))?1:0:i<9876?i<=9832?i>=9823&&(i<=9824||i>=9827&&i!==9828&&i!==9831)?1:i<=9811?3:0:i===9851||i===9854||i===9874?1:i===9855||i===9875?3:0:i<9926?i<9898?i===9889?3:i<=9884&&i!==9880&&i!==9882||i===9888||i===9895?1:0:i<=9905?i<=9899?3:i>=9904?1:0:i>=9917&&i<=9925&&(i<=9918||i>=9924)?3:0:i<9984?i<9968?i<=9937?i===9928||i===9935||i===9937?1:i===9934?3:0:i===9939||i===9961?1:i===9940||i===9962?3:0:i<=9976?i<=9973?i<=9969||i===9972?1:3:i>=9975?1:0:i===9978||i===9981?3:i===9977?5:0:i<9998?i<9992?i===9986?1:i===9989?3:0:i>=9996?5:i>=9994?7:1:i<10035?i<=10017?i===9999||i===10002||i===10004||i===10006||i===10013||i===10017?1:0:i===10024?3:0:i<10072?i<10060?i<=10036||i===10052||i===10055?1:0:i<=10062&&i!==10061||i>=10067&&i!==10070?3:0:i<10176?i<=10135?i>=10133?3:i>=10083&&i<=10084?1:0:i===10160||i===10175?3:i===10145?1:0:i<=11015?i>=10548&&(i<=10549||i>=11013)?1:0:i>=11035&&(i<=11036||i===11088||i===11093)?3:0:i<128640?i<127344?i<=12953?i===12336||i===12349||i>=12951&&i!==12952?1:0:i===126980||i===127183?3:0:i<127387?i<=127359?i<=127345||i>=127358?1:0:i===127374||i>=127377?3:0:i<127744?i<127538?i===127489||i===127514||i===127535?3:i===127490?1:0:i<=127569?i===127543?1:i<=127546||i>=127568?3:0:0:i<127904?i<127780?i<=127776?3:i===127777?1:0:i<127870?i<=127788||i===127798||i===127869?1:3:i<=127891?i===127877?7:3:i>=127894&&(i<=127899&&i!==127896||i>=127902)?1:0:i<127992?i<127947?i>=127938&&i<=127940||i===127943||i===127946?7:3:i<127951?i<=127948?5:1:i<=127984?i<=127955||i>=127968?3:1:i===127988?3:i>=127987&&i!==127990?1:0:i<128254?i<=128062?i>=127995&&i<=127999?27:3:i<128066?i===128064?3:1:i<128102?i>=128068&&i<=128069||i>=128081?3:7:i<128129?i<=128120||i===128124?7:3:i<128136?i===128132?3:7:i<=128252?i===128143||i===128145||i===128170?7:3:1:i<128378?i<=128330?i>=128255&&i<=128317?3:i>=128329?1:0:i<128367?i<=128359&&i!==128335?3:0:i>=128372&&i<=128373?5:i<=128368||i>=128371?1:0:i<128421?i<=128397?i>=128394||i===128391?1:i===128378?7:0:i<128405?i===128400?5:0:i<=128406?7:i===128420?3:0:i<128507?(i<=128452?i===128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452:i<=128483?i>=128465&&i<=128467||i>=128476&&i<=128478||i>=128481&&i!==128482:i===128488||i===128495||i===128499||i===128506)?1:0:i<=128591?i<=128580||i>=128584&&i<=128586?3:7:0:i<128720?i<128692?i===128675?7:3:i<=128709?i<=128694||i===128704?7:3:i>=128715?i===128716?7:1:0:i<128765?i<128736?i<=128722||i>=128732||i>=128725&&i<=128727?3:0:i<128747?i<=128741||i===128745?1:0:i<=128748||i>=128756?3:i===128752||i===128755?1:0:i<129343?i<129292?i>=128992&&i<=129003||i===129008?3:0:i<=129311?i>=129304||i===129292||i===129295?7:3:i<=129327?i===129318?7:3:i===129338?3:i!==129339?7:0:i<129456?i===129399?7:i!==129350?3:0:i<=129535?i<=129465?i<=129459?19:i===129460||i===129463?3:7:i<=129484?i===129467?7:3:i===129488||i>=129502?3:7:i<=129730?i>=129648&&i<=129660||i>=129664&&i<=129673||i>=129679?3:0:i<=129784?i<=129733||i>=129776?7:i>=129759&&i<=129769||i>=129742&&i<=129756||i===129734?3:0:0}Ge.emojiProps=e;function t(i,a){const u=i.indexOf(8205,a);return u<0?i.length:u}function n(i){let a=0,u=t(i,a),c=i.slice(a,u);if(c.length>2)return!1;let[f,x]=c,p=e(f),g=!1;if(x===void 0){if(!(p&2))return!1}else if(x===65039){if((p&3)!==1)return!1;g=!0}else{const b=e(x);if(!(p&4&&b&8))return!1}for(a=u+1;a<i.length;a=u+1){if(u=t(i,a),c=i.slice(a,u),c.length>2)return!1;if([f,x]=c,p=e(f),x===void 0){if((p&1)===0)return!1}else if(x===65039){if(!(g?(p&3)===1:p&1))return!1}else{const b=e(x);if(!(p&4&&b&8))return!1}}return!0}Ge.isEmojiZwjSequence=n;function r(i,a){const u=e(i),c=e(a);return!!(u&4&&c&8)}Ge.isEmojiModifierSequence=r;function s(i){return!!(e(i)&4)}return Ge.isEmojiModifierBase=s,Ge}var og;function Qf(){if(og)return su;og=1,Object.defineProperty(su,"__esModule",{value:!0});const e=Jf(),t=Zf(),n=uu(),r=ig(),{RI:s,ExtendedPictographic:i,Extend:a,V:u,T:c}=n.GBProps;function f(x){if(typeof x!="string")return 0;const p=(0,e.default)(x);if(p.length===0)return 0;let g=0,b=p.codePointAt(0),S=[b],w=[],d=(0,t.default)(b),F=d,E=b===8205,T=(0,n.graphemeBreakProperty)(b),k=!1,X=0;for(let o=b>65535?2:1,V=p.length;o<V;o+=1){const I=p.codePointAt(o),z=(0,n.graphemeBreakProperty)(I);if((0,n.shouldBreak)(w,T,z))g+=E&&w[0]===i&&(0,r.isEmojiZwjSequence)(S)?d:F,w=[],S=[I],d=(0,t.default)(I),F=d,E=I===8205,k=!1,X=0;else{S.push(I),w.push(T);let j=!1;if((z&15)!==a)j=T===s&&z===s||z===u||z===c;else if(z&n.Emoji_Modifier)j=T===i&&(0,r.isEmojiModifierBase)(b),k||(k=!0);else{for(;!k&&X<w.length;X+=1)k=(0,n.isGraphemeBase)(S[X],w[X]);j=k}j||(F+=(0,t.default)(I)),I===8205&&(E=!0)}b=I,b>65535&&(o+=1),T=z}return g+=E&&w[0]===i&&(0,r.isEmojiZwjSequence)(S)?d:F,g}return su.default=f,su}var cu={},ag;function tl(){if(ag)return cu;ag=1,Object.defineProperty(cu,"__esModule",{value:!0});const e=Jf(),t=uu();function n(r){if(typeof r!="string")return 0;const s=(0,e.default)(r);if(s.length===0)return 0;let i=1,a=[],u=s.codePointAt(0),c=(0,t.graphemeBreakProperty)(u);for(let f=u>65535?2:1,x=s.length;f<x;f+=1){u=s.codePointAt(f);const p=(0,t.graphemeBreakProperty)(u);(0,t.shouldBreak)(a,c,p)?(i+=1,a=[]):a.push(c),u>65535&&(f+=1),c=p}return i}return cu.default=n,cu}var fu={},ug;function el(){if(ug)return fu;ug=1,Object.defineProperty(fu,"__esModule",{value:!0});const e=uu();function*t(n){if(typeof n!="string"||n.length===0)return;let r=0,s=[],i=n.codePointAt(0),a=(0,e.graphemeBreakProperty)(i);for(let u=i>65535?2:1,c=n.length;u<c;u+=1){i=n.codePointAt(u);const f=(0,e.graphemeBreakProperty)(i);(0,e.shouldBreak)(s,a,f)?(yield n.slice(r,u),s=[],r=u):s.push(a),i>65535&&(u+=1),a=f}yield n.slice(r)}return fu.default=t,fu}var lu={},cg;function nl(){if(cg)return lu;cg=1,Object.defineProperty(lu,"__esModule",{value:!0});const e=Zf(),t=uu(),n=ig(),{RI:r,ExtendedPictographic:s,Extend:i,V:a,T:u}=t.GBProps;function*c(f){if(typeof f!="string"||f.length===0)return;let x=0,p=f.codePointAt(0),g=[p],b=[],S=(0,e.default)(p),w=S,d=p===8205,F=(0,t.graphemeBreakProperty)(p),E=!1,T=0;for(let k=p>65535?2:1,X=f.length;k<X;k+=1){const o=f.codePointAt(k),V=(0,t.graphemeBreakProperty)(o);if((0,t.shouldBreak)(b,F,V))yield[f.slice(x,k),d&&b[0]===s&&(0,n.isEmojiZwjSequence)(g)?S:w],b=[],g=[o],S=(0,e.default)(o),w=S,x=k,d=o===8205,E=!1,T=0;else{g.push(o),b.push(F);let I=!1;if((V&15)!==i)I=F===r&&V===r||V===a||V===u;else if(V&t.Emoji_Modifier)I=F===s&&(0,n.isEmojiModifierBase)(p),E||(E=!0);else{for(;!E&&T<b.length;T+=1)E=(0,t.isGraphemeBase)(g[T],b[T]);I=E}I||(w+=(0,e.default)(o)),o===8205&&(d=!0)}p=o,p>65535&&(k+=1),F=V}yield[f.slice(x),d&&b[0]===s&&(0,n.isEmojiZwjSequence)(g)?S:w]}return lu.default=c,lu}var hu={},Ke={},kr={},fg;function o5(){return fg||(fg=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.closingCodes=kr.styleCodes=void 0,kr.styleCodes=new Map([["1","22"],["2","22"],["3","23"],["4","24"],["4:","4:0"],["5","25"],["6","25"],["7","27"],["8","28"],["9","29"],["20","23"],["21","24"],["26","50"],["30","39"],["31","39"],["32","39"],["33","39"],["34","39"],["35","39"],["36","39"],["37","39"],["38","39"],["90","39"],["91","39"],["92","39"],["93","39"],["94","39"],["95","39"],["96","39"],["97","39"],["40","49"],["41","49"],["42","49"],["43","49"],["44","49"],["45","49"],["46","49"],["47","49"],["48","49"],["51","54"],["52","54"],["53","55"],["58","59"],["60","65"],["61","65"],["62","65"],["63","65"],["64","65"],["73","75"],["74","75"],["100","49"],["101","49"],["102","49"],["103","49"],["104","49"],["105","49"],["106","49"],["107","49"]]),kr.closingCodes=["0","4:0","22","23","24","25","27","28","29","39","49","50","54","55","59","65","75"]),kr}var lg;function xu(){if(lg)return Ke;lg=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.closeEscapes=Ke.openEscapes=Ke.parseEscape=Ke.parseAnsi=void 0;const e=Yf(),t=o5();function*n(f){let x=0;for(let p=(0,e.default)(),g=p.exec(f);g;g=p.exec(f)){const{0:b,index:S}=g;S>x&&(yield[f.slice(x,S),!1]),yield[b,!0],x=S+b.length}x<f.length&&(yield[f.slice(x),!1])}Ke.parseAnsi=n;function*r(f){let x=!1,p={value:-1};const g=[p];for(let b=0;b<f.length;b+=1){const S=f.charCodeAt(b);switch(S){case 59:x=!1,p={value:-1},g.push(p);break;case 58:x=!0,p.subparams?p.subparams.push(-1):p.subparams=[-1];break;default:{const w=S-48;if(x){const d=p.subparams,F=d[d.length-1];d[d.length-1]=~F?F*10+w:w}else p.value=~p.value?p.value*10+w:w;break}}}for(let b=0;b<g.length;b+=1){const S=g[b],w=Math.max(S.value,0);if(w===38||w===48||w===58){if(S.subparams){yield{code:w,params:S};continue}const d=b;b+=1;let F=g[b];const E=F?.value===2?3:F?.value===5?1:0;for(let k=0;F&&!F.subparams&&k<E;k+=1,b+=1,F=g[b]);const T=Math.min(b+1,g.length)-d;yield{code:w,params:T===1?S:g.slice(d,d+T),incomplete:!F?.subparams&&T<E+2};continue}yield{code:w,params:S}}}function s(f){return f.subparams?[f.value,...f.subparams].map(x=>~x?String(x):"").join(":"):~f.value?String(f.value):""}const i=/(?:(?:\x1b\x5b|\x9b)([\x30-\x3b]*m)|(?:\x1b\x5d|\x9d)8;(.*?)(?:\x1b\x5c|[\x07\x9c]))/;function a(f,x,p){var g,b;const[,S,w]=(g=i.exec(x))!==null&&g!==void 0?g:[],d=[];if(S)for(const{code:E,params:T,incomplete:k}of r(S.slice(0,-1))){let X=String(E);if(E===4&&T.subparams&&(X+=T.subparams[0]===0?":0":":"),t.closingCodes.includes(X)){const V=X==="4:0"||X==="24"?["4:0","24"]:null;for(let I=f.length-1;I>=0;I-=1){const[,z,j]=f[I];z===1||d.includes(I)||X!=="0"&&(V?!V.includes(j):X!==j)||(X==="0"&&(f[I][2]="0"),d.push(I))}continue}const o=Array.isArray(T)?T.map(s).join(";"):s(T);f.push([o,k?2:0,(b=t.styleCodes.get(X))!==null&&b!==void 0?b:"0",p])}else if(w!==void 0){const E=w.replace(/^[^;]*;/,"");if(w===E)return null;if(E==="")for(let T=f.length-1;T>=0;T-=1){const[,k]=f[T];k!==1||d.includes(T)||(f[T][2]=x,d.push(T))}else{const T=x.replace(/((?:\x1b\x5d|\x9d)8;).*?(\x1b\x5c|[\x07\x9c])/,"$1;$2");f.push([x,1,T,p])}}else return null;const F=[];if(d.length)for(const E of d.sort((T,k)=>k-T))F.unshift(f[E]),f.splice(E,1);return F}Ke.parseEscape=a;function u(f){let x="",p=[];for(const[g,b]of f){if(b===1){p.length&&(x+=`\x1B[${p.join(";")}m`,p=[]),x+=g;continue}p.push(g),b===2&&(x+=`\x1B[${p.join(";")}m`,p=[])}return x+(p.length?`\x1B[${p.join(";")}m`:"")}Ke.openEscapes=u;function c(f){const x=[];let p="";for(const[,g,b]of f){if(g===1){p=b;continue}if(!x.includes(b)){if(b==="4:0"){x.includes("24")||x.unshift(b);continue}if(b==="24"){const S=x.indexOf("4:0");S<0?x.unshift(b):x[S]=b;continue}x.unshift(b)}}return p+(x.length?x.includes("0")?"\x1B[0m":`\x1B[${x.join(";")}m`:"")}return Ke.closeEscapes=c,Ke}var hg;function a5(){if(hg)return hu;hg=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=xu();function t(n){const r=[],s=[],i=String(n).split(/\r?\n/g);for(let a=0,u=i.length;a<u;a+=1){let c="",f=-1;for(const[x,p]of(0,e.parseAnsi)(i[a])){if(p){const g=(0,e.parseEscape)(r,x,[a,f]);g&&f>=0?c+=(0,e.closeEscapes)(g.filter(([,,,[b,S]])=>b<a||b===a&&S<f)):g===null&&(c+=x);continue}c+=(0,e.openEscapes)(f<0?r:r.filter(([,,,[g,b]])=>g===a&&b===f)),c+=x,f+=1}f>=0&&(c+=(0,e.closeEscapes)(r.filter(([,,,[x,p]])=>x<a||x===a&&p<f))),s.push(c)}return s}return hu.default=t,hu}var Ir={},xg;function u5(){if(xg)return Ir;xg=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.sliceColumns=Ir.sliceChars=void 0;const e=xu(),t=el(),n=nl(),r=tl(),s=Qf();function i(a,u){return(c,f=0,x=1/0)=>{if(typeof c!="string"&&(c=String(c)),f<0||x<0){const d=u(c);f<0&&(f=d+f),x<0&&(x=d+x)}if(f>=x)return"";const p=[];let g="",b=0,S=-1,w=[];for(const[d,F]of(0,e.parseAnsi)(c)){if(F){const T=(0,e.parseEscape)(p,d,b);T?.length&&w.unshift(...T);continue}w.length&&(g+=(0,e.closeEscapes)(w.filter(([,,,T])=>T<=S)),w=[]);const E=b;for(const[T,k]of a(d))if((f<b||f===b&&k>0)&&b+k<=x&&(S<E&&(g+=(0,e.openEscapes)(p.filter(([,,,X])=>X>S)),S=E),g+=T),b+=k,b>=x)return g+(0,e.closeEscapes)(p.filter(([,,,X])=>X<=S))}return g+(0,e.closeEscapes)([...w,...p].filter(([,,,d])=>d<=S))}}return Ir.sliceChars=i(function*(u){for(const c of(0,t.default)(u))yield[c,1]},r.default),Ir.sliceColumns=i(n.default,s.default),Ir}var pu={},pg;function c5(){if(pg)return pu;pg=1,Object.defineProperty(pu,"__esModule",{value:!0});const e=xu(),t=el(),n=tl();function r(s,i,a,u=""){const c=Math.max(i<0?i+(0,n.default)(s):i,0),f=c+a,x=[];let p="",g=0,b=0,S=!1,w=!1;for(const[d,F]of(0,e.parseAnsi)(String(s))){if(F){const E=(0,e.parseEscape)(x,d,[g,S]);E===null||!S&&(g<c||u)?p+=d:E.length&&(p+=(0,e.closeEscapes)(E.filter(([,,,[T,k]])=>!k&&(T<c||u)))),b+=d.length;continue}if(w)return p+(0,e.openEscapes)(x.filter(([,,,[E,T]])=>T||E===c&&!u))+s.slice(b);for(const E of(0,t.default)(d)){if(g<c)p+=E;else if(g===c&&!S&&(p+=u,S=!0),g===f)return p+(0,e.openEscapes)(x.filter(([,,,[T,k]])=>k||T===c&&!u))+s.slice(b);g+=1,b+=E.length}g===c&&!S&&(p+=u,S=!0),g===f&&(w=!0)}return S?p:p+u}return pu.default=r,pu}var mu={},mg;function f5(){if(mg)return mu;mg=1,Object.defineProperty(mu,"__esModule",{value:!0});const e=xu(),t=nl(),n=Qf();function r(a,u,c){return a.filter(([,,,[f,x]])=>f<u||f===u&&x<=c)}function s(a,u,c,f,x){if(u.trim()==="")return"";const p=[];let g="",b=0,S=-1/0,w=0,d="",F=-1/0,E="";const T=u.split(" ").map(k=>[k,(0,n.default)(k)]);for(const[k,[X,o]]of T.entries()){if(k>0&&((b>0||!x&&S<0)&&(b+=1),d+=(0,e.openEscapes)(a.filter(([,,,[I,z]])=>I>F||I===F&&z>w)),F=k,d+=" "),f&&(o>c||!x&&S<0&&b+o>c&&b<c)){const I=c-b;Math.floor((o-1)/c)<1+Math.floor((o-I-1)/c)&&!(!x&&S<0)&&(p.push(g+E+(0,e.closeEscapes)(r(a,S,w))),[b,g]=[0,""],[d,E]=["",""]);let j=0;for(const[ft,it]of(0,e.parseAnsi)(X)){if(it){const At=(0,e.parseEscape)(a,ft,[k,j]);At?.length&&(S<k?(E+=(0,e.closeEscapes)(r(At,S,w)),d+=(0,e.closeEscapes)(At.filter(([,,,[Vt]])=>Vt<F))):b&&(g+=(0,e.closeEscapes)(r(At,S,w))));continue}const Ce=j;S<k&&(!x&&S<0&&b===c&&(p.push(g+d+(0,e.closeEscapes)(r(a,k,-1))),[b,g]=[0,""]),g+=b?d+(0,e.openEscapes)(a.filter(([,,,[At]])=>At===k)):(0,e.openEscapes)(a),[S,w]=[k,0],[F,d]=[k,""],E="");for(const[At,Vt]of(0,t.default)(ft))b+Vt>c&&(p.push(g+(0,e.closeEscapes)(r(a,S,w))),[b,g]=[0,(0,e.openEscapes)(a)]),w<Ce&&(b&&(g+=(0,e.openEscapes)(a.filter(([,,,[Wt,Lt]])=>Wt===S&&w<Lt))),w=Ce),g+=At,b+=Vt,j+=Vt}continue}let V=0;for(const[I,z]of(0,e.parseAnsi)(X)){if(z){const j=(0,e.parseEscape)(a,I,[k,V]);j?.length&&(S<k?(E+=(0,e.closeEscapes)(r(j,S,w)),d+=(0,e.closeEscapes)(j.filter(([,,,[ft]])=>ft<F))):b&&(g+=(0,e.closeEscapes)(r(j,S,w))));continue}S<k&&((!x&&S<0?b===c:b+o>c&&b>0)&&(p.push(!x&&S<0?g+d+(0,e.closeEscapes)(r(a,k,-1)):g+E+(0,e.closeEscapes)(r(a,S,w))),[b,g]=[0,""]),g+=b?d+(0,e.openEscapes)(a.filter(([,,,[j]])=>j===k)):(0,e.openEscapes)(a),b+=o,[S,w]=[k,0],[F,d]=[k,""],E=""),w<V&&(g+=(0,e.openEscapes)(a.filter(([,,,[j,ft]])=>j===S&&w<ft)),w=V),g+=I,V+=I.length}!x&&S<0&&b===c&&(p.push(g+d+(0,e.closeEscapes)(r(a,k,-1))),[b,g]=[0,""],d=(0,e.openEscapes)(r(a,F,w)),E="")}b>0&&p.push(g+E+(0,e.closeEscapes)(r(a,S,w)));for(const k of a)k[3]=[-1,0];return S>=0?p.join(`
`):""}function i(a,u,{hard:c=!1,trimLeft:f=!0}={}){const x=[];return String(a).split(/\r?\n/g).map(p=>s(x,p,u,c,f)).join(`
`)}return mu.default=i,mu}var dg;function l5(){return dg||(dg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wordWrap=e.spliceChars=e.sliceColumns=e.sliceChars=e.splitLines=e.codePointWidth=e.stripAnsi=e.ansiRegex=e.charWidths=e.splitChars=e.stringLength=e.stringWidth=void 0;var t=Qf();Object.defineProperty(e,"stringWidth",{enumerable:!0,get:function(){return t.default}});var n=tl();Object.defineProperty(e,"stringLength",{enumerable:!0,get:function(){return n.default}});var r=el();Object.defineProperty(e,"splitChars",{enumerable:!0,get:function(){return r.default}});var s=nl();Object.defineProperty(e,"charWidths",{enumerable:!0,get:function(){return s.default}});var i=Yf();Object.defineProperty(e,"ansiRegex",{enumerable:!0,get:function(){return i.default}});var a=Jf();Object.defineProperty(e,"stripAnsi",{enumerable:!0,get:function(){return a.default}});var u=Zf();Object.defineProperty(e,"codePointWidth",{enumerable:!0,get:function(){return u.default}});var c=a5();Object.defineProperty(e,"splitLines",{enumerable:!0,get:function(){return c.default}});var f=u5();Object.defineProperty(e,"sliceChars",{enumerable:!0,get:function(){return f.sliceChars}}),Object.defineProperty(e,"sliceColumns",{enumerable:!0,get:function(){return f.sliceColumns}});var x=c5();Object.defineProperty(e,"spliceChars",{enumerable:!0,get:function(){return x.default}});var p=f5();Object.defineProperty(e,"wordWrap",{enumerable:!0,get:function(){return p.default}})})(Hf)),Hf}var gg=l5();const bg=new Intl.Segmenter,Tt=([e,t])=>n=>`${e}${n}${t}`;Tt.rest=(e,t)=>Tt([e,t]),Tt.parentheses=Tt(["(",")"]),Tt.squareBrackets=Tt(["[","]"]),Tt.curlyBrackets=Tt(["{","}"]),Tt.angledBrackets=Tt(["<",">"]),Tt.quote=Object.assign(Tt(["'","'"]),{double:Tt(['"','"']),fancy:Tt(["",""]),parentheses:Tt(["(",")"]),squareBrackets:Tt(["[","]"]),curlyBrackets:Tt(["{","}"]),angledBrackets:Tt(["<",">"])});const Rs=e=>e.join(`
`);Rs.double=e=>e.join(`

`),Rs.rest=(...e)=>Rs(e);const xt=e=>e.join("");xt.rest=(...e)=>xt(e),xt.pipeline=e=>l(e,De(" | ")),xt.slash=e=>l(e,De(" | ")),xt.spaced=Object.assign(e=>e.join(" "),{rest:(...e)=>e.join(" "),literal:(...e)=>e.join(" ")}),xt.comma=Object.assign(e=>e.join(", "),{rest:(...e)=>e.join(", ")}),xt.quote=Object.assign(e=>l(e,O(Tt.quote),xt.comma),{double:e=>l(e,O(Tt.quote.double),xt.comma),fancy:e=>l(e,O(Tt.quote.fancy),xt.comma)});const rl=e=>t=>Wf(e,t),h5=Wf,du=e=>e.toString(),x5=e=>t=>e===t,Tr=gg.stringWidth,p5=O(Tr),m5=e=>l(" ",$s(e));function sl(e){return t=>{const n=Tr(t);if(e===0)return"";if(e-n<=0)return l(t,bu(0,e),xt);const[s,i]=ru(e,n);return l(t,Qi($s(s),N(bu(0,i),xt)),xt)}}sl.flipped=e=>t=>sl(t)(e);function d5(e){return t=>{if(e===0)return[];const n=fe(t)?t:[""],r=n.length;if(e-r<=0)return n.slice(0,e);const[i,a]=ru(e,r);return[...l(n,fn(i),yi),...n.slice(0,a)]}}const g5=e=>Gc(gt)([0,...p5(e)]),b5=e=>t=>{let n=0;for(;e(t[n])&&n<Tr(t);)n++;return t.slice(0,n)},gu=e=>[...bg.segment(e)].map(t=>t.segment),bu=(e,t)=>n=>[...bg.segment(n)].map(r=>r.segment).slice(e,t??-1);class Te extends Error{constructor(t=!1){super(),this.interruptExecution=t,this.footprint=Te.SharedFootPrint}static isFailure(t){return t!=null&&t.footprint===Te.SharedFootPrint}}Te.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");function y5(e){if(!e)throw new Te}class il{[Symbol.iterator](){return this}next(t){return{value:t,done:!0}}}il.nil=new il;function S5(){return il.nil}function*_5(e,t){for(const n of e)yield t(n)}function*w5(e,t){for(const n of e)yield*t(n)}function*A5(e,t){for(const n of e)t(n)&&(yield n)}function*E5(e,t){for(let n=0;n<t;++n){const r=e.next();if(r.done)break;yield r.value}}function*F5(e,t){let n=e.next();for(;!n.done&&t(n.value);)yield n.value,n=e.next()}function*C5(e,t){for(let n=e.next();!n.done;n=e.next())yield n.value;for(const n of t)for(let r=n.next();!r.done;r=n.next())yield r.value}const v5=Symbol.iterator;class q{static nil(){return new q(S5())}static of(...t){return new q(t[v5]())}constructor(t){this.g=t}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(t){return new q(_5(this.g,t))}flatMap(t){return new q(w5(this.g,t))}dropWhile(t){let n=!1;function*r(s){(n||!t(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(t){if(t<=0)return this;let n=0;function r(){return n++<t}return this.dropWhile(r)}takeWhile(t){return new q(F5(this.g,t))}take(t){return new q(E5(this.g,t))}filter(t){return new q(A5(this.g,t))}every(t){for(const n of this.g)if(!t(n))return!1;return!0}has(t){for(const n of this.g)if(t(n))return[!0,n];return[!1,null]}join(...t){return new q(C5(this.g,t))}getNthOrLast(t){let n=t,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function qn(e){return new q(e)}const Jt=Symbol.for("fast-check/cloneMethod");function Or(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&Jt in e&&typeof e[Jt]=="function"}function Ns(e){return Or(e)?e[Jt]():e}const k5=Object.defineProperty;class P{constructor(t,n,r=void 0){this.value_=t,this.context=n,this.hasToBeCloned=r!==void 0||Or(t),this.readOnce=!1,this.hasToBeCloned?k5(this,"value",{get:r!==void 0?r:this.getValue}):this.value=t}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[Jt]():(this.readOnce=!0,this.value_):this.value_}}class Ft{filter(t){return new O5(this,t)}map(t,n){return new T5(this,t,n)}chain(t){return new I5(this,t)}}class I5 extends Ft{constructor(t,n){super(),this.arb=t,this.chainer=n}generate(t,n){const r=t.clone(),s=this.arb.generate(t,n);return this.valueChainer(s,t,r,n)}canShrinkWithoutContext(t){return!1}shrink(t,n){return this.isSafeContext(n)?(n.stoppedForOriginal?q.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(t,n.chainedContext).map(r=>{const s={...n,chainedContext:r.context,stoppedForOriginal:!0};return new P(r.value_,s)})):q.nil()}valueChainer(t,n,r,s){const i=this.chainer(t.value_),a=i.generate(n,s),u={originalBias:s,originalValue:t.value_,originalContext:t.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new P(a.value_,u)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalBias"in t&&"originalValue"in t&&"originalContext"in t&&"stoppedForOriginal"in t&&"chainedArbitrary"in t&&"chainedContext"in t&&"clonedMrng"in t}}class T5 extends Ft{constructor(t,n,r){super(),this.arb=t,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(t,n){const r=this.arb.generate(t,n);return this.valueMapper(r)}canShrinkWithoutContext(t){if(this.unmapper!==void 0)try{const n=this.unmapper(t);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(t,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(t);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return q.nil()}mapperWithCloneIfNeeded(t){const n=t.value,r=this.mapper(n);return t.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!Or(r)&&Object.defineProperty(r,Jt,{get:()=>()=>this.mapperWithCloneIfNeeded(t)[0]}),[r,n]}valueMapper(t){const[n,r]=this.mapperWithCloneIfNeeded(t),s={originalValue:r,originalContext:t.context};return new P(n,s)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalValue"in t&&"originalContext"in t}}class O5 extends Ft{constructor(t,n){super(),this.arb=t,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(t,n){for(;;){const r=this.arb.generate(t,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)&&this.refinement(t)}shrink(t,n){return this.arb.shrink(t,n).filter(this.bindRefinementOnValue)}refinementOnValue(t){return this.refinement(t.value)}}function yg(e){return typeof e=="object"&&e!==null&&"generate"in e&&"shrink"in e&&"canShrinkWithoutContext"in e}function Sg(e){if(!yg(e))throw new Error("Unexpected value received: not an instance of Arbitrary")}const _g=Function.prototype.apply,ol=Symbol("apply");function $5(e){try{return e.apply}catch{return}}function B5(e,t,n){const r=e;r[ol]=_g;const s=r[ol](t,n);return delete r[ol],s}function ct(e,t,n){return $5(e)===_g?e.apply(t,n):B5(e,t,n)}const wg=Array,$=BigInt,M5=BigInt64Array,R5=BigUint64Array,Ag=Boolean,yu=Date,L=Error,Eg=Float32Array,Fg=Float64Array,N5=Int8Array,D5=Int16Array,P5=Int32Array,bn=Number,$r=String,Su=Set,j5=Uint8Array,L5=Uint8ClampedArray,U5=Uint16Array,q5=Uint32Array,V5=encodeURIComponent,to=Map,_u=Symbol,Cg=Array.prototype.forEach,vg=Array.prototype.indexOf,kg=Array.prototype.join,Ig=Array.prototype.map,Tg=Array.prototype.filter,Og=Array.prototype.push,$g=Array.prototype.pop,Bg=Array.prototype.splice,Mg=Array.prototype.slice,Rg=Array.prototype.sort,Ng=Array.prototype.every;function W5(e){try{return e.forEach}catch{return}}function z5(e){try{return e.indexOf}catch{return}}function G5(e){try{return e.join}catch{return}}function K5(e){try{return e.map}catch{return}}function H5(e){try{return e.filter}catch{return}}function Y5(e){try{return e.push}catch{return}}function J5(e){try{return e.pop}catch{return}}function Z5(e){try{return e.splice}catch{return}}function X5(e){try{return e.slice}catch{return}}function Q5(e){try{return e.sort}catch{return}}function tO(e){try{return e.every}catch{return}}function Dg(e,t){return W5(e)===Cg?e.forEach(t):ct(Cg,e,[t])}function yn(e,...t){return z5(e)===vg?e.indexOf(...t):ct(vg,e,t)}function yt(e,...t){return G5(e)===kg?e.join(...t):ct(kg,e,t)}function ht(e,t){return K5(e)===Ig?e.map(t):ct(Ig,e,[t])}function eO(e,t){return H5(e)===Tg?e.filter(t):ct(Tg,e,[t])}function U(e,...t){return Y5(e)===Og?e.push(...t):ct(Og,e,t)}function Pg(e){return J5(e)===$g?e.pop():ct($g,e,[])}function jg(e,...t){return Z5(e)===Bg?e.splice(...t):ct(Bg,e,t)}function te(e,...t){return X5(e)===Mg?e.slice(...t):ct(Mg,e,t)}function Lg(e,...t){return Q5(e)===Rg?e.sort(...t):ct(Rg,e,t)}function Ug(e,...t){return tO(e)===Ng?e.every(...t):ct(Ng,e,t)}const qg=Date.prototype.getTime,Vg=Date.prototype.toISOString;function nO(e){try{return e.getTime}catch{return}}function rO(e){try{return e.toISOString}catch{return}}function wu(e){return nO(e)===qg?e.getTime():ct(qg,e,[])}function sO(e){return rO(e)===Vg?e.toISOString():ct(Vg,e,[])}const Wg=Set.prototype.add,zg=Set.prototype.has;function iO(e){try{return e.add}catch{return}}function oO(e){try{return e.has}catch{return}}function al(e,t){return iO(e)===Wg?e.add(t):ct(Wg,e,[t])}function Gg(e,t){return oO(e)===zg?e.has(t):ct(zg,e,[t])}const Kg=WeakMap.prototype.set,Hg=WeakMap.prototype.get;function aO(e){try{return e.set}catch{return}}function uO(e){try{return e.get}catch{return}}function cO(e,t,n){return aO(e)===Kg?e.set(t,n):ct(Kg,e,[t,n])}function fO(e,t){return uO(e)===Hg?e.get(t):ct(Hg,e,[t])}const Yg=Map.prototype.set,Jg=Map.prototype.get;function lO(e){try{return e.set}catch{return}}function hO(e){try{return e.get}catch{return}}function Br(e,t,n){return lO(e)===Yg?e.set(t,n):ct(Yg,e,[t,n])}function Vn(e,t){return hO(e)===Jg?e.get(t):ct(Jg,e,[t])}const Zg=String.prototype.split,Xg=String.prototype.startsWith,Qg=String.prototype.endsWith,tb=String.prototype.substring,eb=String.prototype.toLowerCase,nb=String.prototype.toUpperCase,rb=String.prototype.padStart,sb=String.prototype.charCodeAt,ib=String.prototype.normalize,ob=String.prototype.replace;function xO(e){try{return e.split}catch{return}}function pO(e){try{return e.startsWith}catch{return}}function mO(e){try{return e.endsWith}catch{return}}function dO(e){try{return e.substring}catch{return}}function gO(e){try{return e.toLowerCase}catch{return}}function bO(e){try{return e.toUpperCase}catch{return}}function yO(e){try{return e.padStart}catch{return}}function SO(e){try{return e.charCodeAt}catch{return}}function _O(e){try{return e.normalize}catch{return}}function wO(e){try{return e.replace}catch{return}}function ue(e,...t){return xO(e)===Zg?e.split(...t):ct(Zg,e,t)}function AO(e,...t){return pO(e)===Xg?e.startsWith(...t):ct(Xg,e,t)}function EO(e,...t){return mO(e)===Qg?e.endsWith(...t):ct(Qg,e,t)}function Ct(e,...t){return dO(e)===tb?e.substring(...t):ct(tb,e,t)}function ul(e){return gO(e)===eb?e.toLowerCase():ct(eb,e,[])}function cl(e){return bO(e)===nb?e.toUpperCase():ct(nb,e,[])}function FO(e,...t){return yO(e)===rb?e.padStart(...t):ct(rb,e,t)}function Ds(e,t){return SO(e)===sb?e.charCodeAt(t):ct(sb,e,[t])}function CO(e,t){return _O(e)===ib?e.normalize(t):ct(ib,e,[t])}function vO(e,t,n){return wO(e)===ob?e.replace(t,n):ct(ob,e,[t,n])}const ab=Number.prototype.toString;function kO(e){try{return e.toString}catch{return}}function eo(e,...t){return kO(e)===ab?e.toString(...t):ct(ab,e,t)}const IO=Object.prototype.hasOwnProperty,TO=Object.prototype.toString;function Au(e,t){return ct(IO,e,[t])}function fl(e){return ct(TO,e,[])}const OO=Error.prototype.toString;function $O(e){return ct(OO,e,[])}class BO{constructor(t){this.producer=t}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function Wn(e){return new BO(e)}const ub=Array.isArray,MO=Object.defineProperty;function cb(e,t){return MO(e,Jt,{value:()=>{const n=[];for(let r=0;r!==t.length;++r)U(n,t[r].value);return cb(n,t),n}})}function fb(e){let t=!1;const n=[],r=[];for(let s=0;s!==e.length;++s){const i=e[s];t=t||i.hasToBeCloned,U(n,i.value),U(r,i.context)}return t&&cb(n,e),new P(n,r)}function lb(e,t,n){const r=[],s=ub(n)?n:[];for(let i=0;i!==e.length;++i)U(r,Wn(()=>e[i].shrink(t[i],s[i]).map(a=>{const u=ht(t,(c,f)=>new P(Ns(c),s[f]));return[...te(u,0,i),a,...te(u,i+1)]}).map(fb)));return q.nil().join(...r)}class RO extends Ft{constructor(t){super(),this.arbs=t;for(let n=0;n!==t.length;++n){const r=t[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(t,n){const r=[];for(let s=0;s!==this.arbs.length;++s)U(r,this.arbs[s].generate(t,n));return fb(r)}canShrinkWithoutContext(t){if(!ub(t)||t.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(t[n]))return!1;return!0}shrink(t,n){return lb(this.arbs,t,n)}}function nt(...e){return new RO(e)}const NO=Math.log;function hb(e){return 2+~~(NO(e+1)*.4342944819032518)}let ll={};function DO(e){ll=e}function He(){return ll}function PO(){ll={}}const no=Symbol("UndefinedContextPlaceholder");function Ps(e){return e.context!==void 0?e:e.hasToBeCloned?new P(e.value_,no,()=>e.value):new P(e.value_,no)}class ro{constructor(t,n){this.arb=t,this.predicate=n;const{asyncBeforeEach:r,asyncAfterEach:s,beforeEach:i,afterEach:a}=He()||{};if(r!==void 0&&i!==void 0)throw L(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(s!==void 0&&a!==void 0)throw L(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=r||i||ro.dummyHook,this.afterEachHook=s||a||ro.dummyHook}isAsync(){return!0}generate(t,n){const r=this.arb.generate(t,n!=null?hb(n):void 0);return Ps(r)}shrink(t){if(t.context===void 0&&!this.arb.canShrinkWithoutContext(t.value_))return q.nil();const n=t.context!==no?t.context:void 0;return this.arb.shrink(t.value_,n).map(Ps)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(t){try{const n=await this.predicate(t);return n===void 0||n===!0?null:{error:new L("Property failed by returning false")}}catch(n){return Te.isFailure(n)?n:{error:n}}}beforeEach(t){const n=this.beforeEachHook;return this.beforeEachHook=()=>t(n),this}afterEach(t){const n=this.afterEachHook;return this.afterEachHook=()=>t(n),this}}ro.dummyHook=()=>{};class xb extends Ft{constructor(t){super(),this.arb=t}generate(t,n){const r=this.arb.generate(t,n);return Ps(r)}canShrinkWithoutContext(t){return!0}shrink(t,n){if(n===void 0&&!this.arb.canShrinkWithoutContext(t))return q.nil();const r=n!==no?n:void 0;return this.arb.shrink(t,r).map(Ps)}}function jO(...e){if(e.length<2)throw new Error("asyncProperty expects at least two parameters");const t=te(e,0,e.length-1),n=e[e.length-1];Dg(t,Sg);const r=ht(t,s=>new xb(s));return new ro(nt(...r),s=>n(...s))}class js{constructor(t,n){this.arb=t,this.predicate=n;const{beforeEach:r=js.dummyHook,afterEach:s=js.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=He()||{};if(i!==void 0)throw L(`"asyncBeforeEach" can't be set when running synchronous properties`);if(a!==void 0)throw L(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(t,n){const r=this.arb.generate(t,n!=null?hb(n):void 0);return Ps(r)}shrink(t){if(t.context===void 0&&!this.arb.canShrinkWithoutContext(t.value_))return q.nil();const n=t.context!==no?t.context:void 0;return this.arb.shrink(t.value_,n).map(Ps)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(t){try{const n=this.predicate(t);return n===void 0||n===!0?null:{error:new L("Property failed by returning false")}}catch(n){return Te.isFailure(n)?n:{error:n}}}beforeEach(t){const n=this.beforeEachHook;return this.beforeEachHook=()=>t(n),this}afterEach(t){const n=this.afterEachHook;return this.afterEachHook=()=>t(n),this}}js.dummyHook=()=>{};function LO(...e){if(e.length<2)throw new Error("property expects at least two parameters");const t=te(e,0,e.length-1),n=e[e.length-1];Dg(t,Sg);const r=ht(t,s=>new xb(s));return new js(nt(...r),s=>n(...s))}var UO=214013,qO=2531011,VO=4294967295,WO=(1<<31)-1,hl=function(e){return e*UO+qO&VO},xl=function(e){return(e&WO)>>16},pb=(function(){function e(t){this.seed=t}return e.prototype.clone=function(){return new e(this.seed)},e.prototype.next=function(){var t=new e(this.seed),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=hl(this.seed),n=xl(t),r=hl(t),s=xl(r);this.seed=hl(r);var i=xl(this.seed),a=i+(s+(n<<15)<<15);return a|0},e.prototype.getState=function(){return[this.seed]},e})();function zO(e){var t=e.length===1;if(!t)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new pb(e[0])}var GO=Object.assign(function(e){return new pb(e)},{fromState:zO}),KO=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){a={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},HO=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},mb=(function(){function e(t,n){this.states=t,this.index=n}return e.twist=function(t){for(var n=t.slice(),r=0;r!==e.N-e.M;++r){var s=(n[r]&e.MASK_UPPER)+(n[r+1]&e.MASK_LOWER);n[r]=n[r+e.M]^s>>>1^-(s&1)&e.A}for(var r=e.N-e.M;r!==e.N-1;++r){var i=(n[r]&e.MASK_UPPER)+(n[r+1]&e.MASK_LOWER);n[r]=n[r+e.M-e.N]^i>>>1^-(i&1)&e.A}var a=(n[e.N-1]&e.MASK_UPPER)+(n[0]&e.MASK_LOWER);return n[e.N-1]=n[e.M-1]^a>>>1^-(a&1)&e.A,n},e.seeded=function(t){var n=Array(e.N);n[0]=t;for(var r=1;r!==e.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(e.F,s)+r|0}return n},e.from=function(t){return new e(e.twist(e.seeded(t)),0)},e.prototype.clone=function(){return new e(this.states,this.index)},e.prototype.next=function(){var t=new e(this.states,this.index),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.states[this.index];return t^=this.states[this.index]>>>e.U,t^=t<<e.S&e.B,t^=t<<e.T&e.C,t^=t>>>e.L,++this.index>=e.N&&(this.states=e.twist(this.states),this.index=0),t},e.prototype.getState=function(){return HO([this.index],KO(this.states),!1)},e.fromState=function(t){var n=t.length===e.N+1&&t[0]>=0&&t[0]<e.N;if(!n)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new e(t.slice(1),t[0])},e.N=624,e.M=397,e.R=31,e.A=2567483615,e.F=1812433253,e.U=11,e.S=7,e.B=2636928640,e.T=15,e.C=4022730752,e.L=18,e.MASK_LOWER=Math.pow(2,e.R)-1,e.MASK_UPPER=Math.pow(2,e.R),e})();function YO(e){return mb.fromState(e)}var JO=Object.assign(function(e){return mb.from(e)},{fromState:YO}),db=(function(){function e(t,n,r,s){this.s01=t,this.s00=n,this.s11=r,this.s10=s}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=t^this.s10^(t>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var t=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var u=1;u;u<<=1)i[a]&u&&(t^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=t,this.s00=n,this.s11=r,this.s10=s},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e})();function ZO(e){var t=e.length===4;if(!t)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new db(e[0],e[1],e[2],e[3])}var XO=Object.assign(function(e){return new db(-1,~e,e|0,0)},{fromState:ZO}),gb=(function(){function e(t,n,r,s){this.s01=t,this.s00=n,this.s11=r,this.s10=s}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,t},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var t=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var u=1;u;u<<=1)i[a]&u&&(t^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=t,this.s00=n,this.s11=r,this.s10=s},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e})();function QO(e){var t=e.length===4;if(!t)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new gb(e[0],e[1],e[2],e[3])}var t$=Object.assign(function(e){return new gb(-1,~e,e|0,0)},{fromState:QO});function bb(e,t){if(e.sign!==t.sign)return pl(e,{sign:-t.sign,data:t.data});for(var n=[],r=0,s=e.data,i=t.data,a=s.length-1,u=i.length-1;a>=0||u>=0;--a,--u){var c=a>=0?s[a]:0,f=u>=0?i[u]:0,x=c+f+r;n.push(x>>>0),r=~~(x/4294967296)}return r!==0&&n.push(r),{sign:e.sign,data:n.reverse()}}function e$(e){e.sign=1;for(var t=e.data,n=t.length-1;n>=0;--n)if(t[n]===4294967295)t[n]=0;else return t[n]+=1,e;return t.unshift(1),e}function n$(e,t){for(var n=Math.max(e.length,t.length),r=0;r<n;++r){var s=r+e.length-n,i=r+t.length-n,a=s>=0?e[s]:0,u=i>=0?t[i]:0;if(a<u)return!0;if(a>u)return!1}return!1}function pl(e,t){if(e.sign!==t.sign)return bb(e,{sign:-t.sign,data:t.data});var n=e.data,r=t.data;if(n$(n,r)){var s=pl(t,e);return s.sign=-s.sign,s}for(var i=[],a=0,u=n.length-1,c=r.length-1;u>=0||c>=0;--u,--c){var f=u>=0?n[u]:0,x=c>=0?r[c]:0,p=f-x-a;i.push(p>>>0),a=p<0?1:0}return{sign:e.sign,data:i.reverse()}}function yb(e){for(var t=e.data,n=0;n!==t.length&&t[n]===0;++n);return n===t.length?(e.sign=1,e.data=[0],e):(t.splice(0,n),e)}function Sb(e,t){for(var n=e>2?~~(4294967296/e)*e:4294967296,r=t.unsafeNext()+2147483648;r>=n;)r=t.unsafeNext()+2147483648;return r%e}function _b(e,t,n){for(var r=t.length;;){for(var s=0;s!==r;++s){var i=s===0?t[0]+1:4294967296,a=Sb(i,n);e[s]=a}for(var s=0;s!==r;++s){var u=e[s],c=t[s];if(u<c)return e;if(u>c)break}}}function ml(e,t,n){var r=yb(e$(pl(t,e))),s=r.data.slice(0),i=_b(s,r.data,n);return yb(bb({sign:1,data:i},e))}function r$(e,t,n){if(n!=null){var r=n.clone();return[ml(e,t,r),r]}return function(s){var i=s.clone();return[ml(e,t,i),i]}}var wb=typeof BigInt<"u"?BigInt:void 0,s$=typeof BigInt<"u"?BigInt(1):void 0,Ab=typeof BigInt<"u"?BigInt(32):void 0,i$=typeof BigInt<"u"?BigInt(4294967296):void 0;function Eu(e,t,n){for(var r=t-e+s$,s=i$,i=1;s<r;)s<<=Ab,++i;var a=Eb(i,n);if(a<r)return a+e;if(a+r<s)return a%r+e;for(var u=s-s%r;a>=u;)a=Eb(i,n);return a%r+e}function Eb(e,t){for(var n=wb(t.unsafeNext()+2147483648),r=1;r<e;++r){var s=t.unsafeNext();n=(n<<Ab)+wb(s+2147483648)}return n}function o$(e,t,n){if(n!=null){var r=n.clone();return[Eu(e,t,r),r]}return function(s){var i=s.clone();return[Eu(e,t,i),i]}}function dl(e,t){if(t<0){var n=-t;e.sign=-1,e.data[0]=~~(n/4294967296),e.data[1]=n>>>0}else e.sign=1,e.data[0]=~~(t/4294967296),e.data[1]=t>>>0;return e}function a$(e,t,n){var r=t.data[1],s=t.data[0],i=t.sign,a=n.data[1],u=n.data[0],c=n.sign;if(e.sign=1,i===1&&c===-1){var f=r+a,x=s+u+(f>4294967295?1:0);return e.data[0]=x>>>0,e.data[1]=f>>>0,e}var p=r,g=s,b=a,S=u;i===-1&&(p=a,g=u,b=r,S=s);var w=0,d=p-b;return d<0&&(w=1,d=d>>>0),e.data[0]=g-S-w,e.data[1]=d,e}var u$=Number.MAX_SAFE_INTEGER,c$={sign:1,data:[0,0]},f$={sign:1,data:[0,0]},Fb={sign:1,data:[0,0]},gl=[0,0];function l$(e,t,n,r){var s=n<=u$?dl(Fb,n):a$(Fb,dl(c$,t),dl(f$,e));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,_b(gl,s.data,r),gl[0]*4294967296+gl[1]+e}function Ls(e,t,n){var r=t-e;if(r<=4294967295){var s=Sb(r+1,n);return s+e}return l$(e,t,r,n)}function h$(e,t,n){if(n!=null){var r=n.clone();return[Ls(e,t,r),r]}return function(s){var i=s.clone();return[Ls(e,t,i),i]}}function bl(e,t){for(var n=0;n!=t;++n)e.unsafeNext()}function Cb(e,t){var n=e.clone();return bl(n,t),n}function vb(e,t){for(var n=[],r=0;r!=t;++r)n.push(e.unsafeNext());return n}function x$(e,t){var n=e.clone(),r=vb(n,t);return[r,n]}var p$="module",m$="7.0.1",d$="2248506b66d969d1a8b477a4dde8e24cbac33e6a",so=Object.freeze({__proto__:null,__commitHash:d$,__type:p$,__version:m$,congruential32:GO,generateN:x$,mersenne:JO,skipN:Cb,uniformArrayIntDistribution:r$,uniformBigIntDistribution:o$,uniformIntDistribution:h$,unsafeGenerateN:vb,unsafeSkipN:bl,unsafeUniformArrayIntDistribution:ml,unsafeUniformBigIntDistribution:Eu,unsafeUniformIntDistribution:Ls,xoroshiro128plus:t$,xorshift128plus:XO}),re;(function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.VeryVerbose=2]="VeryVerbose"})(re||(re={}));const g$=Date.now,b$=Math.min,y$=Math.random;class Bt{constructor(t){const n=t||{};this.seed=Bt.readSeed(n),this.randomType=Bt.readRandomType(n),this.numRuns=Bt.readNumRuns(n),this.verbose=Bt.readVerbose(n),this.maxSkipsPerRun=n.maxSkipsPerRun!==void 0?n.maxSkipsPerRun:100,this.timeout=Bt.safeTimeout(n.timeout),this.skipAllAfterTimeLimit=Bt.safeTimeout(n.skipAllAfterTimeLimit),this.interruptAfterTimeLimit=Bt.safeTimeout(n.interruptAfterTimeLimit),this.markInterruptAsFailure=n.markInterruptAsFailure===!0,this.skipEqualValues=n.skipEqualValues===!0,this.ignoreEqualValues=n.ignoreEqualValues===!0,this.logger=n.logger!==void 0?n.logger:r=>{console.log(r)},this.path=n.path!==void 0?n.path:"",this.unbiased=n.unbiased===!0,this.examples=n.examples!==void 0?n.examples:[],this.endOnFailure=n.endOnFailure===!0,this.reporter=n.reporter,this.asyncReporter=n.asyncReporter,this.includeErrorInReport=n.includeErrorInReport===!0}toParameters(){return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:this.timeout,skipAllAfterTimeLimit:this.skipAllAfterTimeLimit,interruptAfterTimeLimit:this.interruptAfterTimeLimit,markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:this.reporter,asyncReporter:this.asyncReporter,includeErrorInReport:this.includeErrorInReport}}static read(t){return new Bt(t)}}Bt.createQualifiedRandomGenerator=e=>t=>{const n=e(t);return n.unsafeJump===void 0&&(n.unsafeJump=()=>bl(n,42)),n},Bt.readSeed=e=>{if(e.seed===void 0)return g$()^y$()*4294967296;const t=e.seed|0;if(e.seed===t)return t;const n=e.seed-t;return t^n*4294967296},Bt.readRandomType=e=>{if(e.randomType===void 0)return so.xorshift128plus;if(typeof e.randomType=="string")switch(e.randomType){case"mersenne":return Bt.createQualifiedRandomGenerator(so.mersenne);case"congruential":case"congruential32":return Bt.createQualifiedRandomGenerator(so.congruential32);case"xorshift128plus":return so.xorshift128plus;case"xoroshiro128plus":return so.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${e.randomType}'`)}const t=e.randomType(0);if("min"in t&&t.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(t.min)}`);if("max"in t&&t.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(t.max)}`);return"unsafeJump"in t?e.randomType:Bt.createQualifiedRandomGenerator(e.randomType)},Bt.readNumRuns=e=>e.numRuns!==void 0?e.numRuns:e.num_runs!==void 0?e.num_runs:100,Bt.readVerbose=e=>e.verbose===void 0?re.None:typeof e.verbose=="boolean"?e.verbose===!0?re.Verbose:re.None:e.verbose<=re.None?re.None:e.verbose>=re.VeryVerbose?re.VeryVerbose:e.verbose|0,Bt.safeTimeout=e=>{if(e!==void 0)return b$(e,2147483647)};function S$(e,t,n){let r=null;const s=new Promise(i=>{r=t(()=>{const a=new Te(!0);i(a)},e)});return{clear:()=>n(r),promise:s}}class kb{constructor(t,n,r,s,i,a){this.property=t,this.getTime=n,this.interruptExecution=s,this.setTimeoutSafe=i,this.clearTimeoutSafe=a,this.skipAfterTime=this.getTime()+r}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}run(t){const n=this.skipAfterTime-this.getTime();if(n<=0){const r=new Te(this.interruptExecution);return this.isAsync()?Promise.resolve(r):r}if(this.interruptExecution&&this.isAsync()){const r=S$(n,this.setTimeoutSafe,this.clearTimeoutSafe),s=Promise.race([this.property.run(t),r.promise]);return s.then(r.clear,r.clear),s}return this.property.run(t)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const _$=(e,t,n)=>{let r=null;const s=new Promise(i=>{r=t(()=>{i({error:new L(`Property timeout: exceeded limit of ${e} milliseconds`)})},e)});return{clear:()=>n(r),promise:s}};class w${constructor(t,n,r,s){this.property=t,this.timeMs=n,this.setTimeoutSafe=r,this.clearTimeoutSafe=s}isAsync(){return!0}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}async run(t){const n=_$(this.timeMs,this.setTimeoutSafe,this.clearTimeoutSafe),r=Promise.race([this.property.run(t),n.promise]);return r.then(n.clear,n.clear),r}runBeforeEach(){return Promise.resolve(this.property.runBeforeEach())}runAfterEach(){return Promise.resolve(this.property.runAfterEach())}}class Ib{constructor(t){this.property=t}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,void 0)}shrink(t){return this.property.shrink(t)}run(t){return this.property.run(t)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const Tb=Array.from,Ob=typeof Buffer<"u"?Buffer.isBuffer:void 0,Us=JSON.stringify,$b=Number.isNaN,A$=Object.keys,E$=Object.getOwnPropertySymbols,F$=Object.getOwnPropertyDescriptor,Bb=Object.getPrototypeOf,Mb=Number.NEGATIVE_INFINITY,C$=Number.POSITIVE_INFINITY,Sn=Symbol.for("fast-check/toStringMethod");function yl(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&Sn in e&&typeof e[Sn]=="function"}const _n=Symbol.for("fast-check/asyncToStringMethod");function Sl(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&_n in e&&typeof e[_n]=="function"}const v$=/^Symbol\((.*)\)$/;function k$(e){if(e.description!==void 0)return e.description;const t=v$.exec($r(e));return t&&t[1].length?t[1]:null}function Rb(e){switch(e){case 0:return 1/e===Mb?"-0":"0";case Mb:return"Number.NEGATIVE_INFINITY";case C$:return"Number.POSITIVE_INFINITY";default:return e===e?$r(e):"Number.NaN"}}function I$(e){let t=-1;for(const n in e){const r=Number(n);if(r!==t+1)return!0;t=r}return t+1!==e.length}function _e(e,t,n){const r=[...t,e];if(typeof e=="object"&&yn(t,e)!==-1)return"[cyclic]";if(Sl(e)){const s=n(e);if(s.state==="fulfilled")return s.value}if(yl(e))try{return e[Sn]()}catch{}switch(fl(e)){case"[object Array]":{const s=e;if(s.length>=50&&I$(s)){const a=[];for(const u in s)$b(Number(u))||U(a,`${u}:${_e(s[u],r,n)}`);return a.length!==0?`Object.assign(Array(${s.length}),{${yt(a,",")}})`:`Array(${s.length})`}const i=yt(ht(s,a=>_e(a,r,n)),",");return s.length===0||s.length-1 in s?`[${i}]`:`[${i},]`}case"[object BigInt]":return`${e}n`;case"[object Boolean]":{const s=e==!0?"true":"false";return typeof e=="boolean"?s:`new Boolean(${s})`}case"[object Date]":{const s=e;return $b(wu(s))?"new Date(NaN)":`new Date(${Us(sO(s))})`}case"[object Map]":return`new Map(${_e(Array.from(e),r,n)})`;case"[object Null]":return"null";case"[object Number]":return typeof e=="number"?Rb(e):`new Number(${Rb(Number(e))})`;case"[object Object]":{try{const a=e.toString;if(typeof a=="function"&&a!==Object.prototype.toString)return e.toString()}catch{return"[object Object]"}const s=a=>`${a==="__proto__"?'["__proto__"]':typeof a=="symbol"?`[${_e(a,r,n)}]`:Us(a)}:${_e(e[a],r,n)}`,i=[...Bb(e)===null?["__proto__:null"]:[],...ht(A$(e),s),...ht(eO(E$(e),a=>{const u=F$(e,a);return u&&u.enumerable}),s)];return"{"+yt(i,",")+"}"}case"[object Set]":return`new Set(${_e(Array.from(e),r,n)})`;case"[object String]":return typeof e=="string"?Us(e):`new String(${Us(e)})`;case"[object Symbol]":{const s=e;if(_u.keyFor(s)!==void 0)return`Symbol.for(${Us(_u.keyFor(s))})`;const i=k$(s);if(i===null)return"Symbol()";const a=i.startsWith("Symbol.")&&_u[i.substring(7)];return s===a?i:`Symbol(${Us(i)})`}case"[object Promise]":{const s=n(e);switch(s.state){case"fulfilled":return`Promise.resolve(${_e(s.value,r,n)})`;case"rejected":return`Promise.reject(${_e(s.value,r,n)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(e instanceof Error)return`new Error(${_e(e.message,r,n)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof Ob=="function"&&Ob(e))return`Buffer.from(${_e(Tb(e.values()),r,n)})`;const s=Bb(e),i=s&&s.constructor&&s.constructor.name;if(typeof i=="string"){const u=e.values();return`${i}.from(${_e(Tb(u),r,n)})`}break}}try{return e.toString()}catch{return fl(e)}}function Mt(e){return _e(e,[],()=>({state:"unknown",value:void 0}))}function Nb(e){const t=_u(),n=[],r=new to;function s(){let c=null;const f=()=>{c!==null&&clearTimeout(c)};return{delay:new Promise(p=>{c=setTimeout(()=>{c=null,p(t)},0)}),cancel:f}}const i={state:"unknown",value:void 0},a=function(f){const x=f;if(r.has(x))return r.get(x);const p=s(),g=_n in f?Promise.resolve().then(()=>f[_n]()):f;return g.catch(()=>{}),n.push(Promise.race([g,p.delay]).then(b=>{b===t?r.set(x,{state:"pending",value:void 0}):r.set(x,{state:"fulfilled",value:b}),p.cancel()},b=>{r.set(x,{state:"rejected",value:b}),p.cancel()})),r.set(x,i),i};function u(){const c=_e(e,[],a);return n.length===0?c:Promise.all(n.splice(0)).then(u)}return u()}async function _l(e){return Promise.resolve(Nb(e))}function Db(e){return e===null?new Te:e}function T$(...e){return e[1]?e[0].then(Db):Db(e[0])}function O$(e,t){return T$(e,t)}class Pb{constructor(t,n){this.property=t,this.skipRuns=n,this.coveredCases=new Map}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}run(t){const n=Mt(t);if(this.coveredCases.has(n)){const s=this.coveredCases.get(n);return this.skipRuns?O$(s,this.property.isAsync()):s}const r=this.property.run(t);return this.coveredCases.set(n,r),r}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const jb=Date.now,wl=setTimeout,Al=clearTimeout;function $$(e,t){let n=e;return e.isAsync()&&t.timeout!==void 0&&(n=new w$(n,t.timeout,wl,Al)),t.unbiased&&(n=new Ib(n)),t.skipAllAfterTimeLimit!==void 0&&(n=new kb(n,jb,t.skipAllAfterTimeLimit,!1,wl,Al)),t.interruptAfterTimeLimit!==void 0&&(n=new kb(n,jb,t.interruptAfterTimeLimit,!0,wl,Al)),t.skipEqualValues&&(n=new Pb(n,!0)),t.ignoreEqualValues&&(n=new Pb(n,!1)),n}var wn;(function(e){e[e.Success=0]="Success",e[e.Skipped=-1]="Skipped",e[e.Failure=1]="Failure"})(wn||(wn={}));class Fu{constructor(t,n){this.verbosity=t,this.interruptedAsFailure=n,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+ue(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?ue(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(t,n){const r={status:t,value:n,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(t,n,r){if(this.verbosity>=re.Verbose){const s=this.appendExecutionTree(wn.Failure,t);this.currentLevelExecutionTrees=s.children}this.pathToFailure==null?this.pathToFailure=`${n}`:this.pathToFailure+=`:${n}`,this.value=t,this.failure=r}skip(t){this.verbosity>=re.VeryVerbose&&this.appendExecutionTree(wn.Skipped,t),this.pathToFailure==null&&++this.numSkips}success(t){this.verbosity>=re.VeryVerbose&&this.appendExecutionTree(wn.Success,t),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];const t=[];let n=this.rootExecutionTrees;for(;n.length>0&&n[n.length-1].status===wn.Failure;){const r=n[n.length-1];t.push(r.value),n=r.children}return t}toRunDetails(t,n,r,s){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:t,counterexample:this.value,counterexamplePath:Fu.mergePaths(n,this.pathToFailure),errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()};const i=this.interruptedAsFailure||this.numSuccesses===0;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:t,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()}}}Fu.mergePaths=(e,t)=>{if(e.length===0)return t;const n=e.split(":"),r=t.split(":"),s=+n[n.length-1]+ +r[0];return[...n.slice(0,n.length-1),`${s}`,...r.slice(1)].join(":")};class Lb{constructor(t,n,r,s){this.sourceValues=t,this.shrink=n,this.runExecution=new Fu(r,s),this.currentIdx=-1,this.nextValues=t}[Symbol.iterator](){return this}next(){const t=this.nextValues.next();return t.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentValue=t.value,++this.currentIdx,{done:!1,value:t.value.value_})}handleResult(t){t!=null&&typeof t=="object"&&!Te.isFailure(t)?(this.runExecution.fail(this.currentValue.value_,this.currentIdx,t),this.currentIdx=-1,this.nextValues=this.shrink(this.currentValue)):t!=null?t.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentValue.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentValue.value_)}}class B${constructor(t,n,r){this.initialValues=t,this.maxInitialIterations=n,this.remainingSkips=r}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){const t=this.initialValues.next();if(!t.done)return{value:t.value,done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}class we{constructor(t){this.internalRng=t.clone()}clone(){return new we(this.internalRng)}next(t){return Ls(0,(1<<t)-1,this.internalRng)}nextBoolean(){return Ls(0,1,this.internalRng)==1}nextInt(t,n){return Ls(t??we.MIN_INT,n??we.MAX_INT,this.internalRng)}nextBigInt(t,n){return Eu(t,n,this.internalRng)}nextDouble(){const t=this.next(26),n=this.next(27);return(t*we.DBL_FACTOR+n)*we.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&typeof this.internalRng.getState=="function")return this.internalRng.getState()}}we.MIN_INT=-2147483648,we.MAX_INT=2147483647,we.DBL_FACTOR=Math.pow(2,27),we.DBL_DIVISOR=Math.pow(2,-53);function M$(e,t,n){return t.unsafeJump(),e.generate(new we(t),n)}function*Ub(e,t,n,r){for(let s=0;s!==r.length;++s)yield new P(r[s],void 0);for(let s=0,i=n(t);;++s)yield M$(e,i,s)}function R$(e,t,n){return()=>e.generate(new we(t),n)}function*qb(e,t,n,r){yield*ht(r,a=>()=>new P(a,void 0));let s=0,i=n(t);for(;;)i=i.jump?i.jump():Cb(i,42),yield R$(e,i,s++)}function Vb(e){return e()}function Wb(e,t,n){const r=t,s=e.split(":").map(a=>+a);if(s.length===0)return r.map(Vb);if(!s.every(a=>!Number.isNaN(a)))throw new Error(`Unable to replay, got invalid path=${e}`);let i=r.drop(s[0]).map(Vb);for(const a of s.slice(1)){const u=i.getNthOrLast(0);if(u===null)throw new Error(`Unable to replay, got wrong path=${e}`);i=n(u).drop(a)}return i}const N$=Object.assign;function D$(e){return e.length===1?`Hint: ${e[0]}`:e.map((t,n)=>`Hint (${n+1}): ${t}`).join(`
`)}function P$(e,t){return`Encountered failures were:
- ${e.map(t).join(`
- `)}`}function El(e,t){const n=[],r=[];for(const s of e.slice().reverse())r.push({depth:1,tree:s});for(;r.length!==0;){const s=r.pop(),i=s.tree,a=s.depth,u=i.status===wn.Success?"\x1B[32m\x1B[0m":i.status===wn.Failure?"\x1B[31m\x1B[0m":"\x1B[33m!\x1B[0m",c=Array(a).join(". ");n.push(`${c}${u} ${t(i.value)}`);for(const f of i.children.slice().reverse())r.push({depth:a+1,tree:f})}return`Execution summary:
${n.join(`
`)}`}function j$(e,t){const n=`Failed to run property, too many pre-condition failures encountered
{ seed: ${e.seed} }

Ran ${e.numRuns} time(s)
Skipped ${e.numSkips} time(s)`;let r=null;const s=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return e.verbose>=re.VeryVerbose?r=El(e.executionSummary,t):U(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function L$(e){if(e instanceof L&&e.stack!==void 0)return e.stack;try{return $r(e)}catch{}if(e instanceof L)try{return $O(e)}catch{}if(e!==null&&typeof e=="object")try{return fl(e)}catch{}return"Failed to serialize errorInstance"}function U$(e,t){const r=e.runConfiguration.includeErrorInReport?`
Got ${vO(L$(e.errorInstance),/^Error: /,"error: ")}`:"",s=`Property failed after ${e.numRuns} tests
{ seed: ${e.seed}, path: "${e.counterexamplePath}", endOnFailure: true }
Counterexample: ${t(e.counterexample)}
Shrunk ${e.numShrinks} time(s)${r}`;let i=null;const a=[];return e.verbose>=re.VeryVerbose?i=El(e.executionSummary,t):e.verbose===re.Verbose?i=P$(e.failures,t):U(a,"Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:s,details:i,hints:a}}function q$(e,t){const n=`Property interrupted after ${e.numRuns} tests
{ seed: ${e.seed} }`;let r=null;const s=[];return e.verbose>=re.VeryVerbose?r=El(e.executionSummary,t):U(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function Fl(e,t){if(!e.failed)return;const{message:n,details:r,hints:s}=e.counterexamplePath===null?e.interrupted?q$(e,t):j$(e,t):U$(e,t);let i=n;return r!=null&&(i+=`

${r}`),s.length>0&&(i+=`

${D$(s)}`),i}function zb(e){return Fl(e,Mt)}async function Gb(e){const t=[];function n(a){const u=Nb(a);return typeof u=="string"?u:(t.push(Promise.all([a,u])),"")}const r=Fl(e,n);if(t.length===0)return r;const s=new to(await Promise.all(t));function i(a){const u=Vn(s,a);return u!==void 0?u:Mt(a)}return Fl(e,i)}function Kb(e,t){if(t.runConfiguration.includeErrorInReport)throw new L(e);const n=L,r=new n(e,{cause:t.errorInstance});return"cause"in r||N$(r,{cause:t.errorInstance}),r}function V$(e){if(e.failed)throw Kb(zb(e),e)}async function W$(e){if(e.failed)throw Kb(await Gb(e),e)}function z$(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):V$(e)}async function G$(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):W$(e)}function K$(e,t,n,r,s){const i=new Lb(n,t,r,s);for(const a of i){e.runBeforeEach();const u=e.run(a);e.runAfterEach(),i.handleResult(u)}return i.runExecution}async function H$(e,t,n,r,s){const i=new Lb(n,t,r,s);for(const a of i){await e.runBeforeEach();const u=await e.run(a);await e.runAfterEach(),i.handleResult(u)}return i.runExecution}function Hb(e,t){if(e==null||e.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(e.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");const n=Bt.read({...He(),...t});if(n.reporter!==void 0&&n.asyncReporter!==void 0)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(n.asyncReporter!==void 0&&!e.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");const r=$$(e,n),s=n.path.length===0||n.path.indexOf(":")===-1?n.numRuns:-1,i=n.numRuns*n.maxSkipsPerRun,a=(...x)=>r.shrink(...x),u=n.path.length===0?Ub(r,n.seed,n.randomType,n.examples):Wb(n.path,qn(qb(r,n.seed,n.randomType,n.examples)),a),c=new B$(u,s,i),f=n.endOnFailure?q.nil:a;return r.isAsync()?H$(r,f,c,n.verbose,n.markInterruptAsFailure).then(x=>x.toRunDetails(n.seed,n.path,i,n)):K$(r,f,c,n.verbose,n.markInterruptAsFailure).toRunDetails(n.seed,n.path,i,n)}function Y$(e,t){const n=Hb(e,t);if(e.isAsync())return n.then(G$);z$(n)}function J$(e,t){const n=Object.prototype.hasOwnProperty.call(e,"isAsync")?e:new js(e,()=>!0);return t.unbiased===!0?new Ib(n):n}function Yb(e,t){const n=typeof t=="number"?{...He(),numRuns:t}:{...He(),...t},r=Bt.read(n),s=J$(e,r),i=s.shrink.bind(s);return(r.path.length===0?qn(Ub(s,r.seed,r.randomType,r.examples)):Wb(r.path,qn(qb(s,r.seed,r.randomType,r.examples)),i)).take(r.numRuns).map(u=>u.value_)}function Z$(e,t){return[...Yb(e,t)]}function X$(e){return(Math.round(e*100)/100).toFixed(2)}function Q$(e,t,n){const r=typeof n=="number"?{...He(),numRuns:n}:{...He(),...n},s=Bt.read(r),i={};for(const f of Yb(e,n)){const x=t(f),p=Array.isArray(x)?x:[x];for(const g of p)i[g]=(i[g]||0)+1}const a=Object.entries(i).sort((f,x)=>x[1]-f[1]).map(f=>[f[0],`${X$(f[1]*100/s.numRuns)}%`]),u=a.map(f=>f[0].length).reduce((f,x)=>Math.max(f,x),0),c=a.map(f=>f[1].length).reduce((f,x)=>Math.max(f,x),0);for(const f of a)s.logger(`${f[0].padEnd(u,".")}..${f[1].padStart(c,".")}`)}const t9=Object.assign;function Cl(e,t,n,r){const s=n();let i=e.clone();const a={mrng:e.clone(),biasFactor:t,history:[]},u=p=>{const g=s[a.history.length];if(g!==void 0&&g.arb===p){const S=g.value;return U(a.history,{arb:p,value:S,context:g.context,mrng:g.mrng}),i=g.mrng.clone(),S}const b=p.generate(i,t);return U(a.history,{arb:p,value:b.value_,context:b.context,mrng:i.clone()}),b.value},c=(p,...g)=>u(r(p,g)),f={values(){return ht(a.history,p=>p.value)},[Jt](){return Cl(e,t,n,r).value},[Sn](){return Mt(ht(a.history,p=>p.value))}},x=t9(c,f);return new P(x,a)}const vl=Array.isArray,Jb=Object.keys,e9=Object.is;function n9(e){const t=new to;return function(r,s){const i=Vn(t,r);if(i===void 0){const c=r(...s);return Br(t,r,[{args:s,value:c}]),c}const a=i;for(const c of a)if(e(s,c.args))return c.value;const u=r(...s);return U(a,{args:s,value:u}),u}}function Zb(e,t){if(e!==null&&typeof e=="object"&&t!==null&&typeof t=="object"){if(vl(e)){if(!vl(t)||e.length!==t.length)return!1}else if(vl(t))return!1;if(Jb(e).length!==Jb(t).length)return!1;for(const n in e)if(!(n in t)||!Zb(e[n],t[n]))return!1;return!0}else return e9(e,t)}class r9 extends Ft{constructor(){super(...arguments),this.arbitraryCache=n9(Zb)}generate(t,n){return Cl(t,n,()=>[],this.arbitraryCache)}canShrinkWithoutContext(t){return!1}shrink(t,n){if(n===void 0)return q.nil();const r=n,s=r.mrng,i=r.biasFactor,a=r.history;return lb(a.map(u=>u.arb),a.map(u=>u.value),a.map(u=>u.context)).map(u=>{function c(){const f=u.value,x=u.context;return ht(a,(p,g)=>({arb:p.arb,value:f[g],context:x[g],mrng:p.mrng}))}return Cl(s,i,c,this.arbitraryCache)})}}function s9(){return new r9}const i9=Math.floor,Xb=Math.log;function o9(e){return i9(Xb(e)/Xb(2))}function a9(e){return e===$(0)?$(0):$($r(e).length)}function Qb(e,t,n){if(e===t)return[{min:e,max:t}];if(e<0&&t>0){const a=n(-e),u=n(t);return[{min:-a,max:u},{min:t-u,max:t},{min:e,max:e+a}]}const r=n(t-e),s={min:e,max:e+r},i={min:t-r,max:t};return e<0?[i,s]:[s,i]}const u9=Math.ceil,c9=Math.floor;function ty(e){return c9(e/2)}function ey(e){return u9(e/2)}function ny(e,t,n){const r=e-t;function*s(){let a=n?void 0:t;const u=n?r:ty(r);for(let c=u;c>0;c=ty(c)){const f=c===r?t:e-c;yield new P(f,a),a=f}}function*i(){let a=n?void 0:t;const u=n?r:ey(r);for(let c=u;c<0;c=ey(c)){const f=c===r?t:e-c;yield new P(f,a),a=f}}return r>0?qn(s()):qn(i())}const ry=Math.sign,f9=Number.isInteger,l9=Object.is;class zn extends Ft{constructor(t,n){super(),this.min=t,this.max=n}generate(t,n){const r=this.computeGenerateRange(t,n);return new P(t.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(t){return typeof t=="number"&&f9(t)&&!l9(t,-0)&&this.min<=t&&t<=this.max}shrink(t,n){if(!zn.isValidContext(t,n)){const r=this.defaultTarget();return ny(t,r,!0)}return this.isLastChanceTry(t,n)?q.of(new P(n,void 0)):ny(t,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(t,n){if(n===void 0||t.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=Qb(this.min,this.max,o9);if(r.length===1)return r[0];const s=t.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(t,n){return t>0?t===n+1&&t>this.min:t<0?t===n-1&&t<this.max:!1}static isValidContext(t,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&ry(t)!==ry(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const sy=Number.isInteger;function h9(e){const t=e.min!==void 0?e.min:-2147483648,n=e.max!==void 0?e.max:2147483647;return{min:t,max:n}}function mt(e={}){const t=h9(e);if(t.min>t.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!sy(t.min))throw new Error("fc.integer minimum value should be an integer");if(!sy(t.max))throw new Error("fc.integer maximum value should be an integer");return new zn(t.min,t.max)}const iy=new Map;function kl(e){if(e===void 0)return{depth:0};if(typeof e!="string")return e;const t=Vn(iy,e);if(t!==void 0)return t;const n={depth:0};return Br(iy,e,n),n}function oy(){return{depth:0}}class x9{constructor(t,n,r){this.arb=t,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const p9=Math.min,m9=Math.max;class d9{constructor(t,n,r,s){this.arb=t,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(t){if(t!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===t&&U(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=t-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new P(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const t=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=t.length-1,new P(t[0],void 0);const n=this.mrng.nextInt(0,t.length-1),r=this.mrng.nextInt(0,t.length-1);return this.nextIndexInSlice=p9(n,r),this.lastIndexInSlice=m9(n,r),new P(t[this.nextIndexInSlice++],void 0)}}function ay(e,t,n,r){return r===void 0||n.length===0||t.nextInt(1,r)!==1?new x9(e,t,r):new d9(e,t,n,r)}const g9=Math.floor,uy=Math.log,cy=Math.max,b9=Array.isArray;function Il(e,t){return e===t?e:e+g9(uy(t-e)/uy(2))}class Cu extends Ft{constructor(t,n,r,s,i,a,u){super(),this.arb=t,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=a,this.customSlices=u,this.lengthArb=mt({min:n,max:r}),this.depthContext=kl(i)}preFilter(t){if(this.setBuilder===void 0)return t;const n=this.setBuilder();for(let r=0;r!==t.length;++r)n.tryAdd(t[r]);return n.getData()}static makeItCloneable(t,n){return t[Jt]=()=>{const r=[];for(let s=0;s!==n.length;++s)U(r,n[s].value);return this.makeItCloneable(r,n),r},t}generateNItemsNoDuplicates(t,n,r,s){let i=0;const a=t(),u=ay(this.arb,r,this.customSlices,s);for(;a.size()<n&&i<this.maxGeneratedLength;){const c=u.next();a.tryAdd(c)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(t,n,r,s){const i=cy(0,n-Il(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(t,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(t,n,r){const s=[],i=ay(this.arb,n,this.customSlices,r);i.attemptExact(t);for(let a=0;a!==t;++a){const u=i.next();U(s,u)}return s}safeGenerateNItems(t,n,r){const s=cy(0,t-Il(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(t,n,r)}finally{this.depthContext.depth-=s}}wrapper(t,n,r,s){const i=n?this.preFilter(t):t;let a=!1;const u=[],c=[];for(let x=0;x!==i.length;++x){const p=i[x];a=a||p.hasToBeCloned,U(u,p.value),U(c,p.context)}a&&Cu.makeItCloneable(u,i);const f={shrunkOnce:n,lengthContext:t.length===i.length&&r!==void 0?r:void 0,itemsContexts:c,startIndex:s};return new P(u,f)}generate(t,n){const r=this.applyBias(t,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,t,r.biasFactorItems):this.safeGenerateNItems(s,t,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(t,n){if(n===void 0)return{size:this.lengthArb.generate(t,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(t,void 0).value,biasFactorItems:n};if(t.nextInt(1,n)!==1)return{size:this.lengthArb.generate(t,void 0).value};if(t.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(t,void 0).value,biasFactorItems:n};const r=Il(this.minLength,this.maxGeneratedLength);return{size:mt({min:this.minLength,max:r}).generate(t,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(t){if(!b9(t)||this.minLength>t.length||t.length>this.maxLength)return!1;for(let r=0;r!==t.length;++r)if(!(r in t)||!this.arb.canShrinkWithoutContext(t[r]))return!1;return this.preFilter(ht(t,r=>new P(r,void 0))).length===t.length}shrinkItemByItem(t,n,r){const s=[];for(let i=n.startIndex;i<r;++i)U(s,Wn(()=>this.arb.shrink(t[i],n.itemsContexts[i]).map(a=>{const u=ht(te(t,0,i),(f,x)=>new P(Ns(f),n.itemsContexts[x])),c=ht(te(t,i+1),(f,x)=>new P(Ns(f),n.itemsContexts[x+i+1]));return[[...u,a,...c],void 0,i]})));return q.nil().join(...s)}shrinkImpl(t,n){if(t.length===0)return q.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(t.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&t.length>this.minLength+1?1:0).map(s=>{const i=t.length-s.value;return[ht(te(t,i),(a,u)=>new P(Ns(a),r.itemsContexts[u+i])),s.context,0]}).join(Wn(()=>t.length>this.minLength?this.shrinkItemByItem(t,r,1):this.shrinkItemByItem(t,r,t.length))).join(t.length>this.minLength?Wn(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:te(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(te(t,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new P(Ns(t[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):q.nil())}shrink(t,n){return this.shrinkImpl(t,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const y9=Math.floor,S9=Math.min,Mr=2147483647,qs=["xsmall","small","medium","large","xlarge"],_9=["-4","-3","-2","-1","=","+1","+2","+3","+4"],Tl="small";function w9(e,t){switch(t){case"xsmall":return y9(1.1*e)+1;case"small":return 2*e+10;case"medium":return 11*e+100;case"large":return 101*e+1e3;case"xlarge":return 1001*e+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${t}`)}}function io(e,t){const n=yn(_9,e);if(n===-1)return e;const r=yn(qs,t);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${t}`);const s=r+n-4;return s<0?qs[0]:s>=qs.length?qs[qs.length-1]:qs[s]}function oo(e,t,n,r){const{baseSize:s=Tl,defaultSizeToMaxWhenMaxSpecified:i}=He()||{},a=e!==void 0?e:r&&i?"max":s;if(a==="max")return n;const u=io(a,s);return S9(w9(t,u),n)}function A9(e,t){if(typeof e=="number")return 1/e;const{baseSize:n=Tl,defaultSizeToMaxWhenMaxSpecified:r}=He()||{},s=e!==void 0?e:t&&r?"max":n;if(s==="max")return 0;switch(io(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function Ol(e){const{baseSize:t=Tl}=He()||{};return e===void 0?t:io(e,t)}function St(e,t={}){const n=t.size,r=t.minLength||0,s=t.maxLength,i=t.depthIdentifier,a=s!==void 0?s:Mr,c=oo(n,r,a,s!==void 0),f=t.experimentalCustomSlices||[];return new Cu(e,r,c,a,i,void 0,f)}function vu(e){return e/$(2)}function fy(e,t,n){const r=e-t;function*s(){let a=n?void 0:t;const u=n?r:vu(r);for(let c=u;c>0;c=vu(c)){const f=e-c;yield new P(f,a),a=f}}function*i(){let a=n?void 0:t;const u=n?r:vu(r);for(let c=u;c<0;c=vu(c)){const f=e-c;yield new P(f,a),a=f}}return r>0?qn(s()):qn(i())}class $l extends Ft{constructor(t,n){super(),this.min=t,this.max=n}generate(t,n){const r=this.computeGenerateRange(t,n);return new P(t.nextBigInt(r.min,r.max),void 0)}computeGenerateRange(t,n){if(n===void 0||t.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=Qb(this.min,this.max,a9);if(r.length===1)return r[0];const s=t.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}canShrinkWithoutContext(t){return typeof t=="bigint"&&this.min<=t&&t<=this.max}shrink(t,n){if(!$l.isValidContext(t,n)){const r=this.defaultTarget();return fy(t,r,!0)}return this.isLastChanceTry(t,n)?q.of(new P(n,void 0)):fy(t,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?$(0):this.min<0?this.max:this.min}isLastChanceTry(t,n){return t>0?t===n+$(1)&&t>this.min:t<0?t===n-$(1)&&t<this.max:!1}static isValidContext(t,n){if(n===void 0)return!1;if(typeof n!="bigint")throw new Error("Invalid context type passed to BigIntArbitrary (#1)");const r=t>0&&n<0||t<0&&n>0;if(n!==$(0)&&r)throw new Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}}function E9(e){const n=$(-1)<<$(255),r=($(1)<<$(255))-$(1),s=e.min,i=e.max;return{min:s!==void 0?s:n-(i!==void 0&&i<$(0)?i*i:$(0)),max:i!==void 0?i:r+(s!==void 0&&s>$(0)?s*s:$(0))}}function F9(e){return e[0]===void 0?{}:e[1]===void 0?e[0]:{min:e[0],max:e[1]}}function Gn(...e){const t=E9(F9(e));if(t.min>t.max)throw new Error("fc.bigInt expects max to be greater than or equal to min");return new $l(t.min,t.max)}const C9=Object.getPrototypeOf;class ao extends Ft{constructor(t){super(),this.arb=t}generate(t,n){return this.arb.generate(t,void 0)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return this.arb.shrink(t,n)}}function ly(e){return C9(e)===ao.prototype&&e.generate===ao.prototype.generate&&e.canShrinkWithoutContext===ao.prototype.canShrinkWithoutContext&&e.shrink===ao.prototype.shrink?e:new ao(e)}function v9(e){return e===1}function k9(e){if(typeof e!="boolean")throw new Error("Unsupported input type");return e===!0?1:0}function uo(){return ly(mt({min:0,max:1}).map(v9,k9))}const co=Object.is;class I9{constructor(t){this.values=t,this.fastValues=new Su(this.values);let n=!1,r=!1;if(Gg(this.fastValues,0))for(let s=0;s!==this.values.length;++s){const i=this.values[s];n=n||co(i,-0),r=r||co(i,0)}this.hasMinusZero=n,this.hasPlusZero=r}has(t){return t===0?co(t,0)?this.hasPlusZero:this.hasMinusZero:Gg(this.fastValues,t)}}class hy extends Ft{constructor(t){super(),this.values=t}generate(t,n){const r=this.values.length===1?0:t.nextInt(0,this.values.length-1),s=this.values[r];return Or(s)?new P(s,r,()=>s[Jt]()):new P(s,r)}canShrinkWithoutContext(t){return this.values.length===1?co(this.values[0],t):(this.fastValues===void 0&&(this.fastValues=new I9(this.values)),this.fastValues.has(t))}shrink(t,n){return n===0||co(t,this.values[0])?q.nil():q.of(new P(this.values[0],0))}}function rn(...e){if(e.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new hy(e)}function T9(e){return!e||!e.withBigInt?rn(!1,null,void 0,0,"",NaN):rn(!1,null,void 0,0,"",NaN,$(0))}function Zt(e){return new hy([e])}class Bl{constructor(){this.receivedLogs=[]}log(t){this.receivedLogs.push(t)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[Jt](){return new Bl}}function O9(){return Zt(new Bl)}const $9=Number.NaN,B9=Number.isNaN;function xy(e){return new yu(e)}function py(e){if(!(e instanceof yu)||e.constructor!==yu)throw new L("Not a valid value for date unmapper");return wu(e)}function M9(e){return t=>t===e?new yu($9):xy(t)}function R9(e){return t=>{const n=py(t);return B9(n)?e:n}}const my=Number.isNaN;function dy(e={}){const t=e.min!==void 0?wu(e.min):-864e13,n=e.max!==void 0?wu(e.max):864e13,r=e.noInvalidDate;if(my(t))throw new Error("fc.date min must be valid instance of Date");if(my(n))throw new Error("fc.date max must be valid instance of Date");if(t>n)throw new Error("fc.date max must be greater or equal to min");if(r)return mt({min:t,max:n}).map(xy,py);const s=n+1;return mt({min:t,max:n+1}).map(M9(s),R9(s))}const N9=Symbol.iterator,D9=Array.isArray,P9=Object.is;class Ml extends Ft{constructor(t,n){super(),this.arb=t,this.numValues=n}generate(t,n){const r=[];if(this.numValues<=0)return this.wrapper(r);for(let s=0;s!==this.numValues-1;++s)U(r,this.arb.generate(t.clone(),n));return U(r,this.arb.generate(t,n)),this.wrapper(r)}canShrinkWithoutContext(t){if(!D9(t)||t.length!==this.numValues)return!1;if(t.length===0)return!0;for(let n=1;n<t.length;++n)if(!P9(t[0],t[n]))return!1;return this.arb.canShrinkWithoutContext(t[0])}shrink(t,n){return t.length===0?q.nil():new q(this.shrinkImpl(t,n!==void 0?n:[])).map(r=>this.wrapper(r))}*shrinkImpl(t,n){const r=ht(t,(i,a)=>this.arb.shrink(i,n[a])[N9]());let s=ht(r,i=>i.next());for(;!s[0].done;)yield ht(s,i=>i.value),s=ht(r,i=>i.next())}static makeItCloneable(t,n){return t[Jt]=()=>{const r=[];for(let s=0;s!==n.length;++s)U(r,n[s].value);return this.makeItCloneable(r,n),r},t}wrapper(t){let n=!1;const r=[],s=[];for(let i=0;i!==t.length;++i){const a=t[i];n=n||a.hasToBeCloned,U(r,a.value),U(s,a.context)}return n&&Ml.makeItCloneable(r,t),new P(r,s)}}function j9(e,t){return new Ml(e,t)}class gy{constructor(t){this.isEqual=t,this.data=[]}tryAdd(t){for(let n=0;n!==this.data.length;++n)if(this.isEqual(this.data[n],t))return!1;return U(this.data,t),!0}size(){return this.data.length}getData(){return this.data}}const L9=Number.isNaN;class U9{constructor(t){this.selector=t,this.selectedItemsExceptNaN=new Su,this.data=[]}tryAdd(t){const n=this.selector(t);if(L9(n))return U(this.data,t),!0;const r=this.selectedItemsExceptNaN.size;return al(this.selectedItemsExceptNaN,n),r!==this.selectedItemsExceptNaN.size?(U(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}const q9=Object.is;class V9{constructor(t){this.selector=t,this.selectedItemsExceptMinusZero=new Su,this.data=[],this.hasMinusZero=!1}tryAdd(t){const n=this.selector(t);if(q9(n,-0))return this.hasMinusZero?!1:(U(this.data,t),this.hasMinusZero=!0,!0);const r=this.selectedItemsExceptMinusZero.size;return al(this.selectedItemsExceptMinusZero,n),r!==this.selectedItemsExceptMinusZero.size?(U(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}class W9{constructor(t){this.selector=t,this.selectedItems=new Su,this.data=[]}tryAdd(t){const n=this.selector(t),r=this.selectedItems.size;return al(this.selectedItems,n),r!==this.selectedItems.size?(U(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}function z9(e){if(typeof e.comparator=="function"){if(e.selector===void 0){const u=e.comparator,c=(f,x)=>u(f.value_,x.value_);return()=>new gy(c)}const r=e.comparator,s=e.selector,i=u=>s(u.value_),a=(u,c)=>r(i(u),i(c));return()=>new gy(a)}const t=e.selector||(r=>r),n=r=>t(r.value_);switch(e.comparator){case"IsStrictlyEqual":return()=>new U9(n);case"SameValueZero":return()=>new W9(n);case"SameValue":case void 0:return()=>new V9(n)}}function fo(e,t={}){const n=t.minLength!==void 0?t.minLength:0,r=t.maxLength!==void 0?t.maxLength:Mr,s=oo(t.size,n,r,t.maxLength!==void 0),i=t.depthIdentifier,a=z9(t),u=new Cu(e,n,s,r,i,a,[]);return n===0?u:u.filter(c=>c.length>=n)}const G9=Object.create,K9=Object.defineProperty,H9=Object.getOwnPropertyDescriptor,Y9=Object.getPrototypeOf,J9=Object.getOwnPropertySymbols,Z9=Object.getOwnPropertyNames,X9=Object.entries;function Q9(e){const t=e[1]?G9(null):{};for(const n of e[0])K9(t,n[0],{enumerable:!0,configurable:!0,writable:!0,value:n[1]});return t}function t8(e){return function(n){const r=H9(e,n);return r!==void 0&&!!r.configurable&&!!r.enumerable&&!!r.writable&&r.get===void 0&&r.set===void 0}}function e8(e){if(typeof e!="object"||e===null)throw new L("Incompatible instance received: should be a non-null object");const t=Y9(e)===null,n="constructor"in e&&e.constructor===Object;if(!t&&!n)throw new L("Incompatible instance received: should be of exact type Object");if(J9(e).length>0)throw new L("Incompatible instance received: should contain symbols");if(!Ug(Z9(e),t8(e)))throw new L("Incompatible instance received: should contain only c/e/w properties without get/set");return[X9(e),t]}function n8(e){return e[0]}function Rl(e,t,n={}){const r=!!n.noNullPrototype;return nt(fo(nt(e,t),{minLength:n.minKeys,maxLength:n.maxKeys,size:n.size,selector:n8,depthIdentifier:n.depthIdentifier}),r?Zt(!1):uo()).map(Q9,e8)}const r8=Number.POSITIVE_INFINITY,s8=Number.MAX_SAFE_INTEGER,i8=Number.isInteger,o8=Math.floor,a8=Math.pow,u8=Math.min;class lo extends Ft{static from(t,n,r){if(t.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let a=0;a!==t.length;++a){if(t[a].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const c=t[a].weight;if(s+=c,!i8(c))throw new Error(`${r} expects weights to be integer values`);if(c<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:A9(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:r8,withCrossShrink:!!n.withCrossShrink};return new lo(t,i,kl(n.depthIdentifier))}constructor(t,n,r){super(),this.warbs=t,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==t.length;++i)s+=t[i].weight,U(this.cumulatedWeights,s);this.totalWeight=s}generate(t,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(t,0,n);const r=t.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(t,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(t){return this.canShrinkWithoutContextIndex(t)!==-1}shrink(t,n){if(n!==void 0){const s=n,i=s.selectedIndex,a=s.originalBias,c=this.warbs[i].arbitrary.shrink(t,s.originalContext).map(f=>this.mapIntoValue(i,f,null,a));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,a));const f=s.cachedGeneratedForFirst;return q.of(f).join(c)}return c}const r=this.canShrinkWithoutContextIndex(t);return r===-1?q.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(t,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(t){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(t)||this.warbs[0].fallbackValue===void 0)return q.nil()}finally{--this.context.depth}const n=new P(this.warbs[0].fallbackValue.default,void 0);return q.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(t){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(t)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(t))return n}return-1}finally{--this.context.depth}}mapIntoValue(t,n,r,s){const i={selectedIndex:t,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new P(n.value,i)}safeGenerateForIndex(t,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(t,r),i=this.mustFallbackToFirstInShrink(n)?t.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(t){return t!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const t=this.constraints.depthBias;if(t<=0||this.warbs[0].weight===0)return 0;const n=o8(a8(1+t,this.context.depth))-1;return-u8(this.totalWeight*n,s8)||0}}function c8(e){return e!=null&&typeof e=="object"&&!("generate"in e)&&!("arbitrary"in e)&&!("weight"in e)}function by(e){return yg(e)?{arbitrary:e,weight:1}:e}function Xt(...e){const t=e[0];if(c8(t)){const r=ht(te(e,1),by);return lo.from(r,t,"fc.oneof")}const n=ht(e,by);return lo.from(n,{},"fc.oneof")}const f8=Number.isInteger;function Kn(e){const t=typeof e=="number"?e:e&&e.max!==void 0?e.max:2147483647;if(t<0)throw new Error("fc.nat value should be greater than or equal to 0");if(!f8(t))throw new Error("fc.nat maximum value should be an integer");return new zn(0,t)}const l8=Object.is;function h8(e){let t=0;const n=[];for(const r of e){const s=t;t=s+r.num;const i=t-1;n.push({from:s,to:i,entry:r})}return n}function x8(e,t){let n=0,r=e.length;for(;r-n>1;){const s=~~((n+r)/2);t<e[s].from?r=s:n=s}return e[n]}function p8(e){const t=h8(e);return function(r){const s=x8(t,r);return s.entry.build(r-s.from)}}function m8(e){const t={mapping:new to,negativeZeroIndex:void 0};let n=0;for(let r=0;r!==e.length;++r){const s=e[r];for(let i=0;i!==s.num;++i){const a=s.build(i);a===0&&1/a===bn.NEGATIVE_INFINITY?t.negativeZeroIndex=n:Br(t.mapping,a,n),++n}}return t}function d8(e){let t=null;return function(r){t===null&&(t=m8(e));const s=l8(r,-0)?t.negativeZeroIndex:Vn(t.mapping,r);if(s===void 0)throw new L("Unknown value encountered cannot be built using this mapToConstant");return s}}function g8(e){if(e.length===0)throw new L("fc.mapToConstant expects at least one option");let t=0;for(let n=0;n!==e.length;++n){if(e[n].num<0)throw new L("fc.mapToConstant expects all options to have a number of entries greater or equal to zero");t+=e[n].num}if(t===0)throw new L("fc.mapToConstant expects at least one choice among options");return t}function ho(...e){const t=g8(e);return Kn({max:t-1}).map(p8(e),d8(e))}function yy(e,t,n,r){if(t.length===0)return n>0?void 0:[];if(r<=0)return;const s=[{endIndexChunks:0,nextStartIndex:1,chunks:[]}];for(;s.length>0;){const i=Pg(s);for(let a=i.nextStartIndex;a<=t.length;++a){const u=Ct(t,i.endIndexChunks,a);if(e.canShrinkWithoutContext(u)){const c=[...i.chunks,u];if(a===t.length){if(c.length<n)break;return c}U(s,{endIndexChunks:i.endIndexChunks,nextStartIndex:a+1,chunks:i.chunks}),c.length<r&&U(s,{endIndexChunks:a,nextStartIndex:a+1,chunks:c});break}}}}function b8(e){return yt(e,"")}function Sy(e){return e.minLength!==void 0?e.minLength:0}function _y(e){return e.maxLength!==void 0?e.maxLength:Mr}function y8(e,t){return Sy(t)<=e.length&&e.length<=_y(t)}function S8(e,t){return function(r){if(typeof r!="string")throw new L("Unsupported value");const s=yy(e,r,Sy(t),_y(t));if(s===void 0)throw new L("Unable to unmap received string");return s}}const wy=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function _8(e,t,n){let r;try{r=n(e)}catch{return}for(const s of r)if(!t.canShrinkWithoutContext(s))return;return r}function w8(e,t){const n=[];for(const r of wy){const s=_8(r,e,t);s!==void 0&&U(n,s)}return n}const Ay=new WeakMap;function A8(e){const t=[];for(const n of wy){const r=yy(e,n,0,Mr);r!==void 0&&U(t,r)}return t}function E8(e,t){let n=fO(Ay,e);n===void 0&&(n=A8(e),cO(Ay,e,n));const r=[];for(const s of n)y8(s,t)&&U(r,s);return r}const F8=[[0,127]],C8=[[0,55295],[57344,1114111]],v8=[[32,126],[160,172],[174,767],[880,887],[890,895],[900,906],[908],[910,929],[931,1154],[1162,1327],[1329,1366],[1369,1418],[1421,1423],[1470],[1472],[1475],[1478],[1488,1514],[1519,1524],[1542,1551],[1563],[1565,1610],[1632,1647],[1649,1749],[1758],[1765,1766],[1769],[1774,1805],[1808],[1810,1839],[1869,1957],[1969],[1984,2026],[2036,2042],[2046,2069],[2074],[2084],[2088],[2096,2110],[2112,2136],[2142],[2144,2154],[2160,2190],[2208,2249],[2308,2361],[2365],[2384],[2392,2401],[2404,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482],[2486,2489],[2493],[2510],[2524,2525],[2527,2529],[2534,2557],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2654],[2662,2671],[2674,2676],[2678],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749],[2768],[2784,2785],[2790,2801],[2809],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877],[2908,2909],[2911,2913],[2918,2935],[2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024],[3046,3066],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133],[3160,3162],[3165],[3168,3169],[3174,3183],[3191,3200],[3204,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261],[3293,3294],[3296,3297],[3302,3311],[3313,3314],[3332,3340],[3342,3344],[3346,3386],[3389],[3407],[3412,3414],[3416,3425],[3430,3455],[3461,3478],[3482,3505],[3507,3515],[3517],[3520,3526],[3558,3567],[3572],[3585,3632],[3634],[3647,3654],[3663,3675],[3713,3714],[3716],[3718,3722],[3724,3747],[3749],[3751,3760],[3762],[3773],[3776,3780],[3782],[3792,3801],[3804,3807],[3840,3863],[3866,3892],[3894],[3896],[3898,3901],[3904,3911],[3913,3948],[3973],[3976,3980],[4030,4037],[4039,4044],[4046,4058],[4096,4138],[4159,4181],[4186,4189],[4193],[4197,4198],[4206,4208],[4213,4225],[4238],[4240,4249],[4254,4293],[4295],[4301],[4304,4351],[4608,4680],[4682,4685],[4688,4694],[4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4960,4988],[4992,5017],[5024,5109],[5112,5117],[5120,5788],[5792,5880],[5888,5905],[5919,5937],[5941,5942],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6100,6108],[6112,6121],[6128,6137],[6144,6154],[6160,6169],[6176,6264],[6272,6276],[6279,6312],[6314],[6320,6389],[6400,6430],[6464],[6468,6509],[6512,6516],[6528,6571],[6576,6601],[6608,6618],[6622,6678],[6686,6740],[6784,6793],[6800,6809],[6816,6829],[6917,6963],[6981,6988],[6992,7018],[7028,7038],[7043,7072],[7086,7141],[7164,7203],[7227,7241],[7245,7304],[7312,7354],[7357,7367],[7379],[7401,7404],[7406,7411],[7413,7414],[7418],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[8192,8202],[8208,8233],[8239,8287],[8304,8305],[8308,8334],[8336,8348],[8352,8384],[8448,8587],[8592,9254],[9280,9290],[9312,11123],[11126,11157],[11159,11502],[11506,11507],[11513,11557],[11559],[11565],[11568,11623],[11631,11632],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11776,11869],[11904,11929],[11931,12019],[12032,12245],[12272,12329],[12336,12351],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12771],[12783,12830],[12832,13312],[19903,19968],[40959,42124],[42128,42182],[42192,42539],[42560,42606],[42611],[42622,42653],[42656,42735],[42738,42743],[42752,42954],[42960,42961],[42963],[42965,42969],[42994,43009],[43011,43013],[43015,43018],[43020,43042],[43048,43051],[43056,43065],[43072,43127],[43138,43187],[43214,43225],[43250,43262],[43264,43301],[43310,43334],[43359],[43396,43442],[43457,43469],[43471,43481],[43486,43492],[43494,43518],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43612,43642],[43646,43695],[43697],[43701,43702],[43705,43709],[43712],[43714],[43739,43754],[43760,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43883],[43888,44002],[44011],[44016,44025],[44032],[55203],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285],[64287,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64450],[64467,64911],[64914,64967],[64975],[65008,65023],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65136,65140],[65142,65276],[65281,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65504,65510],[65512,65518],[65532,65533],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65792,65794],[65799,65843],[65847,65934],[65936,65948],[65952],[66e3,66044],[66176,66204],[66208,66256],[66273,66299],[66304,66339],[66349,66378],[66384,66421],[66432,66461],[66463,66499],[66504,66517],[66560,66717],[66720,66729],[66736,66771],[66776,66811],[66816,66855],[66864,66915],[66927,66938],[66940,66954],[66956,66962],[66964,66965],[66967,66977],[66979,66993],[66995,67001],[67003,67004],[67072,67382],[67392,67413],[67424,67431],[67456,67461],[67463,67504],[67506,67514],[67584,67589],[67592],[67594,67637],[67639,67640],[67644],[67647,67669],[67671,67742],[67751,67759],[67808,67826],[67828,67829],[67835,67867],[67871,67897],[67903],[67968,68023],[68028,68047],[68050,68096],[68112,68115],[68117,68119],[68121,68149],[68160,68168],[68176,68184],[68192,68255],[68288,68324],[68331,68342],[68352,68405],[68409,68437],[68440,68466],[68472,68497],[68505,68508],[68521,68527],[68608,68680],[68736,68786],[68800,68850],[68858,68899],[68912,68921],[69216,69246],[69248,69289],[69293],[69296,69297],[69376,69415],[69424,69445],[69457,69465],[69488,69505],[69510,69513],[69552,69579],[69600,69622],[69635,69687],[69703,69709],[69714,69743],[69745,69746],[69749],[69763,69807],[69819,69820],[69822,69825],[69840,69864],[69872,69881],[69891,69926],[69942,69956],[69959],[69968,70002],[70004,70006],[70019,70066],[70081],[70084,70088],[70093],[70096,70111],[70113,70132],[70144,70161],[70163,70187],[70200,70205],[70207,70208],[70272,70278],[70280],[70282,70285],[70287,70301],[70303,70313],[70320,70366],[70384,70393],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70461],[70480],[70493,70497],[70656,70708],[70727,70747],[70749],[70751,70753],[70784,70831],[70852,70855],[70864,70873],[71040,71086],[71105,71131],[71168,71215],[71233,71236],[71248,71257],[71264,71276],[71296,71338],[71352,71353],[71360,71369],[71424,71450],[71472,71494],[71680,71723],[71739],[71840,71922],[71935,71942],[71945],[71948,71955],[71957,71958],[71960,71983],[72004,72006],[72016,72025],[72096,72103],[72106,72144],[72161,72163],[72192],[72203,72242],[72255,72262],[72272],[72284,72323],[72346,72354],[72368,72440],[72448,72457],[72704,72712],[72714,72750],[72768,72773],[72784,72812],[72816,72847],[72960,72966],[72968,72969],[72971,73008],[73040,73049],[73056,73061],[73063,73064],[73066,73097],[73112],[73120,73129],[73440,73458],[73463,73464],[73476,73488],[73490,73523],[73539,73561],[73648],[73664,73713],[73727,74649],[74752,74862],[74864,74868],[74880,75075],[77712,77810],[77824,78895],[78913,78918],[82944,83526],[92160,92728],[92736,92766],[92768,92777],[92782,92862],[92864,92873],[92880,92909],[92917],[92928,92975],[92983,92997],[93008,93017],[93019,93025],[93027,93047],[93053,93071],[93760,93850],[93952,94026],[94032],[94099,94111],[94176,94179],[94208],[100343],[100352,101589],[101632],[101640],[110576,110579],[110581,110587],[110589,110590],[110592,110882],[110898],[110928,110930],[110933],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[113820],[113823],[118608,118723],[118784,119029],[119040,119078],[119081,119140],[119146,119148],[119171,119172],[119180,119209],[119214,119274],[119296,119361],[119365],[119488,119507],[119520,119539],[119552,119638],[119648,119672],[119808,119892],[119894,119964],[119966,119967],[119970],[119973,119974],[119977,119980],[119982,119993],[119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],[120134],[120138,120144],[120146,120485],[120488,120779],[120782,121343],[121399,121402],[121453,121460],[121462,121475],[121477,121483],[122624,122654],[122661,122666],[122928,122989],[123136,123180],[123191,123197],[123200,123209],[123214,123215],[123536,123565],[123584,123627],[123632,123641],[123647],[124112,124139],[124144,124153],[124896,124902],[124904,124907],[124909,124910],[124912,124926],[124928,125124],[125127,125135],[125184,125251],[125259],[125264,125273],[125278,125279],[126065,126132],[126209,126269],[126464,126467],[126469,126495],[126497,126498],[126500],[126503],[126505,126514],[126516,126519],[126521],[126523],[126530],[126535],[126537],[126539],[126541,126543],[126545,126546],[126548],[126551],[126553],[126555],[126557],[126559],[126561,126562],[126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[126704,126705],[126976,127019],[127024,127123],[127136,127150],[127153,127167],[127169,127183],[127185,127221],[127232,127405],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127994],[128e3,128727],[128732,128748],[128752,128764],[128768,128886],[128891,128985],[128992,129003],[129008],[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],[129200,129201],[129280,129619],[129632,129645],[129648,129660],[129664,129672],[129680,129725],[129727,129733],[129742,129755],[129760,129768],[129776,129784],[129792,129938],[129940,129994],[130032,130041],[131072],[173791],[173824],[177977],[177984],[178205],[178208],[183969],[183984],[191456],[191472],[192093],[194560,195101],[196608],[201546],[201552],[205743]],k8=[[192,197],[199,207],[209,214],[217,221],[224,229],[231,239],[241,246],[249,253],[255,271],[274,293],[296,304],[308,311],[313,318],[323,328],[332,337],[340,357],[360,382],[416,417],[431,432],[461,476],[478,483],[486,496],[500,501],[504,539],[542,543],[550,563],[901,902],[904,906],[908],[910,912],[938,944],[970,974],[979,980],[1024,1025],[1027],[1031],[1036,1038],[1049],[1081],[1104,1105],[1107],[1111],[1116,1118],[1142,1143],[1217,1218],[1232,1235],[1238,1239],[1242,1247],[1250,1255],[1258,1269],[1272,1273],[1570,1574],[1728],[1730],[1747],[2345],[2353],[2356],[2392,2399],[2524,2525],[2527],[2611],[2614],[2649,2651],[2654],[2908,2909],[2964],[3907],[3917],[3922],[3927],[3932],[3945],[4134],[6918],[6920],[6922],[6924],[6926],[6930],[7680,7833],[7835],[7840,7929],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8048],[8050],[8052],[8054],[8056],[8058],[8060],[8064,8116],[8118,8122],[8124],[8129,8132],[8134,8136],[8138],[8140,8146],[8150,8154],[8157,8162],[8164,8170],[8172,8173],[8178,8180],[8182,8184],[8186],[8188],[8602,8603],[8622],[8653,8655],[8708],[8713],[8716],[8740],[8742],[8769],[8772],[8775],[8777],[8800],[8802],[8813,8817],[8820,8821],[8824,8825],[8832,8833],[8836,8837],[8840,8841],[8876,8879],[8928,8931],[8938,8941],[10972],[12364],[12366],[12368],[12370],[12372],[12374],[12376],[12378],[12380],[12382],[12384],[12386],[12389],[12391],[12393],[12400,12401],[12403,12404],[12406,12407],[12409,12410],[12412,12413],[12436],[12446],[12460],[12462],[12464],[12466],[12468],[12470],[12472],[12474],[12476],[12478],[12480],[12482],[12485],[12487],[12489],[12496,12497],[12499,12500],[12502,12503],[12505,12506],[12508,12509],[12532],[12535,12538],[12542],[44032],[55203],[64285],[64287],[64298,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64334],[69786],[69788],[69803],[119134,119140],[119227,119232]],Ey=String.fromCodePoint,I8=Math.min,T8=Math.max;function Fy(e){if(e.length===1){const n=Ey(e[0]);return{num:1,build:()=>n}}const t=e[0];return{num:e[1]-e[0]+1,build:n=>Ey(t+n)}}function Cy(e,t){const n=[];let r=0,s=0;for(;r<e.length&&s<t.length;){const i=e[r],a=i[0],u=i.length===1?i[0]:i[1],c=t[s],f=c[0],x=c.length===1?c[0]:c[1];if(u<f)r+=1;else if(x<a)s+=1;else{let p=T8(a,f);const g=I8(u,x);if(n.length>=1){const b=n[n.length-1];(b.length===1?b[0]:b[1])+1===p&&(p=b[0],Pg(n))}U(n,p===g?[p]:[p,g]),u<=g&&(r+=1),x<=g&&(s+=1)}}return n}const vy=Object.create(null);function O8(e){switch(e){case"full":return C8;case"ascii":return F8}}function $8(e,t){const n=`${e}:${t}`,r=vy[n];if(r!==void 0)return r;const s=O8(t),i=e==="binary"?s:Cy(s,v8),a=[];for(const c of i)U(a,Fy(c));if(e==="grapheme"){const c=Cy(s,k8);for(const f of c){const x=Fy(f);U(a,{num:x.num,build:p=>CO(x.build(p),"NFD")})}}const u=ho(...a);return vy[n]=u,u}function xo(e,t){return $8(e,t)}function B8(e){if(typeof e.unit=="object")return e.unit;switch(e.unit){case"grapheme":return xo("grapheme","full");case"grapheme-composite":return xo("composite","full");case"grapheme-ascii":case void 0:return xo("grapheme","ascii");case"binary":return xo("binary","full");case"binary-ascii":return xo("binary","ascii")}}function Rt(e={}){const t=B8(e),n=S8(t,e),r=E8(t,e),s={...e,experimentalCustomSlices:r};return St(t,s).map(b8,n)}const ky=Map,Nl=String.fromCharCode,Dl={num:26,build:e=>Nl(e+97)},M8={num:26,build:e=>Nl(e+65)},Iy={num:10,build:e=>Nl(e+48)};function R8(e){const t=V5(e);return e!==t?t:`%${eo(Ds(e,0),16)}`}function N8(e){if(typeof e!="string")throw new Error("Unsupported");return decodeURIComponent(e)}const D8=()=>Rt({unit:"binary",minLength:1,maxLength:1}).map(R8,N8);let Pl;function P8(){return Pl===void 0&&(Pl=ho(Dl)),Pl}let ku;function jl(e){ku===void 0&&(ku=new ky);let t=Vn(ku,e);return t===void 0&&(t=ho(Dl,Iy,{num:e.length,build:n=>e[n]}),Br(ku,e,t)),t}function j8(e){return ho(Dl,M8,Iy,{num:e.length,build:t=>e[t]})}let Iu;function Ll(e){Iu===void 0&&(Iu=new ky);let t=Vn(Iu,e);return t===void 0&&(t=Xt({weight:10,arbitrary:j8(e)},{weight:1,arbitrary:D8()}),Br(Iu,e,t)),t}function Rr(e,t={}){const n=t.freq==null?6:t.freq,r=Au(t,"nil")?t.nil:null,i=[{arbitrary:Zt(r),weight:1,fallbackValue:{default:r}},{arbitrary:e,weight:n-1}],a={withCrossShrink:!0,depthSize:t.depthSize,maxDepth:t.maxDepth,depthIdentifier:t.depthIdentifier};return lo.from(i,a,"fc.option")}function L8(e){return e.length>63?!1:e.length<4||e[0]!=="x"||e[1]!=="n"||e[2]!=="-"||e[3]!=="-"}const Ty=Symbol("adapted-value");function U8(e,t){const n=t(e.value_);return n.adapted?new P(n.value,Ty):e}class q8 extends Ft{constructor(t,n){super(),this.sourceArb=t,this.adapter=n,this.adaptValue=r=>U8(r,n)}generate(t,n){const r=this.sourceArb.generate(t,n);return this.adaptValue(r)}canShrinkWithoutContext(t){return this.sourceArb.canShrinkWithoutContext(t)&&!this.adapter(t).adapted}shrink(t,n){return n===Ty?this.sourceArb.canShrinkWithoutContext(t)?this.sourceArb.shrink(t,void 0).map(this.adaptValue):q.nil():this.sourceArb.shrink(t,n).map(this.adaptValue)}}function Oy(e,t){return new q8(e,t)}function V8([e,t]){return t===null?e:`${e}${t[0]}${t[1]}`}function W8(e){if(typeof e!="string"||e.length===0)throw new Error("Unsupported");return e.length===1?[e[0],null]:[e[0],[Ct(e,1,e.length-1),e[e.length-1]]]}function z8(e){const t=jl(""),n=jl("-");return nt(t,Rr(nt(Rt({unit:n,size:e,maxLength:61}),t))).map(V8,W8).filter(L8)}function G8(e){return`${yt(e[0],".")}.${e[1]}`}function K8(e){if(typeof e!="string")throw new Error("Unsupported type");const t=e.lastIndexOf(".");return[ue(Ct(e,0,t),"."),Ct(e,t+1)]}function H8(e){const[t,n]=e;let r=n.length;for(let s=0;s!==t.length;++s)if(r+=1+t[s].length,r>255)return{adapted:!0,value:[te(t,0,s),n]};return{adapted:!1,value:e}}function Ul(e={}){const t=Ol(e.size),n=io("-1",t),r=P8(),s=Rt({unit:r,minLength:2,maxLength:63,size:n});return Oy(nt(St(z8(t),{size:n,minLength:1,maxLength:127}),s),H8).map(G8,K8)}function Y8(e){let t=e[0].length;for(let n=1;n!==e.length;++n)if(t+=1+e[n].length,t>64)return{adapted:!0,value:te(e,0,n)};return{adapted:!1,value:e}}function J8(e){return yt(e,".")}function Z8(e){if(typeof e!="string")throw new Error("Unsupported");return ue(e,".")}function X8(e){return`${e[0]}@${e[1]}`}function Q8(e){if(typeof e!="string")throw new Error("Unsupported");return ue(e,"@",2)}function t7(e={}){const t=jl("!#$%&'*+-/=?^_`{|}~"),n=Oy(St(Rt({unit:t,minLength:1,maxLength:64,size:e.size}),{minLength:1,maxLength:32,size:e.size}),Y8).map(J8,Z8);return nt(n,Ul({size:e.size})).map(X8,Q8)}const e7=bn.NEGATIVE_INFINITY,ql=bn.POSITIVE_INFINITY,$y=bn.EPSILON,Vl=$(2146435072)*$(4294967296),n7=-Vl-$(1),By=4503599627370496,r7=$(0xfffffffffffff),My=$("9007199254740992"),Wl=new Float64Array(1),Ry=new Uint32Array(Wl.buffer,Wl.byteOffset);function s7(e){return Wl[0]=e,[Ry[1],Ry[0]]}function i7(e){const{0:t,1:n}=s7(e),r=t>>>31,s=t>>>20&2047,i=(t&1048575)*4294967296+n,a=s===0?-1022:s-1023;let u=s===0?0:1;return u+=i*$y,u*=r===0?1:-1,{exponent:a,significand:u}}function Ny(e,t){if(e===-1022)return $(t*By);const n=$((t-1)*By),r=$(e+1023)<<$(52);return n+r}function zl(e){if(e===ql)return Vl;if(e===e7)return n7;const t=i7(e),n=t.exponent,r=t.significand;return e>0||e===0&&1/e===ql?Ny(n,r):-Ny(n,-r)-$(1)}function Gl(e){if(e<0)return-Gl(-e-$(1));if(e===Vl)return ql;if(e<My)return bn(e)*2**-1074;const t=e-My,n=-1021+bn(t>>$(52));return(1+bn(t&r7)*$y)*2**n}const Dy=Number.isInteger,Py=Object.is,Kl=Number.NEGATIVE_INFINITY,Hl=Number.POSITIVE_INFINITY;function jy(e,t,n,r){const{noDefaultInfinity:s=!1,minExcluded:i=!1,maxExcluded:a=!1,min:u=s?-t:Kl,max:c=s?t:Hl}=e,f=i?u<-n?-r:Math.max(u,-n):u===Kl?Math.max(u,-r):Math.max(u,-n),x=a?c>n?r:Math.min(c,n):c===Hl?Math.min(c,r):Math.min(c,n);return{noDefaultInfinity:!1,minExcluded:i||(u!==Kl||i)&&Dy(f),maxExcluded:a||(c!==Hl||a)&&Dy(x),min:Py(f,-0)?0:f,max:Py(x,0)?-0:x,noNaN:e.noNaN||!1}}const Ly=Number.NEGATIVE_INFINITY,Uy=Number.POSITIVE_INFINITY,o7=Number.MAX_VALUE,a7=45035996273704955e-1,po=4503599627370496;function u7(e){return jy(e,o7,a7,po)}function c7(e){return e===po?Uy:e===-po?Ly:e}function f7(e){if(typeof e!="number")throw new Error("Unsupported type");return e===Uy?po:e===Ly?-po:e}const l7=Number.isInteger,qy=Number.isNaN,h7=Number.NEGATIVE_INFINITY,x7=Number.POSITIVE_INFINITY,Vy=Number.MAX_VALUE,p7=Number.NaN;function Wy(e,t){if(qy(e))throw new Error("fc.double constraints."+t+" must be a 64-bit float");return zl(e)}function m7(e){if(typeof e!="number")throw new Error("Unsupported type");return zl(e)}function d7(e){return!l7(e)}function zy(e){const{noDefaultInfinity:t=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=t?-Vy:h7,max:a=t?Vy:x7}=e,u=Wy(i,"min"),c=r?u+$(1):u,f=Wy(a,"max"),x=s?f-$(1):f;if(x<c)throw new Error("fc.double constraints.min must be smaller or equal to constraints.max");if(n)return Gn({min:c,max:x}).map(Gl,m7);const p=x>$(0),g=p?c:c-$(1),b=p?x+$(1):x;return Gn({min:g,max:b}).map(S=>x<S||S<c?p7:Gl(S),S=>{if(typeof S!="number")throw new Error("Unsupported type");return qy(S)?x!==b?b:g:zl(S)})}function Tu(e={}){return e.noInteger?zy(u7(e)).map(c7,f7).filter(d7):zy(e)}const g7=Number.NEGATIVE_INFINITY,Yl=Number.POSITIVE_INFINITY,Jl=2**127*(1+(2**23-1)/2**23),Gy=2139095040,b7=-2139095041,Zl=new Float32Array(1),y7=new Uint32Array(Zl.buffer,Zl.byteOffset);function S7(e){return Zl[0]=e,y7[0]}function _7(e){const t=S7(e),n=t>>>31,r=t>>>23&255,s=t&8388607,i=r===0?-126:r-127;let a=r===0?0:1;return a+=s/2**23,a*=n===0?1:-1,{exponent:i,significand:a}}function Ky(e,t){return e===-126?t*8388608:(e+127)*8388608+(t-1)*8388608}function Xl(e){if(e===Yl)return Gy;if(e===g7)return b7;const t=_7(e),n=t.exponent,r=t.significand;return e>0||e===0&&1/e===Yl?Ky(n,r):-Ky(n,-r)-1}function Ql(e){if(e<0)return-Ql(-e-1);if(e===Gy)return Yl;if(e<16777216)return e*2**-149;const t=e-16777216,n=-125+(t>>23);return(1+(t&8388607)/8388608)*2**n}const Hy=Number.NEGATIVE_INFINITY,Yy=Number.POSITIVE_INFINITY,w7=Jl,A7=83886075e-1,mo=8388608;function E7(e){return jy(e,w7,A7,mo)}function F7(e){return e===mo?Yy:e===-mo?Hy:e}function C7(e){if(typeof e!="number")throw new Error("Unsupported type");return e===Yy?mo:e===Hy?-mo:e}const v7=Number.isInteger,Jy=Number.isNaN,k7=Math.fround,I7=Number.NEGATIVE_INFINITY,T7=Number.POSITIVE_INFINITY,O7=Number.NaN;function Zy(e,t){const r="fc.float constraints."+t+" must be a 32-bit float - "+"you can convert any double to a 32-bit float by using `Math.fround(myDouble)`";if(Jy(e)||k7(e)!==e)throw new Error(r);return Xl(e)}function $7(e){if(typeof e!="number")throw new Error("Unsupported type");return Xl(e)}function B7(e){return!v7(e)}function Xy(e){const{noDefaultInfinity:t=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=t?-Jl:I7,max:a=t?Jl:T7}=e,u=Zy(i,"min"),c=r?u+1:u,f=Zy(a,"max"),x=s?f-1:f;if(c>x)throw new Error("fc.float constraints.min must be smaller or equal to constraints.max");if(n)return mt({min:c,max:x}).map(Ql,$7);const p=x>0?c:c-1,g=x>0?x+1:x;return mt({min:p,max:g}).map(b=>b>x||b<c?O7:Ql(b),b=>{if(typeof b!="number")throw new Error("Unsupported type");return Jy(b)?x!==g?g:p:Xl(b)})}function Qy(e={}){return e.noInteger?Xy(E7(e)).map(F7,C7).filter(B7):Xy(e)}function M7(e){return e.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}function t2(e){return e.replace(/\*\//g,"*\\/")}const Ae=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function Ou(e){let t=4294967295;for(let n=0;n<e.length;++n){const r=Ds(e,n);if(r<128)t=Ae[t&255^r]^t>>8;else if(r<2048)t=Ae[t&255^(192|r>>6&31)]^t>>8,t=Ae[t&255^(128|r&63)]^t>>8;else if(r>=55296&&r<57344){const s=Ds(e,++n);if(r>=56320||s<56320||s>57343||Number.isNaN(s))n-=1,t=Ae[t&255^239]^t>>8,t=Ae[t&255^191]^t>>8,t=Ae[t&255^189]^t>>8;else{const i=(r&1023)+64,a=s&1023;t=Ae[t&255^(240|i>>8&7)]^t>>8,t=Ae[t&255^(128|i>>2&63)]^t>>8,t=Ae[t&255^(128|a>>6&15|(i&3)<<4)]^t>>8,t=Ae[t&255^(128|a&63)]^t>>8}}else t=Ae[t&255^(224|r>>12&15)]^t>>8,t=Ae[t&255^(128|r>>6&63)]^t>>8,t=Ae[t&255^(128|r&63)]^t>>8}return(t|0)+2147483648}const R7=Object.getPrototypeOf;class go extends Ft{constructor(t){super(),this.arb=t}generate(t,n){return this.arb.generate(t,n)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return q.nil()}}function $u(e){return R7(e)===go.prototype&&e.generate===go.prototype.generate&&e.canShrinkWithoutContext===go.prototype.canShrinkWithoutContext&&e.shrink===go.prototype.shrink?e:new go(e)}const N7=Object.assign,D7=Object.keys;function e2(e){return nt($u(mt()),$u(mt({min:1,max:4294967295}))).map(([t,n])=>{const r=()=>{const s={};return N7((a,u)=>{const c=Mt(a),f=Mt(u),x=Ou(`${t}${c}`)%n,p=Ou(`${t}${f}`)%n,g=e(x,p);return s[`[${c},${f}]`]=g,g},{toString:()=>{const a=D7(s).sort().map(u=>`${u} => ${Mt(s[u])}`).map(u=>`/* ${t2(u)} */`);return`function(a, b) {
  // With hash and stringify coming from fast-check${a.length!==0?`
  ${yt(a,`
  `)}`:""}
  const cmp = ${e};
  const hA = hash('${t}' + stringify(a)) % ${n};
  const hB = hash('${t}' + stringify(b)) % ${n};
  return cmp(hA, hB);
}`},[Jt]:r})};return r()})}const P7=Object.assign;function j7(){return e2(P7((e,t)=>e<t,{toString(){return"(hA, hB) => hA < hB"}}))}const L7=Object.assign;function U7(){return e2(L7((e,t)=>e-t,{toString(){return"(hA, hB) => hA - hB"}}))}const q7=Object.defineProperties,V7=Object.keys;function W7(e){return nt(St(e,{minLength:1}),$u(mt())).map(([t,n])=>{const r=()=>{const s={},i=(...u)=>{const c=Mt(u),f=t[Ou(`${n}${c}`)%t.length];return s[c]=f,Or(f)?f[Jt]():f};function a(u){const c=ht(ht(Lg(V7(s)),f=>`${f} => ${Mt(s[f])}`),f=>`/* ${t2(f)} */`);return`function(...args) {
  // With hash and stringify coming from fast-check${c.length!==0?`
  ${c.join(`
  `)}`:""}
  const outs = ${u};
  return outs[hash('${n}' + stringify(args)) % outs.length];
}`}return q7(i,{toString:{value:()=>a(Mt(t))},[Sn]:{value:()=>a(Mt(t))},[_n]:{value:async()=>a(await _l(t))},[Jt]:{value:r,configurable:!0}})};return r()})}const z7=Number.MIN_SAFE_INTEGER,G7=Number.MAX_SAFE_INTEGER;function n2(){return new zn(z7,G7)}const K7=Number.MAX_SAFE_INTEGER;function H7(){return new zn(0,K7)}const Y7=Number.parseInt;function J7(e){const[t,n]=e;switch(t){case"oct":return`0${eo(n,8)}`;case"hex":return`0x${eo(n,16)}`;case"dec":default:return`${n}`}}function Bu(e,t){const n=Y7(e,t);if(eo(n,t)!==e)throw new Error("Invalid value");return n}function Z7(e){if(typeof e!="string")throw new Error("Invalid type");return e.length>=2&&e[0]==="0"?e[1]==="x"?["hex",Bu(Ct(e,2),16)]:["oct",Bu(Ct(e,1),8)]:["dec",Bu(e,10)]}function X7(e){return yt(e,".")}function Q7(e){if(typeof e!="string")throw new Error("Invalid type");return ht(ue(e,"."),t=>Bu(t,10))}function th(){return nt(Kn(255),Kn(255),Kn(255),Kn(255)).map(X7,Q7)}function sn(e){return nt(rn("dec","oct","hex"),Kn(e)).map(J7,Z7)}function eh(e){return yt(e,".")}function nh(e){if(typeof e!="string")throw new Error("Invalid type");return ue(e,".")}function r2(){return Xt(nt(sn(255),sn(255),sn(255),sn(255)).map(eh,nh),nt(sn(255),sn(255),sn(65535)).map(eh,nh),nt(sn(255),sn(16777215)).map(eh,nh),sn(4294967295))}function rh(e){return e.length===0?[]:ue(e,":")}function sh(e){const t=ue(e,":");return t.length>=2&&t[t.length-1].length<=4?[te(t,0,t.length-2),`${t[t.length-2]}:${t[t.length-1]}`]:[te(t,0,t.length-1),t[t.length-1]]}function tB(e){return`${yt(e[0],":")}:${e[1]}`}function eB(e){if(typeof e!="string")throw new Error("Invalid type");return sh(e)}function nB(e){return`::${yt(e[0],":")}:${e[1]}`}function rB(e){if(typeof e!="string")throw new Error("Invalid type");if(!AO(e,"::"))throw new Error("Invalid value");return sh(Ct(e,2))}function Mu(e){return`${yt(e[0],":")}::${yt(e[1],":")}:${e[2]}`}function Ru(e){if(typeof e!="string")throw new Error("Invalid type");const[t,n]=ue(e,"::",2),[r,s]=sh(n);return[rh(t),r,s]}function sB(e){return Mu([e[0],[e[1]],e[2]])}function iB(e){const t=Ru(e);return[t[0],yt(t[1],":"),t[2]]}function s2(e){return`${yt(e[0],":")}::${e[1]}`}function i2(e){if(typeof e!="string")throw new Error("Invalid type");const[t,n]=ue(e,"::",2);return[rh(t),n]}function oB(e){return`${yt(e[0],":")}::`}function aB(e){if(typeof e!="string")throw new Error("Invalid type");if(!EO(e,"::"))throw new Error("Invalid value");return[rh(Ct(e,0,e.length-2))]}function uB([e,t]){return`${e}:${t}`}function cB(e){if(typeof e!="string")throw new L("Invalid type");if(!e.includes(":"))throw new L("Invalid value");return e.split(":",2)}const fB="0123456789abcdef";let ih;function lB(){return ih===void 0&&(ih=mt({min:0,max:15}).map(e=>fB[e],e=>{if(typeof e!="string")throw new L("Not a string");if(e.length!==1)throw new L("Invalid length");const t=Ds(e,0);if(t<=57)return t-48;if(t<97)throw new L("Invalid character");return t-87})),ih}function o2(){const e=Rt({unit:lB(),minLength:1,maxLength:4,size:"max"}),t=Xt(nt(e,e).map(uB,cB),th());return Xt(nt(St(e,{minLength:6,maxLength:6,size:"max"}),t).map(tB,eB),nt(St(e,{minLength:5,maxLength:5,size:"max"}),t).map(nB,rB),nt(St(e,{minLength:0,maxLength:1,size:"max"}),St(e,{minLength:4,maxLength:4,size:"max"}),t).map(Mu,Ru),nt(St(e,{minLength:0,maxLength:2,size:"max"}),St(e,{minLength:3,maxLength:3,size:"max"}),t).map(Mu,Ru),nt(St(e,{minLength:0,maxLength:3,size:"max"}),St(e,{minLength:2,maxLength:2,size:"max"}),t).map(Mu,Ru),nt(St(e,{minLength:0,maxLength:4,size:"max"}),e,t).map(sB,iB),nt(St(e,{minLength:0,maxLength:5,size:"max"}),t).map(s2,i2),nt(St(e,{minLength:0,maxLength:6,size:"max"}),e).map(s2,i2),nt(St(e,{minLength:0,maxLength:7,size:"max"})).map(oB,aB))}class a2 extends Ft{constructor(t){super(),this.name=t,this.underlying=null}generate(t,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(t,n)}canShrinkWithoutContext(t){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(t)}shrink(t,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(t,n)}}const hB=Object.create;function u2(e){const t=hB(null),r=e(s=>(Au(t,s)||(t[s]=new a2(String(s))),t[s]));for(const s in r){if(!Au(r,s))continue;const i=t[s],a=i!==void 0?i:new a2(s);a.underlying=r[s],t[s]=a}return r}function xB(e){return yt(ht(e,t=>t[t.length-1]===","?Ct(t,0,t.length-1):t)," ")}function pB(e){return function(n){if(typeof n!="string")throw new Error("Unsupported type");const r=[];for(const s of ue(n," "))if(e.canShrinkWithoutContext(s))U(r,s);else if(e.canShrinkWithoutContext(s+","))U(r,s+",");else throw new Error("Unsupported word");return r}}function mB(e){let t=yt(e," ");return t[t.length-1]===","&&(t=Ct(t,0,t.length-1)),cl(t[0])+Ct(t,1)+"."}function dB(e){return function(n){if(typeof n!="string")throw new Error("Unsupported type");if(n.length<2||n[n.length-1]!=="."||n[n.length-2]===","||cl(ul(n[0]))!==n[0])throw new Error("Unsupported value");const r=ul(n[0])+Ct(n,1,n.length-1),s=[],i=ue(r," ");for(let a=0;a!==i.length;++a){const u=i[a];if(e.canShrinkWithoutContext(u))U(s,u);else if(a===i.length-1&&e.canShrinkWithoutContext(u+","))U(s,u+",");else throw new Error("Unsupported word")}return s}}function gB(e){return yt(e," ")}function bB(e){if(typeof e!="string")throw new Error("Unsupported type");const t=ue(e,". ");for(let n=0;n<t.length-1;++n)t[n]+=".";return t}const _=(e,t)=>({arbitrary:Zt(e),weight:t});function yB(){return Xt(_("non",6),_("adipiscing",5),_("ligula",5),_("enim",5),_("pellentesque",5),_("in",5),_("augue",5),_("et",5),_("nulla",5),_("lorem",4),_("sit",4),_("sed",4),_("diam",4),_("fermentum",4),_("ut",4),_("eu",4),_("aliquam",4),_("mauris",4),_("vitae",4),_("felis",4),_("ipsum",3),_("dolor",3),_("amet,",3),_("elit",3),_("euismod",3),_("mi",3),_("orci",3),_("erat",3),_("praesent",3),_("egestas",3),_("leo",3),_("vel",3),_("sapien",3),_("integer",3),_("curabitur",3),_("convallis",3),_("purus",3),_("risus",2),_("suspendisse",2),_("lectus",2),_("nec,",2),_("ultricies",2),_("sed,",2),_("cras",2),_("elementum",2),_("ultrices",2),_("maecenas",2),_("massa,",2),_("varius",2),_("a,",2),_("semper",2),_("proin",2),_("nec",2),_("nisl",2),_("amet",2),_("duis",2),_("congue",2),_("libero",2),_("vestibulum",2),_("pede",2),_("blandit",2),_("sodales",2),_("ante",2),_("nibh",2),_("ac",2),_("aenean",2),_("massa",2),_("suscipit",2),_("sollicitudin",2),_("fusce",2),_("tempus",2),_("aliquam,",2),_("nunc",2),_("ullamcorper",2),_("rhoncus",2),_("metus",2),_("faucibus,",2),_("justo",2),_("magna",2),_("at",2),_("tincidunt",2),_("consectetur",1),_("tortor,",1),_("dignissim",1),_("congue,",1),_("non,",1),_("porttitor,",1),_("nonummy",1),_("molestie,",1),_("est",1),_("eleifend",1),_("mi,",1),_("arcu",1),_("scelerisque",1),_("vitae,",1),_("consequat",1),_("in,",1),_("pretium",1),_("volutpat",1),_("pharetra",1),_("tempor",1),_("bibendum",1),_("odio",1),_("dui",1),_("primis",1),_("faucibus",1),_("luctus",1),_("posuere",1),_("cubilia",1),_("curae,",1),_("hendrerit",1),_("velit",1),_("mauris,",1),_("gravida",1),_("ornare",1),_("ut,",1),_("pulvinar",1),_("varius,",1),_("turpis",1),_("nibh,",1),_("eros",1),_("id",1),_("aliquet",1),_("quis",1),_("lobortis",1),_("consectetuer",1),_("morbi",1),_("vehicula",1),_("tortor",1),_("tellus,",1),_("id,",1),_("eu,",1),_("quam",1),_("feugiat,",1),_("posuere,",1),_("iaculis",1),_("lectus,",1),_("tristique",1),_("mollis,",1),_("nisl,",1),_("vulputate",1),_("sem",1),_("vivamus",1),_("placerat",1),_("imperdiet",1),_("cursus",1),_("rutrum",1),_("iaculis,",1),_("augue,",1),_("lacus",1))}function SB(e={}){const{maxCount:t,mode:n="words",size:r}=e;if(t!==void 0&&t<1)throw new Error("lorem has to produce at least one word/sentence");const s=yB();if(n==="sentences"){const i=St(s,{minLength:1,size:"small"}).map(mB,dB(s));return St(i,{minLength:1,maxLength:t,size:r}).map(gB,bB)}else return St(s,{minLength:1,maxLength:t,size:r}).map(xB,pB(s))}let Nu=10;function _B(e){const t={};return(n=>{const r=n!==void 0?n:Nu;if(!Au(t,r)){const s=Nu;Nu=r-1,t[r]=e(r),Nu=s}return t[r]})}function wB(e){let t=0;for(;e>$(0);)e&$(1)&&++t,e>>=$(1);return t}function AB(e,t){const n=($(1)<<$(t))-$(1),r=e&n;let s=wB(e-r),i=r;for(let a=$(1);a<=n&&s!==0;a<<=$(1))i&a||(i|=a,--s);return i}function Du(e,t){const n=[];for(let r=e.length-1;r!==-1;--r)t(e[r])!==e[r]&&U(n,r);return n}function EB(e,t,n){let r=$(0);for(let s=0,i=$(1);s!==n.length;++s,i<<=$(1))e[n[s]]!==t[n[s]]&&(r|=i);return r}function oh(e,t,n,r){for(let s=0,i=$(1);s!==n.length;++s,i<<=$(1))t&i&&(e[n[s]]=r(e[n[s]]))}class FB extends Ft{constructor(t,n,r){super(),this.stringArb=t,this.toggleCase=n,this.untoggleAll=r}buildContextFor(t,n){return{rawString:t.value,rawStringContext:t.context,flags:n.value,flagsContext:n.context}}generate(t,n){const r=this.stringArb.generate(t,n),s=[...r.value],i=Du(s,this.toggleCase),u=Gn($(0),($(1)<<$(i.length))-$(1)).generate(t,void 0);return oh(s,u.value,i,this.toggleCase),new P(yt(s,""),this.buildContextFor(r,u))}canShrinkWithoutContext(t){return typeof t!="string"?!1:this.untoggleAll!==void 0?this.stringArb.canShrinkWithoutContext(this.untoggleAll(t)):this.stringArb.canShrinkWithoutContext(t)}shrink(t,n){let r;if(n!==void 0)r=n;else if(this.untoggleAll!==void 0){const a=this.untoggleAll(t),u=[...t],c=[...a],f=Du(c,this.toggleCase);r={rawString:a,rawStringContext:void 0,flags:EB(c,u,f),flagsContext:void 0}}else r={rawString:t,rawStringContext:void 0,flags:$(0),flagsContext:void 0};const s=r.rawString,i=r.flags;return this.stringArb.shrink(s,r.rawStringContext).map(a=>{const u=[...a.value],c=Du(u,this.toggleCase),f=AB(i,c.length);return oh(u,f,c,this.toggleCase),new P(yt(u,""),this.buildContextFor(a,new P(f,void 0)))}).join(Wn(()=>{const a=[...s],u=Du(a,this.toggleCase);return Gn($(0),($(1)<<$(u.length))-$(1)).shrink(i,r.flagsContext).map(c=>{const f=te(a);return oh(f,c.value,u,this.toggleCase),new P(yt(f,""),this.buildContextFor(new P(s,r.rawStringContext),c))})}))}}function CB(e){const t=cl(e);return t!==e?t:ul(e)}function vB(e,t){const n=t&&t.toggleCase||CB,r=t&&t.untoggleAll;return new FB(e,n,r)}function kB(e){return Eg.from(e)}function IB(e){if(!(e instanceof Eg))throw new Error("Unexpected type");return[...e]}function c2(e={}){return St(Qy(e),e).map(kB,IB)}function TB(e){return Fg.from(e)}function OB(e){if(!(e instanceof Fg))throw new Error("Unexpected type");return[...e]}function f2(e={}){return St(Tu(e),e).map(TB,OB)}function An(e,t,n,r,s){const i=r.name,{min:a=t,max:u=n,...c}=e;if(a>u)throw new Error(`Invalid range passed to ${i}: min must be lower than or equal to max`);if(a<t)throw new Error(`Invalid min value passed to ${i}: min must be greater than or equal to ${t}`);if(u>n)throw new Error(`Invalid max value passed to ${i}: max must be lower than or equal to ${n}`);return St(s({min:a,max:u}),c).map(f=>r.from(f),f=>{if(!(f instanceof r))throw new Error("Invalid type");return[...f]})}function l2(e={}){return An(e,-32768,32767,D5,mt)}function h2(e={}){return An(e,-2147483648,2147483647,P5,mt)}function x2(e={}){return An(e,-128,127,N5,mt)}function p2(e={}){return An(e,0,65535,U5,mt)}function m2(e={}){return An(e,0,4294967295,q5,mt)}function d2(e={}){return An(e,0,255,j5,mt)}function g2(e={}){return An(e,0,255,L5,mt)}function $B(e){return e!==void 0}function b2(e){return e.hasToBeCloned?new P(e.value_,{generatorContext:e.context},()=>e.value):new P(e.value_,{generatorContext:e.context})}function y2(e){return e.hasToBeCloned?new P(e.value_,{shrinkerContext:e.context},()=>e.value):new P(e.value_,{shrinkerContext:e.context})}class BB extends Ft{constructor(t,n){super(),this.generatorArbitrary=t,this.shrinkerArbitrary=n}generate(t,n){return b2(this.generatorArbitrary.generate(t,n))}canShrinkWithoutContext(t){return this.shrinkerArbitrary.canShrinkWithoutContext(t)}shrink(t,n){return $B(n)?"generatorContext"in n?this.generatorArbitrary.shrink(t,n.generatorContext).map(b2):this.shrinkerArbitrary.shrink(t,n.shrinkerContext).map(y2):this.shrinkerArbitrary.shrink(t,void 0).map(y2)}}function ah(e,t,n){const r=mt({min:e,max:t});if(t===n)return r;const s=mt({min:e,max:n});return new BB(r,s)}const MB=Math.min,uh=Math.max,S2=wg.isArray,RB=Object.entries;function NB(e){let t=-1;for(let n=0;n!==e.length;++n)t=uh(t,e[n][0]);return t}function DB(e,t){const n=wg(e);for(let r=0;r!==t.length;++r){const s=t[r];s[0]<e&&(n[s[0]]=s[1])}return n}function _2(e,t={}){const{size:n,minNumElements:r=0,maxLength:s=Mr,maxNumElements:i=s,noTrailingHole:a,depthIdentifier:u}=t,c=oo(n,r,i,t.maxNumElements!==void 0),f=oo(n,c,s,t.maxLength!==void 0);if(r>s)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(r>i)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");const x=MB(i,s),p=t.maxNumElements!==void 0||n!==void 0?n:"=",g=uh(f-1,0),b=uh(s-1,0),S=fo(nt(ah(0,g,b),e),{size:p,minLength:r,maxLength:x,selector:w=>w[0],depthIdentifier:u}).map(w=>{const d=NB(w);return DB(d+1,w)},w=>{if(!S2(w))throw new Error("Not supported entry type");if(a&&w.length!==0&&!(w.length-1 in w))throw new Error("No trailing hole");return ht(RB(w),d=>[Number(d[0]),d[1]])});return a||s===r?S:nt(S,ah(r,f,s)).map(w=>{const d=w[0],F=w[1];if(d.length>=F)return d;const E=te(d);return E.length=F,E},w=>{if(!S2(w))throw new Error("Not supported entry type");return[w,w.length]})}function PB(e){return new Map(e)}function jB(e){if(typeof e!="object"||e===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Map)throw new Error("Incompatible instance received: should be of exact type Map");return Array.from(e)}function LB(e){return new Set(e)}function UB(e){if(typeof e!="object"||e===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Set)throw new Error("Incompatible instance received: should be of exact type Set");return Array.from(e)}function w2(e,t,n,r,s){return fo(nt(e,t),{maxLength:n,size:r,comparator:"SameValueZero",selector:i=>i[0],depthIdentifier:s}).map(PB,jB)}function qB(e,t,n,r,s,i){return Rl(e,t,{maxKeys:n,noNullPrototype:!i,size:r,depthIdentifier:s})}function VB(e,t,n,r){return fo(e,{maxLength:t,size:n,comparator:"SameValueZero",depthIdentifier:r}).map(LB,UB)}function WB(e){return Xt(x2(e),d2(e),g2(e),l2(e),p2(e),h2(e),m2(e),c2(e),f2(e))}function A2(e){const t=e.values,n=e.depthSize,r=oy(),s=e.maxDepth,i=e.maxKeys,a=e.size,u=Xt(...t,...e.withBigInt?[Gn()]:[],...e.withDate?[dy()]:[]);return u2(c=>({anything:Xt({maxDepth:s,depthSize:n,depthIdentifier:r},u,c("array"),c("object"),...e.withMap?[c("map")]:[],...e.withSet?[c("set")]:[],...e.withObjectString?[c("anything").map(f=>Mt(f))]:[],...e.withTypedArray?[WB({maxLength:i,size:a})]:[],...e.withSparseArray?[_2(c("anything"),{maxNumElements:i,size:a,depthIdentifier:r})]:[]),keys:e.withObjectString?Xt({arbitrary:e.key,weight:10},{arbitrary:c("anything").map(f=>Mt(f)),weight:1}):e.key,array:St(c("anything"),{maxLength:i,size:a,depthIdentifier:r}),set:VB(c("anything"),i,a,r),map:Xt(w2(c("keys"),c("anything"),i,a,r),w2(c("anything"),c("anything"),i,a,r)),object:qB(c("keys"),c("anything"),i,a,r,e.withNullPrototype)})).anything}function zB(e){switch(typeof e){case"boolean":return new Ag(e);case"number":return new bn(e);case"string":return new $r(e);default:return e}}function GB(e){return typeof e!="object"||e===null||!("constructor"in e)?e:e.constructor===Ag||e.constructor===bn||e.constructor===$r?e.valueOf():e}function KB(e){return e.map(zB,GB)}function HB(e,t){return[uo(),n2(),Tu(),t(e),Xt(t(e),Zt(null),Zt(void 0))]}function YB(e){return e.map(t=>KB(t))}function JB(e,t){return t?YB(e).concat(e):e}function E2(e={}){const t={size:e.size,unit:"stringUnit"in e?e.stringUnit:e.withUnicodeString?"binary":void 0};return{key:e.key!==void 0?e.key:Rt(t),values:JB(e.values!==void 0?e.values:HB(t,Rt),e.withBoxedValues===!0),depthSize:e.depthSize,maxDepth:e.maxDepth,maxKeys:e.maxKeys,size:e.size,withSet:e.withSet===!0,withMap:e.withMap===!0,withObjectString:e.withObjectString===!0,withNullPrototype:e.withNullPrototype===!0,withBigInt:e.withBigInt===!0,withDate:e.withDate===!0,withTypedArray:e.withTypedArray===!0,withSparseArray:e.withSparseArray===!0}}function ZB(e){return Rl(e.key,A2(e),{maxKeys:e.maxKeys,noNullPrototype:!e.withNullPrototype,size:e.size})}function XB(e){return ZB(E2(e))}function QB(e,t){const{depthSize:n,maxDepth:r}=t,s=e,i=[uo(),Tu({noDefaultInfinity:!0,noNaN:!0}),e,Zt(null)];return{key:s,values:i,depthSize:n,maxDepth:r}}function F2(e){return A2(E2(e))}function C2(e={}){const t=e.noUnicodeString===void 0||e.noUnicodeString===!0,n="stringUnit"in e?Rt({unit:e.stringUnit}):t?Rt():Rt({unit:"binary"});return F2(QB(n,e))}const tM=JSON.stringify;function eM(e={}){return C2(e).map(tM)}const nM=Object.keys,rM=Object.getOwnPropertySymbols,sM=Object.getOwnPropertyDescriptor;function iM(e){const t=nM(e),n=rM(e);for(let r=0;r!==n.length;++r){const s=n[r],i=sM(e,s);i&&i.enumerable&&t.push(s)}return t}const oM=Object.create,aM=Object.defineProperty,uM=Object.getOwnPropertyDescriptor,cM=Object.getOwnPropertyNames,fM=Object.getOwnPropertySymbols;function lM(e,t){return function(r){const s=r[1]?oM(null):{};for(let i=0;i!==e.length;++i){const a=r[0][i];a!==t&&aM(s,e[i],{value:a,configurable:!0,enumerable:!0,writable:!0})}return s}}function hM(e,t){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");const s=Object.getPrototypeOf(r)===null,i="constructor"in r&&r.constructor===Object;if(!s&&!i)throw new Error("Incompatible instance received: should be of exact type Object");let a=0;const u=[];for(let x=0;x!==e.length;++x){const p=uM(r,e[x]);if(p!==void 0){if(!p.configurable||!p.enumerable||!p.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(p.get!==void 0||p.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++a,U(u,p.value)}else U(u,t)}const c=cM(r).length,f=fM(r).length;if(a!==c+f)throw new Error("Incompatible instance received: should not contain extra properties");return[u,s]}}const ch=Symbol("no-key");function fh(e,t,n){const r=iM(e),s=[];for(let i=0;i!==r.length;++i){const a=r[i],u=e[a];t===void 0||yn(t,a)!==-1?U(s,u):U(s,Rr(u,{nil:ch}))}return nt(nt(...s),n?Zt(!1):uo()).map(lM(r,ch),hM(r,ch))}function xM(e,t){const n=t!==void 0&&!!t.noNullPrototype;if(t==null||!("requiredKeys"in t&&t.requiredKeys!==void 0))return fh(e,void 0,n);const s=("requiredKeys"in t?t.requiredKeys:void 0)||[];for(let i=0;i!==s.length;++i){const a=Object.getOwnPropertyDescriptor(e,s[i]);if(a===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!a.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return fh(e,s,n)}const pM=Object.defineProperties;function lh(e,t){return`Stream(${t!==void 0?`${yt(t,",")}`:`${e} emitted`})`}class mM extends Ft{constructor(t,n){super(),this.arb=t,this.history=n}generate(t,n){const r=n!==void 0&&t.nextInt(1,n)===1?n:void 0,s=()=>{const i=this.history?[]:null;let a=0;const u=function*(f,x){for(;;){const p=f.generate(x,r).value;a++,i!==null&&U(i,p),yield p}},c=new q(u(this.arb,t.clone()));return pM(c,{toString:{value:()=>lh(a,i!==null?i.map(Mt):void 0)},[Sn]:{value:()=>lh(a,i!==null?i.map(Mt):void 0)},[_n]:{value:async()=>lh(a,i!==null?await Promise.all(i.map(_l)):void 0)},[Jt]:{value:s,enumerable:!0}})};return new P(s(),void 0)}canShrinkWithoutContext(t){return!1}shrink(t,n){return q.nil()}}function dM(e,t){const n=t!==void 0&&typeof t=="object"&&"noHistory"in t?!t.noHistory:!0;return new mM(e,n)}function gM(e){return yt(e,"")}function v2(e){if(typeof e!="string")throw new Error("Cannot unmap the passed value");return[...e]}function bM(e){switch(e.length%4){case 0:return e;case 3:return`${e}=`;case 2:return`${e}==`;default:return Ct(e,1)}}function yM(e){if(typeof e!="string"||e.length%4!==0)throw new Error("Invalid string received");const t=e.indexOf("=");if(t===-1)return e;if(e.length-t>2)throw new Error("Cannot unmap the passed value");return Ct(e,0,t)}const hh=String.fromCharCode;function SM(e){return e<26?hh(e+65):e<52?hh(e+97-26):e<62?hh(e+48-52):e===62?"+":"/"}function _M(e){if(typeof e!="string"||e.length!==1)throw new L("Invalid entry");const t=Ds(e,0);return t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:t>=48&&t<=57?t-48+52:t===43?62:t===47?63:-1}function wM(){return mt({min:0,max:63}).map(SM,_M)}function AM(e={}){const{minLength:t=0,maxLength:n=Mr,size:r}=e,s=t+3-(t+3)%4,i=n-n%4,a=e.maxLength===void 0&&r===void 0?"=":r;if(s>i)throw new L("Minimal length should be inferior or equal to maximal length");if(s%4!==0)throw new L("Minimal length of base64 strings must be a multiple of 4");if(i%4!==0)throw new L("Maximal length of base64 strings must be a multiple of 4");const u=wM(),c=w8(u,v2);return St(u,{minLength:s,maxLength:i,size:a,experimentalCustomSlices:c}).map(gM,v2).map(bM,yM)}const k2=Object.is;function EM(e,t){const n=new to;let r=0;for(const s of e)if(k2(s,-0))++r;else{const i=Vn(n,s)||0;Br(n,s,i+1)}for(let s=0;s!==t.length;++s){if(!(s in t))return!1;const i=t[s];if(k2(i,-0)){if(r===0)return!1;--r}else{const a=Vn(n,i)||0;if(a===0)return!1;Br(n,i,a-1)}}return!0}const FM=Math.floor,I2=Math.log,CM=Array.isArray;class T2 extends Ft{constructor(t,n,r,s){if(super(),this.originalArray=t,this.isOrdered=n,this.minLength=r,this.maxLength=s,r<0||r>t.length)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be between 0 and the size of the original array");if(s<0||s>t.length)throw new Error("fc.*{s|S}ubarrayOf expects the maximal length to be between 0 and the size of the original array");if(r>s)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be inferior or equal to the maximal length");this.lengthArb=new zn(r,s),this.biasedLengthArb=r!==s?new zn(r,r+FM(I2(s-r)/I2(2))):this.lengthArb}generate(t,n){const s=(n!==void 0&&t.nextInt(1,n)===1?this.biasedLengthArb:this.lengthArb).generate(t,void 0),i=s.value,a=ht(this.originalArray,(c,f)=>f),u=[];for(let c=0;c!==i;++c){const f=t.nextInt(0,a.length-1);U(u,a[f]),jg(a,f,1)}return this.isOrdered&&Lg(u,(c,f)=>c-f),new P(ht(u,c=>this.originalArray[c]),s.context)}canShrinkWithoutContext(t){return!CM(t)||!this.lengthArb.canShrinkWithoutContext(t.length)?!1:EM(this.originalArray,t)}shrink(t,n){return t.length===0?q.nil():this.lengthArb.shrink(t.length,n).map(r=>new P(te(t,t.length-r.value),r.context)).join(t.length>this.minLength?Wn(()=>this.shrink(te(t,1),void 0).filter(r=>this.minLength<=r.value.length+1).map(r=>new P([t[0],...r.value],void 0))):q.nil())}}function vM(e,t={}){const{minLength:n=0,maxLength:r=e.length}=t;return new T2(e,!0,n,r)}function kM(e,t={}){const{minLength:n=0,maxLength:r=e.length}=t;return new T2(e,!1,n,r)}const IM={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"},TM={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,J:18,K:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,V:27,W:28,X:29,Y:30,Z:31};function OM(e){return e<10?$r(e):IM[e]}function O2(e,t){let n="";for(;e.length+n.length<t;)n+="0";return n+e}function $2(e){let t="";for(let n=e;n!==0;){const r=n>>5,s=n-(r<<5);t=OM(s)+t,n=r}return t}function $M(e,t){const n=~~(e/1073741824),r=e&1073741823;return O2($2(n),t-6)+O2($2(r),6)}function B2(e){return function(n){return $M(n,e)}}function xh(e){if(typeof e!="string")throw new L("Unsupported type");let t=0,n=1;for(let r=e.length-1;r>=0;--r){const s=e[r],i=TM[s];if(i===void 0)throw new L("Unsupported type");t+=i*n,n*=32}return t}const BM=B2(10),M2=B2(8);function MM(e){return BM(e[0])+M2(e[1])+M2(e[2])}function RM(e){if(typeof e!="string"||e.length!==26)throw new Error("Unsupported type");return[xh(e.slice(0,10)),xh(e.slice(10,18)),xh(e.slice(18))]}function NM(){const e=mt({min:0,max:0xffffffffffff}),t=mt({min:0,max:0xffffffffff}),n=mt({min:0,max:0xffffffffff});return nt(e,t,n).map(MM,RM)}function R2(e){return FO(eo(e,16),8,"0")}function DM(e){if(typeof e!="string")throw new Error("Unsupported type");if(e.length!==8)throw new Error("Unsupported value: invalid length");const t=parseInt(e,16);if(e!==R2(t))throw new Error("Unsupported value: invalid content");return t}function ph(e,t){return mt({min:e,max:t}).map(R2,DM)}function PM(e){return`${e[0]}-${Ct(e[1],4)}-${Ct(e[1],0,4)}-${Ct(e[2],0,4)}-${Ct(e[2],4)}${e[3]}`}const jM=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function LM(e){if(typeof e!="string")throw new Error("Unsupported type");const t=jM.exec(e);if(t===null)throw new Error("Unsupported type");return[t[1],t[3]+t[2],t[4]+Ct(t[5],0,4),Ct(t[5],4)]}const N2="0123456789abcdef";function UM(e){const t={},n={};for(let i=0;i!==e.length;++i){const a=N2[i],u=N2[e[i]];t[a]=u,n[u]=a}function r(i){return t[i[0]]+Ct(i,1)}function s(i){if(typeof i!="string")throw new L("Cannot produce non-string values");const a=n[i[0]];if(a===void 0)throw new L("Cannot produce strings not starting by the version in hexa code");return a+Ct(i,1)}return{versionsApplierMapper:r,versionsApplierUnmapper:s}}function qM(e){const t={};for(const n of e){if(t[n])throw new L(`Version ${n} has been requested at least twice for uuid`);if(t[n]=!0,n<1||n>15)throw new L(`Version must be a value in [1-15] for uuid, but received ${n}`);if(~~n!==n)throw new L(`Version must be an integer value for uuid, but received ${n}`)}if(e.length===0)throw new L("Must provide at least one version for uuid")}function VM(e={}){const t=ph(0,4294967295),n=e.version!==void 0?typeof e.version=="number"?[e.version]:e.version:[1,2,3,4,5,6,7,8];qM(n);const{versionsApplierMapper:r,versionsApplierUnmapper:s}=UM(n),i=ph(0,268435456*n.length-1).map(r,s),a=ph(2147483648,3221225471);return nt(t,i,a,t).map(PM,LM)}function WM(e){return Rt({unit:Ll("-._~!$&'()*+,;=:"),size:e})}function zM([e,t,n]){return(e===null?"":`${e}@`)+t+(n===null?"":`:${n}`)}function GM(e){if(typeof e!="string")throw new Error("Unsupported");const t=e.indexOf("@"),n=t!==-1?e.substring(0,t):null,s=/:(\d+)$/.exec(e),i=s!==null?Number(s[1]):null,a=s!==null?e.substring(t+1,e.length-s[1].length-1):e.substring(t+1);return[n,a,i]}function KM(e){return`[${e}]`}function HM(e){if(typeof e!="string"||e[0]!=="["||e[e.length-1]!=="]")throw new Error("Unsupported");return e.substring(1,e.length-1)}function D2(e){const t=e||{},n=t.size,r=[Ul({size:n}),...t.withIPv4===!0?[th()]:[],...t.withIPv6===!0?[o2().map(KM,HM)]:[],...t.withIPv4Extended===!0?[r2()]:[]];return nt(t.withUserInfo===!0?Rr(WM(n)):Zt(null),Xt(...r),t.withPort===!0?Rr(Kn(65535)):Zt(null)).map(zM,GM)}function P2(e){return Rt({unit:Ll("-._~!$&'()*+,;=:@/?"),size:e})}function j2(e={}){return P2(e.size)}function L2(e={}){return Rt({unit:Ll("-._~!$&'()*+,;=:@"),size:e.size})}function YM(e){return yt(ht(e,t=>`/${t}`),"")}function JM(e){if(typeof e!="string")throw new Error("Incompatible value received: type");if(e.length!==0&&e[0]!=="/")throw new Error("Incompatible value received: start");return jg(ue(e,"/"),1)}function ZM(e){switch(e){case"xsmall":return["xsmall","xsmall"];case"small":return["small","xsmall"];case"medium":return["small","small"];case"large":return["medium","small"];case"xlarge":return["medium","medium"]}}function mh(e,t){return St(L2({size:e}),{size:t}).map(YM,JM)}function XM(e){const[t,n]=ZM(e);return t===n?mh(t,n):Xt(mh(t,n),mh(n,t))}function U2(e){const n=Ol((e||{}).size);return XM(n)}function q2(e={}){return P2(e.size)}function QM(e){const[t,n,r]=e,s=e[3]===null?"":`?${e[3]}`,i=e[4]===null?"":`#${e[4]}`;return`${t}://${n}${r}${s}${i}`}const tR=/^([[A-Za-z][A-Za-z0-9+.-]*):\/\/([^/?#]*)([^?#]*)(\?[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?(#[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?$/;function eR(e){if(typeof e!="string")throw new Error("Incompatible value received: type");const t=tR.exec(e);if(t===null)throw new Error("Incompatible value received");const n=t[1],r=t[2],s=t[3],i=t[4],a=t[5];return[n,r,s,i!==void 0?i.substring(1):null,a!==void 0?a.substring(1):null]}function nR(e){const t=e||{},n=Ol(t.size),r=t.authoritySettings!==void 0&&t.authoritySettings.size!==void 0?io(t.authoritySettings.size,n):n,s={...t.authoritySettings,size:r},i=t.validSchemes||["http","https"],a=rn(...i),u=D2(s);return nt(a,u,U2({size:n}),t.withQueryParameters===!0?Rr(q2({size:n})):Zt(null),t.withFragments===!0?Rr(j2({size:n})):Zt(null)).map(QM,eR)}class dh{constructor(t,n){this.commands=t,this.metadataForReplay=n,this[Jt]=function(){return new dh(this.commands.map(r=>r.clone()),this.metadataForReplay)}}[Symbol.iterator](){return this.commands[Symbol.iterator]()}toString(){const t=this.commands.filter(r=>r.hasRan).map(r=>r.toString()).join(","),n=this.metadataForReplay();return n.length!==0?`${t} /*${n}*/`:t}}class Pu{constructor(t){if(this.cmd=t,this.hasRan=!1,yl(t)){const n=t[Sn];this[Sn]=function(){return n.call(t)}}if(Sl(t)){const n=t[_n];this[_n]=function(){return n.call(t)}}}check(t){return this.cmd.check(t)}run(t,n){return this.hasRan=!0,this.cmd.run(t,n)}clone(){return Or(this.cmd)?new Pu(this.cmd[Jt]()):new Pu(this.cmd)}toString(){return this.cmd.toString()}}class V2{static parse(t){const[n,r]=t.split(":"),s=this.parseCounts(n),i=this.parseChanges(r);return this.parseOccurences(s,i)}static stringify(t){const n=this.countOccurences(t),r=this.stringifyCounts(n),s=this.stringifyChanges(n);return`${r}:${s}`}static intToB64(t){return t<26?String.fromCharCode(t+65):t<52?String.fromCharCode(t+97-26):t<62?String.fromCharCode(t+48-52):String.fromCharCode(t===62?43:47)}static b64ToInt(t){return t>="a"?t.charCodeAt(0)-97+26:t>="A"?t.charCodeAt(0)-65:t>="0"?t.charCodeAt(0)-48+52:t==="+"?62:63}static countOccurences(t){return t.reduce((n,r)=>(n.length===0||n[n.length-1].count===64||n[n.length-1].value!==r?n.push({value:r,count:1}):n[n.length-1].count+=1,n),[])}static parseOccurences(t,n){const r=[];for(let s=0;s!==t.length;++s){const i=t[s],a=n[s];for(let u=0;u!==i;++u)r.push(a)}return r}static stringifyChanges(t){let n="";for(let r=0;r<t.length;r+=6){const s=t.slice(r,r+6).reduceRight((i,a)=>i*2+(a.value?1:0),0);n+=this.intToB64(s)}return n}static parseChanges(t){const n=t.split("").map(s=>this.b64ToInt(s)),r=[];for(let s=0;s!==n.length;++s){let i=n[s];for(let a=0;a!==6;++a,i>>=1)r.push(i%2===1)}return r}static stringifyCounts(t){return t.map(({count:n})=>this.intToB64(n-1)).join("")}static parseCounts(t){return t.split("").map(n=>this.b64ToInt(n)+1)}}class rR extends Ft{constructor(t,n,r,s,i){super(),this.sourceReplayPath=s,this.disableReplayLog=i,this.oneCommandArb=Xt(...t).map(a=>new Pu(a)),this.lengthArb=ah(0,n,r),this.replayPath=[],this.replayPathPosition=0}metadataForReplay(){return this.disableReplayLog?"":`replayPath=${JSON.stringify(V2.stringify(this.replayPath))}`}buildValueFor(t,n){const r=t.map(i=>i.value_),s={shrunkOnce:n,items:t};return new P(new dh(r,()=>this.metadataForReplay()),s)}generate(t){const r=this.lengthArb.generate(t,void 0).value,s=Array(r);for(let i=0;i!==r;++i){const a=this.oneCommandArb.generate(t,void 0);s[i]=a}return this.replayPathPosition=0,this.buildValueFor(s,!1)}canShrinkWithoutContext(t){return!1}filterOnExecution(t){const n=[];for(const r of t)r.value_.hasRan?(this.replayPath.push(!0),n.push(r)):this.replayPath.push(!1);return n}filterOnReplay(t){return t.filter((n,r)=>{const s=this.replayPath[this.replayPathPosition+r];if(s===void 0)throw new Error("Too short replayPath");if(!s&&n.value_.hasRan)throw new Error("Mismatch between replayPath and real execution");return s})}filterForShrinkImpl(t){this.replayPathPosition===0&&(this.replayPath=this.sourceReplayPath!==null?V2.parse(this.sourceReplayPath):[]);const n=this.replayPathPosition<this.replayPath.length?this.filterOnReplay(t):this.filterOnExecution(t);return this.replayPathPosition+=t.length,n}shrink(t,n){if(n===void 0)return q.nil();const r=n,s=r.shrunkOnce,i=r.items,a=this.filterForShrinkImpl(i);if(a.length===0)return q.nil();const u=s?q.nil():new q([[]][Symbol.iterator]()),c=[];for(let f=0;f!==a.length;++f)c.push(Wn(()=>{const x=a.slice(0,f);return this.lengthArb.shrink(a.length-1-f,void 0).map(p=>x.concat(a.slice(a.length-(p.value+1))))}));for(let f=0;f!==a.length;++f)c.push(Wn(()=>this.oneCommandArb.shrink(a[f].value_,a[f].context).map(x=>a.slice(0,f).concat([x],a.slice(f+1)))));return u.join(...c).map(f=>this.buildValueFor(f.map(x=>new P(x.value_.clone(),x.context)),!0))}}function sR(e,t={}){const{size:n,maxCommands:r=Mr,disableReplayLog:s=!1,replayPath:i=null}=t,a=t.maxCommands!==void 0,u=oo(n,0,r,a);return new rR(e,u,r,i,s)}class iR{constructor(t,n){this.s=t,this.cmd=n}async check(t){let n=null,r=!1;if((await this.s.scheduleSequence([{label:`check@${this.cmd.toString()}`,builder:async()=>{try{r=await Promise.resolve(this.cmd.check(t))}catch(i){throw n=i,i}}}]).task).faulty)throw n;return r}async run(t,n){let r=null;if((await this.s.scheduleSequence([{label:`run@${this.cmd.toString()}`,builder:async()=>{try{await this.cmd.run(t,n)}catch(i){throw r=i,i}}}]).task).faulty)throw r}}const oR=function*(e,t){for(const n of t)yield new iR(e,n)},W2=(e,t,n,r,s)=>e.then(i=>{const{model:a,real:u}=i;let c=n;for(const f of t)c=s(c,()=>r(f,a,u));return c}),aR=(e,t)=>W2({then:i=>{i(e())}},t,void 0,(i,a,u)=>{i.check(a)&&i.run(a,u)},(i,a)=>a()),uR=e=>typeof e.then=="function",z2=async(e,t,n=Promise.resolve())=>await W2({then:a=>{const u=e();return uR(u)?u.then(a):a(u)}},t,n,async(a,u,c)=>{await a.check(u)&&await a.run(u,c)},(a,u)=>a.then(u));function cR(e,t){aR(e,t)}async function fR(e,t){await z2(e,t)}async function lR(e,t,n){const r=oR(e,n),s=z2(t,r,e.schedule(Promise.resolve(),"startModel"));await e.waitFor(s),await e.waitAll()}const ju=e=>e(),gh=50;class bo{constructor(t,n){this.act=t,this.taskSelector=n,this.lastTaskId=0,this.sourceTaskSelector=n.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[],this[Jt]=function(){return new bo(this.act,this.sourceTaskSelector)}}static buildLog(t){return`[task\${${t.taskId}}] ${t.label.length!==0?`${t.schedulingType}::${t.label}`:t.schedulingType} ${t.status}${t.outputValue!==void 0?` with value ${M7(t.outputValue)}`:""}`}log(t,n,r,s,i,a){this.triggeredTasks.push({status:i,schedulingType:t,taskId:n,label:r,metadata:s,outputValue:a!==void 0?Mt(a):void 0})}scheduleInternal(t,n,r,s,i,a){const u=++this.lastTaskId;let c;const f=new Promise((x,p)=>{c=()=>{const g=Promise.resolve(a!==void 0?r.then(()=>a()):r);return g.then(b=>{this.log(t,u,n,s,"resolved",b),x(b)},b=>{this.log(t,u,n,s,"rejected",b),p(b)}),g}});return this.scheduledTasks.push({original:r,trigger:c,schedulingType:t,taskId:u,label:n,metadata:s,customAct:i}),this.scheduledWatchers.length!==0&&this.scheduledWatchers[0](),f}schedule(t,n,r,s){return this.scheduleInternal("promise",n||"",t,r,s||ju)}scheduleFunction(t,n){return(...r)=>this.scheduleInternal("function",`${t.name}(${r.map(Mt).join(",")})`,t(...r),void 0,n||ju)}scheduleSequence(t,n){const r={done:!1,faulty:!1},s={then:x=>x()};let i=()=>{};const a=new Promise(x=>{i=()=>x({done:r.done,faulty:r.faulty})}),u=()=>{r.faulty=!0,i()},c=()=>{r.done=!0,i()},f=(x,p)=>{if(x>=t.length){p.then(c,u);return}p.then(()=>{const g=t[x],[b,S,w]=typeof g=="function"?[g,g.name,void 0]:[g.builder,g.label,g.metadata],d=this.scheduleInternal("sequence",S,s,w,n||ju,()=>b());f(x+1,d)},u)};return f(0,s),Object.assign(r,{task:a})}count(){return this.scheduledTasks.length}internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");const t=this.taskSelector.nextTaskIndex(this.scheduledTasks),[n]=this.scheduledTasks.splice(t,1);return n.customAct(()=>n.trigger().catch(s=>{}))}waitOne(t){const n=t||ju;return this.act(()=>n(()=>this.internalWaitOne()))}async waitAll(t){for(;this.scheduledTasks.length>0;)await this.waitOne(t)}async internalWaitFor(t,n){let r=!1;const s=n.customAct,i=n.onWaitStart,a=n.onWaitIdle,u=n.launchAwaiterOnInit;let c,f,x=0,p=null,g=null;const b=async()=>{for(x=gh,x=gh;!r&&x>0;--x)await Promise.resolve();if(!r&&this.scheduledTasks.length>0)return i!==void 0&&i(),g=this.waitOne(s),g.then(()=>(g=null,b()),F=>{throw g=null,r=!0,f(F),F});!r&&a!==void 0&&a(),p=null},S=()=>{if(p!==null){x=gh+1;return}p=b().catch(()=>{})},w=()=>{const F=this.scheduledWatchers.indexOf(S);F!==-1&&this.scheduledWatchers.splice(F,1),F===0&&this.scheduledWatchers.length!==0&&this.scheduledWatchers[0]()},d=new Promise((F,E)=>{c=T=>{w(),F(T)},f=T=>{w(),E(T)}});return t.then(F=>{r=!0,g===null?c(F):g.then(()=>c(F),E=>f(E))},F=>{r=!0,g===null?f(F):g.then(()=>f(F),()=>f(F))}),(this.scheduledTasks.length>0||u)&&this.scheduledWatchers.length===0&&S(),this.scheduledWatchers.push(S),d}waitNext(t,n){let r,s=t;const i=s<=0?Promise.resolve():new Promise(a=>{r=()=>{--s<=0&&a()}});return this.internalWaitFor(i,{customAct:n,onWaitStart:r,onWaitIdle:void 0,launchAwaiterOnInit:!1})}waitIdle(t){let n;const r=new Promise(s=>n=s);return this.internalWaitFor(r,{customAct:t,onWaitStart:void 0,onWaitIdle:n,launchAwaiterOnInit:!0})}waitFor(t,n){return this.internalWaitFor(t,{customAct:n,onWaitStart:void 0,onWaitIdle:void 0,launchAwaiterOnInit:!1})}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(t=>({status:"pending",schedulingType:t.schedulingType,taskId:t.taskId,label:t.label,metadata:t.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(bo.buildLog).map(t=>`-> ${t}`).join(`
`)+"`"}}function G2(e){let t=0;return{clone:()=>G2(e),nextTaskIndex:n=>{if(e.length<=t)throw new Error("Invalid schedulerFor defined: too many tasks have been scheduled");const r=n.findIndex(s=>s.taskId===e[t]);if(r===-1)throw new Error("Invalid schedulerFor defined: unable to find next task");return++t,r}}}function K2(e,t){return new bo(e,G2(t))}function H2(e){const t=e.clone();return{clone:()=>H2(t),nextTaskIndex:n=>e.nextInt(0,n.length-1)}}class hR extends Ft{constructor(t){super(),this.act=t}generate(t,n){return new P(new bo(this.act,H2(t.clone())),void 0)}canShrinkWithoutContext(t){return!1}shrink(t,n){return q.nil()}}function xR(e){const{act:t=n=>n()}=e||{};return new hR(t)}function pR(e,t){const{act:n=r=>r()}=Array.isArray(e)?t||{}:e||{};return Array.isArray(e)?K2(n,e):function(r,...s){return K2(n,s)}}function mR(e={}){return An(e,$("-9223372036854775808"),$("9223372036854775807"),M5,Gn)}function dR(e={}){return An(e,$(0),$("18446744073709551615"),R5,Gn)}function gR(e){return new Error(`Unsupported AST node! Received: ${Mt(e)}`)}function Lu(e,t,n){if(!t&&!n)return e;const r={hasStart:!1,hasEnd:!1},s=Y2(e,t,n,r),i=t&&!r.hasStart,a=n&&!r.hasEnd;if(!i&&!a)return s;const u=[];return i&&(u.push({type:"Assertion",kind:"^"}),u.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}})),u.push(s),a&&(u.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}}),u.push({type:"Assertion",kind:"$"})),{type:"Group",capturing:!1,expression:{type:"Alternative",expressions:u}}}function Y2(e,t,n,r){switch(e.type){case"Char":return e;case"Repetition":return e;case"Quantifier":throw new Error("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return r.hasStart=!0,r.hasEnd=!0,{...e,expressions:e.expressions.map((s,i)=>Lu(s,t&&i===0,n&&i===e.expressions.length-1))};case"CharacterClass":return e;case"ClassRange":return e;case"Group":return{...e,expression:Y2(e.expression,t,n,r)};case"Disjunction":return r.hasStart=!0,r.hasEnd=!0,{...e,left:e.left!==null?Lu(e.left,t,n):null,right:e.right!==null?Lu(e.right,t,n):null};case"Assertion":{if(e.kind==="^"||e.kind==="Lookahead")return r.hasStart=!0,e;if(e.kind==="$"||e.kind==="Lookbehind")return r.hasEnd=!0,e;throw new Error(`Assertions of kind ${e.kind} not implemented yet!`)}case"Backreference":return e;default:throw gR(e)}}function bR(e){return Lu(e,!0,!0)}function J2(e,t){return e[t]>="\uD800"&&e[t]<="\uDBFF"&&e[t+1]>="\uDC00"&&e[t+1]<="\uDFFF"?2:1}function Nt(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function bh(e){return e>="0"&&e<="9"}function Z2(e,t){for(let n=t;n!==e.length;++n){const r=e[n];if(r==="\\")n+=1;else if(r==="]")return n}throw new Error("Missing closing ']'")}function yR(e,t){let n=0;for(let r=t;r!==e.length;++r){const s=e[r];if(s==="\\")r+=1;else if(s===")"){if(n===0)return r;n-=1}else s==="["?r=Z2(e,r):s==="("&&(n+=1)}throw new Error("Missing closing ')'")}function SR(e,t){let n=!1;for(let r=t;r!==e.length;++r){const s=e[r];if(!bh(s)){if(t===r)return-1;if(s===","){if(n)return-1;n=!0}else return s==="}"?r:-1}}return-1}var En;(function(e){e[e.Full=0]="Full",e[e.Character=1]="Character"})(En||(En={}));function _R(e,t,n,r){switch(e[t]){case"[":return r===En.Character?t+1:Z2(e,t+1)+1;case"{":{if(r===En.Character)return t+1;const s=SR(e,t+1);return s===-1?t+1:s+1}case"(":return r===En.Character?t+1:yR(e,t+1)+1;case"]":case"}":case")":return t+1;case"\\":{const s=e[t+1];switch(s){case"x":if(Nt(e[t+2])&&Nt(e[t+3]))return t+4;throw new Error(`Unexpected token '${e.substring(t,t+4)}' found`);case"u":if(e[t+2]==="{"){if(!n)return t+2;if(e[t+4]==="}"){if(Nt(e[t+3]))return t+5;throw new Error(`Unexpected token '${e.substring(t,t+5)}' found`)}if(e[t+5]==="}"){if(Nt(e[t+3])&&Nt(e[t+4]))return t+6;throw new Error(`Unexpected token '${e.substring(t,t+6)}' found`)}if(e[t+6]==="}"){if(Nt(e[t+3])&&Nt(e[t+4])&&Nt(e[t+5]))return t+7;throw new Error(`Unexpected token '${e.substring(t,t+7)}' found`)}if(e[t+7]==="}"){if(Nt(e[t+3])&&Nt(e[t+4])&&Nt(e[t+5])&&Nt(e[t+6]))return t+8;throw new Error(`Unexpected token '${e.substring(t,t+8)}' found`)}if(e[t+8]==="}"&&Nt(e[t+3])&&Nt(e[t+4])&&Nt(e[t+5])&&Nt(e[t+6])&&Nt(e[t+7]))return t+9;throw new Error(`Unexpected token '${e.substring(t,t+9)}' found`)}if(Nt(e[t+2])&&Nt(e[t+3])&&Nt(e[t+4])&&Nt(e[t+5]))return t+6;throw new Error(`Unexpected token '${e.substring(t,t+6)}' found`);case"p":case"P":{if(!n)return t+2;let i=t+2;for(;i<e.length&&e[i]!=="}";i+=e[i]==="\\"?2:1);if(e[i]!=="}")throw new Error("Invalid \\P definition");return i+1}case"k":{let i=t+2;for(;i<e.length&&e[i]!==">";++i);if(e[i]!==">"){if(!n)return t+2;throw new Error("Invalid \\k definition")}return i+1}default:{if(bh(s)){const a=n?e.length:Math.min(t+4,e.length);let u=t+2;for(;u<a&&bh(e[u]);++u);return u}const i=n?J2(e,t+1):1;return t+i+1}}}default:{const s=n?J2(e,t):1;return t+s}}}function Uu(e,t,n,r){const s=_R(e,t,n,r);return e.substring(t,s)}const yh=String.fromCodePoint;function Sh(e){const t=e.pop();if(t===void 0)throw new Error("Unable to extract token preceeding the currently parsed one");return t}function X2(e){return e>="0"&&e<="9"}function qu(e,t){return{type:"Char",kind:"simple",symbol:e,value:e,codePoint:e.codePointAt(0)||-1,escaped:t}}function Vs(e,t){return{type:"Char",kind:"meta",symbol:t,value:e,codePoint:t.codePointAt(0)||-1}}function Hn(e,t){if(e.length>1)return{type:"Alternative",expressions:e};if(!t&&e.length===0)throw new Error("Unsupported no token");return e[0]}function _h(e){if(e[0]==="\\"){const t=e[1];switch(t){case"x":{const n=e.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"hex",symbol:yh(r),value:e,codePoint:r}}case"u":{if(e==="\\u")return qu("u",!0);const n=e[2]==="{"?e.substring(3,e.length-1):e.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"unicode",symbol:yh(r),value:e,codePoint:r}}case"0":return Vs(e,"\0");case"n":return Vs(e,`
`);case"f":return Vs(e,"\f");case"r":return Vs(e,"\r");case"t":return Vs(e,"	");case"v":return Vs(e,"\v");case"w":case"W":case"d":case"D":case"s":case"S":case"b":case"B":return{type:"Char",kind:"meta",symbol:void 0,value:e,codePoint:Number.NaN};default:{if(X2(t)){const r=e.substring(1),s=Number(r);return{type:"Char",kind:"decimal",symbol:yh(s),value:e,codePoint:s}}if(e.length>2&&(t==="p"||t==="P"))throw new Error("UnicodeProperty not implemented yet!");const n=e.substring(1);return qu(n,!0)}}}return qu(e)}function Ws(e,t,n,r){let s=null;for(let i=0,a=Uu(t,i,n,En.Full);i!==t.length;i+=a.length,a=Uu(t,i,n,En.Full)){const u=a[0];switch(u){case"|":{s===null&&(s=[]),s.push(Hn(e.splice(0),!0)||null);break}case".":{e.push({type:"Char",kind:"meta",symbol:a,value:a,codePoint:Number.NaN});break}case"*":case"+":{const c=Sh(e);e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:u,greedy:!0}});break}case"?":{const c=Sh(e);c.type==="Repetition"?(c.quantifier.greedy=!1,e.push(c)):e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:u,greedy:!0}});break}case"{":{if(a==="{"){e.push(qu(a));break}const c=Sh(e),x=a.substring(1,a.length-1).split(","),p=Number(x[0]),g=x.length===1?p:x[1].length!==0?Number(x[1]):void 0;e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:"Range",greedy:!0,from:p,to:g}});break}case"[":{const c=a.substring(1,a.length-1),f=[];let x,p=!1;for(let g=0,b=Uu(c,g,n,En.Character);g!==c.length;g+=b.length,b=Uu(c,g,n,En.Character)){if(g===0&&b==="^"){x=!0;continue}const S=_h(b);if(b==="-")f.push(S),p=!0;else{const w=f.length>=2?f[f.length-2]:void 0;p&&w!==void 0&&w.type==="Char"?(f.pop(),f.pop(),f.push({type:"ClassRange",from:w,to:S})):f.push(S),p=!1}}e.push({type:"CharacterClass",expressions:f,negative:x});break}case"(":{const c=a.substring(1,a.length-1),f=[];if(c[0]==="?")if(c[1]===":")Ws(f,c.substring(2),n,r),e.push({type:"Group",capturing:!1,expression:Hn(f)});else if(c[1]==="="||c[1]==="!")Ws(f,c.substring(2),n,r),e.push({type:"Assertion",kind:"Lookahead",negative:c[1]==="!"?!0:void 0,assertion:Hn(f)});else if(c[1]==="<"&&(c[2]==="="||c[2]==="!"))Ws(f,c.substring(3),n,r),e.push({type:"Assertion",kind:"Lookbehind",negative:c[2]==="!"?!0:void 0,assertion:Hn(f)});else{const x=c.split(">");if(x.length<2||x[0][1]!=="<")throw new Error(`Unsupported regex content found at ${JSON.stringify(a)}`);const p=++r.lastIndex,g=x[0].substring(2);r.named.set(g,p),Ws(f,x.slice(1).join(">"),n,r),e.push({type:"Group",capturing:!0,nameRaw:g,name:g,number:p,expression:Hn(f)})}else{const x=++r.lastIndex;Ws(f,c,n,r),e.push({type:"Group",capturing:!0,number:x,expression:Hn(f)})}break}default:{if(a==="^")e.push({type:"Assertion",kind:a});else if(a==="$")e.push({type:"Assertion",kind:a});else if(a[0]==="\\"&&X2(a[1])){const c=Number(a.substring(1));n||c<=r.lastIndex?e.push({type:"Backreference",kind:"number",number:c,reference:c}):e.push(_h(a))}else if(a[0]==="\\"&&a[1]==="k"&&a.length!==2){const c=a.substring(3,a.length-1);e.push({type:"Backreference",kind:"name",number:r.named.get(c)||0,referenceRaw:c,reference:c})}else e.push(_h(a));break}}}if(s!==null){s.push(Hn(e.splice(0),!0)||null);let i={type:"Disjunction",left:s[0],right:s[1]};for(let a=2;a<s.length;++a)i={type:"Disjunction",left:i,right:s[a]};e.push(i)}}function wR(e){const t=yn([...e.flags],"u")!==-1,n=e.source,r=[];return Ws(r,n,t,{lastIndex:0,named:new Map}),Hn(r)}const AR=String.fromCodePoint,Q2=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],tS=[..."0123456789"],eS=[...` 	\r
\v\f`],wh=[...`\r
`],nS=[...""],ER=[...wh,...nS],Nr=()=>Rt({unit:"grapheme-ascii",minLength:1,maxLength:1});function rS(e){return new L(`Unsupported AST node! Received: ${Mt(e)}`)}function Yn(e,t,n){switch(e.type){case"Char":{if(e.kind==="meta")switch(e.value){case"\\w":return rn(...Q2);case"\\W":return Nr().filter(r=>yn(Q2,r)===-1);case"\\d":return rn(...tS);case"\\D":return Nr().filter(r=>yn(tS,r)===-1);case"\\s":return rn(...eS);case"\\S":return Nr().filter(r=>yn(eS,r)===-1);case"\\b":case"\\B":throw new L(`Meta character ${e.value} not implemented yet!`);case".":{const r=n.dotAll?nS:ER;return Nr().filter(s=>yn(r,s)===-1)}}if(e.symbol===void 0)throw new L(`Unexpected undefined symbol received for non-meta Char! Received: ${Mt(e)}`);return Zt(e.symbol)}case"Repetition":{const r=Yn(e.expression,t,n);switch(e.quantifier.kind){case"*":return Rt({...t,unit:r});case"+":return Rt({...t,minLength:1,unit:r});case"?":return Rt({...t,minLength:0,maxLength:1,unit:r});case"Range":return Rt({...t,minLength:e.quantifier.from,maxLength:e.quantifier.to,unit:r});default:throw rS(e.quantifier)}}case"Quantifier":throw new L("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return nt(...ht(e.expressions,r=>Yn(r,t,n))).map(r=>yt(r,""));case"CharacterClass":if(e.negative){const r=ht(e.expressions,s=>Yn(s,t,n));return Nr().filter(s=>Ug(r,i=>!i.canShrinkWithoutContext(s)))}return Xt(...ht(e.expressions,r=>Yn(r,t,n)));case"ClassRange":{const r=e.from.codePoint,s=e.to.codePoint;return mt({min:r,max:s}).map(i=>AR(i),i=>{if(typeof i!="string")throw new L("Invalid type");if([...i].length!==1)throw new L("Invalid length");return Ds(i,0)})}case"Group":return Yn(e.expression,t,n);case"Disjunction":{const r=e.left!==null?Yn(e.left,t,n):Zt(""),s=e.right!==null?Yn(e.right,t,n):Zt("");return Xt(r,s)}case"Assertion":{if(e.kind==="^"||e.kind==="$")return n.multiline?e.kind==="^"?Xt(Zt(""),nt(Rt({unit:Nr()}),rn(...wh)).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new L("Invalid type");return[Ct(r,0,r.length-1),r[r.length-1]]})):Xt(Zt(""),nt(rn(...wh),Rt({unit:Nr()})).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new L("Invalid type");return[r[0],Ct(r,1)]})):Zt("");throw new L(`Assertions of kind ${e.kind} not implemented yet!`)}case"Backreference":throw new L("Backreference nodes not implemented yet!");default:throw rS(e)}}function FR(e,t={}){for(const i of e.flags)if(i!=="d"&&i!=="g"&&i!=="m"&&i!=="s"&&i!=="u")throw new L(`Unable to use "stringMatching" against a regex using the flag ${i}`);const n={size:t.size},r={multiline:e.multiline,dotAll:e.dotAll},s=bR(wR(e));return Yn(s,n,r)}function CR(e){const t=[];for(let n=0;n!==e.length;++n)t.push(e[n].next());return t}function vR(e,t){for(let n=0;n!==e.length;++n)t[n]=e[n].next()}function kR(e){for(let t=0;t!==e.length;++t)if(e[t].done)return!0;return!1}function*IR(...e){const t=CR(e);for(;!kR(t);)yield t.map(n=>n.value),vR(e,t)}function*TR(e){let t=e;for(;;)yield t,++t}class OR extends Ft{constructor(t,n){super(),this.arb=t,this.maxShrinks=n}generate(t,n){const r=this.arb.generate(t,n);return this.valueMapper(r,0)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return this.isSafeContext(n)?this.safeShrink(t,n.originalContext,n.length):this.safeShrink(t,void 0,0)}safeShrink(t,n,r){const s=this.maxShrinks-r;return s<=0?q.nil():new q(IR(this.arb.shrink(t,n),TR(r+1))).take(s).map(i=>this.valueMapper(i[0],i[1]))}valueMapper(t,n){const r={originalContext:t.context,length:n};return new P(t.value,r)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalContext"in t&&"length"in t}}function $R(e,t){return new OR(e,t)}var rt=Object.freeze({__proto__:null,Arbitrary:Ft,get ExecutionStatus(){return wn},PreconditionFailure:Te,Random:we,Stream:q,Value:P,get VerbosityLevel(){return re},__commitHash:"fc3afba040ebfb5e6d276359f55ff2752618bc45",__type:"module",__version:"4.3.0",anything:F2,array:St,assert:Y$,asyncDefaultReportMessage:Gb,asyncModelRun:fR,asyncProperty:jO,asyncStringify:_l,asyncToStringMethod:_n,base64String:AM,bigInt:Gn,bigInt64Array:mR,bigUint64Array:dR,boolean:uo,check:Hb,clone:j9,cloneIfNeeded:Ns,cloneMethod:Jt,commands:sR,compareBooleanFunc:j7,compareFunc:U7,configureGlobal:DO,constant:Zt,constantFrom:rn,context:O9,createDepthIdentifier:oy,date:dy,defaultReportMessage:zb,dictionary:Rl,domain:Ul,double:Tu,emailAddress:t7,falsy:T9,float:Qy,float32Array:c2,float64Array:f2,func:W7,gen:s9,getDepthContextFor:kl,hasAsyncToStringMethod:Sl,hasCloneMethod:Or,hasToStringMethod:yl,hash:Ou,infiniteStream:dM,int16Array:l2,int32Array:h2,int8Array:x2,integer:mt,ipV4:th,ipV4Extended:r2,ipV6:o2,json:eM,jsonValue:C2,letrec:u2,limitShrink:$R,lorem:SB,mapToConstant:ho,maxSafeInteger:n2,maxSafeNat:H7,memo:_B,mixedCase:vB,modelRun:cR,nat:Kn,noBias:ly,noShrink:$u,object:XB,oneof:Xt,option:Rr,pre:y5,property:LO,readConfigureGlobal:He,record:xM,resetConfigureGlobal:PO,sample:Z$,scheduledModelRun:lR,scheduler:xR,schedulerFor:pR,shuffledSubarray:kM,sparseArray:_2,statistics:Q$,stream:qn,string:Rt,stringMatching:FR,stringify:Mt,subarray:vM,toStringMethod:Sn,tuple:nt,uint16Array:p2,uint32Array:m2,uint8Array:d2,uint8ClampedArray:g2,ulid:NM,uniqueArray:fo,uuid:VM,webAuthority:D2,webFragments:j2,webPath:U2,webQueryParameters:q2,webSegment:L2,webUrl:nR});function BR(e,t){return function(n){if(Array.isArray(n))return n.reduce(t,e);let r=e;for(const s of n)r=t(r,s);return r}}function MR(e){return function(t){return Array.isArray(t)?t.map(e):(function*(){for(const n of t)yield e(n)})()}}const RR=e=>t=>{const n=Object.keys(t);return e.imap(e.productAll(n.map(r=>t[r])),r=>{const s={};for(let i=0;i<r.length;i++)s[n[i]]=r[i];return s},r=>n.map(s=>r[s]))},Ee=(e,t=(n,r)=>BR(n,e)(r))=>({combine:e,combineMany:t}),NR=e=>Ee((t,n)=>e(t,n)===-1?t:n),DR=e=>Ee(()=>e,()=>e),PR=m(3,(e,t,n)=>Ee((r,s)=>t(e.combine(n(r),n(s))),(r,s)=>t(e.combineMany(n(r),MR(n)(s))))),jR=(e,t)=>Ee(([n,r],[s,i])=>[e.combine(n,s),t.combine(r,i)]),sS=e=>Ee((t,n)=>{const r=Math.min(t.length,n.length),s=[];let i=0;for(const a of e){if(i>=r)break;s.push(a.combine(t[i],n[i])),i++}return s}),iS=RR({of:DR,imap:PR,product:jR,productMany:(e,t)=>{const n=sS(t);return Ee((r,s)=>[e.combine(r[0],s[0]),...n.combine(r.slice(1),s.slice(1))])},productAll:sS}),Jn=(e,t)=>({combine:e.combine,combineMany:e.combineMany,empty:t,combineAll:n=>e.combineMany(t,n)}),LR=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n].empty);return Jn(iS(e),t)},UR=e=>m(3,(t,n,r)=>e.map(e.product(t,n),([s,i])=>r(s,i))),oS=e=>t=>m(2,(n,r)=>UR(e)(n,r,t)),aS=e=>m(2,(t,n)=>e.bimap(t,n,et)),uS=e=>m(2,(t,n)=>e.bimap(t,et,n)),qR=e=>m(3,(t,n,r)=>e(t,r)),Dr=e=>m(3,(t,n,r)=>e(t,n)),VR=e=>m(2,(t,n)=>e.map(n,r=>r(t))),Ah=e=>t=>n=>e.traverse(t)(n,et),cS=m(2,(e,t)=>e.map(n=>t(n))),WR=m(2,(e,t)=>e.chain(n=>t(n))),Eh={map:cS,imap:Dr(cS),flatMap:WR},{map:fS,flatMap:zR}=Eh,GR=e=>rt.oneof(l(e,fS(M)),rt.constant(B())),Fn=rt.integer({min:-100,max:100}),KR=rt.string({minLength:0,maxLength:3});fS(e=>new Error(e));const HR=e=>l(YR,zR(N(O(t=>[t,e]),Object.fromEntries,rt.record))),YR=rt.uniqueArray(rt.string({minLength:1,maxLength:5}),{minLength:1,maxLength:5,comparator:Fr}),{map:JR}=Eh;JR(e=>qd(new Error(e)));const ZR=e=>t=>e(t),XR=()=>e=>rt.func(e).map(ZR),lS=()=>XR()(rt.boolean()),{flatMap:QR,map:hS}=Eh;rt.oneof(Fn.map(e=>hr(e)),Fn.map(e=>C1(e)),Fn.map(e=>v1(e)),Fn.map(e=>k1(e)),Fn.map(e=>I1(e)),Fn.map(e=>T1(e))),l(rt.tuple(Fn,Fn),QR(([e,t])=>{const[n,r]=e<t?[e,t]:[t,e],s=rt.constant({compare:dF,maxBound:hr(n),minBound:hr(r)});return rt.tuple(l({min:n,max:r},rt.integer,hS(hr),rt.constant),s)})),l({min:-14,max:14},rt.integer,hS(e=>jT(e)));const tN=(e="",...t)=>({name:e,laws:t,sets:[]});((...e)=>tN("",...e))();const Fh={traverse:e=>m(2,(t,n)=>e.productAll(pt(t).map(n)))};Dr(mT);const eN=m(2,(e,t)=>n=>l(n,t,e));qR(eN),Dr(F3);const nN=e=>Jn(Ee((t,n)=>_t(t)?n:_t(n)?t:M(e.combine(t.value,n.value))),B());m(3,(e,t,n)=>l(e,ge({onNone:ei(t),onSome:r=>n(t,r)})));const Ch=Jn(Ee((e,t)=>e+t),0),rN=GR(Fn);HR(rN),lS();const sN=Vx(i1);QA(sN),nN(Ch),lS(),Jn(iS({x:NR(gt),y:Ee(m(2,Wf))}),{x:0,y:""});const{$is:vh,$match:iN,Left:oN,Right:aN,Both:uN}=qf(),yo=({Left:e,Right:t,Both:n})=>r=>l(r,iN({Left:s=>e(s),Right:s=>t(s),Both:s=>n(s)})),[So,_o,Zn]=[Object.assign(oN,{from:e=>So({left:e})}),Object.assign(aN,{from:e=>_o({right:e})}),Object.assign(uN,{from:(e,t)=>Zn({left:t,right:e})})];vh("Left"),vh("Right"),vh("Both"),m(2,(e,t)=>l(e,yo({Left:()=>So.from(t),Right:({right:n})=>Zn.from(n,t),Both:({right:n})=>Zn.from(n,t)}))),m(2,(e,t)=>l(e,yo({Left:({left:n})=>Zn.from(t,n),Right:()=>_o.from(t),Both:({left:n})=>Zn.from(t,n)})));const cN=e=>l(e,yo({Left:({left:t})=>[B(),M(t)],Right:({right:t})=>[M(t),B()],Both:({left:t,right:n})=>[M(n),M(t)]})),xS=(e,t,n)=>{const r=t.length-e.length;return[...ea(e,t,N(Zn.from,n)),...r===0?[]:r>0?l(t,ta(r),O(N(So.from,n))):l(e,ta(-1*r),O(N(_o.from,n)))]};m(2,(e,t)=>xS(e,t,et));const fN=e=>l(e,O(cN),Qi(N(ra(([t])=>de(t)),O(([t])=>t.value)),N(ra(([,t])=>de(t)),O(([,t])=>t.value)))),kh=m(3,(e,t,n)=>l(e,yo({Right:({right:r})=>l(r,t,_o.from),Left:({left:r})=>l(r,n,So.from),Both:({left:r,right:s})=>Zn({left:n(r),right:t(s)})}))),pS={bimap:kh};aS(pS),uS(pS),Object.assign(jc,{removeReadOnly:jc});const Fe=e=>({node:e}),Ye=Object.assign(m(2,(e,t)=>({node:e,forest:t})),{tupled:([e,t])=>({node:e,forest:t}),flipped:m(2,(e,t)=>({node:t,forest:e}))}),Xn=Object.assign(m(2,(e,t)=>Ut(t)?Ye(e,t):Fe(e)),{flipped:m(2,(e,t)=>Xn(t,e)),tupled:([e,t])=>Xn(e,t)}),mS=e=>!("forest"in e),lN=e=>!mS(e),se=({onLeaf:e,onBranch:t})=>n=>lN(n)?t(n.node,n.forest):e(n.node),hN=se({onLeaf:()=>0,onBranch:(e,t)=>t.length}),Vu=({node:e})=>e,xN=({forest:e})=>e,pN=m(2,(e,t)=>l(t,se({onLeaf:()=>Fe(e),onBranch:(n,r)=>Ye(e,r)})));m(2,(e,t)=>l(t,se({onLeaf:n=>Xn(n,e),onBranch:n=>Xn(n,e)}))),m(2,(e,t)=>l(e,Vu,t,pN(e)));const dS=m(2,(e,t)=>l(e,se({onLeaf:Fe,onBranch:(n,r)=>({node:n,forest:O(r,t)})})));Dr(dS),m(2,(e,t)=>l(e,dS(t),se({onLeaf:Fe,onBranch:Ye})));const wo={traverse:e=>m(2,(t,n)=>l(t,se({onLeaf:N(Fe,e.of),onBranch:(r,s)=>mN(e)(r,O(s,n))})))},mN=e=>(t,n)=>l(t,e.of,oS(e)(Xn)(Ah(Fh)(e)(n))),Wu=e=>({unfixed:e}),Ih=e=>e.unfixed,dN=Ie,gS=ze,gN=Dr(gS),bN=e=>(t,n)=>nu([t,n],e),yN=e=>(t,n)=>nu([t,...n],e),SN=e=>t=>nu(t,e),_N=e=>({imap:gN,of:dN,map:gS,product:bN(e),productMany:yN(e),productAll:SN(e)}),Ao=e=>t=>l(t,e,Ie),bS=e=>(t,n)=>{const r=e.traverse(_N()),s=i=>l(i,t,gn(a=>Cr(()=>l(a,r(s)))),gn(n));return s},yS=e=>(t,n)=>r=>l(r,bS(e)(Ao(t),Ao(n)),Ln),SS=e=>t=>bS(e)(n=>l(n,Ih,Ie),t),Th=e=>t=>N(l(t,Ao,SS(e)),Ln),wN=e=>t=>yS(e)(t,Wu),[_S,AN]=[Wu,Ih],zu=Wu,EN=Ih,Je=N(Fe,_S),Cn=Object.assign(m(2,(e,t)=>zu(Ye(e,t))),{flipped:e=>t=>zu(Ye(e,t)),tupled:([e,t])=>zu(Ye(e,t))}),Gu=(e,t=[])=>Ut(t)?Cn(e,t):Je(e),Qn=Object.assign(Gu,{curried:e=>t=>Gu(t,e),flipped:e=>t=>Gu(e,t),tupled:([e,t])=>Gu(e,t)}),on=e=>mS(e.unfixed),FN=e=>!on(e),xe=N(AN,Vu),zs=N(EN,xN),ie=({onLeaf:e,onBranch:t})=>n=>FN(n)?t(...l(n,Qi(xe,zs))):l(n,xe,e),CN=(e,t)=>l(e,ie({onLeaf:N(t,ze(Je)),onBranch:(n,r)=>Cr(()=>l(r,Bs(Pr(t)),gn(s=>l(n,t,ze(Cn(s))))))})),vN=e=>ie({onLeaf:N(e,ze(Je)),onBranch:(t,n)=>Cr(()=>gn(e(t),r=>l(n,Bs(Pr.pre(e)),ze(Qn.flipped(r)))))}),Pr=Object.assign(m(2,CN),{pre:vN}),an=m(2,(e,t)=>l(e,Pr.pre(N(t,Ie)),Ln)),kN=Dr(an),wS={map:an,imap:kN};VR(wS);const AS=e=>l(e,se({onLeaf:et,onBranch:(t,n)=>Cn(xe(t),n)}));Th(wo)(AS);const ES=SS(wo)(N(AS,Ie)),IN=Object.assign(m(2,(e,t)=>l(e,Pr(t),gn(ES))),{pre:e=>t=>l(t,Pr.pre(e),gn(ES))}),TN=m(2,(e,t)=>l(e,IN(N(t,Ie)),Ln)),ON=Je;({...wS},m(2,(e,t)=>l(e,TN(n=>l(t,an(vr.withFirst(n)))))));const Ku=ie({onLeaf:()=>0,onBranch:(e,t)=>t.length}),$N=e=>l(e,ie({onLeaf:()=>[],onBranch:(t,n)=>n})),BN=m(2,(e,t)=>({unfixed:l(e,ie({onLeaf:()=>Fe(t),onBranch:(n,r)=>Ye(t,r)}))})),FS=(e,t)=>l(e,xe,Ye(t),zu),Oh=Object.assign(m(2,FS),{flip:e=>t=>FS(e,t)});m(2,(e,t)=>on(e)?e:t(e)),m(2,(e,t)=>BN(e,l(e,xe,t)));const $h=m(2,(e,t)=>l(e,Qi(xe,N($N,t)),Qn.tupled)),CS=e=>t=>Oh(t,l(t,zs,e)),vS=(e,t)=>l(t,ie({onLeaf:Ms(B()),onBranch:(n,r)=>Xx(r,e+(e<0?r.length:0))})),kS=Object.assign(m(2,(e,t)=>vS(e,t)),{flip:e=>t=>vS(e,t)}),MN=Object.assign(m(2,(e,t)=>{const[n,...r]=e;if(n===void 0)return B();let s=kS(n,t);if(_t(s))return B();for(const i of r)if(s=kS(i,s.value),_t(s))return B();return s}),{flip:e=>t=>MN(e,t)}),Bh=(e,t,n)=>l(e,ie({onLeaf:r=>[],onBranch:(r,s)=>s.slice(t,n)}));Object.assign(Bh,{curry:(e,t)=>n=>Bh(n,e,t),flip:e=>(t,n)=>Bh(e,t,n)});const RN=Ee((e,t)=>e&&t,(e,t)=>{if(e===!1)return!1;for(const n of t)if(n===!1)return!1;return!0}),NN=Ee((e,t)=>e||t,(e,t)=>{if(e===!0)return!0;for(const n of t)if(n===!0)return!0;return!1}),DN=Ee((e,t)=>e!==t),PN=Ee((e,t)=>e===t),jN=Jn(RN,!0),LN=Jn(NN,!1),UN=Jn(DN,!1),qN=Jn(PN,!0),vn=Th(wo);m(3,(e,t,n)=>l(t,IS(n,e),Ln));const IS=(e,t)=>n=>l(t,ie({onLeaf:r=>Ie(e(n,r)),onBranch:(r,s)=>ar(s,Ie(e(n,r)),(i,a)=>Cr(()=>l(i,gn(IS(e,a)))))})),Hu=e=>vn(TS(e)),TS=e=>t=>l(t,se({onLeaf:n=>e.combine(e.empty,n),onBranch:(n,r)=>ar(r,e.combine(e.empty,n),e.combine)}));Hu(jN),Hu(LN),Hu(UN),Hu(qN);const OS=e=>t=>n=>r=>{const s=VN(t),i=ie({onLeaf:N(n,ze(t.map(Je))),onBranch:(a,u)=>Cr(()=>e==="post"?l(u,Bs(i),gn(c=>ze(n(a),s(c)))):l(a,n,gn(c=>l(u,Bs(i),ze(f=>s(c,f))))))});return i(r)};Object.assign(OS("pre"),{post:OS("post")});const VN=e=>m(2,(t,n)=>oS(e)((r,s)=>Qn(r,s))(t,l(n,Ah(Fh)(e)))),Eo=wN(wo),WN=e=>N(Qi(e,Xn.flipped),i5),zN=yS(wo),GN=m(3,(e,t,n)=>{const r=t+(t<0?Ku(e):0);return l(e,ie({onLeaf:Cn(n),onBranch:(s,i)=>{const a=r>=i.length?[...i,...n]:i.toSpliced(r,0,...n);return Cn(s,a)}}))});m(3,(e,t,n)=>GN(e,n,[t]));const KN=m(2,(e,t)=>on(e)?l(e,xe,Cn([t])):l(e,CS(Kd(t)))),HN=m(2,(e,t)=>on(e)?l(e,xe,Cn([t])):l(e,CS(Hd(t))));m(2,(e,t)=>fe(t)?on(e)?l(e,Oh(t)):l(e,$h(VT(t))):e),m(2,(e,t)=>fe(t)?on(e)?l(e,Oh(t)):l(e,$h(WT(t))):e);const $S=(e,t)=>n=>{const r=e+(e<0?Ku(n):0);return l(n,$h(s=>r>=s.length?[...s]:s.toSpliced(r,t)))},BS=Object.assign(m(2,(e,t)=>$S(e,1)(t)),{flip:e=>$S(e,1)});BS.flip(0),BS.flip(-1);const YN=({depth:e,degree:t=()=>1})=>WN(n=>n>=e?[]:fn(n+1,t(n))),JN=([e,t])=>{const n=t+1;return l(e,ie({onLeaf:N(vr.withSecond(n),Fe),onBranch:(r,s)=>Ye([r,n],l(s,O(vr.withSecond(n))))}))},ZN=e=>(t=1)=>l(e,YN,Eo)(t),Mh=({degree:e,depth:t})=>ZN({depth:t,degree:Ms(e)})(1);Mh.string=N(Mh,an(du));const MS=e=>Mh({degree:2,depth:e});MS.string=N(MS,an(du));const XN=se({onLeaf:e=>[e],onBranch:(e,t)=>l(t,yi,Qe(e))}),QN=se({onLeaf:()=>1,onBranch:(e,t)=>Math.max(...t)+1}),tD=se({onLeaf:()=>0,onBranch:(e,t)=>Math.max(t.length,...t)}),eD=e=>l(e,vn(QN)),nD=e=>l(e,vn(tD)),RS=e=>(t,n)=>{const r=Sx(RS(e)),s=e(xe(t),xe(n)),i=()=>l(s,Je,Ie);return l(t,ie({onLeaf:i,onBranch:(a,u)=>l(n,ie({onLeaf:i,onBranch:(c,f)=>Cr(()=>l(u,bi(f),Bs(r),ze(Qn.flipped(s))))}))}))},rD=(e,t,n)=>Ln(RS(n)(e,t));m(2,(e,t)=>rD(e,t,(n,r)=>[n,r]));const sD=e=>se({onLeaf:vr.withSecond(B()),onBranch:(t,n)=>l(n,gE(iD(e)),Pc(qA(()=>M(t))))});function iD(e){return l(e,$c(Wx))}const oD=e=>t=>{const[n,r]=l(e,sD,vn)(t);return[(_t(r)?et:l(n,Gf.curried(e),nA,aD))(t),n,r]},aD=e=>l(e,cD,vn),uD=e=>se({onLeaf:Je,onBranch:(t,n)=>Qn(t,l(n,ra(e)))}),cD=e=>uD(({unfixed:t})=>hN(t)!==0||l(t,Vu,e)),NS=(e,t=2)=>l([e,0],zN(JN,XN),O(([n,r])=>l((r-1)*t,m5,h5(n)))),DS=Object.assign(NS,{curried:e=>t=>NS(t,e)}),PS=e=>{const[t,n]=e;if(n===void 0)return _S(Fe(t));const r=LS(n),s=a=>LS(a)/r,i=l(e,O(a=>[a.trimStart(),s(a)]));return l(i,Eo(jS))},jS=([[e,t],n,...r])=>{if(n===void 0)return Fe(e);const s=[[n]];for(const[i,a]of r)a>t+1?s.at(-1).push([i,a]):s.push([[i,a]]);return Ye(e,s)},LS=e=>l(e,b5(x5(" ")),DT);var fD=Object.freeze({__proto__:null,decode:PS,decodeIndentedUnfold:jS,encode:DS});const US=e=>Kx(e)?Xn(...e):Fe(e),lD=Eo(US),qS=e=>{if(Kx(Vu(e)))throw new Error("Cannot encode a tree of arrays as an array tree.");return l(e,se({onLeaf:et,onBranch:(t,n)=>[t,n]}))};var hD=Object.freeze({__proto__:null,decode:lD,decodeUnfold:US,encode:e=>l(e,vn(qS)),unsafeEncodeFold:qS});const Rh=e=>l(e,ar(bD(),xD)),xD=(e,t)=>l([t,e],pD,mD,dD,KA),pD=([[e,t],{roots:n,...r}])=>[[e,t],{...r,roots:l(n,l(t,ge({onNone:()=>fs,onSome:()=>_0}))(e))}],mD=([[e,t],{toParent:n,...r}])=>[[e,t],{...r,toParent:l(n,l(t,ge({onNone:()=>et,onSome:s=>C0(e,s)})))}],dD=([[e,t],{toChildren:n,...r}])=>[[e,t],{...r,toChildren:l(t,ge({onNone:()=>n,onSome:gD(n,e)}))}],gD=(e,t)=>n=>l(e,X1(n,N(ge({onNone:()=>[t],onSome:Mn(t)}),M))),bD=()=>({roots:Nn(),toParent:Ci(),toChildren:Ci()}),Nh=e=>[e,B()],VS=e=>([t])=>[t,M(e)],WS=({roots:e,toChildren:t})=>{const[n]=s3(e);if(n===void 0)throw new Error("Edge map |roots|=0");if(S0(e)!==1)throw new Error("Edge map |roots|1");return[n,l(t,F0(n),Xe(()=>[]))]},zS=e=>t=>({...e,roots:q1([t])}),GS=e=>jc(e,Vx(e)),yD=e=>l(e,GS,ur),SD=O(Pc(Xe(()=>0))),KS=e=>{const[t,n]=WS(e);return l(n,nE({onEmpty:()=>Fe(t),onNonEmpty:N(O(zS(e)),Xn.flipped(t))}))},HS=e=>l(e,Eo(KS)),Dh=N(Rh,HS),YS=se({onLeaf:e=>[Nh(e)],onBranch:(e,t)=>l(t,t1(cE(VS(e))),Qe(Nh(e)))}),Ph=vn(YS),_D=N(Ph,Rh);var wD=Object.freeze({__proto__:null,decode:Dh,decodeMap:HS,decodeUnfold:KS,encode:Ph,encodeFold:YS,getEdgeEquivalence:GS,getEdgeListEquivalence:yD,getMapChildren:WS,index:_D,indexParents:Rh,numeric:SD,rootTreeEdge:Nh,setMapRoot:zS,setParent:VS});const JS=e=>l(e,se({onLeaf:t=>[[t]],onBranch:(t,n)=>l(n,yi,O(r=>[t,...r]))})),ZS=e=>t=>{const n=l(e,$c(Gt)),r=Gf(n),s=t[0][0],i=l(t,O(ln),ra(Ut));return Ut(i)?Ye(s,mE(l(i,uE(n)),r)):Fe(s)},XS=vn(JS),Gs=e=>t=>l(t,Eo(ZS(e)));Gs.number=Gs(gt),Gs.string=Gs(RT);var AD=Object.freeze({__proto__:null,decode:Gs,encode:XS,isValidPathList:e=>t=>{const n=new Map,r=new Set,s=t[0][0];for(const i of t){const[a,u]=[Gt(i),di(i)];if(!e(a,s)||r.has(u))return!1;r.add(u);const c=l(ln(i),bi(Wc(i)));if(Hx(c))return t.length===1;for(const[f,x]of c){const p=n.get(f);if(p===void 0)n.set(f,x);else if(!e(p,x))return!1}}return!0},pathListFold:JS,pathListUnfold:ZS});const kn=e=>fe(e)?l(e,QS,Dh):Cn(1,[Je(2)]),QS=e=>{const t=[],n=[-1,2,...l(1,fn(e.length+1))];for(const s of e)n[s]++;let r=n.indexOf(1);for(const s of e)t.push([r,M(s)]),n[r]--,r=--n[s]===1&&s<r?s:n.indexOf(1,r);return[[1,B()],[r,M(1)],...t]},jr=e=>t=>{const[n,...r]=zs(t);if(r.length===0&&on(n))return[];const s=oD(e),i=a=>{const[u,,c]=s(a);return l(c,ge({onNone:()=>Ie([]),onSome:f=>l(Cr(()=>i(u)),ze(Hd(f)))}))};return l(l(t,i,Ln),Wc)},t_=e=>BigInt(e)**(BigInt(e)-2n),Ze=e=>e.length+2,jh=e=>e-2,Fo=(e,t)=>{if(t<3)return[];const n=O(Jd(e-1n,t),Yc),r=t-n.length-2;return l(n,pi(r===0?[]:fn(1,r)))},Lh=e=>{if(e.length===0)return[1n,2];const[t,n]=l(e,O(Jc),Un.mapSecond(Ze));return[Zd(t,n)+1n,n]},ED=(e,t)=>l(Fo(e,t),kn),FD=e=>l(e,jr(gt),Lh),e_=e=>{const t=t_(e);return e>=36?[Fo(1n,e)]:l(tE(1,Number(t)),O(n=>Fo(BigInt(n),e)))},CD=e=>e<2?[]:e===2?[Cn(1,[ON(2)])]:l(e,e_,O(kn)),Co=e=>e<3?[]:l(e,jh,t=>fn(1,t)),vD=e=>l(e,Ze,Co),kD=e=>l(e,Ze,Yc,Co),vo=e=>e<3?[]:l(e,jh,t=>fn(e,t)),ID=e=>l(e,Ze,vo),TD=e=>l(e,Ze,Jc,vo),Uh=e=>fe(e)?e1(e,t=>t===1):!0,qh=e=>{if(fe(e)){const t=Ze(e);return l(e,e1(n=>n===t))}else return!0},Vh=e=>fe(e)?Uh(e)?e.length===1?[]:vo(Ze(e)-1):l(e,s_(Dc(t=>t-1n))):[],Wh=e=>qh(e)?Co(Ze(e)+1):l(e,s_(Dc(t=>t+1n))),n_=e=>fe(e)?Uh(e)?l(e,Ze,vo):Vh(e):[],r_=e=>qh(e)?l(e,Ze,Co):Wh(e),OD=e=>l(e,jr(gt),Vh,kn),$D=e=>l(e,jr(gt),Wh,kn),BD=e=>l(e,jr(gt),n_,kn),MD=e=>l(e,jr(gt),r_,kn),s_=e=>t=>{const[n,r]=l(t,Lh,e);return Fo(n,r)};var RD=Object.freeze({__proto__:null,allCodesAt:e_,allTreesAt:CD,codeCount:jh,computeNodeCount:Ze,decode:kn,encode:jr,fromOrdinal:Fo,getFirstCode:vD,getFirstCodeFor:Co,getLastCode:ID,getLastCodeFor:vo,getNextFirstCode:kD,getNthTree:ED,getPreviousLastCode:TD,isFirstCode:Uh,isLastCode:qh,labeledTreeCount:t_,nextCode:Wh,nextCodeWrap:r_,nextTree:$D,nextTreeWrap:MD,previousCode:Vh,previousCodeWrap:n_,previousTree:OD,previousTreeWrap:BD,toEdges:QS,toOrdinal:Lh,treeToOrdinal:FD});const ND=()=>({to:Ph,from:Dh}),DD=e=>({to:XS,from:Gs(e)}),PD={to:jr(gt),from:kn};var jD=Object.freeze({__proto__:null,Arrays:hD,ArraysIsomorphism:DD,EdgeListIsomorphism:ND,Edges:wD,Indented:fD,IndentedIsomorphism:e=>({to:DS.curried(e),from:PS}),Paths:AD,Prufer:RD,PruferIsomorphism:PD});O(([e,t])=>l(e,Qo,qx(vr.withSecond(t))));const LD=LR({numerator:Ch,denominator:Ch}),UD=e=>l(e,TS(LD)),qD=({numerator:e,denominator:t})=>t===0?0:e/t;N(an(e=>({numerator:e,denominator:1})),vn(UD),qD);const i_=e=>{const[t,n]=[Pr(Ao(N(_o.from,e))),Pr(Ao(N(So.from,e)))],r=i=>ze(Qn.flipped(i)),s=i=>a=>u=>l(u,Bs(a),r(i));return(i,a)=>{const u=e(Zn.from(xe(i),xe(a)));return l(i,ie({onLeaf:()=>l(a,ie({onLeaf:()=>l(u,Je,Ie),onBranch:(c,f)=>s(u)(n)(f)})),onBranch:(c,f)=>l(a,ie({onLeaf:()=>s(u)(t)(f),onBranch:(x,p)=>l(xS(p,f,yo({Left:({left:g})=>t(g),Right:({right:g})=>n(g),Both:({left:g,right:b})=>i_(e)(g,b)})),nu,r(u))}))}))}};se({onLeaf:kh(Je,Je),onBranch:(e,t)=>{const[n,r]=fN(t);return l(e,kh(Qn.curried(r),Qn.curried(n)))}});const VD=e=>N(i_(e),Ln);m(2,(e,t)=>VD(et)(e,t));const o_=(e,t)=>rt.integer({min:e,max:t}).map(n=>String.fromCodePoint(n)),WD=o_(65,90),zD=o_(97,122),a_=rt.boolean().chain(e=>e?WD:zD),zh=rt.array(a_,{minLength:0,maxLength:3}),u_=zh.map(xt),Gh=rt.array(a_,{minLength:1,maxLength:3});Gh.map(xt);const GD=["topLeft","topRight"],KD=["bottomRight","bottomLeft"],c_=[...GD,...KD],Ks=["top","right","bottom","left"],f_=(e,t,n)=>Lc(e,t,Ms(n)),l_=Object.assign(m(3,f_),{named:(e,t)=>n=>f_(tr(n),e,t)}),HD={ascii:Oe("..''"),diagonal:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},double:Oe(""),hDouble:Oe(""),hThick:Oe(""),round:Oe(""),solid:nn("")(...c_),space:nn(" ")(...c_),thick:Oe(""),thin:Oe(""),vDouble:Oe(""),vThick:Oe(""),halfSolid:Oe(""),halfSolidNear:Oe(""),halfSolidFar:Oe("")},tr=e=>HD[e];function Oe(e){const[t,n,r,s]=gu(e);return{topLeft:t,topRight:n,bottomRight:s,bottomLeft:r}}const h_=(e,t,n)=>Lc(e,t,Ms(n)),x_=Object.assign(m(3,h_),{named:(e,t)=>n=>h_($e(n),e,t)}),YD={ascii:pe("-|"),dashed:pe(""),dashedWide:pe(""),dotted:pe(""),double:pe(""),halfSolid:Yu(""),halfSolidNear:Yu(""),halfSolidFar:Yu(""),hDouble:pe(""),hThick:pe(""),near:Yu(""),solid:nn("")(...Ks),space:nn(" ")(...Ks),thick:pe(""),thickDashed:pe(""),thickDashedWide:pe(""),thickDotted:pe(""),thin:pe(""),vDouble:pe(""),vThick:pe("")},$e=e=>YD[e];function pe(e){const[t,n]=gu(e);return{top:t,right:n,bottom:t,left:n}}function Yu(e){const[t,n,r,s]=gu(e);return{top:t,right:n,bottom:r,left:s}}Object.assign(m(3,({lines:e,...t},n,r)=>({...t,lines:x_(e,n,r)})),{named:(e,t)=>({lines:n,...r})=>({...r,lines:x_(n,e,Kh(t).lines[e])})}),Object.assign(m(3,({elbows:e,...t},n,r)=>({...t,elbows:l_(e,n,r)})),{named:(e,t)=>({elbows:n,...r})=>({...r,elbows:l_(n,e,tr(t)[e])})});const JD={ascii:Dt("ascii","ascii"),thin:Dt("thin","thin"),dashed:Dt("dashed","thin"),dashedWide:Dt("dashedWide","thin"),dotted:Dt("dotted","thin"),thick:Dt("thick","thick"),hThick:Dt("hThick","hThick"),vThick:Dt("vThick","vThick"),thickDashed:Dt("thickDashed","thick"),thickDashedWide:Dt("dashedWide","thick"),thickDotted:Dt("thickDotted","thick"),double:Dt("double","double"),hDouble:Dt("hDouble","hDouble"),vDouble:Dt("vDouble","vDouble"),solid:Dt("solid","solid"),space:Dt("space","space"),near:Dt("near","space"),halfSolid:Dt("halfSolid","halfSolid"),halfSolidNear:Dt("halfSolidNear","halfSolidNear"),halfSolidFar:Dt("halfSolidFar","halfSolidFar"),beveled:Dt("near","diagonal")},Kh=e=>JD[e];function Dt(e,t){return{lines:$e(e),elbows:tr(t)}}const p_=(e,t,n)=>Lc(e,t,Ms(n));Object.assign(m(3,p_),{named:(e,t)=>n=>p_(Hs(n),e,t)});const ZD={ascii:nn("+")(...Ks),double:In(""),hDouble:In(""),hThick:In(""),solid:nn("")(...Ks),space:nn(" ")(...Ks),thick:In(""),thin:In(""),vDouble:In(""),vThick:In(""),vThickTop:In(""),vThickBottom:In("")},Hs=e=>ZD[e];function In(e){const[t,n,r,s]=gu(e);return{top:t,right:n,bottom:r,left:s}}const me=(e=[" "],t="",n="")=>({axis:"horizontal",prefix:t,body:e,suffix:n}),un=(e=[""],t=[],n=[])=>({axis:"vertical",prefix:t,body:e,suffix:n}),Ju=(e,t=e)=>({left:e,right:t}),Zu=(e,t=e)=>({top:e,bottom:t});me.space=me([" "]),un.empty=un([""]),Ju.space=Ju(me.space),Zu.empty=Zu(un.empty);const ko=me.space,Hh=un.empty,XD={top:Hh,right:ko,bottom:Hh,left:ko},m_=e=>({...XD,...Kf(e??{})});me.fill=({prefix:e,body:t,suffix:n})=>r=>{if(r===0)return"";const s=r-Tr(e)-Tr(n);if(s>=0)return e+l(t,xt,sl(s))+n;const i=Math.floor(r/2),a=r-i;return xt([...bu(0,a)(e),...bu(0,i)(n)])},un.fill=({prefix:e,body:t,suffix:n})=>r=>{if(r===0)return[];const s=r-e.length-n.length;if(s>=0)return[...e,...d5(s)(t),...n];const i=Math.floor(r/2),a=r-i;return[...e.slice(0,a),...n.slice(0,i)]},Ju.fill=({left:e,right:t})=>(n,r)=>s=>me.fill(e)(n)+s+me.fill(t)(r),Zu.fill=({top:e,bottom:t})=>([n,r])=>s=>[...un.fill(e)(n),...s,...un.fill(t)(r)];const Yh=(e=Hh,t=ko,n=e,r=t)=>({top:e,right:t,bottom:n,left:r}),Xu=ur(Fr),Jh=Po({prefix:Fr,body:Xu,suffix:Fr}),Zh=Po({prefix:Xu,body:Xu,suffix:Xu}),d_=({prefix:e,body:t,suffix:n})=>`${e}${xt.quote.fancy(t)}${n}`,g_=({prefix:e,body:t,suffix:n})=>xt.rest("",xt.comma(e),`${xt.quote.fancy(t)}`,xt.comma(n)),b_=({right:e,left:t})=>xt.rest(`${d_(t)}`,...Jh(t,e)?[]:[`${d_(e)}`]),QD=({top:e,bottom:t})=>xt.rest(`${g_(e)}`,...Zh(e,t)?[]:[`${g_(t)}`]),tP=({top:e,right:t,bottom:n,left:r})=>xt.rest(b_({left:r,right:t}),QD({top:e,bottom:n})),eP=(e,t,n)=>r=>r==="left"?e():r==="center"?t():n(),nP=(e,t,n)=>r=>r==="top"?e():r==="middle"?t():n(),y_=e=>[e("left",0),e("center",1),e("right",2)],S_=e=>[e("top",0),e("middle",1),e("bottom",2)],Ys=e=>xi(y_((t,n)=>[t,e(t,n)])),Xh=e=>xi(S_((t,n)=>[t,e(t,n)])),rP={left:"",center:"",right:"",top:"",middle:"",bottom:""},Qh=e=>rP[e],__=Po({left:Jh,right:Jh,hAlign:Fr}),sP=Po({top:Zh,bottom:Zh,vAlign:Fr}),iP=Gw(__,sP),w_=(e,t,n=!1)=>r=>{if(r.length<=1)return r;const s=g5(r),i=a=>s-Tr(a);return l(r,O(a=>{const u=i(a);return u<=0?a:oP(e,t,u,n)(a)}))};function oP(e,t,n,r){const{left:s,right:i}=e;return a=>l(t,eP(()=>a+me.fill(i)(n),()=>Ju.fill(e)(...(r?Xd:Qd)(n))(a),()=>me.fill(s)(n)+a))}const tx=(e,t,n,r=!1)=>s=>{const i=HT(s);return i===0?s:l(s,O(a=>{const u=i-a.length;return l(a,u<=0?et:aP(e,t,u,r),n)}))};tx.useTopRound=(e,t,n)=>tx(e,t,n,!0);function aP(e,t,n,r=!1){return l(t,nP(()=>[n,0],()=>r5[r?"halfToFirst":"halfToSecond"](n),()=>[0,n]),HA,Zu.fill(e))}const Io=qf(),To=Io.$is,A_=Io.EmptyF,E_=Io.TextF,Qu=Io.RowF,tc=Io.ColumnF,ex=e=>To("EmptyF")(e),nx=e=>To("TextF")(e),rx=e=>To("RowF")(e),F_=e=>To("ColumnF")(e),Js=(e,t,n,r)=>s=>ex(s)?e:nx(s)?t(s.show):rx(s)?n(s):r(s),ec=A_(),nc=e=>E_({show:e}),C_=e=>t=>Qu({...e,cells:t}),v_=e=>t=>tc({...e,cells:t}),rc=m(2,(e,t)=>l(e,Js(ec,n=>nc(n),({cells:n,...r})=>Qu({...r,cells:l(n,O(t))}),({cells:n,...r})=>tc({...r,cells:l(n,O(t))})))),k_=Dr(rc),I_=e=>m(2,(t,n)=>l(t,rc(n),cP(e))),uP={map:rc,imap:k_},T_={traverse:I_},cP=e=>t=>{const n=Ah(Fh)(e),r=e.map;return l(t,Js(e.of(ec),N(nc,e.of),({cells:s,...i})=>l(s,n,r(a=>Qu({...i,cells:[...a]}))),({cells:s,...i})=>l(s,n,r(a=>tc({...i,cells:[...a]})))))},fP=e=>(t,n)=>l(t,Js(ex(n),r=>nx(n)&&n.show===r,r=>rx(n)&&lP(e)(r,n),r=>F_(n)&&hP(e)(r,n))),lP=e=>({cells:t,...n},{cells:r,...s})=>iP(n,s)&&ur(e)(t,r),hP=e=>({cells:t,...n},{cells:r,...s})=>__(n,s)&&ur(e)(t,r),xP=Ie({}),pP=qd(void 0);var mP=Object.freeze({__proto__:null,ColumnF:tc,Covariant:uP,EmptyF:A_,RowF:Qu,TextF:E_,Traversable:T_,columnF:v_,emptyF:ec,equalsFail:pP,equalsSuccess:xP,getEquivalence:fP,imap:k_,isColumnF:F_,isEmptyF:ex,isPartFOf:To,isRowF:rx,isTextF:nx,map:rc,matchPartF:Js,rowF:C_,textF:nc,traverse:I_});const sc=e=>Wu(e),dP=e=>N(C_(e),sc),O_=e=>N(v_(e),sc),$_=sc(ec),Tn=N(nc,sc),B_=(e="middle")=>(t="center")=>(n,r)=>dP({hAlign:t,vAlign:e,...m_(r)})(n),Oo=Object.assign(B_,Xh(N(B_,Ys))),M_=(e="middle")=>(t="center")=>(n,r)=>s=>Oo(e)(t)([s,n],r),R_=(e="middle")=>(t="center")=>(n,r)=>s=>Oo(e)(t)([n,s],r),gP=Object.assign(M_,Xh(e=>Ys(t=>M_(e)(t)))),N_=Object.assign(R_,Xh(e=>Ys(t=>R_(e)(t)))),D_=(e="center")=>(t,n=ko,r=n)=>O_({hAlign:e,left:n,right:r})(t),er=Object.assign(D_,Ys(D_)),sx=(e="center")=>(t,n=ko,r=n)=>s=>O_({hAlign:e,left:n,right:r})([t,s]),P_=e=>(t,n,r)=>s=>sx(e)(s,n,r)(t),j_=Object.assign(e=>(t,n,r)=>s=>sx(e)(t,n,r)(s),Ys(sx)),L_=Object.assign(e=>(t,n,r)=>s=>P_(e)(t,n,r)(s),Ys(P_)),ix=e=>Th(T_)(e),U_=Js([],le,yP,SP),bP=Object.assign(ix(U_),{unlines:e=>l(e,ix(U_),Rs)});function yP({hAlign:e,vAlign:t,cells:[n,...r],...s}){if(n===void 0)return[];const{left:i,right:a,top:u,bottom:c}=m_(s),f=l([n,...r],tx({top:u,bottom:c},t,w_({left:i,right:a},e)));return l(f,zd,O(O(Xe(Ms(" ")))),O(xt))}function SP({cells:e,hAlign:t,...n}){return l(e,yi,w_(n,t))}const _P=Js("",Tt.quote.fancy,wP,AP);ix(_P);function wP({cells:e,hAlign:t,vAlign:n,...r}){return xt.rest(Qh(t),Qh(n),".",tP(r),"(",e.join(", "),")")}function AP({hAlign:e,cells:t,...n}){return xt.rest(Qh(e),b_(n),"(",t.join(", "),")")}const q_=["rootBullet","branchBullet","leafBullet"],EP=["elbow","hLine","indent","rightTee","space","tee","vLine",...q_],FP=nn("")(...q_),$o={...nn("")(...EP),...W_("space"),...FP,tee:Hs("space").bottom,rightTee:Hs("space").right,elbow:tr("space").bottomLeft,space:" ",indent:" "},V_={...$o,hLine:$e("thin").top,vLine:" "+$e("thin").left,elbow:" "+tr("thin").bottomLeft,tee:$e("thin").bottom,rightTee:" "+Hs("thin").right,indent:$s(2)($e("thin").top),space:"  "},CP={ascii:{...$o,...Pt("ascii"),indent:$e("ascii").top},bullets:{...$o,rootBullet:"",branchBullet:"",leafBullet:""},dashed:l("thin",Pt,Zs("dashed")),dashedWide:l("thin",Pt,Zs("dashedWide")),dotted:l("thin",Pt,Zs("dotted")),double:Pt("double"),hDouble:Pt("hDouble"),hThick:Pt("hThick"),hThickDashed:l("hThick",Pt,Ur("thickDashed"),Lr("dashed")),hThickDashedWide:l("hThick",Pt,Ur("thickDashedWide"),Lr("dashedWide")),hThickDotted:l("hThick",Pt,Ur("thickDotted"),Lr("dotted")),round:{...Pt("thin"),elbow:tr("round").bottomLeft},space:$o,thick:Pt("thick"),thickDashed:l("thick",Pt,Zs("thickDashed")),thickDashedWide:l("thick",Pt,Zs("thickDashedWide")),thickDotted:l("thick",Pt,Zs("thickDotted")),thin:Pt("thin"),unix:V_,unixRound:{...V_,elbow:" "+tr("round").bottomLeft},vThick:Pt("vThick"),vThickDashed:l("vThick",Pt,Ur("dashed"),Lr("thickDashed")),vThickDashedWide:l("vThick",Pt,Ur("dashedWide"),Lr("thickDashedWide")),vThickDotted:l("vThick",Pt,Ur("dotted"),Lr("thickDotted")),vDouble:Pt("vDouble")},ox=e=>CP[e];function Zs(e){return N(Ur(e),Lr(e))}function Lr(e){return t=>({...t,vLine:$e(e).left})}function Ur(e){return t=>({...t,hLine:$e(e).top})}function Pt(e){return{...$o,...W_(e),...vP(e),elbow:tr(e).bottomLeft,indent:$e(e).top}}function W_(e){return{hLine:$e(e).top,vLine:$e(e).left}}function vP(e){return{tee:Hs(e).bottom,rightTee:Hs(e).right}}const z_=["ascii","bullets","space"],G_=l(["dashed","dashedWide","dotted","double","hDouble","hThick","hThickDashed","hThickDashedWide","hThickDotted","round","thick","thickDashed","thickDashedWide","thickDotted","thin","unix","unixRound","vDouble","vThick","vThickDashed","vThickDashedWide","vThickDotted"]),kP={spacing:0,indents:0,glyphs:ox("thin"),formatter:et},IP=[...G_,...z_],TP=[...l(G_,O(Un.mapSecond(e=>H_(e,0)))),...l(z_,O(Un.mapSecond(e=>H_(e,1))))],K_=xi(TP),OP=e=>K_[e],$P=e=>l(IP,O(Un.mapSecond(t=>e(K_[t],t))),xi);function BP(e=ox("thin"),t=0,n){return{...kP,indents:t,glyphs:e,...n}}function H_(e="thin",t=0,n){return BP(ox(e),t,n)}const ic=Object.assign(m(2,(e,{glyphs:t})=>t[e]),{flipped:e=>({glyphs:t})=>t[e]});m(2,(e,t)=>Tn(ic(e,t)));const MP=({formatter:e})=>an(e),RP=e=>(t,n)=>{const r=ic(e);return l(n,r,$s(e.indents),rl(r(t)))},Y_=(e,t)=>n=>N(RP(n),Tn)(e,t);function NP(e){return t=>(e+l(`
`,$s(t.spacing))).split(/\n/)}const DP=Y_("rightTee","indent"),PP=Y_("elbow","indent"),jP=J_("hLine","leafBullet","space"),LP=J_("tee","branchBullet","vLine");function J_(e,t,n){return r=>s=>{const i=ic(s),[a,u,c]=[i(e),i(t),i(n)],f=a+u,x=$s(Tr(f))(c)+u;return l(s,NP(r),GT(N(rl(f),Tn),N(rl(x),Tn)),er.left)}}const UP=Z_(DP,"vLine"),qP=Z_(PP,"space");function Z_(e,t){return n=>{const r=ic(n);return N_.top.left(e(n),Yh(un.empty,me([r("space")],r(t))))}}const X_=Object.assign(Q_,{flip:YT(Q_)});function Q_(e){return t=>l(e,ie({onLeaf:n=>jP(n)(t),onBranch:VP(t)}))}const VP=e=>(t,n)=>{const r=[LP(t),WP(n)];return l(r,zP,yc(e),er.left)},WP=e=>t=>{const n=N(X_,yc(t));return l(e,KT(N(n,UP(t)),N(n,qP(t))),er.left)};function zP(e){return t=>O(e,yc(t))}const tw=(e,t)=>l(e,MP(t),X_.flip(t)),GP=Object.assign(m(2,tw),{number:e=>t=>tw(an(t,du),e)}),ew=(e,t)=>l(GP(e,t),bP),KP=Object.assign(m(2,ew),{unlines:e=>t=>Rs(ew(t,e))}),HP=Object.assign(nw("thin"),$P((e,t)=>nw(t)));function nw(e){return Object.assign(rw(e,et),{number:rw(e,du)})}function rw(e,t){return Object.assign(sw(e,t),{unlines:N(sw(e,t),Rs)})}function sw(e,t){return N(an(t),l(e,OP,KP))}const Bo=Tn(""),iw=(e,t)=>l(e,De(t??""),Tn),YP=Object.assign((e,t)=>iw(e,t),{curried:e=>t=>iw(t,e)}),ax=(e,t="center")=>l(e,O(Tn),er[t]),JP=Object.assign(ax,{curried:e=>t=>ax(t,e),rest:(...e)=>ax(e)}),oc=m(2,(e,t)=>e===0?$_:l(t,fn(e),YP)),ac=e=>e===0?$_:l(Bo,fn(e),er.center),ZP=Object.assign((e=" ",t=" ")=>(n=1,r=n)=>s=>Oo.middle.center([oc(n,e),s,oc(r,t)]),{left:(e=" ",t=0)=>n=>Oo.middle.center([oc(t,e),n]),right:(e=" ",t=0)=>n=>Oo.middle.center([n,oc(t,e)])}),XP=Object.assign((e=1,t=e)=>n=>er.center([ac(e),n,ac(t)]),{top:(e,t=0)=>er.center([ac(t),e]),bottom:(e,t=0)=>er.center([e,ac(t)])}),ow=m(2,(e,{top:t,right:n,bottom:r,left:s})=>l(e,XP(t,r),ZP()(s,n))),aw=Object.assign(({lines:{top:e}})=>j_.center(Bo,me([e])),{corners:({lines:{top:e},elbows:{topLeft:t,topRight:n}})=>j_.left(Bo,me([e],t,n))}),QP=({lines:{right:e}})=>t=>l(t,gP.middle.center(Tn(e),Yh(un([e])))),uw=Object.assign(({lines:{bottom:e}})=>L_.center(Bo,me([e])),{corners:({lines:{bottom:e},elbows:{bottomLeft:t,bottomRight:n}})=>L_.right(Bo,me([e],t,n))}),tj=({lines:{left:e}})=>t=>l(t,N_.middle.center(Tn(e),Yh(un([e])))),ej=e=>t=>l(t,tj(e),QP(e)),nj=Object.assign(e=>t=>l(t,aw(e),uw(e)),{corners:e=>t=>l(t,aw.corners(e),uw.corners(e))}),cw=(e,t)=>l(e,ej(t),nj.corners(t)),ux=Object.assign(cw,{curried:e=>t=>cw(t,e)}),fw=([e,...t])=>n=>l(t,ar(l(n,ux.curried(e)),ux));Object.assign(fw,{rest:(...e)=>t=>fw(e)(t)});const uc=nn(0)(...Ks),rj={padding:uc,margin:uc,border:Kh("thin")},sj=(e=rj)=>({padding:{...uc,...Kf(e.padding??{})},margin:{...uc,...Kf(e.margin??{})},border:e.border??Kh("thin")}),cx=(e,t)=>{const{padding:n,margin:r,border:s}=sj(t);return l(e,ow(n),ux.curried(s),ow(r))};Object.assign(cx,{curried:e=>t=>cx(t,e),lines:e=>(t,n="center")=>cx(JP(t,n),e)});const lw=rt.record({axis:rt.constant("horizontal"),prefix:u_,body:Gh,suffix:u_}),hw=rt.record({axis:rt.constant("vertical"),prefix:zh,body:Gh,suffix:zh}),xw=rt.record({right:lw,left:lw}),pw=rt.record({top:hw,bottom:hw});rt.tuple(xw,pw).map(([e,t])=>({...e,...t}));const{emptyF:ij,textF:oj}=mP,aj=xw.chain(({left:e,right:t})=>rt.record({hAlign:rt.oneof(...y_(rt.constant)),left:rt.constant(e),right:rt.constant(t)})),uj=pw.chain(({top:e,bottom:t})=>rt.record({vAlign:rt.oneof(...S_(rt.constant)),top:rt.constant(e),bottom:rt.constant(t)}));aj.chain(e=>uj.map(t=>({...e,...t})));const cj=rt.constant(ij),fj=KR.map(oj);cj.map(e=>({unfixed:e})),fj.map(e=>({unfixed:e}));function fx(e){return{parent:l(e.focus,xe,M),levels:Kd(e.levels,LT(e,"lefts","rights","parent"))}}const Mo=m(3,(e,t,n)=>{let r=e;for(let s=0;s<t;s++){const i=n(r);if(_t(i))return i;r=i.value}return M(r)});m(3,(e,t,n)=>l(e,Mo(t,n),Bn));const mw=e=>{const{focus:t}=e;if(on(t))return B();const n=zs(t);return M({...fx(e),focus:Gt(n),lefts:[],rights:n.slice(1)})},lj=m(2,(e,t)=>Mo(e,t,mw)),dw=e=>{const{focus:t}=e;if(on(t))return B();const n=zs(t);return M({...fx(e),focus:di(n),lefts:n.slice(0,-1),rights:[]})},hj=m(2,(e,t)=>Mo(e,t,dw)),xj=({focus:e,lefts:t,rights:n,...r})=>{if(!fe(t))return B();const[s,i]=Yd(t);return M({...r,focus:s,lefts:i,rights:[e,...n]})},pj=m(2,(e,t)=>Mo(e,t,xj)),mj=({focus:e,lefts:t,rights:n,...r})=>{if(!fe(n))return B();const[s,...i]=n;return M({...r,focus:s,lefts:[...t,e],rights:i})},dj=m(2,(e,t)=>Mo(e,t,mj)),gj=m(2,(e,t)=>{const{focus:n}=e,r=Ku(n),s=t+(t<0?r:0);if(on(n)||s>=Ku(n))return B();const i=n,a=zs(i),[u,c,f]=[a.slice(0,t),a.at(s),a.slice(t)];return M({...fx(e),focus:c,lefts:u,rights:f,parent:l(i,xe,M)})}),bj=N(mw,Bn);m(2,(e,t)=>l(e,lj(t),Bn));const yj=N(dw,Bn);m(2,(e,t)=>l(e,hj(t),Bn)),m(2,(e,t)=>l(e,pj(t),Bn)),m(2,(e,t)=>l(e,dj(t),Bn)),m(2,(e,t)=>l(gj(e,t),Bn)),m(2,({focus:e,...t},n)=>({...t,focus:n}));const gw=({focus:e,...t},n)=>({...t,focus:HN(e,n)}),bw=({focus:e,...t},n)=>({...t,focus:KN(e,n)});Object.assign(m(2,gw),{move:e=>t=>bj(gw(t,e))}),Object.assign(m(2,bw),{move:e=>t=>yj(bw(t,e))});const Sj=e=>"_tag"in e&&e._tag==="effect-tree-demo",_j=e=>({data:t})=>{const n=t;return Sj(n)?{...n,...e(n)}:void 0};Object.assign(Mn,{flipped:e=>t=>Mn(e,t)}),Object.assign(Qe,{flipped:e=>t=>Qe(e,t)}),Object.assign(Qr,{flipped:e=>t=>Qr(e,t)}),Object.assign(pi,{flipped:e=>t=>pi(e,t)}),Kc(Fr);const wj=new Intl.Segmenter,jt=([e,t])=>n=>`${e}${n}${t}`;jt.rest=(e,t)=>jt([e,t]),jt.parentheses=jt(["(",")"]),jt.squareBrackets=jt(["[","]"]),jt.curlyBrackets=jt(["{","}"]),jt.angledBrackets=jt(["<",">"]),jt.quote=Object.assign(jt(["'","'"]),{double:jt(['"','"']),fancy:jt(["",""]),parentheses:jt(["(",")"]),squareBrackets:jt(["[","]"]),curlyBrackets:jt(["{","}"]),angledBrackets:jt(["<",">"])});const ce=e=>e.join("");ce.rest=(...e)=>ce(e),ce.pipeline=e=>l(e,De(" | ")),ce.slash=e=>l(e,De(" | ")),ce.spaced=Object.assign(e=>e.join(" "),{rest:(...e)=>e.join(" "),literal:(...e)=>e.join(" ")}),ce.comma=Object.assign(e=>e.join(", "),{rest:(...e)=>e.join(", ")}),ce.quote=Object.assign(e=>l(e,O(jt.quote),ce.comma),{double:e=>l(e,O(jt.quote.double),ce.comma),fancy:e=>l(e,O(jt.quote.fancy),ce.comma)});const Aj=gg.stringWidth;O(Aj);const cc=e=>[...wj.segment(e)].map(t=>t.segment),{$is:lx,$match:Ej,Left:Fj,Right:Cj,Both:vj}=qf(),hx=({Left:e,Right:t,Both:n})=>r=>l(r,Ej({Left:s=>e(s),Right:s=>t(s),Both:s=>n(s)})),[fc,lc,qr]=[Object.assign(Fj,{from:e=>fc({left:e})}),Object.assign(Cj,{from:e=>lc({right:e})}),Object.assign(vj,{from:(e,t)=>qr({left:t,right:e})})];lx("Left"),lx("Right"),lx("Both"),m(2,(e,t)=>l(e,hx({Left:()=>fc.from(t),Right:({right:n})=>qr.from(n,t),Both:({right:n})=>qr.from(n,t)}))),m(2,(e,t)=>l(e,hx({Left:({left:n})=>qr.from(t,n),Right:()=>lc.from(t),Both:({left:n})=>qr.from(t,n)})));const kj=(e,t,n)=>{const r=t.length-e.length;return[...ea(e,t,N(qr.from,n)),...r===0?[]:r>0?l(t,ta(r),O(N(fc.from,n))):l(e,ta(-1*r),O(N(lc.from,n)))]};m(2,(e,t)=>kj(e,t,et));const yw={bimap:m(3,(e,t,n)=>l(e,hx({Right:({right:r})=>l(r,t,lc.from),Left:({left:r})=>l(r,n,fc.from),Both:({left:r,right:s})=>qr({left:n(r),right:t(s)})})))};aS(yw),uS(yw);var xx={exports:{}},Ro={},px={exports:{}},No={exports:{}};No.exports;var Sw;function Ij(){return Sw||(Sw=1,(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function n(h,y){Object.defineProperty(i.prototype,h,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",y[0],y[1])}})}function r(h){return h===null||typeof h!="object"?null:(h=Cw&&h[Cw]||h["@@iterator"],typeof h=="function"?h:null)}function s(h,y){h=(h=h.constructor)&&(h.displayName||h.name)||"ReactClass";var C=h+"."+y;vw[C]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",y,h),vw[C]=!0)}function i(h,y,C){this.props=h,this.context=y,this.refs=dx,this.updater=C||kw}function a(){}function u(h,y,C){this.props=h,this.context=y,this.refs=dx,this.updater=C||kw}function c(){}function f(h){return""+h}function x(h){try{f(h);var y=!1}catch{y=!0}if(y){y=console;var C=y.error,v=typeof Symbol=="function"&&Symbol.toStringTag&&h[Symbol.toStringTag]||h.constructor.name||"Object";return C.call(y,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",v),f(h)}}function p(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Vj?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case A:return"Fragment";case Et:return"Profiler";case Y:return"StrictMode";case Ot:return"Suspense";case nr:return"SuspenseList";case Fw:return"Activity"}if(typeof h=="object")switch(typeof h.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),h.$$typeof){case Wr:return"Portal";case zr:return h.displayName||"Context";case It:return(h._context.displayName||"Context")+".Consumer";case Qs:var y=h.render;return h=h.displayName,h||(h=y.displayName||y.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Gr:return y=h.displayName||null,y!==null?y:p(h.type)||"Memo";case Kr:y=h._payload,h=h._init;try{return p(h(y))}catch{}}return null}function g(h){if(h===A)return"<>";if(typeof h=="object"&&h!==null&&h.$$typeof===Kr)return"<...>";try{var y=p(h);return y?"<"+y+">":"<...>"}catch{return"<...>"}}function b(){var h=st.A;return h===null?null:h.getOwner()}function S(){return Error("react-stack-top-frame")}function w(h){if(mc.call(h,"key")){var y=Object.getOwnPropertyDescriptor(h,"key").get;if(y&&y.isReactWarning)return!1}return h.key!==void 0}function d(h,y){function C(){$w||($w=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",y))}C.isReactWarning=!0,Object.defineProperty(h,"key",{get:C,configurable:!0})}function F(){var h=p(this.type);return Mw[h]||(Mw[h]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),h=this.props.ref,h!==void 0?h:null}function E(h,y,C,v,R,ot){var Q=C.ref;return h={$$typeof:On,type:h,key:y,props:C,_owner:v},(Q!==void 0?Q:null)!==null?Object.defineProperty(h,"ref",{enumerable:!1,get:F}):Object.defineProperty(h,"ref",{enumerable:!1,value:null}),h._store={},Object.defineProperty(h._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(h,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(h,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:R}),Object.defineProperty(h,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:ot}),Object.freeze&&(Object.freeze(h.props),Object.freeze(h)),h}function T(h,y){return y=E(h.type,y,h.props,h._owner,h._debugStack,h._debugTask),h._store&&(y._store.validated=h._store.validated),y}function k(h){X(h)?h._store&&(h._store.validated=1):typeof h=="object"&&h!==null&&h.$$typeof===Kr&&(h._payload.status==="fulfilled"?X(h._payload.value)&&h._payload.value._store&&(h._payload.value._store.validated=1):h._store&&(h._store.validated=1))}function X(h){return typeof h=="object"&&h!==null&&h.$$typeof===On}function o(h){var y={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(C){return y[C]})}function V(h,y){return typeof h=="object"&&h!==null&&h.key!=null?(x(h.key),o(""+h.key)):y.toString(36)}function I(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(c,c):(h.status="pending",h.then(function(y){h.status==="pending"&&(h.status="fulfilled",h.value=y)},function(y){h.status==="pending"&&(h.status="rejected",h.reason=y)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function z(h,y,C,v,R){var ot=typeof h;(ot==="undefined"||ot==="boolean")&&(h=null);var Q=!1;if(h===null)Q=!0;else switch(ot){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(h.$$typeof){case On:case Wr:Q=!0;break;case Kr:return Q=h._init,z(Q(h._payload),y,C,v,R)}}if(Q){Q=h,R=R(Q);var dt=v===""?"."+V(Q,0):v;return Tw(R)?(C="",dt!=null&&(C=dt.replace(Nw,"$&/")+"/"),z(R,y,C,"",function(rr){return rr})):R!=null&&(X(R)&&(R.key!=null&&(Q&&Q.key===R.key||x(R.key)),C=T(R,C+(R.key==null||Q&&Q.key===R.key?"":(""+R.key).replace(Nw,"$&/")+"/")+dt),v!==""&&Q!=null&&X(Q)&&Q.key==null&&Q._store&&!Q._store.validated&&(C._store.validated=2),R=C),y.push(R)),1}if(Q=0,dt=v===""?".":v+":",Tw(h))for(var at=0;at<h.length;at++)v=h[at],ot=dt+V(v,at),Q+=z(v,y,C,ot,R);else if(at=r(h),typeof at=="function")for(at===h.entries&&(Rw||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Rw=!0),h=at.call(h),at=0;!(v=h.next()).done;)v=v.value,ot=dt+V(v,at++),Q+=z(v,y,C,ot,R);else if(ot==="object"){if(typeof h.then=="function")return z(I(h),y,C,v,R);throw y=String(h),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.")}return Q}function j(h,y,C){if(h==null)return h;var v=[],R=0;return z(h,v,"","",function(ot){return y.call(C,ot,R++)}),v}function ft(h){if(h._status===-1){var y=h._ioInfo;y!=null&&(y.start=y.end=performance.now()),y=h._result;var C=y();if(C.then(function(R){if(h._status===0||h._status===-1){h._status=1,h._result=R;var ot=h._ioInfo;ot!=null&&(ot.end=performance.now()),C.status===void 0&&(C.status="fulfilled",C.value=R)}},function(R){if(h._status===0||h._status===-1){h._status=2,h._result=R;var ot=h._ioInfo;ot!=null&&(ot.end=performance.now()),C.status===void 0&&(C.status="rejected",C.reason=R)}}),y=h._ioInfo,y!=null){y.value=C;var v=C.displayName;typeof v=="string"&&(y.name=v)}h._status===-1&&(h._status=0,h._result=C)}if(h._status===1)return y=h._result,y===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,y),"default"in y||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,y),y.default;throw h._result}function it(){var h=st.H;return h===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),h}function Ce(){st.asyncTransitions--}function At(h){if(dc===null)try{var y=("require"+Math.random()).slice(0,7);dc=(e&&e[y]).call(e,"timers").setImmediate}catch{dc=function(v){Pw===!1&&(Pw=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var R=new MessageChannel;R.port1.onmessage=v,R.port2.postMessage(void 0)}}return dc(h)}function Vt(h){return 1<h.length&&typeof AggregateError=="function"?new AggregateError(h):h[0]}function Wt(h,y){y!==gc-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),gc=y}function Lt(h,y,C){var v=st.actQueue;if(v!==null)if(v.length!==0)try{Be(v),At(function(){return Lt(h,y,C)});return}catch(R){st.thrownErrors.push(R)}else st.actQueue=null;0<st.thrownErrors.length?(v=Vt(st.thrownErrors),st.thrownErrors.length=0,C(v)):y(h)}function Be(h){if(!gx){gx=!0;var y=0;try{for(;y<h.length;y++){var C=h[y];do{st.didUsePromise=!1;var v=C(!1);if(v!==null){if(st.didUsePromise){h[y]=C,h.splice(0,y);return}C=v}else break}while(!0)}h.length=0}catch(R){h.splice(0,y+1),st.thrownErrors.push(R)}finally{gx=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var On=Symbol.for("react.transitional.element"),Wr=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Et=Symbol.for("react.profiler"),It=Symbol.for("react.consumer"),zr=Symbol.for("react.context"),Qs=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),nr=Symbol.for("react.suspense_list"),Gr=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),Fw=Symbol.for("react.activity"),Cw=Symbol.iterator,vw={},kw={isMounted:function(){return!1},enqueueForceUpdate:function(h){s(h,"forceUpdate")},enqueueReplaceState:function(h){s(h,"replaceState")},enqueueSetState:function(h){s(h,"setState")}},Iw=Object.assign,dx={};Object.freeze(dx),i.prototype.isReactComponent={},i.prototype.setState=function(h,y){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,y,"setState")},i.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};var Me={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(Do in Me)Me.hasOwnProperty(Do)&&n(Do,Me[Do]);a.prototype=i.prototype,Me=u.prototype=new a,Me.constructor=u,Iw(Me,i.prototype),Me.isPureReactComponent=!0;var Tw=Array.isArray,Vj=Symbol.for("react.client.reference"),st={H:null,A:null,T:null,S:null,actQueue:null,asyncTransitions:0,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},mc=Object.prototype.hasOwnProperty,Ow=console.createTask?console.createTask:function(){return null};Me={react_stack_bottom_frame:function(h){return h()}};var $w,Bw,Mw={},Wj=Me.react_stack_bottom_frame.bind(Me,S)(),zj=Ow(g(S)),Rw=!1,Nw=/\/+/g,Dw=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Pw=!1,dc=null,gc=0,bc=!1,gx=!1,jw=typeof queueMicrotask=="function"?function(h){queueMicrotask(function(){return queueMicrotask(h)})}:At;Me=Object.freeze({__proto__:null,c:function(h){return it().useMemoCache(h)}});var Do={map:j,forEach:function(h,y,C){j(h,function(){y.apply(this,arguments)},C)},count:function(h){var y=0;return j(h,function(){y++}),y},toArray:function(h){return j(h,function(y){return y})||[]},only:function(h){if(!X(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};t.Activity=Fw,t.Children=Do,t.Component=i,t.Fragment=A,t.Profiler=Et,t.PureComponent=u,t.StrictMode=Y,t.Suspense=Ot,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,t.__COMPILER_RUNTIME=Me,t.act=function(h){var y=st.actQueue,C=gc;gc++;var v=st.actQueue=y!==null?y:[],R=!1;try{var ot=h()}catch(at){st.thrownErrors.push(at)}if(0<st.thrownErrors.length)throw Wt(y,C),h=Vt(st.thrownErrors),st.thrownErrors.length=0,h;if(ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Q=ot;return jw(function(){R||bc||(bc=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(at,rr){R=!0,Q.then(function(ti){if(Wt(y,C),C===0){try{Be(v),At(function(){return Lt(ti,at,rr)})}catch(Kj){st.thrownErrors.push(Kj)}if(0<st.thrownErrors.length){var Gj=Vt(st.thrownErrors);st.thrownErrors.length=0,rr(Gj)}}else at(ti)},function(ti){Wt(y,C),0<st.thrownErrors.length&&(ti=Vt(st.thrownErrors),st.thrownErrors.length=0),rr(ti)})}}}var dt=ot;if(Wt(y,C),C===0&&(Be(v),v.length!==0&&jw(function(){R||bc||(bc=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),st.actQueue=null),0<st.thrownErrors.length)throw h=Vt(st.thrownErrors),st.thrownErrors.length=0,h;return{then:function(at,rr){R=!0,C===0?(st.actQueue=v,At(function(){return Lt(dt,at,rr)})):at(dt)}}},t.cache=function(h){return function(){return h.apply(null,arguments)}},t.cacheSignal=function(){return null},t.captureOwnerStack=function(){var h=st.getCurrentStack;return h===null?null:h()},t.cloneElement=function(h,y,C){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var v=Iw({},h.props),R=h.key,ot=h._owner;if(y!=null){var Q;t:{if(mc.call(y,"ref")&&(Q=Object.getOwnPropertyDescriptor(y,"ref").get)&&Q.isReactWarning){Q=!1;break t}Q=y.ref!==void 0}Q&&(ot=b()),w(y)&&(x(y.key),R=""+y.key);for(dt in y)!mc.call(y,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&y.ref===void 0||(v[dt]=y[dt])}var dt=arguments.length-2;if(dt===1)v.children=C;else if(1<dt){Q=Array(dt);for(var at=0;at<dt;at++)Q[at]=arguments[at+2];v.children=Q}for(v=E(h.type,R,v,ot,h._debugStack,h._debugTask),R=2;R<arguments.length;R++)k(arguments[R]);return v},t.createContext=function(h){return h={$$typeof:zr,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:It,_context:h},h._currentRenderer=null,h._currentRenderer2=null,h},t.createElement=function(h,y,C){for(var v=2;v<arguments.length;v++)k(arguments[v]);v={};var R=null;if(y!=null)for(at in Bw||!("__self"in y)||"key"in y||(Bw=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),w(y)&&(x(y.key),R=""+y.key),y)mc.call(y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(v[at]=y[at]);var ot=arguments.length-2;if(ot===1)v.children=C;else if(1<ot){for(var Q=Array(ot),dt=0;dt<ot;dt++)Q[dt]=arguments[dt+2];Object.freeze&&Object.freeze(Q),v.children=Q}if(h&&h.defaultProps)for(at in ot=h.defaultProps,ot)v[at]===void 0&&(v[at]=ot[at]);R&&d(v,typeof h=="function"?h.displayName||h.name||"Unknown":h);var at=1e4>st.recentlyCreatedOwnerStacks++;return E(h,R,v,b(),at?Error("react-stack-top-frame"):Wj,at?Ow(g(h)):zj)},t.createRef=function(){var h={current:null};return Object.seal(h),h},t.forwardRef=function(h){h!=null&&h.$$typeof===Gr?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof h!="function"?console.error("forwardRef requires a render function but was given %s.",h===null?"null":typeof h):h.length!==0&&h.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",h.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),h!=null&&h.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var y={$$typeof:Qs,render:h},C;return Object.defineProperty(y,"displayName",{enumerable:!1,configurable:!0,get:function(){return C},set:function(v){C=v,h.name||h.displayName||(Object.defineProperty(h,"name",{value:v}),h.displayName=v)}}),y},t.isValidElement=X,t.lazy=function(h){h={_status:-1,_result:h};var y={$$typeof:Kr,_payload:h,_init:ft},C={name:"lazy",start:-1,end:-1,value:null,owner:null,debugStack:Error("react-stack-top-frame"),debugTask:console.createTask?console.createTask("lazy()"):null};return h._ioInfo=C,y._debugInfo=[{awaited:C}],y},t.memo=function(h,y){h==null&&console.error("memo: The first argument must be a component. Instead received: %s",h===null?"null":typeof h),y={$$typeof:Gr,type:h,compare:y===void 0?null:y};var C;return Object.defineProperty(y,"displayName",{enumerable:!1,configurable:!0,get:function(){return C},set:function(v){C=v,h.name||h.displayName||(Object.defineProperty(h,"name",{value:v}),h.displayName=v)}}),y},t.startTransition=function(h){var y=st.T,C={};C._updatedFibers=new Set,st.T=C;try{var v=h(),R=st.S;R!==null&&R(C,v),typeof v=="object"&&v!==null&&typeof v.then=="function"&&(st.asyncTransitions++,v.then(Ce,Ce),v.then(c,Dw))}catch(ot){Dw(ot)}finally{y===null&&C._updatedFibers&&(h=C._updatedFibers.size,C._updatedFibers.clear(),10<h&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),y!==null&&C.types!==null&&(y.types!==null&&y.types!==C.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),y.types=C.types),st.T=y}},t.unstable_useCacheRefresh=function(){return it().useCacheRefresh()},t.use=function(h){return it().use(h)},t.useActionState=function(h,y,C){return it().useActionState(h,y,C)},t.useCallback=function(h,y){return it().useCallback(h,y)},t.useContext=function(h){var y=it();return h.$$typeof===It&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),y.useContext(h)},t.useDebugValue=function(h,y){return it().useDebugValue(h,y)},t.useDeferredValue=function(h,y){return it().useDeferredValue(h,y)},t.useEffect=function(h,y){return h==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"),it().useEffect(h,y)},t.useEffectEvent=function(h){return it().useEffectEvent(h)},t.useId=function(){return it().useId()},t.useImperativeHandle=function(h,y,C){return it().useImperativeHandle(h,y,C)},t.useInsertionEffect=function(h,y){return h==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),it().useInsertionEffect(h,y)},t.useLayoutEffect=function(h,y){return h==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),it().useLayoutEffect(h,y)},t.useMemo=function(h,y){return it().useMemo(h,y)},t.useOptimistic=function(h,y){return it().useOptimistic(h,y)},t.useReducer=function(h,y,C){return it().useReducer(h,y,C)},t.useRef=function(h){return it().useRef(h)},t.useState=function(h){return it().useState(h)},t.useSyncExternalStore=function(h,y,C){return it().useSyncExternalStore(h,y,C)},t.useTransition=function(){return it().useTransition()},t.version="19.2.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(No,No.exports)),No.exports}var _w;function Tj(){return _w||(_w=1,px.exports=Ij()),px.exports}var ww;function Oj(){if(ww)return Ro;ww=1;/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function e(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===ft?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case d:return"Fragment";case E:return"Profiler";case F:return"StrictMode";case o:return"Suspense";case V:return"SuspenseList";case j:return"Activity"}if(typeof A=="object")switch(typeof A.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),A.$$typeof){case w:return"Portal";case k:return A.displayName||"Context";case T:return(A._context.displayName||"Context")+".Consumer";case X:var Y=A.render;return A=A.displayName,A||(A=Y.displayName||Y.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case I:return Y=A.displayName||null,Y!==null?Y:e(A.type)||"Memo";case z:Y=A._payload,A=A._init;try{return e(A(Y))}catch{}}return null}function t(A){return""+A}function n(A){try{t(A);var Y=!1}catch{Y=!0}if(Y){Y=console;var Et=Y.error,It=typeof Symbol=="function"&&Symbol.toStringTag&&A[Symbol.toStringTag]||A.constructor.name||"Object";return Et.call(Y,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",It),t(A)}}function r(A){if(A===d)return"<>";if(typeof A=="object"&&A!==null&&A.$$typeof===z)return"<...>";try{var Y=e(A);return Y?"<"+Y+">":"<...>"}catch{return"<...>"}}function s(){var A=it.A;return A===null?null:A.getOwner()}function i(){return Error("react-stack-top-frame")}function a(A){if(Ce.call(A,"key")){var Y=Object.getOwnPropertyDescriptor(A,"key").get;if(Y&&Y.isReactWarning)return!1}return A.key!==void 0}function u(A,Y){function Et(){Wt||(Wt=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Y))}Et.isReactWarning=!0,Object.defineProperty(A,"key",{get:Et,configurable:!0})}function c(){var A=e(this.type);return Lt[A]||(Lt[A]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),A=this.props.ref,A!==void 0?A:null}function f(A,Y,Et,It,zr,Qs){var Ot=Et.ref;return A={$$typeof:S,type:A,key:Y,props:Et,_owner:It},(Ot!==void 0?Ot:null)!==null?Object.defineProperty(A,"ref",{enumerable:!1,get:c}):Object.defineProperty(A,"ref",{enumerable:!1,value:null}),A._store={},Object.defineProperty(A._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(A,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(A,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:zr}),Object.defineProperty(A,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Qs}),Object.freeze&&(Object.freeze(A.props),Object.freeze(A)),A}function x(A,Y,Et,It,zr,Qs){var Ot=Y.children;if(Ot!==void 0)if(It)if(At(Ot)){for(It=0;It<Ot.length;It++)p(Ot[It]);Object.freeze&&Object.freeze(Ot)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else p(Ot);if(Ce.call(Y,"key")){Ot=e(A);var nr=Object.keys(Y).filter(function(Kr){return Kr!=="key"});It=0<nr.length?"{key: someKey, "+nr.join(": ..., ")+": ...}":"{key: someKey}",Wr[Ot+It]||(nr=0<nr.length?"{"+nr.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,It,Ot,nr,Ot),Wr[Ot+It]=!0)}if(Ot=null,Et!==void 0&&(n(Et),Ot=""+Et),a(Y)&&(n(Y.key),Ot=""+Y.key),"key"in Y){Et={};for(var Gr in Y)Gr!=="key"&&(Et[Gr]=Y[Gr])}else Et=Y;return Ot&&u(Et,typeof A=="function"?A.displayName||A.name||"Unknown":A),f(A,Ot,Et,s(),zr,Qs)}function p(A){g(A)?A._store&&(A._store.validated=1):typeof A=="object"&&A!==null&&A.$$typeof===z&&(A._payload.status==="fulfilled"?g(A._payload.value)&&A._payload.value._store&&(A._payload.value._store.validated=1):A._store&&(A._store.validated=1))}function g(A){return typeof A=="object"&&A!==null&&A.$$typeof===S}var b=Tj(),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ft=Symbol.for("react.client.reference"),it=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=Object.prototype.hasOwnProperty,At=Array.isArray,Vt=console.createTask?console.createTask:function(){return null};b={react_stack_bottom_frame:function(A){return A()}};var Wt,Lt={},Be=b.react_stack_bottom_frame.bind(b,i)(),On=Vt(r(i)),Wr={};Ro.Fragment=d,Ro.jsx=function(A,Y,Et){var It=1e4>it.recentlyCreatedOwnerStacks++;return x(A,Y,Et,!1,It?Error("react-stack-top-frame"):Be,It?Vt(r(A)):On)},Ro.jsxs=function(A,Y,Et){var It=1e4>it.recentlyCreatedOwnerStacks++;return x(A,Y,Et,!0,It?Error("react-stack-top-frame"):Be,It?Vt(r(A)):On)}})(),Ro}var Aw;function $j(){return Aw||(Aw=1,xx.exports=Oj()),xx.exports}$j();const Bj=e=>()=>e,Ew=3999;l({decimal:{icon:"1,2,3",label:"Decimal",title:"Format labels as decimals."},lower:{icon:",,",label:"Unicode",title:"Use lowercase Unicode Roman numerals from the Number Forms block (U+2150U+218F)"},upper:{icon:",,",label:"Unicode Caps",title:"Use uppercase Unicode Roman numerals from the Number Forms block (U+2150U+218F)"},lowerAscii:{icon:"i,ii,iii",label:"ASCII",title:"Use lowercase ASCII emulation of Roman numerals."},upperAscii:{icon:"I,II,III",label:"ASCII Caps",title:"Use uppercase ASCII emulation of Roman numerals."}},Gx((e,t)=>[t,{id:t,...e}]));const hc=[["",...{upper:["","","","","","","","","","","",""]}.upper.slice(0,9)],["","","","","","","","","",""],["","","","","","","","","",""],["","","",""]],Mj={"":["","I","i"],"":["","II","ii"],"":["","III","iii"],"":["","IV","iv"],"":["","V","v"],"":["","VI","vi"],"":["","VII","vii"],"":["","VIII","viii"],"":["","IX","ix"],"":["","X","x"],"":["","XI","xi"],"":["","XII","xii"],"":["","C","c"],"":["","L","l"],"":["","D","d"],"":["","M","m"]},xc=e=>Mj[e],Rj=e=>xc(e)[0],Nj=e=>xc(e)[1],Dj=e=>xc(e)[2],Pj=e=>t=>e==="upper"?t:xc(t)[e==="lower"?0:e==="upperAscii"?1:2],Vr=e=>e<1||e>Ew?" ":ce.rest(hc[3]?.[Math.floor(e/1e3)]??" ",hc[2]?.[Math.floor(e%1e3/100)]??" ",hc[1]?.[Math.floor(e%100/10)]??" ",hc[0]?.[e%10]??" ");Vr.lower=e=>l(e,Vr,cc,O(Rj),ce),Vr.upperAscii=e=>l(e,Vr,cc,O(Nj),ce),Vr.lowerAscii=e=>l(e,Vr,cc,O(Dj),ce);const jj=e=>t=>{if(e==="decimal")return t.toLocaleString();const n=Pj(e);return l(t,Vr,cc,O(n),ce)},Lj={dashed:"",dashedWide:"",dotted:"",double:" ",hDouble:" ",hThick:"",hThickDashed:"",hThickDashedWide:"",hThickDotted:"",round:"",thick:"",thickDashed:"",thickDashedWide:"",thickDotted:"",thin:"",unix:"",unixRound:"",space:"",bullets:" ",ascii:" ",vDouble:"",vThick:"",vThickDashed:"",vThickDashedWide:"",vThickDotted:""},Uj=(e,t,n)=>l(e,an(r=>Lj[n]+(r>Ew?r.toLocaleString():jj(t)(r))),HP[n],O(N(NT,PT(" ","")))),{Prufer:pc}=jD,qj=l([Xs("nodeCount","node count","Number of nodes.")(N(pc.computeNodeCount,BigInt)),Xs("treeCount","Trees","Number of labeled sorted trees at this node count.")(N(pc.computeNodeCount,pc.labeledTreeCount)),Xs("treeIndex","Ordinal","Index of current tree in ordered set of all trees in this node count.")(N(pc.toOrdinal,Wx)),Xs("maxNodes","Max Nodes","Maximum node count limit.")(Bj(BigInt(300))),Xs("maxDepth","max depth","Maximum hops from a leaf node to root.")((e,t)=>BigInt(eD(t))),Xs("maxDegree","max degree","Size of the  largest forest.")((e,t)=>BigInt(nD(t)))],O(e=>[e.id,e]),xi),mx=(e,t)=>l(qj,Gx(({compute:n,...r},s)=>[s,{...r,value:n(e,t)}]));mx.tupled=Sx(mx);function Xs(e,t,n){return r=>({id:e,label:t,title:n,compute:r})}globalThis.global=globalThis,globalThis.window=globalThis,window.__vite_plugin_react_preamble_installed__=!0,globalThis.onmessage=e=>{const t=_j(n=>{const{code:r,format:s,theme:i}=n,a=kn(r),u=Uj(a,s,i),c=mx(r,a);return{...n,stats:c,code:r,tree:a,lines:u}})(e);t!==void 0&&globalThis.postMessage(t)}})();
