(function(){"use strict";const SF=t=>typeof t=="function",d=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,r){return arguments.length>=2?e(n,r):function(s){return e(s,n)}};case 3:return function(n,r,s){return arguments.length>=3?e(n,r,s):function(i){return e(i,n,r)}};case 4:return function(n,r,s,i){return arguments.length>=4?e(n,r,s,i):function(a){return e(a,n,r,s)}};case 5:return function(n,r,s,i,a){return arguments.length>=5?e(n,r,s,i,a):function(c){return e(c,n,r,s,i)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(r){return e(r,...n)}}}},y0=(...t)=>e=>e(...t),rt=t=>t,Bi=t=>()=>t,q1=Bi(!0),S0=Bi(!1),V1=Bi(void 0),wF=V1,W1=t=>e=>t(...e);function h(t,e,n,r,s,i,a,c,l){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return s(r(n(e(t))));case 6:return i(s(r(n(e(t)))));case 7:return a(i(s(r(n(e(t))))));case 8:return c(a(i(s(r(n(e(t)))))));case 9:return l(c(a(i(s(r(n(e(t))))))));default:{let u=arguments[0];for(let f=1;f<arguments.length;f++)u=arguments[f](u);return u}}}function U(t,e,n,r,s,i,a,c,l){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return s(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return i(s(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return a(i(s(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return c(a(i(s(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return l(c(a(i(s(r(n(e(t.apply(this,arguments)))))))))}}}const Or=t=>(e,n)=>e===n||t(e,n),_F=(t,e)=>t===e,z1=()=>_F,AF=z1(),EF=z1(),FF=d(2,(t,e)=>Or((n,r)=>t(n,r)&&e(n,r))),CF=d(2,(t,e)=>Or((n,r)=>t(e(n),e(r)))),kF=t=>Or((e,n)=>{const r=Math.min(e.length,n.length);let s=0;for(const i of t){if(s>=r)break;if(!i(e[s],n[s]))return!1;s++}return!0}),vF=(...t)=>kF(t),IF=t=>Or((e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}),Ea=t=>{const e=Object.keys(t);return Or((n,r)=>{for(const s of e)if(!t[s](n[s],r[s]))return!1;return!0})},K1="effect/GlobalValue";let Pi;const lt=(t,e)=>(Pi||(globalThis[K1]??=new Map,Pi=globalThis[K1]),Pi.has(t)||Pi.set(t,e()),Pi.get(t)),Mn=t=>typeof t=="string",ir=t=>typeof t=="number",w0=t=>typeof t=="boolean",Fa=t=>typeof t=="bigint",_0=t=>typeof t=="symbol",Di=SF,TF=t=>t===void 0,OF=t=>t!==void 0,$F=t=>!1,A0=t=>typeof t=="object"&&t!==null,Rn=t=>A0(t)||Di(t),Y=d(2,(t,e)=>Rn(t)&&e in t),E0=d(2,(t,e)=>Y(t,"_tag")&&t._tag===e),Es=t=>t==null,NF=t=>t!=null,MF=t=>t instanceof Date,G1=t=>typeof t=="string"||Y(t,Symbol.iterator),RF=t=>A0(t)&&!Array.isArray(t),BF=t=>Y(t,"then")&&Di(t.then),PF=t=>e=>!t(e),Ca=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;let H1=class yF{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new yF(this.self)}};const DF=335903614,jF=4150755663,LF=1481765933,UF=1284865837,qF=9007199254740992,VF=134217728;class WF{_state;constructor(e,n,r,s){return Es(n)&&Es(e)?(n=Math.random()*4294967295>>>0,e=0):Es(n)&&(n=e,e=0),Es(s)&&Es(r)?(s=this._state?this._state[3]:jF,r=this._state?this._state[2]:DF):Es(s)&&(s=r,r=0),this._state=new Int32Array([0,0,r>>>0,((s||0)|1)>>>0]),this._next(),J1(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*VF+n)/qF}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;zF(this._state,e,n,LF,UF),J1(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=e>>>18,s=(n>>>18|e<<14)>>>0;r=(r^e)>>>0,s=(s^n)>>>0;const i=(s>>>27|r<<5)>>>0,a=e>>>27,c=(-a>>>0&31)>>>0;return(i>>>a|i<<c)>>>0}}function zF(t,e,n,r,s){let i=(n>>>16)*(s&65535)>>>0,a=(n&65535)*(s>>>16)>>>0,c=(n&65535)*(s&65535)>>>0,l=(n>>>16)*(s>>>16)+((a>>>16)+(i>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(l=l+1>>>0),i=i<<16>>>0,c=c+i>>>0,c>>>0<i>>>0&&(l=l+1>>>0),l=l+Math.imul(n,r)>>>0,l=l+Math.imul(e,s)>>>0,t[0]=l,t[1]=c}function J1(t,e,n,r,s){let i=e+r>>>0;const a=n+s>>>0;a>>>0<n>>>0&&(i=i+1|0),t[0]=i,t[1]=a}const F0=Symbol.for("effect/Utils/YieldWrap");class ji{#t;constructor(e){this.#t=e}[F0](){return this.#t}}function KF(t){if(typeof t=="object"&&t!==null&&F0 in t)return t[F0]();throw new Error(Ca("yieldWrapGet"))}const Ve=lt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Y1={effect_internal_function:t=>t()},GF={effect_internal_function:t=>{try{return t()}finally{}}},Se=Y1.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0?Y1.effect_internal_function:GF.effect_internal_function,C0=lt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),tt=Symbol.for("effect/Hash"),j=t=>{if(Ve.enabled===!0)return 0;switch(typeof t){case"number":return Li(t);case"bigint":return Rt(t.toString(10));case"boolean":return Rt(String(t));case"symbol":return Rt(String(t));case"string":return Rt(t);case"undefined":return Rt("undefined");case"function":case"object":return t===null?Rt("null"):t instanceof Date?j(t.toISOString()):t instanceof URL?j(t.href):HF(t)?t[tt]():k0(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},k0=t=>(C0.has(t)||C0.set(t,Li(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),C0.get(t)),ft=t=>e=>e*53^t,ka=t=>t&3221225471|t>>>1&1073741824,HF=t=>Y(t,tt),Li=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return ka(e)},Rt=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return ka(e)},JF=(t,e)=>{let n=12289;for(let r=0;r<e.length;r++)n^=h(Rt(e[r]),ft(j(t[e[r]])));return ka(n)},Z1=t=>JF(t,Object.keys(t)),Ui=t=>{let e=6151;for(let n=0;n<t.length;n++)e=h(e,ft(j(t[n])));return ka(e)},Bt=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,tt,{value(){return r},enumerable:!1}),r}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,tt,{value(){return e},enumerable:!1}),e},Z=Symbol.for("effect/Equal");function X(){return arguments.length===1?t=>va(t,arguments[0]):va(arguments[0],arguments[1])}function va(t,e){if(t===e)return!0;const n=typeof t;if(n!==typeof e)return!1;if(n==="object"||n==="function"){if(t!==null&&e!==null){if(Ia(t)&&Ia(e))return j(t)===j(e)&&t[Z](e)?!0:Ve.enabled&&Ve.tester?Ve.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString();if(t instanceof URL&&e instanceof URL)return t.href===e.href}if(Ve.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,s)=>va(r,e[s]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),s=Object.keys(e);if(r.length===s.length){for(const i of r)if(!(i in e&&va(t[i],e[i])))return Ve.tester?Ve.tester(t,e):!1;return!0}}return Ve.tester?Ve.tester(t,e):!1}}return Ve.enabled&&Ve.tester?Ve.tester(t,e):!1}const Ia=t=>Y(t,Z),v0=()=>X,kt=Symbol.for("nodejs.util.inspect.custom"),Xt=t=>{try{if(Y(t,"toJSON")&&Di(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(Xt)}catch{return{}}return ZF(t)},Qt=t=>JSON.stringify(t,null,2),Fs=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?X1(t,e):String(t)}catch{return String(t)}},X1=(t,e)=>{let n=[];const r=JSON.stringify(t,(s,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&($r.fiberRefs!==void 0&&Q1(i)?i[I0]($r.fiberRefs):i):i,e);return n=void 0,r},I0=Symbol.for("effect/Inspectable/Redactable"),Q1=t=>typeof t=="object"&&t!==null&&I0 in t,$r=lt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),YF=(t,e)=>{const n=$r.fiberRefs;$r.fiberRefs=t;try{return e()}finally{$r.fiberRefs=n}},ZF=t=>Q1(t)&&$r.fiberRefs!==void 0?t[I0]($r.fiberRefs):t,H=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let r=0,s=e.length;r<s;r++)n=e[r](n);return n}}},qi="Async",Ta="Commit",nn="Failure",T0="OnFailure",Oa="OnSuccess",$a="OnSuccessAndFailure",rn="Success",tp="Sync",XF="Tag",Vi="UpdateRuntimeFlags",Na="While",Ma="Iterator",ep="WithRuntime",Ra="Yield",O0="RevertFlags";let QF="3.18.4";const $0=()=>QF,t3=Symbol.for("effect/Effect"),e3=Symbol.for("effect/Stream"),n3=Symbol.for("effect/Sink"),r3=Symbol.for("effect/Channel"),Cs={_R:t=>t,_E:t=>t,_A:t=>t,_V:$0()},s3={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},i3={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},Wi={[t3]:Cs,[e3]:Cs,[n3]:s3,[r3]:i3,[Z](t){return this===t},[tt](){return Bt(this,k0(this))},[Symbol.iterator](){return new H1(new ji(this))},pipe(){return H(this,arguments)}},zi={[tt](){return Bt(this,Z1(this))},[Z](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const r of e)if(!(r in t&&X(this[r],t[r])))return!1;return!0}},Ki={...Wi,_op:Ta},o3={...Ki,...zi},a3=(function(){function t(){}return t.prototype=Ki,t})(),np=Symbol.for("effect/Option"),rp={...Wi,[np]:{_A:t=>t},[kt](){return this.toJSON()},toString(){return Qt(this.toJSON())}},u3=Object.assign(Object.create(rp),{_tag:"Some",_op:"Some",[Z](t){return sp(t)&&op(t)&&X(this.value,t.value)},[tt](){return Bt(this,ft(j(this._tag))(j(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Xt(this.value)}}}),c3=j("None"),l3=Object.assign(Object.create(rp),{_tag:"None",_op:"None",[Z](t){return sp(t)&&ip(t)},[tt](){return c3},toJSON(){return{_id:"Option",_tag:this._tag}}}),sp=t=>Y(t,np),ip=t=>t._tag==="None",op=t=>t._tag==="Some",Gi=Object.create(l3),or=t=>{const e=Object.create(u3);return e.value=t,e},ap=Symbol.for("effect/Either"),up={...Wi,[ap]:{_R:t=>t},[kt](){return this.toJSON()},toString(){return Qt(this.toJSON())}},f3=Object.assign(Object.create(up),{_tag:"Right",_op:"Right",[Z](t){return N0(t)&&lp(t)&&X(this.right,t.right)},[tt](){return ft(j(this._tag))(j(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Xt(this.right)}}}),h3=Object.assign(Object.create(up),{_tag:"Left",_op:"Left",[Z](t){return N0(t)&&cp(t)&&X(this.left,t.left)},[tt](){return ft(j(this._tag))(j(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Xt(this.left)}}}),N0=t=>Y(t,ap),cp=t=>t._tag==="Left",lp=t=>t._tag==="Right",x3=t=>{const e=Object.create(h3);return e.left=t,e},xt=t=>{const e=Object.create(f3);return e.right=t,e},st=x3,p3=N0,ce=cp,Bn=lp,m3=d(2,(t,e)=>ce(t)?st(e(t.left)):xt(t.right)),d3=d(2,(t,e)=>Bn(t)?xt(e(t.right)):st(t.left)),M0=d(2,(t,{onLeft:e,onRight:n})=>ce(t)?e(t.left):n(t.right)),g3=M0({onLeft:rt,onRight:rt}),fp=d(2,(t,e)=>{if(Bn(t))return t.right;throw e(t.left)}),b3=fp(()=>new Error("getOrThrow called on a Left")),R0=t=>t.length>0,ks=t=>(e,n)=>e===n?0:t(e,n),y3=ks((t,e)=>t<e?-1:1),S3=ks((t,e)=>t<e?-1:1),w3=d(2,(t,e)=>ks((n,r)=>{let s=t(n,r);if(s!==0)return s;for(const i of e)if(s=i(n,r),s!==0)return s;return s})),_3=()=>ks(()=>0),A3=t=>w3(_3(),t),Ba=d(2,(t,e)=>ks((n,r)=>t(e(n),e(r)))),Pa=t=>d(2,(e,n)=>t(e,n)===-1),B0=t=>d(2,(e,n)=>t(e,n)===1),P0=t=>d(2,(e,n)=>t(e,n)!==1),E3=t=>d(2,(e,n)=>t(e,n)!==-1),D0=t=>d(2,(e,n)=>e===n||t(e,n)<1?e:n),j0=t=>d(2,(e,n)=>e===n||t(e,n)>-1?e:n),F3=t=>d(2,(e,n)=>D0(t)(n.maximum,j0(t)(n.minimum,e))),C3=t=>d(2,(e,n)=>!Pa(t)(e,n.minimum)&&!B0(t)(e,n.maximum)),M=()=>Gi,R=or,gt=ip,vt=op,ae=d(2,(t,{onNone:e,onSome:n})=>gt(t)?e():n(t.value)),Ut=d(2,(t,e)=>gt(t)?e():t.value),Pn=d(2,(t,e)=>gt(t)?e():t),k3=d(2,(t,e)=>gt(t)?R(e()):t),Hi=t=>t==null?M():R(t),Sn=Ut(V1),v3=t=>(...e)=>{try{return R(t(...e))}catch{return M()}},ar=d(2,(t,e)=>{if(vt(t))return t.value;throw e()})(()=>new Error("getOrThrow called on a None")),Da=d(2,(t,e)=>gt(t)?M():R(e(t.value))),ja=d(2,(t,e)=>gt(t)?M():e(t.value)),I3=d(2,(t,e)=>gt(t)?M():Hi(e(t.value))),hp=t=>Or((e,n)=>gt(e)?gt(n):gt(n)?!1:t(e.value,n.value)),T3=(t=>d(2,(e,n)=>gt(e)?!1:t(e.value,n)))(v0()),O3=d(2,(t,e)=>gt(t)?!1:e(t.value)),$3=(...t)=>t,xp=t=>t[0],N3=t=>t[1],L0=d(2,(t,e)=>[e(t[0]),t[1]]),U0=d(2,(t,e)=>[t[0],e(t[1])]),M3=t=>[t[1],t[0]],q0=vF,R3=d(3,(t,e,n)=>{if(Array.isArray(t))return t.reduce(n,e);let r=0,s=e;for(const i of t)s=n(s,i,r++);return s}),B3=()=>({}),Ji=Object.fromEntries,pp=d(2,(t,e)=>Object.prototype.hasOwnProperty.call(t,e)),V0=d(3,(t,e,n)=>pp(t,e)?{...t,[e]:n(t[e])}:{...t}),mp=d(2,(t,e)=>{const n={};for(const r of W0(t)){const[s,i]=e(t[r],r);n[s]=i}return n}),P3=d(2,(t,e)=>{const n=B3();for(const r of W0(t))e(t[r],r)&&(n[r]=t[r]);return n}),W0=t=>Object.keys(t),D3=t=>d(2,(e,n)=>{for(const r of W0(e))if(!pp(n,r)||!t(e[r],n[r]))return!1;return!0}),j3=t=>{const e=D3(t);return(n,r)=>e(n,r)&&e(r,n)},La=t=>new Array(t),z0=d(2,(t,e)=>{const n=Math.max(1,Math.floor(t)),r=new Array(n);for(let s=0;s<n;s++)r[s]=e(s);return r}),L3=(t,e)=>t<=e?z0(e-t+1,n=>t+n):[t],Dn=d(2,(t,e)=>z0(e,()=>t)),bt=t=>Array.isArray(t)?t:Array.from(t),U3=t=>Array.isArray(t)?t:[t],q3=d(2,(t,{onEmpty:e,onNonEmpty:n})=>$t(t)?n(t):e()),V3=d(2,(t,{onEmpty:e,onNonEmpty:n})=>$t(t)?n(Jt(t),_n(t)):e()),wn=d(2,(t,e)=>[e,...t]),Yi=d(2,(t,e)=>bt(e).concat(bt(t))),ur=d(2,(t,e)=>[...t,e]),vs=d(2,(t,e)=>bt(t).concat(bt(e))),K0=Array.isArray,dp=t=>t.length===0,W3=dp,le=R0,$t=R0,gp=t=>t.length,bp=(t,e)=>t<0||t>=e.length,yp=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),Sp=d(2,(t,e)=>{const n=Math.floor(e);return bp(n,t)?M():R(t[n])}),wp=d(2,(t,e)=>{const n=Math.floor(e);if(bp(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),Zi=Sp(0),Jt=wp(0),z3=t=>$t(t)?R(Xi(t)):M(),Xi=t=>t[t.length-1],_n=t=>t.slice(1),G0=t=>t.slice(0,-1),Ua=d(2,(t,e)=>{const n=bt(t),r=yp(e,n);return r===0?[]:n.slice(-r)}),K3=(t,e)=>{let n=0;for(const r of t){if(!e(r,n))break;n++}return n},G3=d(2,(t,e)=>Q3(t,K3(t,e))),H3=d(2,(t,e)=>{const n=bt(t);return n.slice(yp(e,n),n.length)}),H0=t=>Array.from(t).reverse(),Is=d(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),J3=(...t)=>{const e=Is(A3(t));return n=>{const r=bt(n);return $t(r)?e(r):[]}},Qi=d(2,(t,e)=>qa(t,e,$3)),qa=d(3,(t,e,n)=>{const r=bt(t),s=bt(e);if($t(r)&&$t(s)){const i=[n(Jt(r),Jt(s))],a=Math.min(r.length,s.length);for(let c=1;c<a;c++)i[c]=n(r[c],s[c]);return i}return[]}),Y3=d(2,(t,e)=>[e(Jt(t)),..._n(t)]),Z3=v0(),X3=d(2,(t,e)=>{const n=bt(t);if($t(n)){const[r,s]=e(n),i=[r];let a=s;for(;R0(a);){const[c,l]=e(a);i.push(c),a=l}return i}return[]}),Q3=d(2,(t,e)=>{const n=Array.from(t),r=Math.floor(e);return $t(n)?r>=1?tC(n,r):[[],n]:[n,[]]}),tC=d(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[to(t),[]]:[wn(t.slice(1,n),Jt(t)),t.slice(n)]}),to=t=>t.slice(),eC=d(2,(t,e)=>X3(t,n=>{const r=Jt(n),s=[r];let i=1;for(;i<n.length;i++){const a=n[i];if(e(a,r))s.push(a);else break}return[s,n.slice(i)]})),nC=d(3,(t,e,n)=>{const r=bt(t),s=bt(e);return $t(r)?$t(s)?Z0(n)(vs(r,s)):r:s}),Va=d(2,(t,e)=>nC(t,e,Z3)),Ts=()=>[],Ce=t=>[t],B=d(2,(t,e)=>t.map(e)),J0=d(2,(t,e)=>{if(W3(t))return[];const n=[];for(let r=0;r<t.length;r++){const s=e(t[r],r);for(let i=0;i<s.length;i++)n.push(s[i])}return n}),eo=J0(rt),Wa=d(2,(t,e)=>{const n=bt(t),r=[];for(let s=0;s<n.length;s++)e(n[s],s)&&r.push(n[s]);return r}),Nr=d(3,(t,e,n)=>bt(t).reduce((r,s,i)=>n(r,s,i),e)),_p=d(2,(t,e)=>t.every(e)),rC=d(2,(t,e)=>t.reduce(D0(e))),Y0=d(2,(t,e)=>t.reduce(j0(e))),Ap=(t,e)=>{const n=[];let r=t,s;for(;vt(s=e(r));){const[i,a]=s.value;n.push(i),r=a}return n},Mr=IF,Z0=d(2,(t,e)=>{const n=bt(t);if($t(n)){const r=[Jt(n)],s=_n(n);for(const i of s)r.every(a=>!e(i,a))&&r.push(i);return r}return[]}),sC=t=>Z0(t,v0()),sn=d(2,(t,e)=>bt(t).join(e)),Ep=(t,e)=>{switch(e._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(t);case"SymbolKeyword":return Object.getOwnPropertySymbols(t);case"Refinement":return Ep(t,e.from)}},Fp=t=>{let e=!1,n;return()=>(e||(n=t(),e=!0),n)},iC=t=>{try{return t.toISOString()}catch{return String(t)}},X0="[Circular]";function Rr(t,e=0){const n=new WeakSet,r=e?typeof e=="number"?" ".repeat(e):e:"",s=u=>r.repeat(u),i=u=>{try{const f=u.toString();return typeof f=="string"?f:String(f)}catch{return"[toString threw]"}},a=(u,f)=>{const p=u?.constructor;return p&&p!==Object.prototype.constructor&&p.name?`${p.name}(${f})`:f},c=u=>{try{return Reflect.ownKeys(u)}catch{return["[ownKeys threw]"]}};function l(u,f=0){if(Array.isArray(u)){if(n.has(u))return X0;if(n.add(u),!r||u.length<=1)return`[${u.map(g=>l(g,f)).join(",")}]`;const p=u.map(g=>l(g,f+1)).join(`,
`+s(f+1));return`[
${s(f+1)}${p}
${s(f)}]`}if(MF(u))return iC(u);if(Y(u,"toString")&&Di(u.toString)&&u.toString!==Object.prototype.toString)return i(u);if(Mn(u))return JSON.stringify(u);if(ir(u)||u==null||w0(u)||_0(u))return String(u);if(Fa(u))return String(u)+"n";if(u instanceof Set||u instanceof Map)return n.has(u)?X0:(n.add(u),`${u.constructor.name}(${l(Array.from(u),f)})`);if(Rn(u)){if(n.has(u))return X0;n.add(u);const p=c(u);if(!r||p.length<=1){const b=`{${p.map(y=>`${Q0(y)}:${l(u[y],f)}`).join(",")}}`;return a(u,b)}const g=`{
${p.map(b=>`${s(f+1)}${Q0(b)}: ${l(u[b],f+1)}`).join(`,
`)}
${s(f)}}`;return a(u,g)}return String(u)}return l(t,0)}function Q0(t){return Mn(t)?JSON.stringify(t):String(t)}const Cp=t=>Array.isArray(t),kp=t=>`[${Q0(t)}]`,oC=t=>Cp(t)?t.map(kp).join(""):kp(t),Br=(t,e,n,r)=>{let s=t;return e!==void 0&&(s+=`
details: ${e}`),r&&(s+=`
schema (${r._tag}): ${r}`),s},aC=t=>Br("Unsupported key schema",void 0,void 0,t),uC=t=>Br("Unsupported literal",`literal value: ${Rr(t)}`),vp=t=>Br("Duplicate index signature",`${t} index signature`),cC=Br("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),lC=Br("Invalid element","A required element cannot follow an optional element. ts(1257)"),Ip=t=>Br("Duplicate property signature transformation",`Duplicate key ${Rr(t)}`),fC=t=>Br("Duplicate property signature",`Duplicate key ${Rr(t)}`),hC=ir,xC=t=>Op(t,-1),tl=d(2,(t,e)=>t+e),pC=t=>R3(t,0,tl),Tp=d(2,(t,e)=>t-e),Op=d(2,(t,e)=>t*e),mC=t=>{let e=1;for(const n of t){if(n===0)return 0;e*=n}return e},dC=d(2,(t,e)=>e===0?Gi:or(t/e)),gC=d(2,(t,e)=>t/e),el=t=>tl(t,1),nl=t=>Tp(t,1),$p=EF,yt=S3,bC=Pa(yt),yC=P0(yt),SC=B0(yt),wC=E3(yt),_C=C3(yt),AC=F3(yt),EC=D0(yt),FC=j0(yt),CC=t=>yt(t,0),kC=d(2,(t,e)=>{const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}),vC=t=>{const e=Math.ceil(Math.log(t)/Math.log(2));return Math.max(Math.pow(2,e),2)},IC=t=>{if(t==="NaN")return or(NaN);if(t==="Infinity")return or(1/0);if(t==="-Infinity")return or(-1/0);if(t.trim()==="")return Gi;const e=Number(t);return Number.isNaN(e)?Gi:or(e)},TC=d(2,(t,e)=>{const n=Math.pow(10,e);return Math.round(t*n)/n}),za=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),OC=Symbol.for("effect/annotation/Brand"),$C=Symbol.for("effect/annotation/SchemaId"),Np=Symbol.for("effect/annotation/Message"),rl=Symbol.for("effect/annotation/MissingMessage"),sl=Symbol.for("effect/annotation/Identifier"),no=Symbol.for("effect/annotation/Title"),il=Symbol.for("effect/annotation/AutoTitle"),Mp=Symbol.for("effect/annotation/Description"),Rp=Symbol.for("effect/annotation/Examples"),Bp=Symbol.for("effect/annotation/Default"),Pp=Symbol.for("effect/annotation/JSONSchema"),Dp=Symbol.for("effect/annotation/Arbitrary"),jp=Symbol.for("effect/annotation/Pretty"),Lp=Symbol.for("effect/annotation/Equivalence"),NC=Symbol.for("effect/annotation/Documentation"),Up=Symbol.for("effect/annotation/Concurrency"),qp=Symbol.for("effect/annotation/Batching"),Vp=Symbol.for("effect/annotation/ParseIssueTitle"),Wp=Symbol.for("effect/annotation/ParseOptions"),zp=Symbol.for("effect/annotation/DecodingFallback"),Kp=Symbol.for("effect/annotation/Surrogate"),MC=Symbol.for("effect/annotation/StableFilter"),we=d(2,(t,e)=>Object.prototype.hasOwnProperty.call(t.annotations,e)?R(t.annotations[e]):M()),RC=we(OC),BC=we(Np),PC=we(rl),Gp=we(no),Hp=we(il),Ka=we(sl),Jp=we(Mp),DC=we(Up),jC=we(qp),LC=we(Vp),UC=we(Wp),qC=we(zp),Yp=we(Kp),VC=we(MC),WC=t=>O3(VC(t),e=>e===!0),Zp=Symbol.for("effect/annotation/JSONIdentifier"),zC=we(Zp),KC=t=>Pn(zC(t),()=>Ka(t));class Xp{typeParameters;decodeUnknown;encodeUnknown;annotations;_tag="Declaration";constructor(e,n,r,s={}){this.typeParameters=e,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=s}toString(){return Ut(En(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:_e(this.annotations)}}}const ro=t=>e=>e._tag===t;class GC{literal;annotations;_tag="Literal";constructor(e,n={}){this.literal=e,this.annotations=n}toString(){return Ut(En(this),()=>Rr(this.literal))}toJSON(){return{_tag:this._tag,literal:Fa(this.literal)?String(this.literal):this.literal,annotations:_e(this.annotations)}}}const Qp=ro("Literal");class HC{symbol;annotations;_tag="UniqueSymbol";constructor(e,n={}){this.symbol=e,this.annotations=n}toString(){return Ut(En(this),()=>Rr(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:_e(this.annotations)}}}class JC{annotations;_tag="NeverKeyword";constructor(e={}){this.annotations=e}toString(){return fl(this)}toJSON(){return{_tag:this._tag,annotations:_e(this.annotations)}}}const tm=new JC({[no]:"never"});class YC{annotations;_tag="UnknownKeyword";constructor(e={}){this.annotations=e}toString(){return fl(this)}toJSON(){return{_tag:this._tag,annotations:_e(this.annotations)}}}const ZC=new YC({[no]:"unknown"});class XC{annotations;_tag="AnyKeyword";constructor(e={}){this.annotations=e}toString(){return fl(this)}toJSON(){return{_tag:this._tag,annotations:_e(this.annotations)}}}const QC=new XC({[no]:"any"}),tk=ro("StringKeyword"),ek=ro("SymbolKeyword");let Ga=class{type;annotations;constructor(e,n={}){this.type=e,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:_e(this.annotations)}}toString(){return String(this.type)}};class Ha extends Ga{isOptional;constructor(e,n,r={}){super(e,r),this.isOptional=n}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:_e(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const em=t=>t.map(e=>e.type);class ol{elements;rest;isReadonly;annotations;_tag="TupleType";constructor(e,n,r,s={}){this.elements=e,this.rest=n,this.isReadonly=r,this.annotations=s;let i=!1,a=!1;for(const c of e)if(c.isOptional)i=!0;else if(i){a=!0;break}if(a||i&&n.length>1)throw new Error(lC)}toString(){return Ut(En(this),()=>nk(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:_e(this.annotations)}}}const nk=t=>{const e=t.elements.map(String).join(", ");return V3(t.rest,{onEmpty:()=>`readonly [${e}]`,onNonEmpty:(n,r)=>{const s=String(n),i=s.includes(" | ")?`(${s})`:s;if(r.length>0){const a=r.map(String).join(", ");return t.elements.length>0?`readonly [${e}, ...${i}[], ${a}]`:`readonly [...${i}[], ${a}]`}else return t.elements.length>0?`readonly [${e}, ...${i}[]]`:`ReadonlyArray<${s}>`}})};class de extends Ha{name;isReadonly;constructor(e,n,r,s,i){super(n,r,i),this.name=e,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:_e(this.annotations)}}}const nm=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return nm(t.from)}return!1};class Ja{type;isReadonly;parameter;constructor(e,n,r){if(this.type=n,this.isReadonly=r,nm(e))this.parameter=e;else throw new Error(cC)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Pr{annotations;_tag="TypeLiteral";propertySignatures;indexSignatures;constructor(e,n,r={}){this.annotations=r;const s={};for(let a=0;a<e.length;a++){const c=e[a].name;if(Object.prototype.hasOwnProperty.call(s,c))throw new Error(fC(c));s[c]=null}const i={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=xm(n[a].parameter);if(tk(c)){if(i.string)throw new Error(vp("string"));i.string=!0}else if(ek(c)){if(i.symbol)throw new Error(vp("symbol"));i.symbol=!0}}this.propertySignatures=e,this.indexSignatures=n}toString(){return Ut(En(this),()=>rk(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:_e(this.annotations)}}}const rm=t=>t.map(String).join("; "),rk=t=>{if(t.propertySignatures.length>0){const e=t.propertySignatures.map(String).join("; ");return t.indexSignatures.length>0?`{ ${e}; ${rm(t.indexSignatures)} }`:`{ ${e} }`}else return t.indexSignatures.length>0?`{ ${rm(t.indexSignatures)} }`:"{}"},sk=Is(Ba(yt,t=>{switch(t._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),ik={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},sm=t=>J0(t,e=>om(e)?sm(e.types):[e]),ok=t=>{const e=sk(t),n=[],r={},s=[];for(const i of e)switch(i._tag){case"NeverKeyword":break;case"AnyKeyword":return[QC];case"UnknownKeyword":return[ZC];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[i._tag]||(r[i._tag]=i,n.push(i));break}case"Literal":{const a=typeof i.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=ik[a];!r[c]&&!s.includes(i.literal)&&(s.push(i.literal),n.push(i));break}case"object":{s.includes(i.literal)||(s.push(i.literal),n.push(i));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!s.includes(i.symbol)&&(s.push(i.symbol),n.push(i));break}case"TupleType":{r.ObjectKeyword||n.push(i);break}case"TypeLiteral":{i.propertySignatures.length===0&&i.indexSignatures.length===0?r["{}"]||(r["{}"]=i,n.push(i)):r.ObjectKeyword||n.push(i);break}default:n.push(i)}return n};let jn=class U1{types;annotations;static make=(e,n)=>im(e)?new U1(e,n):e.length===1?e[0]:tm;static unify=(e,n)=>U1.make(ok(sm(e)),n);_tag="Union";constructor(e,n={}){this.types=e,this.annotations=n}toString(){return Ut(En(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:_e(this.annotations)}}};const im=t=>t.length>1,om=ro("Union"),al=lt(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class ul{f;annotations;_tag="Suspend";constructor(e,n={}){this.f=e,this.annotations=n,this.f=Fp(e)}toString(){return En(this).pipe(Pn(()=>ja(v3(this.f)(),e=>En(e))),Ut(()=>"<suspended schema>"))}toJSON(){const e=this.f();let n=al.get(e);return n||(al.set(e,{_tag:this._tag}),n={_tag:this._tag,ast:e.toJSON(),annotations:_e(this.annotations)},al.set(e,n),n)}}let ak=class{from;filter;annotations;_tag="Refinement";constructor(e,n,r={}){this.from=e,this.filter=n,this.annotations=r}toString(){return Ka(this).pipe(Ut(()=>ae(pm(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>am(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:_e(this.annotations)}}};const am=ro("Refinement"),cl={};let uk=class{from;to;transformation;annotations;_tag="Transformation";constructor(e,n,r,s={}){this.from=e,this.to=n,this.transformation=r,this.annotations=s}toString(){return Ut(En(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:_e(this.annotations)}}};class ck{from;to;decode;encode;constructor(e,n,r,s){this.from=e,this.to=n,this.decode=r,this.encode=s}}class lk{propertySignatureTransformations;_tag="TypeLiteralTransformation";constructor(e){this.propertySignatureTransformations=e;const n={},r={};for(const s of e){const i=s.from;if(n[i])throw new Error(Ip(i));n[i]=!0;const a=s.to;if(r[a])throw new Error(Ip(a));r[a]=!0}}}const ll=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={...t.annotations};delete r[sl];const s={...r,...e},i=Yp(t);return vt(i)&&(s[Kp]=ll(i.value,e)),n.annotations.value=s,Object.create(Object.getPrototypeOf(t),n)},fk="[\\s\\S]*?",hk="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",um=(t,e)=>{switch(t._tag){case"Literal":return za(String(t.literal));case"StringKeyword":return fk;case"NumberKeyword":return hk;case"TemplateLiteral":return cm(t);case"Union":return t.types.map(n=>um(n)).join("|")}},xk=(t,e,n,r)=>om(t)?`(${e})`:e,cm=(t,e,n)=>{let r="";if(t.head!==""){const s=za(t.head);r+=s}for(const s of t.spans){const i=um(s.type);if(r+=xk(s.type,i),s.literal!==""){const a=za(s.literal);r+=a}}return r},pk=t=>new RegExp(`^${cm(t)}$`),lm=(t,e)=>{const n=[],r=[],s=i=>{switch(i._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new Ja(i,e,!0));break;case"Literal":if(Mn(i.literal)||ir(i.literal))n.push(new de(i.literal,e,!1,!0));else throw new Error(uC(i.literal));break;case"Enums":{for(const[a,c]of i.enums)n.push(new de(c,e,!1,!0));break}case"UniqueSymbol":n.push(new de(i.symbol,e,!1,!0));break;case"Union":i.types.forEach(s);break;default:throw new Error(aC(i))}};return s(t),{propertySignatures:n,indexSignatures:r}},fm=t=>e=>{let n;for(const r of t)Object.prototype.hasOwnProperty.call(e.annotations,r)&&(n===void 0&&(n={}),n[r]=e.annotations[r]);return n},mk=fm([Rp,Bp,Pp,Dp,jp,Lp]),ke=t=>{switch(t._tag){case"Declaration":{const e=We(t.typeParameters,ke);return e===t.typeParameters?t:new Xp(e,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const e=We(t.elements,s=>{const i=ke(s.type);return i===s.type?s:new Ha(i,s.isOptional)}),n=em(t.rest),r=We(n,ke);return e===t.elements&&r===n?t:new ol(e,r.map(s=>new Ga(s)),t.isReadonly,t.annotations)}case"TypeLiteral":{const e=We(t.propertySignatures,r=>{const s=ke(r.type);return s===r.type?r:new de(r.name,s,r.isOptional,r.isReadonly)}),n=We(t.indexSignatures,r=>{const s=ke(r.type);return s===r.type?r:new Ja(r.parameter,s,r.isReadonly)});return e===t.propertySignatures&&n===t.indexSignatures?t:new Pr(e,n,t.annotations)}case"Union":{const e=We(t.types,ke);return e===t.types?t:jn.make(e,t.annotations)}case"Suspend":return new ul(()=>ke(t.f()),t.annotations);case"Refinement":{const e=ke(t.from);return e===t.from?t:new ak(e,t.filter,t.annotations)}case"Transformation":{const e=mk(t);return ke(e!==void 0?ll(t.to,e):t.to)}}return t};function We(t,e){let n=!1;const r=La(t.length);for(let s=0;s<t.length;s++){const i=t[s],a=e(i);a!==i&&(n=!0),r[s]=a}return n?r:t}const An=(t,e)=>{switch(t._tag){case"Declaration":{const n=We(t.typeParameters,r=>An(r));return n===t.typeParameters?t:new Xp(n,t.decodeUnknown,t.encodeUnknown)}case"TupleType":{const n=We(t.elements,i=>{const a=An(i.type);return a===i.type?i:new Ha(a,i.isOptional)}),r=em(t.rest),s=We(r,i=>An(i));return n===t.elements&&s===r?t:new ol(n,s.map(i=>new Ga(i)),t.isReadonly)}case"TypeLiteral":{const n=We(t.propertySignatures,s=>{const i=An(s.type);return i===s.type?s:new de(s.name,i,s.isOptional,s.isReadonly)}),r=We(t.indexSignatures,s=>{const i=An(s.type);return i===s.type?s:new Ja(s.parameter,i,s.isReadonly)});return n===t.propertySignatures&&r===t.indexSignatures?t:new Pr(n,r)}case"Union":{const n=We(t.types,r=>An(r));return n===t.types?t:jn.make(n)}case"Suspend":{let n;const r=KC(t);return vt(r)&&(n={[Zp]:`${r.value}Encoded`}),new ul(()=>An(t.f()),n)}case"Refinement":return An(t.from);case"Transformation":return An(t.from)}return t},hm=t=>An(t),_e=t=>{const e={};for(const n of Object.getOwnPropertySymbols(t))e[String(n)]=t[n];return e},xm=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return t;case"Refinement":return xm(t.from)}},fl=t=>Ut(En(t),()=>t._tag);function dk(t){return ae(RC(t),{onNone:()=>"",onSome:e=>e.map(n=>` & Brand<${Rr(n)}>`).join("")})}const pm=t=>Gp(t).pipe(Pn(()=>Jp(t)),Pn(()=>Hp(t)),Da(e=>e+dk(t))),En=t=>Pn(Ka(t),()=>pm(t)),gk=Symbol.for("effect/Context/Tag"),Ya=Symbol.for("effect/Context/Reference"),mm={...Wi,_op:"Tag",[Symbol.for("effect/STM")]:Cs,[gk]:{_Service:t=>t,_Identifier:t=>t},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[kt](){return this.toJSON()},of(t){return t},context(t){return gm(this,t)}},bk={...mm,[Ya]:Ya},yk=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const r=Object.create(mm);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=t,r},Sk=()=>(t,e)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function s(){}return Object.setPrototypeOf(s,bk),s.key=t,s.defaultValue=e.defaultValue,Object.defineProperty(s,"stack",{get(){return r.stack}}),s},dm=Symbol.for("effect/Context"),wk={[dm]:{_Services:t=>t},[Z](t){if(Ak(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!X(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[tt](){return Bt(this,Li(this.unsafeMap.size))},pipe(){return H(this,arguments)},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Xt)}},[kt](){return this.toJSON()}},Os=t=>{const e=Object.create(wk);return e.unsafeMap=t,e},_k=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(e.message=e.message+` (defined at ${r[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},Ak=t=>Y(t,dm),Ek=t=>Y(t,Ya),Fk=Os(new Map),Ck=()=>Fk,gm=(t,e)=>Os(new Map([[t.key,e]])),kk=d(3,(t,e,n)=>{const r=new Map(t.unsafeMap);return r.set(e.key,n),Os(r)}),hl=lt("effect/Context/defaultValueCache",()=>new Map),xl=t=>{if(hl.has(t.key))return hl.get(t.key);const e=t.defaultValue();return hl.set(t.key,e),e},vk=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):xl(e),bm=d(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(Ya in e)return xl(e);throw _k(e)}return t.unsafeMap.get(e.key)}),Ik=bm,Tk=d(2,(t,e)=>t.unsafeMap.has(e.key)?or(t.unsafeMap.get(e.key)):Ek(e)?or(xl(e)):Gi),Ok=d(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[r,s]of e.unsafeMap)n.set(r,s);return Os(n)}),Dr=yk,pl=Ck,$k=gm,so=kk,ym=Ik,Sm=bm,io=Tk,wm=Ok,_m=Sk,Am=Symbol.for("effect/Chunk");function Nk(t,e,n,r,s){for(let i=e;i<Math.min(t.length,e+s);i++)n[r+i-e]=t[i];return n}const Em=[],Mk=(t=>Or((e,n)=>e.length===n.length&&jr(e).every((r,s)=>t(r,Ns(n,s)))))(X),Rk={[Am]:{_A:t=>t},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"Chunk",values:jr(this).map(Xt)}},[kt](){return this.toJSON()},[Z](t){return Fm(t)&&Mk(this,t)},[tt](){return Bt(this,Ui(jr(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return Em[Symbol.iterator]();default:return jr(this)[Symbol.iterator]()}},pipe(){return H(this,arguments)}},te=t=>{const e=Object.create(Rk);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Fn,e.right=Fn;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Fn,e.right=Fn;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Fn,e.right=Fn;break}}return e},Fm=t=>Y(t,Am),Fn=te({_tag:"IEmpty"}),Ln=()=>Fn,ml=(...t)=>Bk(t),Me=t=>te({_tag:"ISingleton",a:t}),Cm=t=>Fm(t)?t:Za(bt(t)),dl=(t,e,n)=>{switch(t.backing._tag){case"IArray":{Nk(t.backing.array,0,e,n,t.length);break}case"IConcat":{dl(t.left,e,n),dl(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let r=0,s=n;for(;r<t.length;)e[s]=Ns(t,r),r+=1,s+=1;break}}},jr=t=>{switch(t.backing._tag){case"IEmpty":return Em;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return dl(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Fn,t.right=Fn,t.depth=0,e}}},$s=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return te({_tag:"IArray",array:H0(t.backing.array)});case"IConcat":return te({_tag:"IConcat",left:$s(t.backing.right),right:$s(t.backing.left)});case"ISlice":return Za(H0(jr(t)))}},Za=t=>t.length===0?Ln():t.length===1?Me(t[0]):te({_tag:"IArray",array:t}),Bk=t=>Za(t),Ns=d(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?Ns(t.left,e):Ns(t.right,e-t.left.length);case"ISlice":return Ns(t.backing.chunk,e+t.backing.offset)}}),Pk=d(2,(t,e)=>an(t,Me(e))),on=d(2,(t,e)=>an(Me(e),t)),gl=d(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Fn;switch(t.backing._tag){case"ISlice":return te({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?gl(t.right,e-t.left.length):te({_tag:"IConcat",left:gl(t.left,e),right:t.right});default:return te({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),an=d(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return te({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const r=an(t.right,e);return te({_tag:"IConcat",left:t.left,right:r})}else{const r=an(t.right.right,e);if(r.depth===t.depth-3){const s=te({_tag:"IConcat",left:t.right.left,right:r});return te({_tag:"IConcat",left:t.left,right:s})}else{const s=te({_tag:"IConcat",left:t.left,right:t.right.left});return te({_tag:"IConcat",left:s,right:r})}}else if(e.right.depth>=e.left.depth){const r=an(t,e.left);return te({_tag:"IConcat",left:r,right:e.right})}else{const r=an(t,e.left.left);if(r.depth===e.depth-3){const s=te({_tag:"IConcat",left:r,right:e.left.right});return te({_tag:"IConcat",left:s,right:e.right})}else{const s=te({_tag:"IConcat",left:e.left.right,right:e.right});return te({_tag:"IConcat",left:r,right:s})}}}),Dk=t=>t.length===0,Ms=t=>t.length>0,km=t=>Ns(t,0),Rs=km,Lr=t=>gl(t,1),bl=Symbol.for("effect/Duration"),vm=BigInt(0),Im=BigInt(24),Xa=BigInt(60),yl=BigInt(1e3),Tm=BigInt(1e6),Om=BigInt(1e9),jk=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,Un=t=>{if(Nm(t))return t;if(ir(t))return Ur(t);if(Fa(t))return Sl(t);if(Array.isArray(t)&&t.length===2&&t.every(ir))return t[0]===-1/0||t[1]===-1/0||Number.isNaN(t[0])||Number.isNaN(t[1])?Mm:t[0]===1/0||t[1]===1/0?Vk:Sl(BigInt(Math.round(t[0]*1e9))+BigInt(Math.round(t[1])));if(Mn(t)){const e=jk.exec(t);if(e){const[n,r,s]=e,i=Number(r);switch(s){case"nano":case"nanos":return Sl(BigInt(r));case"micro":case"micros":return Wk(BigInt(r));case"milli":case"millis":return Ur(i);case"second":case"seconds":return Rm(i);case"minute":case"minutes":return Bm(i);case"hour":case"hours":return Pm(i);case"day":case"days":return Dm(i);case"week":case"weeks":return jm(i)}}}throw new Error("Invalid DurationInput")},$m={_tag:"Millis",millis:0},Lk={_tag:"Infinity"},Uk={[bl]:bl,[tt](){return Bt(this,Z1(this.value))},[Z](t){return Nm(t)&&Xk(this,t)},toString(){return`Duration(${tv(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:Kk(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[kt](){return this.toJSON()},pipe(){return H(this,arguments)}},Cn=t=>{const e=Object.create(Uk);return ir(t)?isNaN(t)||t<=0?e.value=$m:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=Lk:t<=vm?e.value=$m:e.value={_tag:"Nanos",nanos:t},e},Nm=t=>Y(t,bl),qk=t=>{switch(t.value._tag){case"Millis":return t.value.millis===0;case"Nanos":return t.value.nanos===vm;case"Infinity":return!1}},Mm=Cn(0),Vk=Cn(1/0),Sl=t=>Cn(t),Wk=t=>Cn(t*yl),Ur=t=>Cn(t),Rm=t=>Cn(t*1e3),Bm=t=>Cn(t*6e4),Pm=t=>Cn(t*36e5),Dm=t=>Cn(t*864e5),jm=t=>Cn(t*6048e5),wl=t=>Gk(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),zk=t=>{const e=Un(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},Kk=t=>{const e=Un(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/Om),Number(e.value.nanos%Om)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},Gk=d(2,(t,e)=>{const n=Un(t);switch(n.value._tag){case"Nanos":return e.onNanos(n.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(n.value.millis)}}),Qa=d(3,(t,e,n)=>{const r=Un(t),s=Un(e);if(r.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(wl(r),wl(s));if(r.value._tag==="Nanos"||s.value._tag==="Nanos"){const i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(i,a)}return n.onMillis(r.value.millis,s.value.millis)}),Hk=ks((t,e)=>Qa(t,e,{onMillis:(n,r)=>n<r?-1:n>r?1:0,onNanos:(n,r)=>n<r?-1:n>r?1:0})),Jk=(t,e)=>Qa(t,e,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),Yk=d(2,(t,e)=>Qa(t,e,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r})),Zk=d(2,(t,e)=>Qa(t,e,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),Xk=d(2,(t,e)=>Jk(Un(t),Un(e))),Qk=t=>{const e=Un(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=zk(e),r=n/Tm,s=r/yl,i=s/Xa,a=i/Xa,c=a/Im;return{days:Number(c),hours:Number(a%Im),minutes:Number(i%Xa),seconds:Number(s%Xa),millis:Number(r%yl),nanos:Number(n%Tm)}},tv=t=>{const e=Un(t);if(e.value._tag==="Infinity")return"Infinity";if(qk(e))return"0";const n=Qk(e),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},qr=5,_l=Math.pow(2,qr),ev=_l-1,nv=_l/2,rv=_l/4;function sv(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Bs(t,e){return e>>>t&ev}function Ps(t){return 1<<t}function Lm(t,e){return sv(t&e-1)}const iv=(t,e)=>({value:t,previous:e});function Ds(t,e,n,r){let s=r;if(!t){const i=r.length;s=new Array(i);for(let a=0;a<i;++a)s[a]=r[a]}return s[e]=n,s}function Um(t,e,n){const r=n.length-1;let s=0,i=0,a=n;if(t)s=i=e;else for(a=new Array(r);s<e;)a[i++]=n[s++];for(++s;s<=r;)a[i++]=n[s++];return t&&(a.length=r),a}function ov(t,e,n,r){const s=r.length;if(t){let l=s;for(;l>=e;)r[l--]=r[l];return r[e]=n,r}let i=0,a=0;const c=new Array(s+1);for(;i<e;)c[a++]=r[i++];for(c[e]=n;i<s;)c[++a]=r[i++];return c}class cr{_tag="EmptyNode";modify(e,n,r,s,i,a){const c=r(M());return gt(c)?new cr:(++a.value,new Vr(e,s,i,c))}}function un(t){return E0(t,"EmptyNode")}function av(t){return un(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function tu(t,e){return un(t)?!1:e===t.edit}class Vr{edit;hash;key;value;_tag="LeafNode";constructor(e,n,r,s){this.edit=e,this.hash=n,this.key=r,this.value=s}modify(e,n,r,s,i,a){if(X(i,this.key)){const l=r(this.value);return l===this.value?this:gt(l)?(--a.value,new cr):tu(this,e)?(this.value=l,this):new Vr(e,s,i,l)}const c=r(M());return gt(c)?this:(++a.value,qm(e,n,this.hash,this,s,new Vr(e,s,i,c)))}}class Al{edit;hash;children;_tag="CollisionNode";constructor(e,n,r){this.edit=e,this.hash=n,this.children=r}modify(e,n,r,s,i,a){if(s===this.hash){const l=tu(this,e),u=this.updateCollisionList(l,e,this.hash,this.children,r,i,a);return u===this.children?this:u.length>1?new Al(e,this.hash,u):u[0]}const c=r(M());return gt(c)?this:(++a.value,qm(e,n,this.hash,this,s,new Vr(e,s,i,c)))}updateCollisionList(e,n,r,s,i,a,c){const l=s.length;for(let f=0;f<l;++f){const p=s[f];if("key"in p&&X(a,p.key)){const g=p.value,b=i(g);return b===g?s:gt(b)?(--c.value,Um(e,f,s)):Ds(e,f,new Vr(n,r,a,b),s)}}const u=i(M());return gt(u)?s:(++c.value,Ds(e,l,new Vr(n,r,a,u),s))}}class js{edit;mask;children;_tag="IndexedNode";constructor(e,n,r){this.edit=e,this.mask=n,this.children=r}modify(e,n,r,s,i,a){const c=this.mask,l=this.children,u=Bs(n,s),f=Ps(u),p=Lm(c,f),g=c&f,b=tu(this,e);if(!g){const E=new cr().modify(e,n+qr,r,s,i,a);return E?l.length>=nv?cv(e,u,E,c,l):new js(e,c|f,ov(b,p,E,l)):this}const y=l[p],w=y.modify(e,n+qr,r,s,i,a);if(y===w)return this;let m=c,A;if(un(w)){if(m&=~f,!m)return new cr;if(l.length<=2&&av(l[p^1]))return l[p^1];A=Um(b,p,l)}else A=Ds(b,p,w,l);return b?(this.mask=m,this.children=A,this):new js(e,m,A)}}class El{edit;size;children;_tag="ArrayNode";constructor(e,n,r){this.edit=e,this.size=n,this.children=r}modify(e,n,r,s,i,a){let c=this.size;const l=this.children,u=Bs(n,s),f=l[u],p=(f||new cr).modify(e,n+qr,r,s,i,a);if(f===p)return this;const g=tu(this,e);let b;if(un(f)&&!un(p))++c,b=Ds(g,u,p,l);else if(!un(f)&&un(p)){if(--c,c<=rv)return uv(e,c,u,l);b=Ds(g,u,new cr,l)}else b=Ds(g,u,p,l);return g?(this.size=c,this.children=b,this):new El(e,c,b)}}function uv(t,e,n,r){const s=new Array(e-1);let i=0,a=0;for(let c=0,l=r.length;c<l;++c)if(c!==n){const u=r[c];u&&!un(u)&&(s[i++]=u,a|=1<<c)}return new js(t,a,s)}function cv(t,e,n,r,s){const i=[];let a=r,c=0;for(let l=0;a;++l)a&1&&(i[l]=s[c++]),a>>>=1;return i[e]=n,new El(t,c+1,i)}function lv(t,e,n,r,s,i){if(n===s)return new Al(t,n,[i,r]);const a=Bs(e,n),c=Bs(e,s);if(a===c)return l=>new js(t,Ps(a)|Ps(c),[l]);{const l=a<c?[r,i]:[i,r];return new js(t,Ps(a)|Ps(c),l)}}function qm(t,e,n,r,s,i){let a,c=e;for(;;){const l=lv(t,c,n,r,s,i);if(typeof l=="function")a=iv(l,a),c=c+qr;else{let u=l;for(;a!=null;)u=a.value(u),a=a.previous;return u}}}const Vm="effect/HashMap",Fl=Symbol.for(Vm),fv={[Fl]:Fl,[Symbol.iterator](){return new eu(this,(t,e)=>[t,e])},[tt](){let t=j(Vm);for(const e of this)t^=h(j(e[0]),ft(j(e[1])));return Bt(this,t)},[Z](t){if(pv(t)){if(t._size!==this._size)return!1;for(const e of this){const n=h(t,kl(e[0],j(e[0])));if(gt(n))return!1;if(!X(e[1],n.value))return!1}return!0}return!1},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Xt)}},[kt](){return this.toJSON()},pipe(){return H(this,arguments)}},Cl=(t,e,n,r)=>{const s=Object.create(fv);return s._editable=t,s._edit=e,s._root=n,s._size=r,s};class eu{map;f;v;constructor(e,n){this.map=e,this.f=n,this.v=Wm(this.map._root,this.f,void 0)}next(){if(gt(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=nu(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new eu(this.map,this.f)}}const nu=t=>t?zm(t[0],t[1],t[2],t[3],t[4]):M(),Wm=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return vt(t.value)?R({value:e(t.key,t.value.value),cont:n}):nu(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=t.children;return zm(r.length,r,0,e,n)}default:return nu(n)}},zm=(t,e,n,r,s)=>{for(;n<t;){const i=e[n++];if(i&&!un(i))return Wm(i,r,[t,e,n,r,s])}return nu(s)},hv=Cl(!1,0,new cr,0),ru=()=>hv,xv=t=>{const e=Km(ru());for(const n of t)oo(e,n[0],n[1]);return yv(e)},pv=t=>Y(t,Fl),mv=t=>t&&un(t._root),dv=d(2,(t,e)=>kl(t,e,j(e))),kl=d(3,(t,e,n)=>{let r=t._root,s=0;for(;;)switch(r._tag){case"LeafNode":return X(e,r.key)?r.value:M();case"CollisionNode":{if(n===r.hash){const i=r.children;for(let a=0,c=i.length;a<c;++a){const l=i[a];if("key"in l&&X(e,l.key))return l.value}}return M()}case"IndexedNode":{const i=Bs(s,n),a=Ps(i);if(r.mask&a){r=r.children[Lm(r.mask,a)],s+=qr;break}return M()}case"ArrayNode":{if(r=r.children[Bs(s,n)],r){s+=qr;break}return M()}default:return M()}}),gv=d(2,(t,e)=>vt(kl(t,e,j(e)))),oo=d(3,(t,e,n)=>Tl(t,e,()=>R(n))),bv=d(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:Cl(t._editable,t._edit,e,n)),vl=t=>new eu(t,e=>e),Il=t=>t._size,Km=t=>Cl(!0,t._edit+1,t._root,t._size),yv=t=>(t._editable=!1,t),Tl=d(3,(t,e,n)=>Sv(t,e,j(e),n)),Sv=d(4,(t,e,n,r)=>{const s={value:t._size},i=t._root.modify(t._editable?t._edit:NaN,0,r,n,e,s);return h(t,bv(i,s.value))}),Gm=d(2,(t,e)=>Tl(t,e,M)),wv=d(2,(t,e)=>su(t,ru(),(n,r,s)=>oo(n,s,e(r,s)))),_v=d(2,(t,e)=>su(t,void 0,(n,r,s)=>e(r,s))),su=d(3,(t,e,n)=>{const r=t._root;if(r._tag==="LeafNode")return vt(r.value)?n(e,r.value.value,r.key):e;if(r._tag==="EmptyNode")return e;const s=[r.children];let i;for(;i=s.pop();)for(let a=0,c=i.length;a<c;){const l=i[a++];l&&!un(l)&&(l._tag==="LeafNode"?vt(l.value)&&(e=n(e,l.value.value,l.key)):s.push(l.children))}return e}),Hm="effect/HashSet",Ol=Symbol.for(Hm),Av={[Ol]:Ol,[Symbol.iterator](){return vl(this._keyMap)},[tt](){return Bt(this,ft(j(this._keyMap))(j(Hm)))},[Z](t){return Ev(t)?Il(this._keyMap)===Il(t._keyMap)&&X(this._keyMap,t._keyMap):!1},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Xt)}},[kt](){return this.toJSON()},pipe(){return H(this,arguments)}},iu=t=>{const e=Object.create(Av);return e._keyMap=t,e},Ev=t=>Y(t,Ol),Fv=iu(ru()),ou=()=>Fv,Cv=t=>{const e=$l(ou());for(const n of t)ao(e,n);return Nl(e)},kv=(...t)=>{const e=$l(ou());for(const n of t)ao(e,n);return Nl(e)},vv=d(2,(t,e)=>gv(t._keyMap,e)),Iv=t=>vl(t._keyMap),Tv=t=>Il(t._keyMap),$l=t=>iu(Km(t._keyMap)),Nl=t=>(t._keyMap._editable=!1,t),Jm=d(2,(t,e)=>{const n=$l(t);return e(n),Nl(n)}),ao=d(2,(t,e)=>t._keyMap._editable?(oo(e,!0)(t._keyMap),t):iu(oo(e,!0)(t._keyMap))),Ym=d(2,(t,e)=>t._keyMap._editable?(Gm(e)(t._keyMap),t):iu(Gm(e)(t._keyMap))),Ov=d(2,(t,e)=>Jm(t,n=>{for(const r of e)Ym(n,r)})),$v=d(2,(t,e)=>Jm(ou(),n=>{Nv(t,r=>ao(n,r));for(const r of e)ao(n,r)})),Nv=d(2,(t,e)=>_v(t._keyMap,(n,r)=>e(r))),Mv=d(3,(t,e,n)=>su(t._keyMap,e,(r,s,i)=>n(r,i))),lr=ou,Zm=Cv,Ml=kv,Rv=vv,Bv=Iv,Rl=Tv,Ls=ao,Bl=Ym,Xm=Ov,uo=$v,au=Mv,Qm=Symbol.for("effect/MutableRef"),Pv={[Qm]:Qm,toString(){return Qt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Xt(this.current)}},[kt](){return this.toJSON()},pipe(){return H(this,arguments)}},td=t=>{const e=Object.create(Pv);return e.current=t,e},uu=t=>t.current,ed=d(2,(t,e)=>(t.current=e,t)),Pl="effect/FiberId",co=Symbol.for(Pl),cu="None",Dl="Runtime",Dv="Composite",jv=Rt(`${Pl}-${cu}`);let Lv=class{[co]=co;_tag=cu;id=-1;startTimeMillis=-1;[tt](){return jv}[Z](e){return nd(e)&&e._tag===cu}toString(){return Qt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[kt](){return this.toJSON()}};class Uv{id;startTimeMillis;[co]=co;_tag=Dl;constructor(e,n){this.id=e,this.startTimeMillis=n}[tt](){return Bt(this,Rt(`${Pl}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Z](e){return nd(e)&&e._tag===Dl&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return Qt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[kt](){return this.toJSON()}}const qv=new Lv,nd=t=>Y(t,co),jl=t=>{switch(t._tag){case cu:return lr();case Dl:return Ml(t.id);case Dv:return h(jl(t.left),uo(jl(t.right)))}},rd=lt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>td(0)),sd=t=>Array.from(jl(t)).map(n=>`#${n}`).join(","),Vv=()=>{const t=uu(rd);return h(rd,ed(t+1)),new Uv(t,Date.now())},Us=qv,Wv=sd,id=Vv,lo=ru,zv=xv,Kv=mv,Ll=dv,Ul=oo,od=vl,ad=Tl,Gv=wv,ud=su,fo=Symbol.for("effect/List"),ql=t=>bt(t),Hv=(t=>CF(Mr(t),ql))(X),Jv={[fo]:fo,_tag:"Cons",toString(){return Qt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:ql(this).map(Xt)}},[kt](){return this.toJSON()},[Z](t){return cd(t)&&this._tag===t._tag&&Hv(this,t)},[tt](){return Bt(this,Ui(ql(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return H(this,arguments)}},qs=(t,e)=>{const n=Object.create(Jv);return n.head=t,n.tail=e,n},Yv=Rt("Nil"),Zv={[fo]:fo,_tag:"Nil",toString(){return Qt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[kt](){return this.toJSON()},[tt](){return Yv},[Z](t){return cd(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return H(this,arguments)}},lu=Object.create(Zv),cd=t=>Y(t,fo),cn=t=>t._tag==="Nil",Xv=t=>t._tag==="Cons",Qv=()=>lu,Wr=(t,e)=>qs(t,e),Vs=Qv,Vl=t=>qs(t,lu),tI=d(2,(t,e)=>nI(e,t)),eI=d(2,(t,e)=>Wr(e,t)),nI=d(2,(t,e)=>{if(cn(t))return e;if(cn(e))return t;{const n=qs(e.head,t);let r=n,s=e.tail;for(;!cn(s);){const i=qs(s.head,t);r.tail=i,r=i,s=s.tail}return n}}),rI=d(2,(t,e)=>{if(cn(t))return t;{let n=0;const r=qs(e(t.head,n++),lu);let s=r,i=t.tail;for(;!cn(i);){const a=qs(e(i.head,n++),lu);s.tail=a,s=a,i=i.tail}return r}}),sI=d(3,(t,e,n)=>{let r=e,s=t;for(;!cn(s);)r=n(r,s.head),s=s.tail;return r}),iI=t=>{let e=Vs(),n=t;for(;!cn(n);)e=eI(e,n.head),n=n.tail;return e},fu=(function(){function t(e){e&&Object.assign(this,e)}return t.prototype=zi,t})(),oI=t=>Object.assign(Object.create(zi),t),aI=Symbol.for("effect/DifferContextPatch");function ld(t){return t}const ho={...fu.prototype,[aI]:{_Value:ld,_Patch:ld}},uI=Object.create(Object.assign(Object.create(ho),{_tag:"Empty"})),fd=()=>uI,cI=Object.assign(Object.create(ho),{_tag:"AndThen"}),lI=(t,e)=>{const n=Object.create(cI);return n.first=t,n.second=e,n},fI=Object.assign(Object.create(ho),{_tag:"AddService"}),hI=(t,e)=>{const n=Object.create(fI);return n.key=t,n.service=e,n},xI=Object.assign(Object.create(ho),{_tag:"RemoveService"}),pI=t=>{const e=Object.create(xI);return e.key=t,e},mI=Object.assign(Object.create(ho),{_tag:"UpdateService"}),dI=(t,e)=>{const n=Object.create(mI);return n.key=t,n.update=e,n},gI=(t,e)=>{const n=new Map(t.unsafeMap);let r=fd();for(const[s,i]of e.unsafeMap.entries())if(n.has(s)){const a=n.get(s);n.delete(s),X(a,i)||(r=hu(dI(s,()=>i))(r))}else n.delete(s),r=hu(hI(s,i))(r);for(const[s]of n.entries())r=hu(pI(s))(r);return r},hu=d(2,(t,e)=>lI(t,e)),bI=d(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,r=Me(t);const s=new Map(e.unsafeMap);for(;Ms(r);){const a=Rs(r),c=Lr(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{s.set(a.key,a.service),r=c;break}case"AndThen":{r=on(on(c,a.second),a.first);break}case"RemoveService":{s.delete(a.key),r=c;break}case"UpdateService":{s.set(a.key,a.update(s.get(a.key))),n=!0,r=c;break}}}if(!n)return Os(s);const i=new Map;for(const[a]of e.unsafeMap)s.has(a)&&(i.set(a,s.get(a)),s.delete(a));for(const[a,c]of s)i.set(a,c);return Os(i)}),yI=Symbol.for("effect/DifferHashSetPatch");function Wl(t){return t}const xu={...fu.prototype,[yI]:{_Value:Wl,_Key:Wl,_Patch:Wl}},SI=Object.create(Object.assign(Object.create(xu),{_tag:"Empty"})),hd=()=>SI,wI=Object.assign(Object.create(xu),{_tag:"AndThen"}),_I=(t,e)=>{const n=Object.create(wI);return n.first=t,n.second=e,n},AI=Object.assign(Object.create(xu),{_tag:"Add"}),EI=t=>{const e=Object.create(AI);return e.value=t,e},FI=Object.assign(Object.create(xu),{_tag:"Remove"}),CI=t=>{const e=Object.create(FI);return e.value=t,e},kI=(t,e)=>{const[n,r]=au([t,hd()],([s,i],a)=>Rv(a)(s)?[Bl(a)(s),i]:[s,zl(EI(a))(i)])(e);return au(r,(s,i)=>zl(CI(i))(s))(n)},zl=d(2,(t,e)=>_I(t,e)),vI=d(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,r=Me(t);for(;Ms(r);){const s=Rs(r),i=Lr(r);switch(s._tag){case"Empty":{r=i;break}case"AndThen":{r=on(s.first)(on(s.second)(i));break}case"Add":{n=Ls(s.value)(n),r=i;break}case"Remove":n=Bl(s.value)(n),r=i}}return n}),II=Symbol.for("effect/DifferReadonlyArrayPatch");function xd(t){return t}const xo={...fu.prototype,[II]:{_Value:xd,_Patch:xd}},TI=Object.create(Object.assign(Object.create(xo),{_tag:"Empty"})),pd=()=>TI,OI=Object.assign(Object.create(xo),{_tag:"AndThen"}),$I=(t,e)=>{const n=Object.create(OI);return n.first=t,n.second=e,n},NI=Object.assign(Object.create(xo),{_tag:"Append"}),MI=t=>{const e=Object.create(NI);return e.values=t,e},RI=Object.assign(Object.create(xo),{_tag:"Slice"}),BI=(t,e)=>{const n=Object.create(RI);return n.from=t,n.until=e,n},PI=Object.assign(Object.create(xo),{_tag:"Update"}),DI=(t,e)=>{const n=Object.create(PI);return n.index=t,n.patch=e,n},jI=t=>{let e=0,n=pd();for(;e<t.oldValue.length&&e<t.newValue.length;){const r=t.oldValue[e],s=t.newValue[e],i=t.differ.diff(r,s);X(i,t.differ.empty)||(n=pu(n,DI(e,i))),e=e+1}return e<t.oldValue.length&&(n=pu(n,BI(0,e))),e<t.newValue.length&&(n=pu(n,MI(H3(e)(t.newValue)))),n},pu=d(2,(t,e)=>$I(t,e)),LI=d(3,(t,e,n)=>{if(t._tag==="Empty")return e;let r=e.slice(),s=Ce(t);for(;le(s);){const i=Jt(s),a=_n(s);switch(i._tag){case"Empty":{s=a;break}case"AndThen":{a.unshift(i.first,i.second),s=a;break}case"Append":{for(const c of i.values)r.push(c);s=a;break}case"Slice":{r=r.slice(i.from,i.until),s=a;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),s=a;break}}}return r}),UI={[Symbol.for("effect/Differ")]:{_P:rt,_V:rt},pipe(){return H(this,arguments)}},Ws=t=>{const e=Object.create(UI);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},qI=()=>Ws({empty:fd(),combine:(t,e)=>hu(e)(t),diff:(t,e)=>gI(t,e),patch:(t,e)=>bI(e)(t)}),VI=()=>Ws({empty:hd(),combine:(t,e)=>zl(e)(t),diff:(t,e)=>kI(t,e),patch:(t,e)=>vI(e)(t)}),WI=t=>Ws({empty:pd(),combine:(e,n)=>pu(e,n),diff:(e,n)=>jI({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>LI(e,n,t)}),md=()=>zI((t,e)=>e),zI=t=>Ws({empty:rt,combine:(e,n)=>e===rt?n:n===rt?e:r=>n(e(r)),diff:(e,n)=>X(e,n)?rt:Bi(n),patch:(e,n)=>t(n,e(n))}),po=255,dd=8,Kl=t=>t&po,Gl=t=>t>>dd&po,mo=(t,e)=>(t&po)+((e&t&po)<<dd),KI=mo(0,0),GI=t=>mo(t,t),HI=t=>mo(t,0),JI=d(2,(t,e)=>mo(Kl(t)&~e,Gl(t))),YI=d(2,(t,e)=>t|e),ZI=t=>~t>>>0&po,XI=0,zs=1,QI=2,gd=4,Hl=16,bd=32,tT=t=>mu(t,bd),eT=d(2,(t,e)=>t|e),fr=t=>yd(t)&&!rT(t),yd=t=>mu(t,zs),mu=d(2,(t,e)=>(t&e)!==0),Sd=(...t)=>t.reduce((e,n)=>e|n,0),nT=Sd(XI),wd=t=>mu(t,gd),rT=t=>mu(t,Hl),du=d(2,(t,e)=>mo(t^e,e)),gu=d(2,(t,e)=>t&(ZI(Kl(e))|Gl(e))|Kl(e)&Gl(e)),_d=Ws({empty:KI,diff:(t,e)=>du(t,e),combine:(t,e)=>YI(e)(t),patch:(t,e)=>gu(e,t)}),sT=GI,Ad=HI,Ed=JI,Fd=(t,e)=>({_tag:"Par",left:t,right:e}),bu=(t,e)=>({_tag:"Seq",left:t,right:e}),iT=t=>{let e=Vl(t),n=Vs();for(;;){const[r,s]=sI(e,[Cd(),Vs()],([i,a],c)=>{const[l,u]=oT(c);return[fT(i,l),tI(a,u)]});if(n=aT(n,r),cn(s))return iI(n);e=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},oT=t=>{let e=t,n=Cd(),r=Vs(),s=Vs();for(;;)switch(e._tag){case"Empty":{if(cn(r))return[n,s];e=r.head,r=r.tail;break}case"Par":{r=Wr(e.right,r),e=e.left;break}case"Seq":{const i=e.left,a=e.right;switch(i._tag){case"Empty":{e=a;break}case"Par":{const c=i.left,l=i.right;e=Fd(bu(c,a),bu(l,a));break}case"Seq":{const c=i.left,l=i.right;e=bu(c,bu(l,a));break}case"Single":{e=i,s=Wr(a,s);break}}break}case"Single":{if(n=lT(n,e),cn(r))return[n,s];e=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},aT=(t,e)=>{if(cn(t))return Vl(Yl(e));if(hT(e))return t;const n=bT(t.head),r=xT(e);return n.length===1&&r.length===1&&X(n[0],r[0])?Wr(gT(t.head,Yl(e)),t.tail):Wr(Yl(e),t)},uT=Symbol.for("effect/RequestBlock/RequestBlockParallel"),cT={_R:t=>t};class Jl{map;[uT]=cT;constructor(e){this.map=e}}const Cd=()=>new Jl(lo()),lT=(t,e)=>new Jl(ad(t.map,e.dataSource,n=>k3(Da(n,Pk(e.blockedRequest)),()=>Me(e.blockedRequest)))),fT=(t,e)=>new Jl(ud(t.map,e.map,(n,r,s)=>Ul(n,s,ae(Ll(n,s),{onNone:()=>r,onSome:i=>an(r,i)})))),hT=t=>Kv(t.map),xT=t=>Array.from(od(t.map)),Yl=t=>dT(Gv(t.map,e=>Me(e))),pT=Symbol.for("effect/RequestBlock/RequestBlockSequential"),mT={_R:t=>t};class kd{map;[pT]=mT;constructor(e){this.map=e}}const dT=t=>new kd(t),gT=(t,e)=>new kd(ud(e.map,t.map,(n,r,s)=>Ul(n,s,ae(Ll(n,s),{onNone:()=>Ln(),onSome:i=>an(i,r)})))),bT=t=>Array.from(od(t.map)),yT=t=>Array.from(t.map),go="Die",zr="Empty",Kr="Fail",Ks="Interrupt",Gs="Parallel",Hs="Sequential",vd="effect/Cause",Id=Symbol.for(vd),ST={_E:t=>t},Js={[Id]:ST,[tt](){return h(j(vd),ft(j(BT(this))),Bt(this))},[Z](t){return wT(t)&&RT(this,t)},pipe(){return H(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Xt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Xt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Xt(this.left),right:Xt(this.right)}}},toString(){return Zs(this)},[kt](){return this.toJSON()}},Gr=(()=>{const t=Object.create(Js);return t._tag=zr,t})(),bo=t=>{const e=Object.create(Js);return e._tag=Kr,e.error=t,e},ln=t=>{const e=Object.create(Js);return e._tag=go,e.defect=t,e},qn=t=>{const e=Object.create(Js);return e._tag=Ks,e.fiberId=t,e},yo=(t,e)=>{const n=Object.create(Js);return n._tag=Gs,n.left=t,n.right=e,n},Re=(t,e)=>{const n=Object.create(Js);return n._tag=Hs,n.left=t,n.right=e,n},wT=t=>Y(t,Id),_T=t=>t._tag===zr,AT=t=>t._tag===Kr,ET=t=>t._tag===zr?!0:Ys(t,!0,(e,n)=>{switch(n._tag){case zr:return R(e);case go:case Kr:case Ks:return R(!1);default:return M()}}),FT=t=>vt(OT(t)),Zl=t=>tf(void 0,DT)(t),CT=t=>$s(Ys(t,Ln(),(e,n)=>n._tag===Kr?R(h(e,on(n.error))):M())),kT=t=>$s(Ys(t,Ln(),(e,n)=>n._tag===go?R(h(e,on(n.defect))):M())),vT=t=>Ys(t,lr(),(e,n)=>n._tag===Ks?R(h(e,Ls(n.fiberId))):M()),IT=t=>Od(t,e=>e._tag===Kr?R(e.error):M()),TT=t=>{const e=IT(t);switch(e._tag){case"None":return xt(t);case"Some":return st(e.value)}},OT=t=>Od(t,e=>e._tag===Ks?R(e.fiberId):M()),Td=t=>Ql(t,{onEmpty:Gr,onFail:()=>Gr,onDie:ln,onInterrupt:qn,onSequential:Re,onParallel:yo}),$T=t=>Ql(t,{onEmpty:Gr,onFail:ln,onDie:ln,onInterrupt:qn,onSequential:Re,onParallel:yo}),NT=d(2,(t,e)=>MT(t,n=>bo(e(n)))),MT=d(2,(t,e)=>Ql(t,{onEmpty:Gr,onFail:n=>e(n),onDie:n=>ln(n),onInterrupt:n=>qn(n),onSequential:(n,r)=>Re(n,r),onParallel:(n,r)=>yo(n,r)})),RT=(t,e)=>{let n=Me(t),r=Me(e);for(;Ms(n)&&Ms(r);){const[s,i]=h(Rs(n),Ys([lr(),Ln()],([l,u],f)=>{const[p,g]=Xl(f);return R([h(l,uo(p)),h(u,an(g))])})),[a,c]=h(Rs(r),Ys([lr(),Ln()],([l,u],f)=>{const[p,g]=Xl(f);return R([h(l,uo(p)),h(u,an(g))])}));if(!X(s,a))return!1;n=i,r=c}return!0},BT=t=>PT(Me(t),Ln()),PT=(t,e)=>{for(;;){const[n,r]=h(t,Nr([lr(),Ln()],([i,a],c)=>{const[l,u]=Xl(c);return[h(i,uo(l)),h(a,an(u))]})),s=Rl(n)>0?h(e,on(n)):e;if(Dk(r))return $s(s);t=r,e=s}throw new Error(Ca("Cause.flattenCauseLoop"))},Od=d(2,(t,e)=>{const n=[t];for(;n.length>0;){const r=n.pop(),s=e(r);switch(s._tag){case"None":{switch(r._tag){case Hs:case Gs:{n.push(r.right),n.push(r.left);break}}break}case"Some":return s}}return M()}),Xl=t=>{let e=t;const n=[];let r=lr(),s=Ln();for(;e!==void 0;)switch(e._tag){case zr:{if(n.length===0)return[r,s];e=n.pop();break}case Kr:{if(r=Ls(r,ml(e._tag,e.error)),n.length===0)return[r,s];e=n.pop();break}case go:{if(r=Ls(r,ml(e._tag,e.defect)),n.length===0)return[r,s];e=n.pop();break}case Ks:{if(r=Ls(r,ml(e._tag,e.fiberId)),n.length===0)return[r,s];e=n.pop();break}case Hs:{switch(e.left._tag){case zr:{e=e.right;break}case Hs:{e=Re(e.left.left,Re(e.left.right,e.right));break}case Gs:{e=yo(Re(e.left.left,e.right),Re(e.left.right,e.right));break}default:{s=on(s,e.right),e=e.left;break}}break}case Gs:{n.push(e.right),e=e.left;break}}throw new Error(Ca("Cause.evaluateCauseLoop"))},DT={emptyCase:q1,failCase:S0,dieCase:S0,interruptCase:q1,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},$d="SequentialCase",Nd="ParallelCase",Ql=d(2,(t,{onDie:e,onEmpty:n,onFail:r,onInterrupt:s,onParallel:i,onSequential:a})=>tf(t,void 0,{emptyCase:()=>n,failCase:(c,l)=>r(l),dieCase:(c,l)=>e(l),interruptCase:(c,l)=>s(l),sequentialCase:(c,l,u)=>a(l,u),parallelCase:(c,l,u)=>i(l,u)})),Ys=d(3,(t,e,n)=>{let r=e,s=t;const i=[];for(;s!==void 0;){const a=n(r,s);switch(r=vt(a)?a.value:r,s._tag){case Hs:{i.push(s.right),s=s.left;break}case Gs:{i.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&i.length>0&&(s=i.pop())}return r}),tf=d(3,(t,e,n)=>{const r=[t],s=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case zr:{s.push(xt(n.emptyCase(e)));break}case Kr:{s.push(xt(n.failCase(e,a.error)));break}case go:{s.push(xt(n.dieCase(e,a.defect)));break}case Ks:{s.push(xt(n.interruptCase(e,a.fiberId)));break}case Hs:{r.push(a.right),r.push(a.left),s.push(st({_tag:$d}));break}case Gs:{r.push(a.right),r.push(a.left),s.push(st({_tag:Nd}));break}}}const i=[];for(;s.length>0;){const a=s.pop();switch(a._tag){case"Left":{switch(a.left._tag){case $d:{const c=i.pop(),l=i.pop(),u=n.sequentialCase(e,c,l);i.push(u);break}case Nd:{const c=i.pop(),l=i.pop(),u=n.parallelCase(e,c,l);i.push(u);break}}break}case"Right":{i.push(a.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),Zs=(t,e)=>Zl(t)?"All fibers interrupted without errors.":Rd(t).map(function(n){return e?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Md(n.cause,"  ")}
}`}).join(`
`),Md=(t,e)=>{const n=t.stack.split(`
`);let r=`${e}[cause]: ${n[0]}`;for(let s=1,i=n.length;s<i;s++)r+=`
${e}${n[s]}`;return t.cause&&(r+=` {
${Md(t.cause,`${e}  `)}
${e}}`),r};class yu extends globalThis.Error{span=void 0;constructor(e){const n=typeof e=="object"&&e!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(jT(e),n&&"cause"in e&&typeof e.cause<"u"?{cause:new yu(e.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=e instanceof Error?e.name:"Error",n&&(Xs in e&&(this.span=e[Xs]),Object.keys(e).forEach(s=>{s in this||(this[s]=e[s])})),this.stack=qT(`${this.name}: ${this.message}`,e instanceof Error&&e.stack?e.stack:"",this.span)}}const jT=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(Y(t,"toString")&&Di(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return X1(t)},LT=/\((.*)\)/g,UT=lt("effect/Tracer/spanToTrace",()=>new WeakMap),qT=(t,e,n)=>{const r=[t],s=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let i=1;i<s.length;i++){if(s[i].includes(" at new BaseEffectError")||s[i].includes(" at new YieldableError")){i++;continue}if(s[i].includes("Generator.next")||s[i].includes("effect_internal_function"))break;r.push(s[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,a=0;for(;i&&i._tag==="Span"&&a<10;){const c=UT.get(i);if(typeof c=="function"){const l=c();if(typeof l=="string"){const u=l.matchAll(LT);let f=!1;for(const[,p]of u)f=!0,r.push(`    at ${i.name} (${p})`);f||r.push(`    at ${i.name} (${l.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=Sn(i.parent),a++}}return r.join(`
`)},Xs=Symbol.for("effect/SpanAnnotation"),Rd=t=>tf(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[new yu(n)],failCase:(e,n)=>[new yu(n)],interruptCase:()=>[],parallelCase:(e,n,r)=>[...n,...r],sequentialCase:(e,n,r)=>[...n,...r]}),Su="Pending",Bd="Done",VT=Symbol.for("effect/Deferred"),WT={_E:t=>t,_A:t=>t},zT=t=>({_tag:Su,joiners:t}),KT=t=>({_tag:Bd,effect:t});class So{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new So(this.self)}}const Pd=(t,e)=>{const n=new fe("Blocked");return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n},GT=t=>{const e=new fe("RunBlocked");return e.effect_instruction_i0=t,e},Qs=Symbol.for("effect/Effect");class HT{patch;op;_op=O0;constructor(e,n){this.patch=e,this.op=n}}class fe{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Qs]=Cs;constructor(e){this._op=e}[Z](e){return this===e}[tt](){return Bt(this,k0(this))}pipe(){return H(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Xt(this.effect_instruction_i0),effect_instruction_i1:Xt(this.effect_instruction_i1),effect_instruction_i2:Xt(this.effect_instruction_i2)}}toString(){return Qt(this.toJSON())}[kt](){return this.toJSON()}[Symbol.iterator](){return new So(new ji(this))}}class Dd{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Qs]=Cs;constructor(e){this._op=e,this._tag=e}[Z](e){return xf(e)&&e._op==="Failure"&&X(this.effect_instruction_i0,e.effect_instruction_i0)}[tt](){return h(Rt(this._tag),ft(j(this.effect_instruction_i0)),Bt(this))}get cause(){return this.effect_instruction_i0}pipe(){return H(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Qt(this.toJSON())}[kt](){return this.toJSON()}[Symbol.iterator](){return new So(new ji(this))}}class jd{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Qs]=Cs;constructor(e){this._op=e,this._tag=e}[Z](e){return xf(e)&&e._op==="Success"&&X(this.effect_instruction_i0,e.effect_instruction_i0)}[tt](){return h(Rt(this._tag),ft(j(this.effect_instruction_i0)),Bt(this))}get value(){return this.effect_instruction_i0}pipe(){return H(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Xt(this.value)}}toString(){return Qt(this.toJSON())}[kt](){return this.toJSON()}[Symbol.iterator](){return new So(new ji(this))}}const wu=t=>Y(t,Qs),Be=t=>{const e=new fe(ep);return e.effect_instruction_i0=t,e},JT=d(3,(t,e,n)=>Fu(r=>J(t,s=>J(Vd(ee(()=>r(e(s)))),i=>ee(()=>n(s,i)).pipe(ei({onFailure:a=>{switch(i._tag){case nn:return fn(Re(i.effect_instruction_i0,a));case rn:return fn(a)}},onSuccess:()=>i})))))),wo=d(2,(t,e)=>J(t,()=>At(e))),_o=t=>wo(t,void 0),Ld=function(){const t=new fe(Ta);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(Ca("you're not supposed to end up here"))}return t},_u=(t,e=Us)=>{const n=new fe(qi);let r;return n.effect_instruction_i0=s=>{r=t(s)},n.effect_instruction_i1=e,Jd(n,s=>wu(r)?r:ze)},YT=(t,e=Us)=>ee(()=>_u(t,e)),Ao=(t,e=Us)=>Ld(t,function(){let n,r;function s(l){n?n(l):r===void 0&&(r=l)}const i=new fe(qi);i.effect_instruction_i0=l=>{n=l,r&&l(r)},i.effect_instruction_i1=e;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=Se(()=>this.effect_instruction_i0(s,c.signal))):a=Se(()=>this.effect_instruction_i0(s)),a||c?Jd(i,l=>(c&&c.abort(),a??ze)):i}),ef=d(2,(t,e)=>rf(t,{onFailure:e,onSuccess:At})),Ud=Symbol.for("effect/OriginalAnnotation"),nf=(t,e)=>vt(e)?new Proxy(t,{has(n,r){return r===Xs||r===Ud||r in n},get(n,r){return r===Xs?e.value:r===Ud?t:n[r]}}):t,qd=t=>Rn(t)&&!(Xs in t)?Be(e=>fn(ln(nf(t,mf(e))))):fn(ln(t)),ZT=t=>XT(()=>ln(new k6(t))),ti=t=>rf(t,{onFailure:e=>At(st(e)),onSuccess:e=>At(xt(e))}),Vd=t=>e6(t,{onFailure:It,onSuccess:Yt}),he=t=>Rn(t)&&!(Xs in t)?Be(e=>fn(bo(nf(t,mf(e))))):fn(bo(t)),Wd=t=>J(Q(t),he),fn=t=>{const e=new Dd(nn);return e.effect_instruction_i0=t,e},XT=t=>J(Q(t),fn),QT=Be(t=>At(t.id())),zd=t=>Be(e=>t(e.id())),J=d(2,(t,e)=>{const n=new fe(Oa);return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n}),t6=t=>{const e=new fe("OnStep");return e.effect_instruction_i0=t,e},Kd=t=>J(t,rt),e6=d(2,(t,e)=>ei(t,{onFailure:n=>At(e.onFailure(n)),onSuccess:n=>At(e.onSuccess(n))})),ei=d(2,(t,e)=>{const n=new fe($a);return n.effect_instruction_i0=t,n.effect_instruction_i1=e.onFailure,n.effect_instruction_i2=e.onSuccess,n}),rf=d(2,(t,e)=>ei(t,{onFailure:n=>{if(kT(n).length>0)return fn($T(n));const s=CT(n);return s.length>0?e.onFailure(km(s)):fn(n)},onSuccess:e.onSuccess})),hr=d(2,(t,e)=>ee(()=>{const n=bt(t),r=La(n.length);let s=0;return wo(of({while:()=>s<n.length,body:()=>e(n[s],s),step:i=>{r[s++]=i}}),r)})),Au=d(2,(t,e)=>ee(()=>{const n=bt(t);let r=0;return of({while:()=>r<n.length,body:()=>e(n[r],r),step:()=>{r++}})})),Gd=t=>{const e=new fe(Vi);return e.effect_instruction_i0=sT(zs),e.effect_instruction_i1=()=>t,e},ge=d(2,(t,e)=>J(t,n=>Q(()=>e(n)))),Hd=d(2,(t,e)=>rf(t,{onFailure:n=>Wd(()=>e.onFailure(n)),onSuccess:n=>Q(()=>e.onSuccess(n))})),Eu=d(2,(t,e)=>ei(t,{onFailure:n=>{const r=TT(n);switch(r._tag){case"Left":return Wd(()=>e(r.left));case"Right":return fn(r.right)}},onSuccess:At})),sf=d(2,(t,e)=>Fu(n=>ei(n(t),{onFailure:r=>{const s=It(r);return ei(e(s),{onFailure:i=>It(Re(r,i)),onSuccess:()=>s})},onSuccess:r=>{const s=Yt(r);return Cu(e(s),s)}}))),Jd=d(2,(t,e)=>sf(t,xg({onFailure:n=>Zl(n)?_o(e(vT(n))):ze,onSuccess:()=>ze}))),At=t=>{const e=new jd(rn);return e.effect_instruction_i0=t,e},ee=t=>{const e=new fe(Ta);return e.commit=t,e},Q=t=>{const e=new fe(tp);return e.effect_instruction_i0=t,e},n6=d(t=>t.length===3||t.length===2&&!(Rn(t[1])&&"onlyEffect"in t[1]),(t,e)=>J(t,n=>{const r=typeof e=="function"?e(n):e;return wu(r)?wo(r,n):BF(r)?_u(s=>{r.then(i=>s(At(n)),i=>s(he(new T6(i,"An unknown error occurred in Effect.tap"))))}):At(n)})),r6=t=>Be(e=>{const n=e.getFiberRef(ff),r=h(n,Ut(()=>e.scope()));return t(ku(ff,R(r)))}),Yd=t=>{const e=new fe(Vi);return e.effect_instruction_i0=Ad(zs),e.effect_instruction_i1=()=>t,e},Fu=t=>Ld(t,function(){const e=new fe(Vi);return e.effect_instruction_i0=Ad(zs),e.effect_instruction_i1=n=>yd(n)?Se(()=>this.effect_instruction_i0(Gd)):Se(()=>this.effect_instruction_i0(Yd)),e}),ze=At(void 0),s6=t=>{const e=new fe(Vi);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},of=t=>{const e=new fe(Na);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},af=t=>{const e=new fe(Ra);return typeof t?.priority<"u"?S6(e,t.priority):e},Zd=d(2,(t,e)=>J(t,n=>ge(e,r=>[n,r]))),Xd=d(2,(t,e)=>J(t,n=>wo(e,n))),Cu=d(2,(t,e)=>J(t,()=>e)),i6=t=>J(QT,e=>h(t,Qd(e))),Qd=d(2,(t,e)=>J(t.interruptAsFork(e),()=>t.await)),o6={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return H(this,arguments)}},a6={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return H(this,arguments)}},u6={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return H(this,arguments)}},tg={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return H(this,arguments)}},eg={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return H(this,arguments)}},ng={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return H(this,arguments)}},c6={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return H(this,arguments)}},l6={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return H(this,arguments)}},f6=Symbol.for("effect/FiberRef"),h6={_A:t=>t},uf=t=>Be(e=>Yt(e.getFiberRef(t))),cf=d(2,(t,e)=>J(uf(t),e)),rg=d(2,(t,e)=>x6(t,()=>[void 0,e])),x6=d(2,(t,e)=>Be(n=>{const[r,s]=e(n.getFiberRef(t));return n.setFiberRef(t,s),At(r)})),ku=d(3,(t,e,n)=>JT(Xd(uf(e),rg(e,n)),()=>t,r=>rg(e,r))),ve=(t,e)=>ni(t,{differ:md(),fork:e?.fork??rt,join:e?.join}),p6=t=>{const e=VI();return ni(t,{differ:e,fork:e.empty})},m6=t=>{const e=WI(md());return ni(t,{differ:e,fork:e.empty})},sg=t=>{const e=qI();return ni(t,{differ:e,fork:e.empty})},ni=(t,e)=>({...Ki,[f6]:h6,initial:t,commit(){return uf(this)},diff:(r,s)=>e.differ.diff(r,s),combine:(r,s)=>e.differ.combine(r,s),patch:r=>s=>e.differ.patch(r,s),fork:e.fork,join:e.join??((r,s)=>s)}),d6=t=>ni(t,{differ:_d,fork:_d.empty}),Eo=lt(Symbol.for("effect/FiberRef/currentContext"),()=>sg(pl())),vu=lt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>ve(0)),ig=lt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>ve(2048)),g6=lt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>ve(lo())),b6=lt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>ve(eg)),y6=lt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>ve(Vs())),S6=d(2,(t,e)=>ku(t,vu,e)),w6=lt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>ve("unbounded")),_6=lt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>ve(!0)),A6=lt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>ve(R(ng))),E6=lt(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>ve(R(tg))),lf=lt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>m6(Ts())),ff=lt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>ve(M(),{fork:()=>M(),join:(t,e)=>t})),Iu=lt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>ve(Gr,{fork:()=>Gr,join:(t,e)=>t})),F6=(t,e)=>t.addFinalizer(()=>_o(e)),C6=(t,e)=>t.close(e),Tu=(t,e)=>t.fork(e),hf=(function(){class t extends globalThis.Error{commit(){return he(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[kt](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Zs(bo(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,o3),t})(),og=(t,e)=>{class n extends hf{_tag=e}return Object.assign(n.prototype,t),n.prototype.name=e,n},ag=Symbol.for("effect/Cause/errors/RuntimeException"),k6=og({[ag]:ag},"RuntimeException"),v6=Symbol.for("effect/Cause/errors/InterruptedException"),I6=t=>Y(t,v6),ug=Symbol.for("effect/Cause/errors/NoSuchElement"),cg=og({[ug]:ug},"NoSuchElementException"),lg=Symbol.for("effect/Cause/errors/UnknownException"),T6=(function(){class t extends hf{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(t.prototype,{[lg]:lg,name:"UnknownException"}),t})(),xf=t=>wu(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),O6=t=>t._tag==="Success",fg=(t,e)=>R6(t,e?.parallel?yo:Re),$6=t=>It(ln(t)),hg=t=>It(bo(t)),It=t=>{const e=new Dd(nn);return e.effect_instruction_i0=t,e},N6=t=>It(qn(t)),pf=d(2,(t,e)=>{switch(t._tag){case nn:return It(t.effect_instruction_i0);case rn:return Yt(e(t.effect_instruction_i0))}}),xg=d(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case nn:return e(t.effect_instruction_i0);case rn:return n(t.effect_instruction_i0)}}),Yt=t=>{const e=new jd(rn);return e.effect_instruction_i0=t,e},Hr=Yt(void 0),M6=d(3,(t,e,{onFailure:n,onSuccess:r})=>{switch(t._tag){case nn:switch(e._tag){case rn:return It(t.effect_instruction_i0);case nn:return It(n(t.effect_instruction_i0,e.effect_instruction_i0))}case rn:switch(e._tag){case rn:return Yt(r(t.effect_instruction_i0,e.effect_instruction_i0));case nn:return It(e.effect_instruction_i0)}}}),R6=(t,e)=>{const n=Cm(t);return Ms(n)?h(Lr(n),Nr(h(Rs(n),pf(Me)),(r,s)=>h(r,M6(s,{onSuccess:(i,a)=>h(i,on(a)),onFailure:e}))),pf($s),pf(r=>jr(r)),R):M()},B6=t=>({...Ki,[VT]:WT,state:td(zT([])),commit(){return pg(this)},blockingOn:t}),pg=t=>YT(e=>{const n=uu(t.state);switch(n._tag){case Bd:return e(n.effect);case Su:return n.joiners.push(e),P6(t,e)}},t.blockingOn),mg=(t,e)=>{const n=uu(t.state);if(n._tag===Su){ed(t.state,KT(e));for(let r=0,s=n.joiners.length;r<s;r++)n.joiners[r](e)}},P6=(t,e)=>Q(()=>{const n=uu(t.state);if(n._tag===Su){const r=n.joiners.indexOf(e);r>=0&&n.joiners.splice(r,1)}}),D6=Be(t=>Yt(t.currentContext)),j6=()=>D6,Fo=t=>J(j6(),t),L6=d(2,(t,e)=>ku(Eo,e)(t)),U6=d(2,(t,e)=>Fo(n=>L6(t,e(n)))),mf=t=>{const e=t.currentSpan;return e!==void 0&&e._tag==="Span"?R(e):M()},q6=O6,dg=Symbol.for("effect/MutableHashMap"),V6={[dg]:dg,[Symbol.iterator](){return new df(this)},toString(){return Qt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Xt)}},[kt](){return this.toJSON()},pipe(){return H(this,arguments)}};class df{self;referentialIterator;bucketIterator;constructor(e){this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new W6(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new df(this.self)}}class W6{backing;constructor(e){this.backing=e}currentBucket;next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const z6=()=>{const t=Object.create(V6);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},Jr=d(2,(t,e)=>{if(Ia(e)===!1)return t.referential.has(e)?R(t.referential.get(e)):M();const n=e[tt](),r=t.buckets.get(n);return r===void 0?M():K6(t,r,e)}),K6=(t,e,n,r=!1)=>{for(let s=0,i=e.length;s<i;s++)if(n[Z](e[s][0])){const a=e[s][1];return r&&(e.splice(s,1),t.bucketsSize--),R(a)}return M()},Co=d(2,(t,e)=>vt(Jr(t,e))),ko=d(3,(t,e,n)=>{if(Ia(e)===!1)return t.referential.set(e,n),t;const r=e[tt](),s=t.buckets.get(r);return s===void 0?(t.buckets.set(r,[[e,n]]),t.bucketsSize++,t):(G6(t,s,e),s.push([e,n]),t.bucketsSize++,t)}),G6=(t,e,n)=>{for(let r=0,s=e.length;r<s;r++)if(n[Z](e[r][0])){e.splice(r,1),t.bucketsSize--;return}},gg=Symbol.for("effect/Clock"),gf=Dr("effect/Clock"),H6=2**31-1,bg={unsafeSchedule(t,e){const n=wl(e);if(n>H6)return S0;let r=!1;const s=setTimeout(()=>{r=!0,t()},n);return()=>(clearTimeout(s),!r)}},yg=(function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;let e;return()=>(e===void 0&&(e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6))),e+BigInt(Math.round(performance.now()*1e6)))})(),J6=(function(){const t=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!t)return yg;const e=yg()-t.bigint();return()=>e+t.bigint()})();class Y6{[gg]=gg;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return J6()}currentTimeMillis=Q(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=Q(()=>this.unsafeCurrentTimeNanos());scheduler(){return At(bg)}sleep(e){return Ao(n=>{const r=bg.unsafeSchedule(()=>n(ze),e);return _o(Q(r))})}}const Z6=()=>new Y6,Sg="And",wg="Or",_g="InvalidData",Ag="MissingData",Eg="SourceUnavailable",Fg="Unsupported",Cg=Symbol.for("effect/ConfigError"),ri={_tag:"ConfigError",[Cg]:Cg},kg=(t,e)=>{const n=Object.create(ri);return n._op=Sg,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},vg=(t,e)=>{const n=Object.create(ri);return n._op=wg,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},X6=(t,e,n={pathDelim:"."})=>{const r=Object.create(ri);return r._op=_g,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${h(this.path,sn(n.pathDelim))}: "${this.message}")`}}),r},Yr=(t,e,n={pathDelim:"."})=>{const r=Object.create(ri);return r._op=Ag,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${h(this.path,sn(n.pathDelim))}: "${this.message}")`}}),r},Q6=(t,e,n,r={pathDelim:"."})=>{const s=Object.create(ri);return s._op=Eg,s.path=t,s.message=e,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${h(this.path,sn(r.pathDelim))}: "${this.message}")`}}),s},tO=(t,e,n={pathDelim:"."})=>{const r=Object.create(ri);return r._op=Fg,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${h(this.path,sn(n.pathDelim))}: "${this.message}")`}}),r},Zr=d(2,(t,e)=>{switch(t._op){case Sg:return kg(Zr(t.left,e),Zr(t.right,e));case wg:return vg(Zr(t.left,e),Zr(t.right,e));case _g:return X6([...e,...t.path],t.message);case Ag:return Yr([...e,...t.path],t.message);case Eg:return Q6([...e,...t.path],t.message,t.cause);case Fg:return tO([...e,...t.path],t.message)}}),eO={_tag:"Empty"},bf=d(2,(t,e)=>{let n=Vl(e),r=t;for(;Xv(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Wr(s.first,Wr(s.second,n.tail));break}case"MapName":{r=B(r,s.f),n=n.tail;break}case"Nested":{r=wn(r,s.name),n=n.tail;break}case"Unnested":{if(h(Zi(r),T3(s.name)))r=_n(r),n=n.tail;else return st(Yr(r,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return xt(r)}),nO="Constant",rO="Fail",sO="Fallback",iO="Described",oO="Lazy",aO="MapOrFail",uO="Nested",cO="Primitive",lO="Sequence",fO="HashMap",hO="ZipWith";var Ig={};const Ou=(t,e)=>[...t,...e],Tg=Symbol.for("effect/ConfigProvider"),xO=Dr("effect/ConfigProvider"),Og=Symbol.for("effect/ConfigProviderFlat"),pO=t=>({[Tg]:Tg,pipe(){return H(this,arguments)},...t}),mO=t=>({[Og]:Og,patch:t.patch,load:(e,n,r=!0)=>t.load(e,n,r),enumerateChildren:t.enumerateChildren}),dO=t=>pO({load:e=>J(Ke(t,Ts(),e,!1),n=>ae(Zi(n),{onNone:()=>he(Yr(Ts(),`Expected a single value having structure: ${e}`)),onSome:At})),flattened:t}),gO=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),r=l=>h(l,sn(e)),s=l=>l.split(e),i=()=>typeof process<"u"&&"env"in process&&typeof Ig=="object"?Ig:{};return dO(mO({load:(l,u,f=!0)=>{const p=r(l),g=i(),b=p in g?R(g[p]):M();return h(b,Eu(()=>Yr(l,`Expected ${p} to exist in the process context`)),J(y=>_O(y,l,u,n,f)))},enumerateChildren:l=>Q(()=>{const u=i(),g=Object.keys(u).map(b=>s(b.toUpperCase())).filter(b=>{for(let y=0;y<l.length;y++){const w=h(l,wp(y)),m=b[y];if(m===void 0||w!==m)return!1}return!0}).flatMap(b=>b.slice(l.length,l.length+1));return Zm(g)}),patch:eO}))},bO=(t,e,n,r)=>{const s=Ap(n.length,l=>l>=r.length?M():R([t(l),l+1])),i=Ap(r.length,l=>l>=n.length?M():R([e(l),l+1])),a=Ou(n,s),c=Ou(r,i);return[a,c]},yO=(t,e)=>{let n=e;if(n._tag==="Nested"){const r=t.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return t},Ke=(t,e,n,r)=>{const s=n;switch(s._tag){case nO:return At(Ce(s.value));case iO:return ee(()=>Ke(t,e,s.config,r));case rO:return he(Yr(e,s.message));case sO:return h(ee(()=>Ke(t,e,s.first,r)),ef(i=>s.condition(i)?h(Ke(t,e,s.second,r),ef(a=>he(vg(i,a)))):he(i)));case oO:return ee(()=>Ke(t,e,s.config(),r));case aO:return ee(()=>h(Ke(t,e,s.original,r),J(hr(i=>h(s.mapOrFail(i),Eu(Zr(yO(e,s.original))))))));case uO:return ee(()=>Ke(t,Ou(e,Ce(s.name)),s.config,r));case cO:return h(bf(e,t.patch),J(i=>h(t.load(i,s,r),J(a=>{if(a.length===0){const c=h(z3(i),Ut(()=>"<n/a>"));return he(Yr([],`Expected ${s.description} with name ${c}`))}return At(a)}))));case lO:return h(bf(e,t.patch),J(i=>h(t.enumerateChildren(i),J(EO),J(a=>a.length===0?ee(()=>ge(Ke(t,e,s.config,!0),Ce)):h(hr(a,c=>Ke(t,ur(e,`[${c}]`),s.config,!0)),ge(c=>{const l=eo(c);return l.length===0?Ce(Ts()):Ce(l)}))))));case fO:return ee(()=>h(bf(e,t.patch),J(i=>h(t.enumerateChildren(i),J(a=>h(a,hr(c=>Ke(t,Ou(i,Ce(c)),s.valueConfig,r)),ge(c=>c.length===0?Ce(lo()):h(AO(c),B(l=>zv(Qi(bt(a),l)))))))))));case hO:return ee(()=>h(Ke(t,e,s.left,r),ti,J(i=>h(Ke(t,e,s.right,r),ti,J(a=>{if(ce(i)&&ce(a))return he(kg(i.left,a.left));if(ce(i)&&Bn(a))return he(i.left);if(Bn(i)&&ce(a))return he(a.left);if(Bn(i)&&Bn(a)){const c=h(e,sn(".")),l=SO(e,c),[u,f]=bO(l,l,h(i.right,B(xt)),h(a.right,B(xt)));return h(u,Qi(f),hr(([p,g])=>h(Zd(p,g),ge(([b,y])=>s.zip(b,y)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},SO=(t,e)=>n=>st(Yr(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),wO=(t,e)=>t.split(new RegExp(`\\s*${za(e)}\\s*`)),_O=(t,e,n,r,s)=>s?h(wO(t,r),hr(i=>n.parse(i.trim())),Eu(Zr(e))):h(n.parse(t),Hd({onFailure:Zr(e),onSuccess:Ce})),AO=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),EO=t=>h(hr(t,CO),Hd({onFailure:()=>Ts(),onSuccess:Is(yt)}),ti,ge(g3)),FO=/^(\[(\d+)\])$/,CO=t=>{const e=t.match(FO);if(e!==null){const n=e[2];return h(n!==void 0&&n.length>0?R(n):M(),ja(kO))}return M()},kO=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?M():R(e)},$g=Symbol.for("effect/Console"),Ng=Dr("effect/Console"),vO={[$g]:$g,assert(t,...e){return Q(()=>{console.assert(t,...e)})},clear:Q(()=>{console.clear()}),count(t){return Q(()=>{console.count(t)})},countReset(t){return Q(()=>{console.countReset(t)})},debug(...t){return Q(()=>{console.debug(...t)})},dir(t,e){return Q(()=>{console.dir(t,e)})},dirxml(...t){return Q(()=>{console.dirxml(...t)})},error(...t){return Q(()=>{console.error(...t)})},group(t){return t?.collapsed?Q(()=>console.groupCollapsed(t?.label)):Q(()=>console.group(t?.label))},groupEnd:Q(()=>{console.groupEnd()}),info(...t){return Q(()=>{console.info(...t)})},log(...t){return Q(()=>{console.log(...t)})},table(t,e){return Q(()=>{console.table(t,e)})},time(t){return Q(()=>console.time(t))},timeEnd(t){return Q(()=>console.timeEnd(t))},timeLog(t,...e){return Q(()=>{console.timeLog(t,...e)})},trace(...t){return Q(()=>{console.trace(...t)})},warn(...t){return Q(()=>{console.warn(...t)})},unsafe:console},Mg=Symbol.for("effect/Random"),IO=Dr("effect/Random");class TO{seed;[Mg]=Mg;PRNG;constructor(e){this.seed=e,this.PRNG=new WF(e)}get next(){return Q(()=>this.PRNG.number())}get nextBoolean(){return ge(this.next,e=>e>.5)}get nextInt(){return Q(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return ge(this.next,r=>(n-e)*r+e)}nextIntBetween(e,n){return Q(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return OO(e,n=>this.nextIntBetween(0,n))}}const OO=(t,e)=>ee(()=>h(Q(()=>Array.from(t)),J(n=>{const r=[];for(let s=n.length;s>=2;s=s-1)r.push(s);return h(r,Au(s=>h(e(s),ge(i=>$O(n,s-1,i)))),wo(Cm(n)))}))),$O=(t,e,n)=>{const r=t[e];return t[e]=t[n],t[n]=r,t},NO=t=>new TO(j(t)),Rg=Symbol.for("effect/Tracer"),MO=t=>({[Rg]:Rg,...t}),Bg=Dr("effect/Tracer"),Pg=Dr("effect/ParentSpan"),Dg=(function(){const t="abcdef0123456789",e=t.length;return function(n){let r="";for(let s=0;s<n;s++)r+=t.charAt(Math.floor(Math.random()*e));return r}})();class RO{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(e,n,r,s,i,a){this.name=e,this.parent=n,this.context=r,this.startTime=i,this.kind=a,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:Dg(32),this.spanId=Dg(16),this.links=Array.from(s)}end(e,n){this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}}attribute(e,n){this.attributes.set(e,n)}event(e,n,r){this.events.push([e,n,r??{}])}addLinks(e){this.links.push(...e)}}const BO=h(pl(),so(gf,Z6()),so(Ng,vO),so(IO,NO(Math.random())),so(xO,gO()),so(Bg,MO({span:(t,e,n,r,s,i)=>new RO(t,e,n,r,s,i),context:t=>t()}))),$u=lt(Symbol.for("effect/DefaultServices/currentServices"),()=>sg(BO));function PO(t){return new xr(t)}function DO(){return PO(new Map)}const jg=Symbol.for("effect/FiberRefs");class xr{locals;[jg]=jg;constructor(e){this.locals=e}pipe(){return H(this,arguments)}}const jO=(t,e,n,r=!1)=>{const s=t;let i=e,a=n,c=r,l;for(;l===void 0;)if($t(i)&&$t(a)){const u=Jt(i)[0],f=_n(i),p=Jt(a)[0],g=Jt(a)[1],b=_n(a);u.startTimeMillis<p.startTimeMillis?(a=b,c=!0):u.startTimeMillis>p.startTimeMillis?i=f:u.id<p.id?(a=b,c=!0):u.id>p.id?i=f:l=[g,c]}else l=[s.initial,!0];return l},LO=d(3,(t,e,n)=>{const r=new Map(t.locals);return n.locals.forEach((s,i)=>{const a=s[0][1];if(!s[0][0][Z](e)){if(!r.has(i)){if(X(a,i.initial))return;r.set(i,[[e,i.join(i.initial,a)]]);return}const c=r.get(i),[l,u]=jO(i,c,s);if(u){const f=i.diff(l,a),p=c[0][1],g=i.join(p,i.patch(f)(p));if(!X(p,g)){let b;const y=c[0][0];y[Z](e)?b=[[y,g],...c.slice(1)]:b=[[e,g],...c],r.set(i,b)}}}}),new xr(r)}),UO=d(2,(t,e)=>{const n=new Map;return Lg(t,n,e),new xr(n)}),Lg=(t,e,n)=>{t.locals.forEach((r,s)=>{const i=r[0][1],a=s.patch(s.fork)(i);X(i,a)?e.set(s,r):e.set(s,[[n,a],...r])})},Ug=d(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new xr(n)}),qO=d(2,(t,e)=>t.locals.has(e)?R(Jt(t.locals.get(e))[1]):M()),vo=d(2,(t,e)=>h(qO(t,e),Ut(()=>e.initial))),yf=d(2,(t,{fiberId:e,fiberRef:n,value:r})=>{if(t.locals.size===0)return new xr(new Map([[n,[[e,r]]]]));const s=new Map(t.locals);return Sf(s,e,n,r),new xr(s)}),Sf=(t,e,n,r)=>{const s=t.get(n)??[];let i;if($t(s)){const[a,c]=Jt(s);if(a[Z](e)){if(X(c,r))return;i=[[e,r],...s.slice(1)]}else i=[[e,r],...s]}else i=[[e,r]];t.set(n,i)},VO=d(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new xr(new Map(e));const r=new Map(t.locals);return n!==void 0&&Lg(t,r,n),e.forEach(([s,i])=>{i.length===1?Sf(r,i[0][0],s,i[0][1]):i.forEach(([a,c])=>{Sf(r,a,s,c)})}),new xr(r)}),WO=vo,zO=VO,KO=DO,GO=o6,HO=a6,JO=u6,YO=tg,ZO=eg,XO=ng,QO=c6,t4=l6,e4=B0(h(yt,Ba(t=>t.ordinal))),n4=t=>{switch(t){case"All":return GO;case"Debug":return XO;case"Error":return JO;case"Fatal":return HO;case"Info":return ZO;case"Trace":return QO;case"None":return t4;case"Warning":return YO}},qg=t=>t.replace(/[\s="]/g,"_"),r4=t=>e=>`${qg(e.label)}=${t-e.startTime}ms`,s4=Wi,i4=a3;let o4=class extends i4{};const Vg="Empty",Wg="Add",zg="Remove",Kg="Update",Gg="AndThen",a4={_tag:Vg},u4=(t,e)=>{const n=new Map(t.locals);let r=a4;for(const[s,i]of e.locals.entries()){const a=Jt(i)[1],c=n.get(s);if(c!==void 0){const l=Jt(c)[1];X(l,a)||(r=wf({_tag:Kg,fiberRef:s,patch:s.diff(l,a)})(r))}else r=wf({_tag:Wg,fiberRef:s,value:a})(r);n.delete(s)}for(const[s]of n.entries())r=wf({_tag:zg,fiberRef:s})(r);return r},wf=d(2,(t,e)=>({_tag:Gg,first:t,second:e})),c4=d(3,(t,e,n)=>{let r=n,s=Ce(t);for(;$t(s);){const i=Jt(s),a=_n(s);switch(i._tag){case Vg:{s=a;break}case Wg:{r=yf(r,{fiberId:e,fiberRef:i.fiberRef,value:i.value}),s=a;break}case zg:{r=Ug(r,i.fiberRef),s=a;break}case Kg:{const c=vo(r,i.fiberRef);r=yf(r,{fiberId:e,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(c)}),s=a;break}case Gg:{s=wn(i.first)(wn(i.second)(a));break}}}return r}),Hg="effect/MetricLabel",_f=Symbol.for(Hg);class l4{key;value;[_f]=_f;_hash;constructor(e,n){this.key=e,this.value=n,this._hash=Rt(Hg+this.key+this.value)}[tt](){return this._hash}[Z](e){return h4(e)&&this.key===e.key&&this.value===e.value}pipe(){return H(this,arguments)}}const f4=(t,e)=>new l4(t,e),h4=t=>Y(t,_f),x4="Sequential",p4="Parallel",m4="ParallelN",Jg={_tag:x4},d4={_tag:p4},g4=t=>({_tag:m4,parallelism:t}),Af=Jg,Ef=d4,Ff=g4,b4=u4,y4=c4,Nu="effect/FiberStatus",Xr=Symbol.for(Nu),Mu="Done",Yg="Running",Zg="Suspended",S4=Rt(`${Nu}-${Mu}`);class w4{[Xr]=Xr;_tag=Mu;[tt](){return S4}[Z](e){return Cf(e)&&e._tag===Mu}}class _4{runtimeFlags;[Xr]=Xr;_tag=Yg;constructor(e){this.runtimeFlags=e}[tt](){return h(j(Nu),ft(j(this._tag)),ft(j(this.runtimeFlags)),Bt(this))}[Z](e){return Cf(e)&&e._tag===Yg&&this.runtimeFlags===e.runtimeFlags}}class A4{runtimeFlags;blockingOn;[Xr]=Xr;_tag=Zg;constructor(e,n){this.runtimeFlags=e,this.blockingOn=n}[tt](){return h(j(Nu),ft(j(this._tag)),ft(j(this.runtimeFlags)),ft(j(this.blockingOn)),Bt(this))}[Z](e){return Cf(e)&&e._tag===Zg&&this.runtimeFlags===e.runtimeFlags&&X(this.blockingOn,e.blockingOn)}}const E4=new w4,F4=t=>new _4(t),C4=(t,e)=>new A4(t,e),Cf=t=>Y(t,Xr),k4=t=>t._tag===Mu,v4=E4,Xg=F4,I4=C4,T4=k4,O4=Symbol.for("effect/Micro"),Ru=Symbol.for("effect/Micro/MicroExit"),Qg=Symbol.for("effect/Micro/MicroCause"),$4={_E:rt};class tb extends globalThis.Error{_tag;traces;[Qg];constructor(e,n,r){const s=`MicroCause.${e}`;let i,a,c;if(n instanceof globalThis.Error){i=`(${s}) ${n.name}`,a=n.message;const l=a.split(`
`).length;c=n.stack?`(${s}) ${n.stack.split(`
`).slice(0,l+3).join(`
`)}`:`${i}: ${a}`}else i=s,a=Fs(n,0),c=`${i}: ${a}`;r.length>0&&(c+=`
    ${r.join(`
    `)}`),super(a),this._tag=e,this.traces=r,this[Qg]=$4,this.name=i,this.stack=c}pipe(){return H(this,arguments)}toString(){return this.stack}[kt](){return this.stack}}class N4 extends tb{defect;constructor(e,n=[]){super("Die",e,n),this.defect=e}}const M4=(t,e=[])=>new N4(t,e);class R4 extends tb{constructor(e=[]){super("Interrupt","interrupted",e)}}const B4=(t=[])=>new R4(t),P4=t=>t._tag==="Interrupt",eb=Symbol.for("effect/Micro/MicroFiber"),D4={_A:rt,_E:rt};class j4{context;interruptible;[eb];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(e,n=!0){this.context=e,this.interruptible=n,this[eb]=D4}getRef(e){return vk(this.context,e)}addObserver(e){return this._exit?(e(this._exit),wF):(this._observers.push(e),()=>{const n=this._observers.indexOf(e);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate($f))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){const s=this._yielded;this._yielded=void 0,s()}const n=this.runLoop(e);if(n===Pu)return;const r=nb.interruptChildren&&nb.interruptChildren(this);if(r!==void 0)return this.evaluate(ju(r,()=>n));this._exit=n;for(let s=0;s<this._observers.length;s++)this._observers[s](n);this._observers.length=0}runLoop(e){let n=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(Mf).shouldYield(this)){n=!0;const s=r;r=ju(V4,()=>s)}if(r=r[kf](this),r===Pu){const s=this._yielded;return Ru in s?(this._yielded=void 0,s):Pu}}}catch(s){return Y(r,kf)?Nf(s):Nf(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(e){for(;;){const n=this._stack.pop();if(!n)return;const r=n[Bu]&&n[Bu](this);if(r)return{[e]:r};if(n[e])return n}}_yielded=void 0;yieldWith(e){return this._yielded=e,Pu}children(){return this._children??=new Set}}const nb=lt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),rb=Symbol.for("effect/Micro/identifier"),ne=Symbol.for("effect/Micro/args"),kf=Symbol.for("effect/Micro/evaluate"),si=Symbol.for("effect/Micro/successCont"),ii=Symbol.for("effect/Micro/failureCont"),Bu=Symbol.for("effect/Micro/ensureCont"),Pu=Symbol.for("effect/Micro/Yield"),L4={_A:rt,_E:rt,_R:rt},U4={...s4,_op:"Micro",[O4]:L4,pipe(){return H(this,arguments)},[Symbol.iterator](){return new H1(new ji(this))},toJSON(){return{_id:"Micro",op:this[rb],...ne in this?{args:this[ne]}:void 0}},toString(){return Qt(this)},[kt](){return Qt(this)}};function q4(t){return Nf("Micro.evaluate: Not implemented")}const Du=t=>({...U4,[rb]:t.op,[kf]:t.eval??q4,[si]:t.contA,[ii]:t.contE,[Bu]:t.ensure}),vf=t=>{const e=Du(t);return function(){const n=Object.create(e);return n[ne]=t.single===!1?arguments:arguments[0],n}},sb=t=>{const e={...Du(t),[Ru]:Ru,_tag:t.op,get[t.prop](){return this[ne]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[ne]}},[Z](n){return K4(n)&&n._tag===t.op&&X(this[ne],n[ne])},[tt](){return Bt(this,ft(Rt(t.op))(j(this[ne])))}};return function(n){const r=Object.create(e);return r[ne]=n,r[si]=void 0,r[ii]=void 0,r[Bu]=void 0,r}},If=sb({op:"Success",prop:"value",eval(t){const e=t.getCont(si);return e?e[si](this[ne],t):t.yieldWith(this)}}),ib=sb({op:"Failure",prop:"cause",eval(t){let e=t.getCont(ii);for(;P4(this[ne])&&e&&t.interruptible;)e=t.getCont(ii);return e?e[ii](this[ne],t):t.yieldWith(this)}}),V4=vf({op:"Yield",eval(t){let e=!1;return t.getRef(Mf).scheduleTask(()=>{e||t.evaluate(G4)},this[ne]??0),t.yieldWith(()=>{e=!0})}})(0),W4=If(void 0),Tf=vf({op:"WithMicroFiber",eval(t){return this[ne](t)}}),ju=d(2,(t,e)=>{const n=Object.create(z4);return n[ne]=t,n[si]=e,n}),z4=Du({op:"OnSuccess",eval(t){return t._stack.push(this),this[ne]}}),K4=t=>Y(t,Ru),ob=If,Of=ib,$f=Of(B4()),Nf=t=>Of(M4(t)),G4=ob(void 0),H4="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0);class ab{tasks=[];running=!1;scheduleTask(e,n){this.tasks.push(e),this.running||(this.running=!0,H4(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const e=this.tasks;this.tasks=[];for(let n=0,r=e.length;n<r;n++)e[n]()}shouldYield(e){return e.currentOpCount>=e.getRef(Z4)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const J4=d(2,(t,e)=>Tf(n=>{const r=n.context;return n.context=e(r),t$(t,()=>(n.context=r,W4))})),Y4=d(2,(t,e)=>J4(t,wm(e)));class Z4 extends _m()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class Mf extends _m()("effect/Micro/currentScheduler",{defaultValue:()=>new ab}){}const X4=d(2,(t,e)=>{const n=Object.create(Q4);return n[ne]=t,n[si]=e.onSuccess,n[ii]=e.onFailure,n}),Q4=Du({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[ne]}}),t$=d(2,(t,e)=>n$(n=>X4(n(t),{onFailure:r=>ju(e(Of(r)),()=>ib(r)),onSuccess:r=>ju(e(ob(r)),()=>If(r))}))),ub=vf({op:"SetInterruptible",ensure(t){if(t.interruptible=this[ne],t._interrupted&&t.interruptible)return()=>$f}}),e$=t=>Tf(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(ub(!1)),e._interrupted?$f:t)),n$=t=>Tf(e=>e.interruptible?(e.interruptible=!1,e._stack.push(ub(!0)),t(e$)):t(rt)),r$=(t,e)=>{const n=new j4(Mf.context(new ab));return n.evaluate(t),n};class cb{buckets=[];scheduleTask(e,n){const r=this.buckets.length;let s,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)s=this.buckets[i];s&&s[0]===n?s[1].push(e):i===r?this.buckets.push([n,[e]]):this.buckets.splice(i,0,[n,[e]])}}class s${maxNextTickBeforeTimer;running=!1;tasks=new cb;constructor(e){this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,s]of n)for(let i=0;i<s.length;i++)s[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(ig)?e.getFiberRef(vu):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const lb=lt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new s$(2048));class fb{tasks=new cb;deferred=!1;scheduleTask(e,n){this.deferred?lb.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(ig)?e.getFiberRef(vu):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of e)for(let s=0;s<r.length;s++)r[s]()}this.deferred=!0}}const hb=lt(Symbol.for("effect/FiberRef/currentScheduler"),()=>ve(lb)),xb=lt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>ve(new Map)),pb=(t,e,n,r)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return cf(w6,s=>s==="unbounded"?n():s>1?r(s):e());default:return t>1?r(t):e()}},Rf="InterruptSignal",Bf="Stateful",Pf="Resume",Df="YieldNow",jf=t=>({_tag:Rf,cause:t}),Lu=t=>({_tag:Bf,onFiber:t}),oi=t=>({_tag:Pf,effect:t}),i$=()=>({_tag:Df}),Uu=Symbol.for("effect/FiberScope");class o${[Uu]=Uu;fiberId=Us;roots=new Set;add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class a${fiberId;parent;[Uu]=Uu;constructor(e,n){this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Lu(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const u$=t=>new a$(t.id(),t),Lf=lt(Symbol.for("effect/FiberScope/Global"),()=>new o$),c$=Symbol.for("effect/Fiber"),l$={_E:t=>t,_A:t=>t},f$=Symbol.for("effect/Fiber"),mb=t=>Xd(Kd(t.await),t.inheritAll);({...Ki});const Qr="effect/FiberCurrent",h$=Symbol.for("effect/Logger"),x$={_Message:t=>t,_Output:t=>t},Uf=t=>({[h$]:x$,log:t,pipe(){return H(this,arguments)}}),p$=/^[^\s"=]*$/,m$=Uf(((t,e)=>({annotations:n,cause:r,date:s,fiberId:i,logLevel:a,message:c,spans:l})=>{const u=y=>y.match(p$)?y:t(y),f=(y,w)=>`${qg(y)}=${u(w)}`,p=(y,w)=>" "+f(y,w);let g=f("timestamp",s.toISOString());g+=p("level",a.label),g+=p("fiber",sd(i));const b=U3(c);for(let y=0;y<b.length;y++)g+=p("message",Fs(b[y],e));_T(r)||(g+=p("cause",Zs(r,{renderErrorCause:!0})));for(const y of l)g+=" "+r4(s.getTime())(y);for(const[y,w]of n)g+=p(y,Fs(w,e));return g})(t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`));typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null&&process.stdout.isTTY;const db="effect/MetricBoundaries",qf=Symbol.for(db);class d${values;[qf]=qf;constructor(e){this.values=e,this._hash=h(Rt(db),ft(Ui(this.values)))}_hash;[tt](){return this._hash}[Z](e){return g$(e)&&X(this.values,e.values)}pipe(){return H(this,arguments)}}const g$=t=>Y(t,qf),b$=t=>{const e=h(t,vs(Me(Number.POSITIVE_INFINITY)),sC);return new d$(e)},y$=t=>h(z0(t.count-1,e=>t.start*Math.pow(t.factor,e)),Za,b$),gb=Symbol.for("effect/MetricKeyType"),bb="effect/MetricKeyType/Counter",Vf=Symbol.for(bb),S$=Symbol.for("effect/MetricKeyType/Frequency"),w$=Symbol.for("effect/MetricKeyType/Gauge"),yb="effect/MetricKeyType/Histogram",Wf=Symbol.for(yb),_$=Symbol.for("effect/MetricKeyType/Summary"),Sb={_In:t=>t,_Out:t=>t};class A${incremental;bigint;[gb]=Sb;[Vf]=Vf;constructor(e,n){this.incremental=e,this.bigint=n,this._hash=Rt(bb)}_hash;[tt](){return this._hash}[Z](e){return wb(e)}pipe(){return H(this,arguments)}}class E${boundaries;[gb]=Sb;[Wf]=Wf;constructor(e){this.boundaries=e,this._hash=h(Rt(yb),ft(j(this.boundaries)))}_hash;[tt](){return this._hash}[Z](e){return _b(e)&&X(this.boundaries,e.boundaries)}pipe(){return H(this,arguments)}}const F$=t=>new A$(t?.incremental??!1,t?.bigint??!1),C$=t=>new E$(t),wb=t=>Y(t,Vf),k$=t=>Y(t,S$),v$=t=>Y(t,w$),_b=t=>Y(t,Wf),I$=t=>Y(t,_$),Ab=Symbol.for("effect/MetricKey"),T$={_Type:t=>t},O$=Mr(X);class zf{name;keyType;description;tags;[Ab]=T$;constructor(e,n,r,s=[]){this.name=e,this.keyType=n,this.description=r,this.tags=s,this._hash=h(Rt(this.name+this.description),ft(j(this.keyType)),ft(Ui(this.tags)))}_hash;[tt](){return this._hash}[Z](e){return $$(e)&&this.name===e.name&&X(this.keyType,e.keyType)&&X(this.description,e.description)&&O$(this.tags,e.tags)}pipe(){return H(this,arguments)}}const $$=t=>Y(t,Ab),N$=(t,e)=>new zf(t,F$(e),Hi(e?.description)),M$=(t,e,n)=>new zf(t,C$(e),Hi(n)),R$=d(2,(t,e)=>e.length===0?t:new zf(t.name,t.keyType,t.description,Va(t.tags,e))),Io=Symbol.for("effect/MetricState"),Eb="effect/MetricState/Counter",Kf=Symbol.for(Eb),Fb="effect/MetricState/Frequency",Gf=Symbol.for(Fb),Cb="effect/MetricState/Gauge",Hf=Symbol.for(Cb),kb="effect/MetricState/Histogram",Jf=Symbol.for(kb),vb="effect/MetricState/Summary",Yf=Symbol.for(vb),To={_A:t=>t};class B${count;[Io]=To;[Kf]=Kf;constructor(e){this.count=e}[tt](){return h(j(Eb),ft(j(this.count)),Bt(this))}[Z](e){return G$(e)&&this.count===e.count}pipe(){return H(this,arguments)}}const P$=Mr(X);class D${occurrences;[Io]=To;[Gf]=Gf;constructor(e){this.occurrences=e}_hash;[tt](){return h(Rt(Fb),ft(Ui(bt(this.occurrences.entries()))),Bt(this))}[Z](e){return H$(e)&&P$(bt(this.occurrences.entries()),bt(e.occurrences.entries()))}pipe(){return H(this,arguments)}}class j${value;[Io]=To;[Hf]=Hf;constructor(e){this.value=e}[tt](){return h(j(Cb),ft(j(this.value)),Bt(this))}[Z](e){return J$(e)&&this.value===e.value}pipe(){return H(this,arguments)}}class L${buckets;count;min;max;sum;[Io]=To;[Jf]=Jf;constructor(e,n,r,s,i){this.buckets=e,this.count=n,this.min=r,this.max=s,this.sum=i}[tt](){return h(j(kb),ft(j(this.buckets)),ft(j(this.count)),ft(j(this.min)),ft(j(this.max)),ft(j(this.sum)),Bt(this))}[Z](e){return Y$(e)&&X(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return H(this,arguments)}}class U${error;quantiles;count;min;max;sum;[Io]=To;[Yf]=Yf;constructor(e,n,r,s,i,a){this.error=e,this.quantiles=n,this.count=r,this.min=s,this.max=i,this.sum=a}[tt](){return h(j(vb),ft(j(this.error)),ft(j(this.quantiles)),ft(j(this.count)),ft(j(this.min)),ft(j(this.max)),ft(j(this.sum)),Bt(this))}[Z](e){return Z$(e)&&this.error===e.error&&X(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return H(this,arguments)}}const q$=t=>new B$(t),V$=t=>new D$(t),W$=t=>new j$(t),z$=t=>new L$(t.buckets,t.count,t.min,t.max,t.sum),K$=t=>new U$(t.error,t.quantiles,t.count,t.min,t.max,t.sum),G$=t=>Y(t,Kf),H$=t=>Y(t,Gf),J$=t=>Y(t,Hf),Y$=t=>Y(t,Jf),Z$=t=>Y(t,Yf),X$=Symbol.for("effect/MetricHook"),Q$={_In:t=>t,_Out:t=>t},Oo=t=>({[X$]:Q$,pipe(){return H(this,arguments)},...t}),Ib=BigInt(0),t5=t=>{let e=t.keyType.bigint?Ib:0;const n=t.keyType.incremental?t.keyType.bigint?s=>s>=Ib:s=>s>=0:s=>!0,r=s=>{n(s)&&(e=e+s)};return Oo({get:()=>q$(e),update:r,modify:r})},e5=t=>{const e=new Map;for(const r of t.keyType.preregisteredWords)e.set(r,0);const n=r=>{const s=e.get(r)??0;e.set(r,s+1)};return Oo({get:()=>V$(e),update:n,modify:n})},n5=(t,e)=>{let n=e;return Oo({get:()=>W$(n),update:r=>{n=r},modify:r=>{n=n+r}})},r5=t=>{const e=t.keyType.boundaries.values,n=e.length,r=new Uint32Array(n+1),s=new Float64Array(n);let i=0,a=0,c=Number.MAX_VALUE,l=Number.MIN_VALUE;h(e,Is(yt),B((p,g)=>{s[g]=p}));const u=p=>{let g=0,b=n;for(;g!==b;){const y=Math.floor(g+(b-g)/2),w=s[y];p<=w?b=y:g=y,b===g+1&&(p<=s[g]?b=g:g=b)}r[g]=r[g]+1,i=i+1,a=a+p,p<c&&(c=p),p>l&&(l=p)},f=()=>{const p=La(n);let g=0;for(let b=0;b<n;b++){const y=s[b],w=r[b];g=g+w,p[b]=[y,g]}return p};return Oo({get:()=>z$({buckets:f(),count:i,min:c,max:l,sum:a}),update:u,modify:u})},s5=t=>{const{error:e,maxAge:n,maxSize:r,quantiles:s}=t.keyType,i=h(s,Is(yt)),a=La(r);let c=0,l=0,u=0,f=0,p=0;const g=y=>{const w=[];let m=0;for(;m!==r-1;){const A=a[m];if(A!=null){const[E,C]=A,k=Ur(y-E);Zk(k,Mm)&&Yk(k,n)&&w.push(C)}m=m+1}return i5(e,i,Is(w,yt))},b=(y,w)=>{if(r>0){c=c+1;const m=c%r;a[m]=[w,y]}f=l===0?y:Math.min(f,y),p=l===0?y:Math.max(p,y),l=l+1,u=u+y};return Oo({get:()=>K$({error:e,quantiles:g(Date.now()),count:l,min:f,max:p,sum:u}),update:([y,w])=>b(y,w),modify:([y,w])=>b(y,w)})},i5=(t,e,n)=>{const r=n.length;if(!$t(e))return Ts();const s=e[0],i=e.slice(1),a=Tb(t,r,M(),0,s,n),c=Ce(a);return i.forEach(l=>{c.push(Tb(t,r,a.value,a.consumed,l,a.rest))}),B(c,l=>[l.quantile,l.value])},Tb=(t,e,n,r,s,i)=>{let a=t,c=e,l=n,u=r,f=s,p=i,g=t,b=e,y=n,w=r,m=s,A=i;for(;;){if(!$t(p))return{quantile:f,value:M(),consumed:u,rest:[]};if(f===1)return{quantile:f,value:R(Xi(p)),consumed:u+p.length,rest:[]};const E=Jt(p),C=G3(p,v=>v===E),k=f*c,N=a/2*k,o=u+C[0].length,T=Math.abs(o-k);if(o<k-N){g=a,b=c,y=Zi(p),w=o,m=f,A=C[1],a=g,c=b,l=y,u=w,f=m,p=A;continue}if(o>k+N){const v=gt(l)?R(E):l;return{quantile:f,value:v,consumed:u,rest:p}}switch(l._tag){case"None":{g=a,b=c,y=Zi(p),w=o,m=f,A=C[1],a=g,c=b,l=y,u=w,f=m,p=A;continue}case"Some":{const v=Math.abs(k-l.value);if(T<v){g=a,b=c,y=Zi(p),w=o,m=f,A=C[1],a=g,c=b,l=y,u=w,f=m,p=A;continue}return{quantile:f,value:R(l.value),consumed:u,rest:p}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},o5=Symbol.for("effect/MetricPair"),a5={_Type:t=>t},u5=(t,e)=>({[o5]:a5,metricKey:t,metricState:e,pipe(){return H(this,arguments)}}),Ob=Symbol.for("effect/MetricRegistry");class c5{[Ob]=Ob;map=z6();snapshot(){const e=[];for(const[n,r]of this.map)e.push(u5(n,r.get()));return e}get(e){const n=h(this.map,Jr(e),Sn);if(n==null){if(wb(e.keyType))return this.getCounter(e);if(v$(e.keyType))return this.getGauge(e);if(k$(e.keyType))return this.getFrequency(e);if(_b(e.keyType))return this.getHistogram(e);if(I$(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=h(this.map,Jr(e),Sn);if(n==null){const r=t5(e);h(this.map,Co(e))||h(this.map,ko(e,r)),n=r}return n}getFrequency(e){let n=h(this.map,Jr(e),Sn);if(n==null){const r=e5(e);h(this.map,Co(e))||h(this.map,ko(e,r)),n=r}return n}getGauge(e){let n=h(this.map,Jr(e),Sn);if(n==null){const r=n5(e,e.keyType.bigint?BigInt(0):0);h(this.map,Co(e))||h(this.map,ko(e,r)),n=r}return n}getHistogram(e){let n=h(this.map,Jr(e),Sn);if(n==null){const r=r5(e);h(this.map,Co(e))||h(this.map,ko(e,r)),n=r}return n}getSummary(e){let n=h(this.map,Jr(e),Sn);if(n==null){const r=s5(e);h(this.map,Co(e))||h(this.map,ko(e,r)),n=r}return n}}const l5=()=>new c5,f5=Symbol.for("effect/Metric"),h5={_Type:t=>t,_In:t=>t,_Out:t=>t},$b=lt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>l5()),Nb=function(t,e,n,r){const s=Object.assign(i=>n6(i,a=>d5(s,a)),{[f5]:h5,keyType:t,unsafeUpdate:e,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return H(this,arguments)}});return s},qu=(t,e)=>Mb(N$(t,e)),Mb=t=>{let e;const n=new WeakMap,r=s=>{if(s.length===0)return e!==void 0||(e=$b.get(t)),e;let i=n.get(s);return i!==void 0||(i=$b.get(R$(t,s)),n.set(s,i)),i};return Nb(t.keyType,(s,i)=>r(i).update(s),s=>r(s).get(),(s,i)=>r(i).modify(s))},x5=(t,e,n)=>Mb(M$(t,e,n)),p5=d(3,(t,e,n)=>m5(t,[f4(e,n)])),m5=d(2,(t,e)=>Nb(t.keyType,(n,r)=>t.unsafeUpdate(n,Va(e,r)),n=>t.unsafeValue(Va(e,n)),(n,r)=>t.unsafeModify(n,Va(e,r)))),d5=d(2,(t,e)=>cf(lf,n=>Q(()=>t.unsafeUpdate(e,n))));({...zi});const g5=d(2,(t,e)=>cf(xb,n=>Q(()=>{if(n.has(t)){const r=n.get(t);r.state.completed||(r.state.completed=!0,mg(r.result,e))}}))),Vu=Symbol.for("effect/Supervisor"),Zf={_T:t=>t};class Wu{underlying;value0;[Vu]=Zf;constructor(e,n){this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,r,s){this.underlying.onStart(e,n,r,s)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new Wu(this,h(this.value,ge(e)))}zip(e){return new zu(this,e)}}class zu{left;right;_tag="Zip";[Vu]=Zf;constructor(e,n){this.left=e,this.right=n}get value(){return Zd(this.left.value,this.right.value)}onStart(e,n,r,s){this.left.onStart(e,n,r,s),this.right.onStart(e,n,r,s)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new Wu(this,h(this.value,ge(e)))}zip(e){return new zu(this,e)}}const Rb=t=>Y(t,Vu)&&E0(t,"Zip");class b5{effect;[Vu]=Zf;constructor(e){this.effect=e}get value(){return this.effect}onStart(e,n,r,s){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new Wu(this,h(this.value,ge(e)))}zip(e){return new zu(this,e)}onRun(e,n){return e()}}const y5=t=>new b5(t),Ku=lt("effect/Supervisor/none",()=>y5(ze)),S5=Ws,Bb="Empty",Pb="AddSupervisor",Db="RemoveSupervisor",jb="AndThen",$o={_tag:Bb},Gu=(t,e)=>({_tag:jb,first:t,second:e}),w5=(t,e)=>_5(e,Me(t)),_5=(t,e)=>{let n=t,r=e;for(;Ms(r);){const s=Rs(r);switch(s._tag){case Bb:{r=Lr(r);break}case Pb:{n=n.zip(s.supervisor),r=Lr(r);break}case Db:{n=Xf(n,s.supervisor),r=Lr(r);break}case jb:{r=on(s.first)(on(s.second)(Lr(r)));break}}}return n},Xf=(t,e)=>X(t,e)?Ku:Rb(t)?Xf(t.left,e).zip(Xf(t.right,e)):t,Hu=t=>X(t,Ku)?lr():Rb(t)?h(Hu(t.left),uo(Hu(t.right))):Ml(t),A5=S5({empty:$o,patch:w5,combine:Gu,diff:(t,e)=>{if(X(t,e))return $o;const n=Hu(t),r=Hu(e),s=h(r,Xm(n),au($o,(a,c)=>Gu(a,{_tag:Pb,supervisor:c}))),i=h(n,Xm(r),au($o,(a,c)=>Gu(a,{_tag:Db,supervisor:c})));return Gu(s,i)}}),E5=qu("effect_fiber_started",{incremental:!0}),Lb=qu("effect_fiber_active"),F5=qu("effect_fiber_successes",{incremental:!0}),C5=qu("effect_fiber_failures",{incremental:!0}),k5=p5(x5("effect_fiber_lifetimes",y$({start:.5,factor:2,count:35})),"time_unit","milliseconds"),No="Continue",v5="Done",Ub="Yield",I5={_E:t=>t,_A:t=>t},Ju=t=>{throw new Error(`BUG: FiberRuntime - ${Fs(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Vn=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Wn=lt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Mo={[Oa]:(t,e,n)=>Se(()=>e.effect_instruction_i1(n)),OnStep:(t,e,n)=>Yt(Yt(n)),[$a]:(t,e,n)=>Se(()=>e.effect_instruction_i2(n)),[O0]:(t,e,n)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),fr(t.currentRuntimeFlags)&&t.isInterrupted()?It(t.getInterruptedCause()):Yt(n)),[Na]:(t,e,n)=>(Se(()=>e.effect_instruction_i2(n)),Se(()=>e.effect_instruction_i0())?(t.pushStack(e),Se(()=>e.effect_instruction_i1())):ze),[Ma]:(t,e,n)=>{const r=Se(()=>e.effect_instruction_i0.next(n));return r.done?Yt(r.value):(t.pushStack(e),KF(r.value))}},T5={[Rf]:(t,e,n,r)=>(t.processNewInterruptSignal(r.cause),fr(e)?It(r.cause):n),[Pf]:(t,e,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Bf]:(t,e,n,r)=>(r.onFiber(t,Xg(e)),n),[Df]:(t,e,n,r)=>J(af(),()=>n)},O5=t=>Au(iT(t),e=>ts(yT(e),([n,r])=>{const s=new Map,i=[];for(const c of r){i.push(jr(c));for(const l of c)s.set(l.request,l)}const a=i.flat();return ku(H5(n.runAll(i),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),xb,s)},!1,!1)),$5=$0();class qb extends o4{[c$]=l$;[f$]=I5;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(e,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=e,this._fiberRefs=n,wd(r)){const s=this.getFiberRef(lf);E5.unsafeUpdate(1,s),Lb.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return mb(this)}id(){return this._fiberId}resume(e){this.tell(oi(e))}get status(){return this.ask((e,n)=>n)}get runtimeFlags(){return this.ask((e,n)=>T4(n)?e.currentRuntimeFlags:n.runtimeFlags)}scope(){return u$(this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Iu)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return ee(()=>{const n=B6(this._fiberId);return this.tell(Lu((r,s)=>{mg(n,Q(()=>e(r,s)))})),pg(n)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return Ao(e=>{const n=r=>e(At(r));return this.tell(Lu((r,s)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),Q(()=>this.tell(Lu((r,s)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Be((e,n)=>{const r=e.id(),s=e.getFiberRefs(),i=n.runtimeFlags,a=this.getFiberRefs(),c=LO(s,r,a);e.setFiberRefs(c);const l=e.getFiberRef(Jb),u=h(du(i,l),Ed(zs),Ed(Hl));return s6(u)})}get poll(){return Q(()=>Hi(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return Q(()=>this.tell(jf(qn(e))))}unsafeInterruptAsFork(e){this.tell(jf(qn(e)))}addObserver(e){this._exitValue!==null?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(n=>n!==e)}getFiberRefs(){return this.setFiberRef(Jb,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=Ug(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,n){this._fiberRefs=yf(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef($u),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Bg.key),this.currentSupervisor=this.getFiberRef(G5),this.currentScheduler=this.getFiberRef(hb),this.currentContext=this.getFiberRef(Eo),this.currentSpan=this.currentContext.unsafeMap.get(Pg.key)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}transferChildren(e){const n=this._children;if(this._children=null,n!==null&&n.size>0)for(const r of n)r._exitValue===null&&e.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let n=No;const r=globalThis[Qr];globalThis[Qr]=this;try{for(;n===No;)n=this._queue.length===0?v5:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Qr]=r}this._queue.length>0&&!this._running?(this._running=!0,n===Ub?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(vu))}drainQueueWhileRunning(e,n){let r=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];r=T5[s._tag](this,e,r,s)}return r}isInterrupted(){return!ET(this.getFiberRef(Iu))}addInterruptedCause(e){const n=this.getFiberRef(Iu);this.setFiberRef(Iu,Re(n,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let e=!1;for(const n of this._children)n.tell(jf(qn(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const e=this._children.values();this._children=null;let n=!1;return of({while:()=>!n,body:()=>{const s=e.next();return s.done?Q(()=>{n=!0}):_o(s.value.await)},step:()=>{}})}return null}reportExitValue(e){if(wd(this.currentRuntimeFlags)){const n=this.getFiberRef(lf),r=this.id().startTimeMillis,s=Date.now();switch(k5.unsafeUpdate(s-r,n),Lb.unsafeUpdate(-1,n),e._tag){case rn:{F5.unsafeUpdate(1,n);break}case nn:{C5.unsafeUpdate(1,n);break}}}if(e._tag==="Failure"){const n=this.getFiberRef(A6);!Zl(e.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",e.cause,n)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](e);this._observers=[]}getLoggers(){return this.getFiberRef(P5)}log(e,n,r){const s=vt(r)?r.value:this.getFiberRef(b6),i=this.getFiberRef(N5);if(e4(i,s))return;const a=this.getFiberRef(y6),c=this.getFiberRef(g6),l=this.getLoggers(),u=this.getFiberRefs();if(Rl(l)>0){const f=ym(this.getFiberRef($u),gf),p=new Date(f.unsafeCurrentTimeMillis());YF(u,()=>{for(const g of l)g.log({fiberId:this.id(),logLevel:s,message:e,cause:n,context:u,spans:a,annotations:c,date:p})})}}evaluateMessageWhileSuspended(e){switch(e._tag){case Df:return Ub;case Rf:return this.processNewInterruptSignal(e.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(It(e.cause)),this._asyncInterruptor=null),No;case Pf:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),No;case Bf:return e.onFiber(this,this._exitValue!==null?v4:I4(this.currentRuntimeFlags,this._asyncBlockingOn)),No;default:return Ju(e)}}evaluateEffect(e){this.currentSupervisor.onResume(this);try{let n=fr(this.currentRuntimeFlags)&&this.isInterrupted()?It(this.getInterruptedCause()):e;for(;n!==null;){const r=n,s=this.runLoop(r);if(s===Vn){const i=Wn.currentOp;Wn.currentOp=null,i._op===Ra?tT(this.currentRuntimeFlags)?(this.tell(i$()),this.tell(oi(Hr)),n=null):n=Hr:i._op===qi&&(n=null)}else{this.currentRuntimeFlags=h(this.currentRuntimeFlags,eT(Hl));const i=this.interruptAllChildren();i!==null?n=J(i,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(oi(s)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(e){if(this._running)this.tell(oi(e));else{this._running=!0;const n=globalThis[Qr];globalThis[Qr]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[Qr]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(oi(e))}patchRuntimeFlags(e,n){const r=gu(e,n);return globalThis[Qr]=this,this.currentRuntimeFlags=r,r}initiateAsync(e,n){let r=!1;const s=i=>{r||(r=!0,this.tell(oi(i)))};fr(e)&&(this._asyncInterruptor=s);try{n(s)}catch(i){s(fn(ln(i)))}}pushStack(e){this._stack.push(e),e._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const e=this._stack.pop();if(e)return e._op==="OnStep"&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==T0)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==Oa&&e._op!==Na&&e._op!==Ma)return e;e=this.popStack()}}[XF](e){return Q(()=>Sm(this.currentContext,e))}Left(e){return he(e.left)}None(e){return he(new cg)}Right(e){return Yt(e.right)}Some(e){return Yt(e.value)}Micro(e){return _u(n=>{let r=n;const s=r$(Y4(e,this.currentContext));return s.addObserver(i=>{if(i._tag==="Success")return r(Yt(i.value));switch(i.cause._tag){case"Interrupt":return r(It(qn(Us)));case"Fail":return r(he(i.cause.error));case"Die":return r(qd(i.cause.defect))}}),_u(i=>{r=a=>{i(ze)},s.unsafeInterrupt()})})}[tp](e){const n=Se(()=>e.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in Mo||Ju(r),Mo[r._op](this,r,n)):(Wn.currentOp=Yt(n),Vn)}[rn](e){const n=e,r=this.getNextSuccessCont();return r!==void 0?(r._op in Mo||Ju(r),Mo[r._op](this,r,n.effect_instruction_i0)):(Wn.currentOp=n,Vn)}[nn](e){const n=e.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case T0:case $a:return fr(this.currentRuntimeFlags)&&this.isInterrupted()?It(Td(n)):Se(()=>r.effect_instruction_i1(n));case"OnStep":return fr(this.currentRuntimeFlags)&&this.isInterrupted()?It(Td(n)):Yt(It(n));case O0:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),fr(this.currentRuntimeFlags)&&this.isInterrupted()?It(Re(n,this.getInterruptedCause())):It(n);default:Ju(r)}else return Wn.currentOp=It(n),Vn}[ep](e){return Se(()=>e.effect_instruction_i0(this,Xg(this.currentRuntimeFlags)))}Blocked(e){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],i=this._steps[this._steps.length-1];let a=this.popStack();for(;a&&a._op!=="OnStep";)s.push(a),a=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;const c=b4(i.refs,n),l=du(i.flags,r);return Yt(Pd(e.effect_instruction_i0,Be(u=>{for(;s.length>0;)u.pushStack(s.pop());return u.setFiberRefs(y4(u.id(),u.getFiberRefs())(c)),u.currentRuntimeFlags=gu(l)(u.currentRuntimeFlags),e.effect_instruction_i1})))}return Fu(s=>J(Wb(GT(e.effect_instruction_i0)),()=>s(e.effect_instruction_i1)))}RunBlocked(e){return O5(e.effect_instruction_i0)}[Vi](e){const n=e.effect_instruction_i0,r=this.currentRuntimeFlags,s=gu(r,n);if(fr(s)&&this.isInterrupted())return It(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),e.effect_instruction_i1){const i=du(s,r);return this.pushStack(new HT(i,e)),Se(()=>e.effect_instruction_i1(r))}else return Hr}[Oa](e){return this.pushStack(e),e.effect_instruction_i0}OnStep(e){return this.pushStack(e),e.effect_instruction_i0}[T0](e){return this.pushStack(e),e.effect_instruction_i0}[$a](e){return this.pushStack(e),e.effect_instruction_i0}[qi](e){return this._asyncBlockingOn=e.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,e.effect_instruction_i0),Wn.currentOp=e,Vn}[Ra](e){return this._isYielding=!1,Wn.currentOp=e,Vn}[Na](e){const n=e.effect_instruction_i0,r=e.effect_instruction_i1;return n()?(this.pushStack(e),r()):Hr}[Ma](e){return Mo[Ma](this,e,void 0)}[Ta](e){return Se(()=>e.commit())}runLoop(e){let n=e;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&QI)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;const s=n;n=J(af({priority:r}),()=>s)}}try{if(n=this.currentTracer.context(()=>{if($5!==n[Qs]._V){const r=this.getFiberRef(E6);if(r._tag==="Some"){const s=n[Qs]._V;this.log(`Executing an Effect versioned ${s} with a Runtime of version ${$0()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,Gr,r)}}return this[n._op](n)},this),n===Vn){const r=Wn.currentOp;return r._op===Ra||r._op===qi?Vn:(Wn.currentOp=null,r._op===rn||r._op===nn?r:It(ln(r)))}}catch(r){n!==Vn&&!Y(n,"_op")||!(n._op in this)?n=ZT(`Not a valid effect: ${Fs(n)}`):I6(r)?n=It(Re(ln(r),qn(Us))):n=qd(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const N5=lt("effect/FiberRef/currentMinimumLogLevel",()=>ve(n4("Info"))),M5=t=>Uf(e=>{const n=WO(e.context,$u);ym(n,Ng).unsafe.log(t.log(e))}),R5=lt(Symbol.for("effect/Logger/defaultLogger"),()=>M5(m$)),B5=lt(Symbol.for("effect/Logger/tracerLogger"),()=>Uf(({annotations:t,cause:e,context:n,fiberId:r,logLevel:s,message:i})=>{const a=io(vo(n,Eo),Pg);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=Sm(vo(n,$u),gf),l={};for(const[u,f]of t)l[u]=f;l["effect.fiberId"]=Wv(r),l["effect.logLevel"]=s.label,e!==null&&e._tag!=="Empty"&&(l["effect.cause"]=Zs(e,{renderErrorCause:!0})),a.value.event(Fs(Array.isArray(i)&&i.length===1?i[0]:i),c.unsafeCurrentTimeNanos(),l)})),P5=lt(Symbol.for("effect/FiberRef/currentLoggers"),()=>p6(Ml(R5,B5))),D5=t=>{if(Array.isArray(t)||G1(t))return[t,M()];const e=Object.keys(t),n=e.length;return[e.map(r=>t[r]),R(r=>{const s={};for(let i=0;i<n;i++)s[e[i]]=r[i];return s})]},j5=(t,e,n)=>{const r=[];for(const s of t)r.push(ti(s));return J(ai(r,rt,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>{const i=M(),a=s.length,c=new Array(a),l=new Array(a);let u=!1;for(let f=0;f<a;f++){const p=s[f];p._tag==="Left"?(c[f]=R(p.left),u=!0):(l[f]=p.right,c[f]=i)}return u?e._tag==="Some"?he(e.value(c)):he(c):n?.discard?ze:e._tag==="Some"?At(e.value(l)):At(l)})},L5=(t,e,n)=>{const r=[];for(const s of t)r.push(ti(s));return n?.discard?ai(r,rt,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):ge(ai(r,rt,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>e._tag==="Some"?e.value(s):s)},U5=(t,e)=>{const[n,r]=D5(t);return e?.mode==="validate"?j5(n,r,e):e?.mode==="either"?L5(n,r,e):e?.discard!==!0&&r._tag==="Some"?ge(ai(n,rt,e),r.value):ai(n,rt,e)},ai=d(t=>G1(t[0]),(t,e,n)=>Be(r=>{const s=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(_6);return n?.discard?pb(n.concurrency,()=>ui(Af,n?.concurrentFinalizers)(i=>s?ts(t,(a,c)=>i(e(a,c)),!0,!1,1):Au(t,(a,c)=>i(e(a,c)))),()=>ui(Ef,n?.concurrentFinalizers)(i=>ts(t,(a,c)=>i(e(a,c)),s,!1)),i=>ui(Ff(i),n?.concurrentFinalizers)(a=>ts(t,(c,l)=>a(e(c,l)),s,!1,i))):pb(n?.concurrency,()=>ui(Af,n?.concurrentFinalizers)(i=>s?Vb(t,1,(a,c)=>i(e(a,c)),!0):hr(t,(a,c)=>i(e(a,c)))),()=>ui(Ef,n?.concurrentFinalizers)(i=>q5(t,(a,c)=>i(e(a,c)),s)),i=>ui(Ff(i),n?.concurrentFinalizers)(a=>Vb(t,i,(c,l)=>a(e(c,l)),s)))})),q5=(t,e,n)=>ee(()=>{const r=bt(t),s=new Array(r.length);return Cu(ts(r,(a,c)=>J(e(a,c),l=>Q(()=>s[c]=l)),n,!1),At(s))}),ts=(t,e,n,r,s)=>Fu(i=>r6(a=>Be(c=>{let l=Array.from(t).reverse(),u=l.length;if(u===0)return ze;let f=0,p=!1;const g=s?Math.min(l.length,s):l.length,b=new Set,y=new Array,w=()=>b.forEach(v=>{v.currentScheduler.scheduleTask(()=>{v.unsafeInterruptAsFork(c.id())},0)}),m=new Array,A=new Array,E=new Array,C=()=>{const v=y.filter(({exit:D})=>D._tag==="Failure").sort((D,$)=>D.index<$.index?-1:D.index===$.index?0:1).map(({exit:D})=>D);return v.length===0&&v.push(Hr),v},k=(v,D=!1)=>{const $=Yd(a(v)),q=W5($,c,c.currentRuntimeFlags,Lf);return c.currentScheduler.scheduleTask(()=>{D&&q.unsafeInterruptAsFork(c.id()),q.resume($)},0),q},N=()=>{r||(u-=l.length,l=[]),p=!0,w()},o=n?t6:Vd,T=k(Ao(v=>{const D=(q,W)=>{q._op==="Blocked"?E.push(q):(y.push({index:W,exit:q}),q._op==="Failure"&&!p&&N())},$=()=>{if(l.length>0){const q=l.pop();let W=f++;const jt=()=>{const wt=l.pop();return W=f++,J(af(),()=>J(o(i(e(wt,W))),pt))},pt=wt=>l.length>0&&(D(wt,W),l.length>0)?jt():At(wt),Tt=J(o(i(e(q,W))),pt),Ct=k(Tt);m.push(Ct),b.add(Ct),p&&Ct.currentScheduler.scheduleTask(()=>{Ct.unsafeInterruptAsFork(c.id())},0),Ct.addObserver(wt=>{let ye;if(wt._op==="Failure"?ye=wt:ye=wt.effect_instruction_i0,A.push(Ct),b.delete(Ct),D(ye,W),y.length===u)v(At(Ut(fg(C(),{parallel:!0}),()=>Hr)));else if(E.length+y.length===u){const tn=C(),Ss=E.map(F=>F.effect_instruction_i0).reduce(Fd);v(At(Pd(Ss,ts([Ut(fg(tn,{parallel:!0}),()=>Hr),...E.map(F=>F.effect_instruction_i1)],F=>F,n,!0,s))))}else $()})}};for(let q=0;q<g;q++)$()}));return _o(sf(Kd(i(mb(T))),xg({onFailure:v=>{N();const D=E.length+1,$=Math.min(typeof s=="number"?s:E.length,E.length),q=Array.from(E);return Ao(W=>{let jt=0,pt=0;const Tt=(wt,ye)=>tn=>{jt++,jt===D&&W(Yt(It(v))),q.length>0&&ye&&Ct()},Ct=()=>{k(q.pop(),!0).addObserver(Tt(pt,!0)),pt++};T.addObserver(Tt(pt,!1)),pt++;for(let wt=0;wt<$;wt++)Ct()})},onSuccess:()=>hr(A,v=>v.inheritAll)})))}))),Vb=(t,e,n,r)=>ee(()=>{const s=bt(t),i=new Array(s.length);return Cu(ts(s,(c,l)=>ge(n(c,l),u=>i[l]=u),r,!1,e),At(i))}),Wb=t=>z5(t,Lf),V5=(t,e,n,r=null)=>{const s=zb(t,e,n,r);return s.resume(t),s},W5=(t,e,n,r=null)=>zb(t,e,n,r),zb=(t,e,n,r=null)=>{const s=id(),i=e.getFiberRefs(),a=UO(i,s),c=new qb(s,a,n),l=vo(a,Eo),u=c.currentSupervisor;return u.onStart(l,t,R(e),c),c.addObserver(p=>u.onEnd(p,c)),(r!==null?r:h(e.getFiberRef(ff),Ut(()=>e.scope()))).add(n,c),c},z5=(t,e)=>Be((n,r)=>At(V5(t,n,r.runtimeFlags,e))),Kb=t=>Fo(e=>ae(io(e,Ro),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return J(Tu(n,Ef),r=>Qf(t,r))}}})),Gb=t=>e=>Fo(n=>ae(io(n,Ro),{onNone:()=>e,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===t?e:J(Tu(r,Ff(t)),s=>Qf(e,s))})),ui=(t,e)=>n=>Fo(r=>ae(io(r,Ro),{onNone:()=>n(rt),onSome:s=>{if(e===!0){const i=t._tag==="Parallel"?Kb:t._tag==="Sequential"?Hb:Gb(t.parallelism);switch(s.strategy._tag){case"Parallel":return i(n(Kb));case"Sequential":return i(n(Hb));case"ParallelN":return i(n(Gb(s.strategy.parallelism)))}}else return n(rt)}})),Hb=t=>Fo(e=>ae(io(e,Ro),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return J(Tu(n,Af),r=>Qf(t,r))}}})),Ro=Dr("effect/Scope"),Qf=d(2,(t,e)=>U6(t,wm($k(Ro,e)))),K5=t=>ni(t,{differ:A5,fork:$o}),Jb=d6(nT),G5=K5(Ku),H5=(t,e,n)=>zd(r=>J(J(Wb(Gd(t)),s=>Ao(i=>{const a=e.map(u=>u.listeners.count),c=()=>{a.every(u=>u===0)&&e.every(u=>u.result.state.current._tag==="Pending"?!0:!!(u.result.state.current._tag==="Done"&&xf(u.result.state.current.effect)&&u.result.state.current.effect._tag==="Failure"&&FT(u.result.state.current.effect.cause)))&&(l.forEach(u=>u()),n?.(),i(i6(s)))};s.addObserver(u=>{l.forEach(f=>f()),i(u)});const l=e.map((u,f)=>{const p=g=>{a[f]=g,c()};return u.listeners.addObserver(p),()=>u.listeners.removeObserver(p)});return c(),Q(()=>{l.forEach(u=>u())})})),()=>ee(()=>{const s=e.flatMap(i=>i.state.completed?[]:[i]);return Au(s,i=>g5(i.request,N6(r)))}))),J5=AT,Y5=NT,Z5=Zs,X5=C6,Q5=Tu,th=t=>function(){if(arguments.length===1){const e=arguments[0];return(n,...r)=>t(e,n,...r)}return t.apply(this,arguments)},Yb=th((t,e,n)=>{const r=id(),s=[[Eo,[[r,t.context]]]];n?.scheduler&&s.push([hb,[[r,n.scheduler]]]);let i=zO(t.fiberRefs,{entries:s,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));const a=new qb(r,i,t.runtimeFlags);let c=e;n?.scope&&(c=J(Q5(n.scope,Jg),u=>Cu(F6(u,zd(f=>X(f,a.id())?ze:Qd(a,f))),sf(e,f=>X5(u,f)))));const l=a.currentSupervisor;return l!==Ku&&(l.onStart(t.context,c,M(),a),a.addObserver(u=>l.onEnd(u,a))),Lf.add(t.runtimeFlags,a),n?.immediate===!1?a.resume(c):a.start(c),a}),t9=th((t,e)=>{const n=o9(t)(e);if(n._tag==="Failure")throw s9(n.effect_instruction_i0);return n.effect_instruction_i0});class e9 extends Error{fiber;_tag="AsyncFiberException";constructor(e){super(`Fiber #${e.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=e,this.name=this._tag,this.stack=this.message}}const n9=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new e9(t);return Error.stackTraceLimit=e,n},eh=Symbol.for("effect/Runtime/FiberFailure"),Yu=Symbol.for("effect/Runtime/FiberFailure/Cause");class r9 extends Error{[eh];[Yu];constructor(e){const n=Rd(e)[0];super(n?.message||"An error has occurred"),this[eh]=eh,this[Yu]=e,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[Yu].toJSON()}}toString(){return"(FiberFailure) "+Zs(this[Yu],{renderErrorCause:!0})}[kt](){return this.toString()}}const s9=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new r9(t);return Error.stackTraceLimit=e,n},i9=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return hg(e.left);case"Right":return Yt(e.right);case"Some":return Yt(e.value);case"None":return hg(cg())}},o9=th((t,e)=>{const n=i9(e);if(n)return n;const r=new fb,s=Yb(t)(e,{scheduler:r});r.flush();const i=s.unsafePoll();return i||$6(nf(n9(s),mf(s)))});class a9{context;runtimeFlags;fiberRefs;constructor(e,n,r){this.context=e,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return H(this,arguments)}}const Zb=(t=>new a9(t.context,t.runtimeFlags,t.fiberRefs))({context:pl(),runtimeFlags:Sd(zs,bd,gd),fiberRefs:KO()}),u9=Yb(Zb),c9=t9(Zb),l9=oI,f9=t=>e=>{const n=e===void 0?Object.create(zi):l9(e);return n._tag=t,n},h9=fu,nh=()=>new Proxy({},{get(t,e,n){return e==="$is"?E0:e==="$match"?x9:f9(e)}});function x9(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const t=arguments[0];return arguments[1][t._tag](t)}const p9=(function(){const t=Symbol.for("effect/Data/Error/plainArgs");return{BaseEffectError:class extends hf{constructor(n){super(n?.message,n?.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,t,{value:n,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}.BaseEffectError})(),m9=t=>{const e={BaseEffectError:class extends p9{_tag=t}};return e.BaseEffectError.prototype.name=t,e.BaseEffectError},rh=Symbol.for("effect/DateTime/TimeZone"),d9={...{[rh]:rh,[kt](){return this.toString()}},_tag:"Offset",[tt](){return Bt(this,Rt(`Offset:${this.offset}`))},[Z](t){return g9(t)&&t._tag==="Offset"&&this.offset===t.offset},toString(){return`TimeZone.Offset(${y9(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},g9=t=>Y(t,rh),b9=t=>{const e=Object.create(d9);return e.offset=t,e},y9=t=>{const e=Math.abs(t);let n=Math.floor(e/(3600*1e3)),r=Math.round(e%(3600*1e3)/(60*1e3));return r===60&&(n+=1,r=0),`${t<0?"-":"+"}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`},es=AF,S9=y3,sh=d(2,(t,e)=>t+e),w9=t=>t.trimEnd(),_9=t=>t.length,ci=t=>e=>e.repeat(t),A9=(t,e)=>n=>n.replaceAll(t,e),E9=wu,Zu=U5,kn=ai,Xb=he,Ge=At,hn=ee,He=ze,F9=ef,Ie=ge,C9=Eu,li=ti,re=J,k9=u9,zn=c9,v9=b9,Xu=(t,e)=>t.has(e)?R(t.get(e)):M(),ih="~effect/Graph";class I9 extends h9{}const oh={[ih]:ih,[Symbol.iterator](){return this.nodes[Symbol.iterator]()},[kt](){return this.toJSON()},[Z](t){if(T9(t)){if(this.nodes.size!==t.nodes.size||this.edges.size!==t.edges.size||this.type!==t.type)return!1;for(const[e,n]of this.nodes){if(!t.nodes.has(e))return!1;const r=t.nodes.get(e);if(!X(n,r))return!1}for(const[e,n]of this.edges){if(!t.edges.has(e))return!1;const r=t.edges.get(e);if(!X(n,r))return!1}return!0}return!1},[tt](){let t=Rt("Graph");t=t^Rt(this.type),t=t^Li(this.nodes.size),t=t^Li(this.edges.size);for(const[e,n]of this.nodes)t=t^j(e)+j(n);for(const[e,n]of this.edges)t=t^j(e)+j(n);return t},toJSON(){return{_id:"Graph",nodeCount:this.nodes.size,edgeCount:this.edges.size,type:this.type}},toString(){return Qt(this)},pipe(){return H(this,arguments)}},T9=t=>typeof t=="object"&&t!==null&&ih in t,O9=t=>{const e=Object.create(oh);if(e.type="directed",e.nodes=new Map,e.edges=new Map,e.adjacency=new Map,e.reverseAdjacency=new Map,e.nextNodeIndex=0,e.nextEdgeIndex=0,e.isAcyclic=R(!0),e.mutable=!1,t){const n=$9(e);return t(n),N9(n)}return e},$9=t=>{const e=new Map,n=new Map;for(const[s,i]of t.adjacency)e.set(s,[...i]);for(const[s,i]of t.reverseAdjacency)n.set(s,[...i]);const r=Object.create(oh);return r.type=t.type,r.nodes=new Map(t.nodes),r.edges=new Map(t.edges),r.adjacency=e,r.reverseAdjacency=n,r.nextNodeIndex=t.nextNodeIndex,r.nextEdgeIndex=t.nextEdgeIndex,r.isAcyclic=t.isAcyclic,r.mutable=!0,r},N9=t=>{const e=Object.create(oh);return e.type=t.type,e.nodes=new Map(t.nodes),e.edges=new Map(t.edges),e.adjacency=t.adjacency,e.reverseAdjacency=t.reverseAdjacency,e.nextNodeIndex=t.nextNodeIndex,e.nextEdgeIndex=t.nextEdgeIndex,e.isAcyclic=t.isAcyclic,e.mutable=!1,e},M9=(t,e)=>{const n=t.nextNodeIndex;return t.nodes.set(n,e),t.adjacency.set(n,[]),t.reverseAdjacency.set(n,[]),t.nextNodeIndex=t.nextNodeIndex+1,n},R9=t=>{vt(t.isAcyclic)&&t.isAcyclic.value===!0&&(t.isAcyclic=M())},B9=(t,e,n,r)=>{if(!t.nodes.has(e))throw new Error(`Source node ${e} does not exist`);if(!t.nodes.has(n))throw new Error(`Target node ${n} does not exist`);const s=t.nextEdgeIndex,i=new I9({source:e,target:n,data:r});t.edges.set(s,i);const a=Xu(t.adjacency,e);vt(a)&&a.value.push(s);const c=Xu(t.reverseAdjacency,n);if(vt(c)&&c.value.push(s),t.type==="undirected"){const l=Xu(t.adjacency,n);vt(l)&&l.value.push(s);const u=Xu(t.reverseAdjacency,e);vt(u)&&u.value.push(s)}return t.nextEdgeIndex=t.nextEdgeIndex+1,R9(t),s},P9=(t,e)=>{const{edgeLabel:n=u=>String(u),graphName:r="G",nodeLabel:s=u=>String(u)}=e??{},i=t.type==="directed",a=i?"digraph":"graph",c=i?"->":"--",l=[];l.push(`${a} ${r} {`);for(const[u,f]of t.nodes){const p=s(f).replace(/"/g,'\\"');l.push(`  "${u}" [label="${p}"];`)}for(const[,u]of t.edges){const f=n(u.data).replace(/"/g,'\\"');l.push(`  "${u.source}" ${c} "${u.target}" [label="${f}"];`)}return l.push("}"),l.join(`
`)};class be{path;actual;issue;_tag="Pointer";constructor(e,n,r){this.path=e,this.actual=n,this.issue=r}}class Qb{actual;message;_tag="Unexpected";constructor(e,n){this.actual=e,this.message=n}}class Bo{ast;message;_tag="Missing";actual=void 0;constructor(e,n){this.ast=e,this.message=n}}class Zt{ast;actual;issues;output;_tag="Composite";constructor(e,n,r,s){this.ast=e,this.actual=n,this.issues=r,this.output=s}}class ah{ast;actual;kind;issue;_tag="Refinement";constructor(e,n,r,s){this.ast=e,this.actual=n,this.kind=r,this.issue=s}}class uh{ast;actual;kind;issue;_tag="Transformation";constructor(e,n,r,s){this.ast=e,this.actual=n,this.kind=r,this.issue=s}}class fi{ast;actual;message;_tag="Type";constructor(e,n,r){this.ast=e,this.actual=n,this.message=r}}class ty{ast;actual;message;_tag="Forbidden";constructor(e,n,r){this.ast=e,this.actual=n,this.message=r}}const ey=Symbol.for("effect/Schema/ParseErrorTypeId");class D9 extends m9("ParseError"){[ey]=ey;get message(){return this.toString()}toString(){return tc.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[kt](){return this.toJSON()}}const j9=t=>new D9({issue:t}),Te=p3,ns=d(2,(t,e)=>Te(t)?M0(t,{onLeft:st,onRight:e}):re(t,e)),vn=d(2,(t,e)=>Te(t)?d3(t,e):Ie(t,e)),ch=d(2,(t,e)=>Te(t)?m3(t,e):C9(t,e)),ny=d(2,(t,e)=>Te(t)?M0(t,{onLeft:e,onRight:xt}):F9(t,e)),ry=(t,e)=>e===void 0||ir(e)?t:t===void 0?e:{...t,...e},L9=(t,e,n)=>{const r=Je(t);return(s,i)=>r(s,ry(n,i))},U9=(t,e,n)=>{const r=L9(t,e,n);return(s,i)=>fp(r(s,i),j9)},q9=(t,e)=>U9(ke(t.ast),!0,e),V9=lt(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),Je=(t,e)=>{const n=V9,r=n.get(t);if(r)return r;const s=W9(t),i=UC(t),a=vt(i)?(u,f)=>s(u,ry(f,i.value)):s,c=qC(t),l=vt(c)?(u,f)=>Qu(ny(a(u,f),c.value),t,u,f):a;return n.set(t,l),l},lh=t=>Sn(DC(t)),fh=t=>Sn(jC(t)),W9=(t,e)=>{switch(t._tag){case"Refinement":{const n=Je(t.from);return(r,s)=>{s=s??cl;const i=s?.errors==="all",a=ns(ny(n(r,s),c=>{const l=new ah(t,r,"From",c);return i&&WC(t)&&oy(c)?ae(t.filter(r,s,t),{onNone:()=>st(l),onSome:u=>st(new Zt(t,r,[l,new ah(t,r,"Predicate",u)]))}):st(l)}),c=>ae(t.filter(c,s,t),{onNone:()=>xt(c),onSome:l=>st(new ah(t,r,"Predicate",l))}));return Qu(a,t,r,s)}}case"Transformation":{const n=G9(t.transformation),r=Je(t.from),s=Je(t.to);return(i,a)=>Qu(ns(ch(r(i,a),c=>new uh(t,i,"Encoded",c)),c=>ns(ch(n(c,a??cl,t,i),l=>new uh(t,i,"Transformation",l)),l=>ch(s(l,a),u=>new uh(t,i,"Type",u)))),t,i,a)}case"Declaration":{const n=t.decodeUnknown(...t.typeParameters);return(r,s)=>Qu(n(r,s??cl,t),t,r,s)}case"Literal":return Pe(t,n=>n===t.literal);case"UniqueSymbol":return Pe(t,n=>n===t.symbol);case"UndefinedKeyword":return Pe(t,TF);case"NeverKeyword":return Pe(t,$F);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return xt;case"StringKeyword":return Pe(t,Mn);case"NumberKeyword":return Pe(t,ir);case"BooleanKeyword":return Pe(t,w0);case"BigIntKeyword":return Pe(t,Fa);case"SymbolKeyword":return Pe(t,_0);case"ObjectKeyword":return Pe(t,Rn);case"Enums":return Pe(t,n=>t.enums.some(([r,s])=>s===n));case"TemplateLiteral":{const n=pk(t);return Pe(t,r=>Mn(r)&&n.test(r))}case"TupleType":{const n=t.elements.map(u=>Je(u.type)),r=t.rest.map(u=>Je(u.type));let s=t.elements.filter(u=>!u.isOptional);t.rest.length>0&&(s=s.concat(t.rest.slice(1)));const i=s.length,a=t.elements.length>0?t.elements.map((u,f)=>f).join(" | "):"never",c=lh(t),l=fh(t);return(u,f)=>{if(!K0(u))return st(new fi(t,u));const p=f?.errors==="all",g=[];let b=0;const y=[],w=u.length;for(let C=w;C<=i-1;C++){const k=new be(C,u,new Bo(s[C-w]));if(p){g.push([b++,k]);continue}else return st(new Zt(t,u,k,y))}if(t.rest.length===0)for(let C=t.elements.length;C<=w-1;C++){const k=new be(C,u,new Qb(u[C],`is unexpected, expected: ${a}`));if(p){g.push([b++,k]);continue}else return st(new Zt(t,u,k,y))}let m=0,A;for(;m<n.length;m++)if(w<m+1){if(t.elements[m].isOptional)continue}else{const C=n[m],k=C(u[m],f);if(Te(k)){if(ce(k)){const N=new be(m,u,k.left);if(p){g.push([b++,N]);continue}else return st(new Zt(t,u,N,xn(y)))}y.push([b++,k.right])}else{const N=b++,o=m;A||(A=[]),A.push(({es:T,output:v})=>re(li(k),D=>{if(ce(D)){const $=new be(o,u,D.left);return p?(T.push([N,$]),He):st(new Zt(t,u,$,xn(v)))}return v.push([N,D.right]),He}))}}if($t(r)){const[C,...k]=r;for(;m<w-k.length;m++){const N=C(u[m],f);if(Te(N))if(ce(N)){const o=new be(m,u,N.left);if(p){g.push([b++,o]);continue}else return st(new Zt(t,u,o,xn(y)))}else y.push([b++,N.right]);else{const o=b++,T=m;A||(A=[]),A.push(({es:v,output:D})=>re(li(N),$=>{if(ce($)){const q=new be(T,u,$.left);return p?(v.push([o,q]),He):st(new Zt(t,u,q,xn(D)))}else return D.push([o,$.right]),He}))}}for(let N=0;N<k.length;N++)if(m+=N,!(w<m+1)){const o=k[N](u[m],f);if(Te(o)){if(ce(o)){const T=new be(m,u,o.left);if(p){g.push([b++,T]);continue}else return st(new Zt(t,u,T,xn(y)))}y.push([b++,o.right])}else{const T=b++,v=m;A||(A=[]),A.push(({es:D,output:$})=>re(li(o),q=>{if(ce(q)){const W=new be(v,u,q.left);return p?(D.push([T,W]),He):st(new Zt(t,u,W,xn($)))}return $.push([T,q.right]),He}))}}}const E=({es:C,output:k})=>le(C)?st(new Zt(t,u,xn(C),xn(k))):xt(xn(k));if(A&&A.length>0){const C=A;return hn(()=>{const k={es:to(g),output:to(y)};return re(kn(C,N=>N(k),{concurrency:c,batching:l,discard:!0}),()=>E(k))})}return E({output:y,es:g})}}case"TypeLiteral":{if(t.propertySignatures.length===0&&t.indexSignatures.length===0)return Pe(t,NF);const n=[],r={},s=[];for(const f of t.propertySignatures)n.push([Je(f.type),f]),r[f.name]=null,s.push(f.name);const i=t.indexSignatures.map(f=>[Je(f.parameter),Je(f.type),f.parameter]),a=jn.make(t.indexSignatures.map(f=>f.parameter).concat(s.map(f=>_0(f)?new HC(f):new GC(f)))),c=Je(a),l=lh(t),u=fh(t);return(f,p)=>{if(!RF(f))return st(new fi(t,f));const g=p?.errors==="all",b=[];let y=0;const w=p?.onExcessProperty==="error",m=p?.onExcessProperty==="preserve",A={};let E;if(w||m){E=Reflect.ownKeys(f);for(const o of E){const T=c(o,p);if(Te(T)&&ce(T))if(w){const v=new be(o,f,new Qb(f[o],`is unexpected, expected: ${String(a)}`));if(g){b.push([y++,v]);continue}else return st(new Zt(t,f,v,A))}else A[o]=f[o]}}let C;const k=p?.exact===!0;for(let o=0;o<n.length;o++){const T=n[o][1],v=T.name,D=Object.prototype.hasOwnProperty.call(f,v);if(!D){if(T.isOptional)continue;if(k){const W=new be(v,f,new Bo(T));if(g){b.push([y++,W]);continue}else return st(new Zt(t,f,W,A))}}const $=n[o][0],q=$(f[v],p);if(Te(q)){if(ce(q)){const W=new be(v,f,D?q.left:new Bo(T));if(g){b.push([y++,W]);continue}else return st(new Zt(t,f,W,A))}A[v]=q.right}else{const W=y++,jt=v;C||(C=[]),C.push(({es:pt,output:Tt})=>re(li(q),Ct=>{if(ce(Ct)){const wt=new be(jt,f,D?Ct.left:new Bo(T));return g?(pt.push([W,wt]),He):st(new Zt(t,f,wt,Tt))}return Tt[jt]=Ct.right,He}))}}for(let o=0;o<i.length;o++){const T=i[o],v=T[0],D=T[1],$=Ep(f,T[2]);for(const q of $){const W=v(q,p);if(Te(W)&&Bn(W)){const jt=D(f[q],p);if(Te(jt))if(ce(jt)){const pt=new be(q,f,jt.left);if(g){b.push([y++,pt]);continue}else return st(new Zt(t,f,pt,A))}else Object.prototype.hasOwnProperty.call(r,q)||(A[q]=jt.right);else{const pt=y++,Tt=q;C||(C=[]),C.push(({es:Ct,output:wt})=>re(li(jt),ye=>{if(ce(ye)){const tn=new be(Tt,f,ye.left);return g?(Ct.push([pt,tn]),He):st(new Zt(t,f,tn,wt))}else return Object.prototype.hasOwnProperty.call(r,q)||(wt[q]=ye.right),He}))}}}}const N=({es:o,output:T})=>{if(le(o))return st(new Zt(t,f,xn(o),T));if(p?.propertyOrder==="original"){const v=E||Reflect.ownKeys(f);for(const $ of s)v.indexOf($)===-1&&v.push($);const D={};for(const $ of v)Object.prototype.hasOwnProperty.call(T,$)&&(D[$]=T[$]);return xt(D)}return xt(T)};if(C&&C.length>0){const o=C;return hn(()=>{const T={es:to(b),output:Object.assign({},A)};return re(kn(o,v=>v(T),{concurrency:l,batching:u,discard:!0}),()=>N(T))})}return N({es:b,output:A})}}case"Union":{const n=z9(t.types),r=Reflect.ownKeys(n.keys),s=r.length,i=t.types.length,a=new Map;for(let u=0;u<i;u++)a.set(t.types[u],Je(t.types[u]));const c=lh(t)??1,l=fh(t);return(u,f)=>{const p=[];let g=0,b=[];if(s>0)if(A0(u))for(let m=0;m<s;m++){const A=r[m],E=n.keys[A].buckets;if(Object.prototype.hasOwnProperty.call(u,A)){const C=String(u[A]);if(Object.prototype.hasOwnProperty.call(E,C))b=b.concat(E[C]);else{const{candidates:k,literals:N}=n.keys[A],o=jn.make(N),T=k.length===i?new Pr([new de(A,o,!1,!0)],[]):jn.make(k);p.push([g++,new Zt(T,u,new be(A,u,new fi(o,u[A])))])}}else{const{candidates:C,literals:k}=n.keys[A],N=new de(A,jn.make(k),!1,!0),o=C.length===i?new Pr([N],[]):jn.make(C);p.push([g++,new Zt(o,u,new be(A,u,new Bo(N)))])}}else{const m=n.candidates.length===i?t:jn.make(n.candidates);p.push([g++,new fi(m,u)])}n.otherwise.length>0&&(b=b.concat(n.otherwise));let y;for(let m=0;m<b.length;m++){const A=b[m],E=a.get(A)(u,f);if(Te(E)&&(!y||y.length===0)){if(Bn(E))return E;p.push([g++,E.left])}else{const C=g++;y||(y=[]),y.push(k=>hn(()=>"finalResult"in k?He:re(li(E),N=>(Bn(N)?k.finalResult=N:k.es.push([C,N.left]),He))))}}const w=m=>le(m)?m.length===1&&m[0][1]._tag==="Type"?st(m[0][1]):st(new Zt(t,u,xn(m))):st(new fi(t,u));if(y&&y.length>0){const m=y;return hn(()=>{const A={es:to(p)};return re(kn(m,E=>E(A),{concurrency:c,batching:l,discard:!0}),()=>"finalResult"in A?A.finalResult:w(A.es))})}return w(p)}}case"Suspend":{const n=Fp(()=>Je(t.f()));return(r,s)=>n()(r,s)}}},Pe=(t,e)=>n=>e(n)?xt(n):st(new fi(t,n)),Po=(t,e)=>{switch(t._tag){case"Declaration":{const n=Yp(t);if(vt(n))return Po(n.value);break}case"TypeLiteral":{const n=[];for(let r=0;r<t.propertySignatures.length;r++){const s=t.propertySignatures[r],i=hm(s.type);Qp(i)&&!s.isOptional&&n.push([s.name,i])}return n}case"TupleType":{const n=[];for(let r=0;r<t.elements.length;r++){const s=t.elements[r],i=hm(s.type);Qp(i)&&!s.isOptional&&n.push([r,i])}return n}case"Refinement":return Po(t.from);case"Suspend":return Po(t.f());case"Transformation":return Po(t.from)}return[]},z9=(t,e)=>{const n={},r=[],s=[];for(let i=0;i<t.length;i++){const a=t[i],c=Po(a);if(c.length>0){s.push(a);for(let l=0;l<c.length;l++){const[u,f]=c[l],p=String(f.literal);n[u]=n[u]||{buckets:{},literals:[],candidates:[]};const g=n[u].buckets;if(Object.prototype.hasOwnProperty.call(g,p)){if(l<c.length-1)continue;g[p].push(a),n[u].literals.push(f),n[u].candidates.push(a)}else{g[p]=[a],n[u].literals.push(f),n[u].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:s}},Qu=(t,e,n,r)=>{if(r?.isEffectAllowed===!0||Te(t))return t;const s=new fb,i=k9(t,{scheduler:s});s.flush();const a=i.unsafePoll();if(a){if(q6(a))return xt(a.value);const c=a.cause;return J5(c)?st(c.error):st(new ty(e,n,Z5(c)))}return st(new ty(e,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},K9=([t],[e])=>t>e?1:t<e?-1:0;function xn(t){return t.sort(K9).map(e=>e[1])}const G9=(t,e)=>{switch(t._tag){case"FinalTransformation":return t.decode;case"ComposeTransformation":return xt;case"TypeLiteralTransformation":return n=>{let r=xt(n);for(const s of t.propertySignatureTransformations){const[i,a]=[s.from,s.to],c=s.decode;r=vn(r,u=>{const f=c(Object.prototype.hasOwnProperty.call(u,i)?R(u[i]):M());return delete u[i],vt(f)&&(u[a]=f.value),u})}return r}}},Ae=(t,e=[])=>({value:t,forest:e}),tc={formatIssue:t=>vn(hi(t),H9),formatIssueSync:t=>{const e=tc.formatIssue(t);return Te(e)?b3(e):zn(e)},formatError:t=>tc.formatIssue(t.issue),formatErrorSync:t=>tc.formatIssueSync(t.issue)},H9=t=>t.value+sy(`
`,t.forest),sy=(t,e)=>{let n="";const r=e.length;let s;for(let i=0;i<r;i++){s=e[i];const a=i===r-1;n+=t+(a?"└":"├")+"─ "+s.value,n+=sy(t+(r>1&&!a?"│  ":"   "),s.forest)}return n},J9=t=>{switch(t){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},Y9=t=>{switch(t){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},iy=t=>"ast"in t?R(t.ast):M(),hh=xt(void 0),Z9=t=>iy(t).pipe(ja(BC),ae({onNone:()=>hh,onSome:e=>{const n=e(t);return Mn(n)?xt({message:n,override:!1}):E9(n)?Ie(n,r=>({message:r,override:!1})):Mn(n.message)?xt({message:n.message,override:n.override}):Ie(n.message,r=>({message:r,override:n.override}))}})),xh=t=>e=>e._tag===t,oy=xh("Composite"),ay=xh("Refinement"),uy=xh("Transformation"),Do=t=>ns(Z9(t),e=>e!==void 0?!e.override&&(oy(t)||ay(t)&&t.kind==="From"||uy(t)&&t.kind!=="Transformation")?uy(t)||ay(t)?Do(t.issue):hh:xt(e.message):hh),cy=t=>iy(t).pipe(ja(LC),I3(e=>e(t)),Sn);function X9(t){return Jp(t).pipe(Pn(()=>Gp(t)),Pn(()=>Hp(t)),Pn(()=>Ka(t)),Ut(()=>`{ ${t.from} | filter }`))}function Q9(t){return t.message!==void 0?t.message:`Expected ${am(t.ast)?X9(t.ast):String(t.ast)}, actual ${Rr(t.actual)}`}const t8=t=>vn(Do(t),e=>e??cy(t)??Q9(t)),ec=t=>cy(t)??String(t.ast),e8=t=>t.message??"is forbidden",n8=t=>t.message??"is unexpected",r8=t=>{const e=PC(t.ast);if(vt(e)){const n=e.value();return Mn(n)?xt(n):n}return xt(t.message??"is missing")},hi=t=>{switch(t._tag){case"Type":return vn(t8(t),Ae);case"Forbidden":return xt(Ae(ec(t),[Ae(e8(t))]));case"Unexpected":return xt(Ae(n8(t)));case"Missing":return vn(r8(t),Ae);case"Transformation":return ns(Do(t),e=>e!==void 0?xt(Ae(e)):vn(hi(t.issue),n=>Ae(ec(t),[Ae(J9(t.kind),[n])])));case"Refinement":return ns(Do(t),e=>e!==void 0?xt(Ae(e)):vn(hi(t.issue),n=>Ae(ec(t),[Ae(Y9(t.kind),[n])])));case"Pointer":return vn(hi(t.issue),e=>Ae(oC(t.path),[e]));case"Composite":return ns(Do(t),e=>{if(e!==void 0)return xt(Ae(e));const n=ec(t);return Cp(t.issues)?vn(kn(t.issues,hi),r=>Ae(n,r)):vn(hi(t.issues),r=>Ae(n,[r]))})}},ly=d(t=>Rn(t[0]),(t,...e)=>{const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}),s8=d(t=>Rn(t[0]),(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n}),nc=Symbol.for("effect/Schema");function xi(t){return class{[nc]=fy;static ast=t;static annotations(n){return xi(jo(this.ast,n))}static pipe(){return H(this,arguments)}static toString(){return String(t)}static Type;static Encoded;static Context;static[nc]=fy}}const fy={_A:t=>t,_I:t=>t,_R:t=>t},hy={schemaId:$C,message:Np,missingMessage:rl,identifier:sl,title:no,description:Mp,examples:Rp,default:Bp,documentation:NC,jsonSchema:Pp,arbitrary:Dp,pretty:jp,equivalence:Lp,concurrency:Up,batching:qp,parseIssueTitle:Vp,parseOptions:Wp,decodingFallback:zp},i8=t=>{if(!t)return{};const e={...t};for(const n in hy)if(n in t){const r=hy[n];e[r]=t[n],delete e[n]}return e},jo=(t,e)=>ll(t,i8(e)),xy=t=>Y(t,nc)&&Rn(t[nc]);class o8 extends xi(tm){}const a8=t=>jn.make(t.map(e=>e.ast));function py(t,e=a8(t)){return class extends xi(e){static annotations(r){return py(this.members,jo(this.ast,r))}static members=[...t]}}function u8(...t){return im(t)?py(t):$t(t)?t[0]:o8}const c8=(t,e)=>new ol(t.map(n=>xy(n)?new Ha(n.ast,!1):n.ast),e.map(n=>xy(n)?new Ga(n.ast):n.ast),!0);function my(t,e,n=c8(t,e)){return class extends xi(n){static annotations(s){return my(this.elements,this.rest,jo(this.ast,s))}static elements=[...t];static rest=[...e]}}function dy(t,e){return class extends my([t],[t],e){static annotations(r){return dy(this.value,jo(this.ast,r))}static value=t}}const l8=t=>dy(t),f8=Symbol.for("effect/PropertySignature"),gy=t=>Y(t,f8),h8=fm([rl]),x8=(t,e)=>{const n=Reflect.ownKeys(t),r=[];if(n.length>0){const i=[],a=[],c=[];for(let l=0;l<n.length;l++){const u=n[l],f=t[u];if(gy(f)){const p=f.ast;switch(p._tag){case"PropertySignatureDeclaration":{const g=p.type,b=p.isOptional,y=p.annotations;i.push(new de(u,g,b,!0,h8(p))),a.push(new de(u,ke(g),b,!0,y)),r.push(new de(u,g,b,!0,y));break}case"PropertySignatureTransformation":{const g=p.from.fromKey??u;i.push(new de(g,p.from.type,p.from.isOptional,!0,p.from.annotations)),a.push(new de(u,p.to.type,p.to.isOptional,!0,p.to.annotations)),c.push(new ck(g,u,p.decode,p.encode));break}}}else i.push(new de(u,f.ast,!1,!0)),a.push(new de(u,ke(f.ast),!1,!0)),r.push(new de(u,f.ast,!1,!0))}if($t(c)){const l=[],u=[];for(const f of e){const{indexSignatures:p,propertySignatures:g}=lm(f.key.ast,f.value.ast);g.forEach(b=>{i.push(b),a.push(new de(b.name,ke(b.type),b.isOptional,b.isReadonly,b.annotations))}),p.forEach(b=>{l.push(b),u.push(new Ja(b.parameter,ke(b.type),b.isReadonly))})}return new uk(new Pr(i,l,{[il]:"Struct (Encoded side)"}),new Pr(a,u,{[il]:"Struct (Type side)"}),new lk(c))}}const s=[];for(const i of e){const{indexSignatures:a,propertySignatures:c}=lm(i.key.ast,i.value.ast);c.forEach(l=>r.push(l)),a.forEach(l=>s.push(l))}return new Pr(r,s)},p8=(t,e)=>{const n=Reflect.ownKeys(t);for(const r of n){const s=t[r];if(e[r]===void 0&&gy(s)){const i=s.ast,a=i._tag==="PropertySignatureDeclaration"?i.defaultValue:i.to.defaultValue;a!==void 0&&(e[r]=a())}}return e};function by(t,e,n=x8(t,e)){return class extends xi(n){static annotations(s){return by(this.fields,this.records,jo(this.ast,s))}static fields={...t};static records=[...e];static make=(s,i)=>{const a=p8(t,{...s});return d8(i)?a:q9(this)(a)};static pick(...s){return pi(ly(t,...s))}static omit(...s){return pi(s8(t,...s))}}}function pi(t,...e){return by(t,e)}const m8=t=>xi(new ul(()=>t().ast));function d8(t){return w0(t)?t:t?.disableValidation??!1}const yy=t=>{const[e,n,...r]=t;return n===void 0?h(e,B(Ce)):h(r,Nr(Qi(e,n),(s,i)=>qa(s,i,(a,c)=>ur(a,c))))},Sy=t=>le(t)?yy(t):[];Sy.nonEmpty=yy;const wy=t=>le(t)?_y(t):[],_y=([t,...e])=>le(e)?h(g8([t,...e]),Sy.nonEmpty):h(t,B(U(R,Ce)));wy.nonEmpty=_y;const g8=t=>{const e=h(t,B(gp),Y0(yt),b8);return h(t,B(r=>[...B(r,R),...e([...r])]))},b8=t=>e=>t===e.length?[]:Dn(M(),t-e.length),Ay=Object.assign(ur,{flip:t=>e=>ur(t,e)}),Ey=Object.assign(wn,{flip:t=>e=>wn(t,e)}),y8=Object.assign(vs,{flip:t=>e=>vs(t,e)}),S8=Object.assign(Yi,{flip:t=>e=>Yi(t,e)}),Fy=t=>[Xi(t),G0(t)],w8=([t,...e])=>[t,e];function _8(t,e){return n=>{const[r,s]=w8(n);return[t(r),...h(s,B(e))]}}function A8(t,e){return n=>{const[r,s]=Fy(n);return h(s,B(t),ur(e(r)))}}const E8=t=>Y0(yt)([0,...h(t,B(e=>gp(e)))]),F8=t=>e=>n=>t(n)(e),mi=t=>()=>t,Cy=(t,e)=>{const n=BigInt(e);let r=t/n;const s=[Number(t%n)];for(;r>0;)s.unshift(Number(r%n)),r=r/n;return s},ky=(t,e)=>{const n=BigInt(e);let r=0n,s=0n;for(const i of H0(t))s+=BigInt(i)*n**r++;return s},rc=(t,e)=>[Math.floor(t/e),t%e],ph=t=>rc(t,2),C8=t=>t>0,k8=t=>t!==0,v8=t=>t===0,I8=t=>t%2===0,T8=t=>t%2!==0,O8=t=>t<0,$8=t=>e=>t===e,vy=t=>{const[e,n]=ph(t);return[e+n,e]},Iy=t=>{const[e,n]=ph(t);return[e,e+n]};var N8=Object.freeze({__proto__:null,Equivalence:$p,Order:yt,between:_C,clamp:AC,decrement:nl,divide:dC,floorMod:rc,floorMod2:ph,fromRadix:ky,greaterThan:SC,greaterThanOrEqualTo:wC,halfToFirst:vy,halfToSecond:Iy,increment:el,isEqual:$8,isEven:I8,isNegative:O8,isNonZero:k8,isNumber:hC,isOdd:T8,isPositive:C8,isZero:v8,lessThan:bC,lessThanOrEqualTo:yC,max:FC,min:EC,multiply:Op,multiplyAll:mC,negate:xC,nextPow2:vC,parse:IC,remainder:kC,round:TC,sign:CC,subtract:Tp,sum:tl,sumAll:pC,toRadix:Cy,unsafeDivide:gC});const mh=t=>(e,n)=>P0(t)(e,n)&&!Pa(t)(e,n);mh.curried=t=>e=>n=>P0(t)(n,e)&&!Pa(t)(n,e);const Lo=(t,e)=>n=>[t(n),e(n)],rs=(t,e)=>[t,e];rs.withFirst=Object.assign(t=>e=>[t,e],{removeReadonly:t=>e=>[t,e]});const M8=t=>e=>[e,t];rs.withSecond=M8;const pr=t=>[t,t];pr.mapFirst=t=>e=>h(e,pr,L0(t)),pr.mapSecond=t=>e=>h(e,pr,U0(t));const R8=([t,e])=>e(t),dh=t=>h(t,P3(OF)),In=t=>(...e)=>{const n={};for(const r of e)n[r]=t;return n};var gh={},sc={},ic={},oc={},Ty;function bh(){if(Ty)return oc;Ty=1,Object.defineProperty(oc,"__esModule",{value:!0});const t="(?:(?:\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]|(?:\\x1b\\x5d|\\x9d)[\\S\\s]*?(?:\\x1b\\x5c|[\\x07\\x9c])|(?:\\x1b[\\x50\\x58\\x5e\\x5f]|[\\x90\\x98\\x9e\\x9f])[\\S\\s]*?(?:\\x1b\\x5c|\\x9c)|\\x1b[\\x20-\\x2f]*[\\x30-\\x7e])";function e({global:n=!0}={}){return new RegExp(t,n?"g":void 0)}return oc.default=e,oc}var Oy;function yh(){if(Oy)return ic;Oy=1,Object.defineProperty(ic,"__esModule",{value:!0});const e=(0,bh().default)();function n(r){return typeof r=="string"?r.replace(e,""):String(r)}return ic.default=n,ic}var ac={},$y;function Sh(){if($y)return ac;$y=1,Object.defineProperty(ac,"__esModule",{value:!0});function t(e){return e<880?(e<=159?e<=31||e>=127:e>=768||e===173)?0:1:e<2816?(e<1425?e>=1155&&e<=1161:e<1552?e<=1474&&e!==1470&&e!==1472||e>=1476&&e<=1479&&e!==1478:e<1774?e<=1564&&e!==1563||e>=1611&&e<=1631||e===1648||e>=1750&&e<=1756||e>=1759&&e<=1764||e>=1767&&e!==1769:e<1867?e===1809||e>=1840:e<2070?e>=1958&&e<=1968||e>=2027&&e<=2035||e===2045:e<2094?e<=2083&&e!==2074||e>=2085&&e!==2088:e<2307?e>=2137&&e<=2139||e>=2199&&e<=2207||e>=2250&&e!==2274:e<2404?e>=2362&&e<=2364&&e!==2363||e>=2369&&e<=2376||e===2381||e>=2385&&e<=2391||e>=2402:e<2561?e===2433||e===2492||e>=2497&&e<=2500||e===2509||e>=2530&&e<=2531||e===2558:e<2689?e<=2562||e===2620||e>=2625&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e===2641||e>=2672&&e<=2673||e===2677:e<=2690||e===2748||e>=2753&&e<=2760&&e!==2758||e===2765||e>=2786&&e<=2787||e>=2810)?0:1:e<4256?(e<2916?e===2817||e===2876||e>=2879&&e<=2884&&e!==2880||e===2893||e>=2901&&e<=2902||e>=2914:e<3072?e===2946||e===3008||e===3021:e<3172?e===3072||e===3076||e===3132||e>=3134&&e<=3136||e>=3142&&e<=3149&&e!==3145||e>=3157&&e<=3158||e>=3170:e<3328?e===3201||e===3260||e===3263||e===3270||e>=3276&&e<=3277||e>=3298&&e<=3299:e<3428?e<=3329||e>=3387&&e<=3388||e>=3393&&e<=3396||e===3405||e>=3426:e<3543?e===3457||e===3530||e>=3538&&e!==3541:e<3663?e===3633||e>=3636&&e<=3642||e>=3655:e<3864?e===3761||e>=3764&&e<=3772||e>=3784&&e<=3790:e<4141?e<=3865||e===3893||e===3895||e===3897||e>=3953&&e<=3975&&e!==3967&&e!==3973||e>=3981&&e<=4028&&e!==3992||e===4038:e<=4154&&e!==4145&&e!==4152||e>=4157&&e<=4158||e>=4184&&e<=4185||e>=4190&&e<=4192||e>=4209&&e<=4212||e===4226||e>=4229&&e<=4230||e===4237||e===4253)?0:1:e<6832?e<5906?e<=4448?e>=4447?0:e>=4352?2:1:e>=4957&&e<=4959?0:1:(e<6068?e<=5908||e>=5938&&e<=5939||e>=5970&&e<=5971||e>=6002&&e<=6003:e<6155?e<=6077&&e!==6070||e===6086||e>=6089&&e<=6099||e===6109:e<6432?e<=6159||e>=6277&&e<=6278||e===6313:e<6460?e<=6434||e>=6439&&e<=6440||e===6450||e>=6457:e<6742?e>=6679&&e<=6680||e===6683:e<=6750&&e!==6743||e===6752||e===6754||e>=6757&&e<=6764||e>=6771&&e<=6780||e===6783)?0:1:e<8203?(e<6912?e<=6862:e<7040?e<=6915||e>=6964&&e<=6970&&e!==6965||e===6972||e===6978||e>=7019&&e<=7027:e<7086?e<=7041||e>=7074&&e<=7077||e>=7080&&e!==7082:e<7154?e>=7142&&e<=7145&&e!==7143||e>=7149&&e!==7150:e<7376?e>=7212&&e<=7219||e>=7222&&e<=7223:e<7418?e<=7392&&e!==7379||e>=7394&&e<=7400||e===7405||e===7412||e>=7416:e>=7616&&e<=7679)?0:1:e<11776?e<8986?e<=8432&&(e<=8207||e>=8234&&e<=8238||e>=8288&&e<=8303||e>=8400)?0:1:e<9748?(e<9204?e<=8987||e>=9001&&e<=9002||e>=9193&&e<=9196||e===9200||e===9203:e>=9725&&e<=9726)?2:1:e<9984?(e<=9925?e<=9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e>=9898&&e<=9899||e>=9917&&e<=9918||e>=9924:e===9934||e===9940||e===9962||e>=9970&&e<=9973&&e!==9972||e===9978||e===9981)?2:1:e<10176?(e<10067?e===9989||e>=9994&&e<=9995||e===10024||e===10060||e===10062:e<=10071&&e!==10070||e>=10133&&e<=10135||e===10160||e===10175)?2:1:e<11503?e>=11035&&(e<=11036||e===11088||e===11093)?2:1:e<=11505||e===11647||e>=11744?0:1:e<43392?e<12272?e>=11904&&(e<=12019&&e!==11930||e>=12032&&e<=12245)?2:1:e<12544?e<=12350?e>=12330&&e<=12333?0:2:e>=12353&&e<=12438||e>=12443?2:e>=12441?0:1:e<42607?e<=12773?e===12644?0:e>=12549&&e!==12592&&e!==12687?2:1:(e<12880?e>=12783&&e<=12871&&e!==12831:e<=42124||e<=42182&&e>=42128)?2:1:e<43204?(e<43008?e<=42621&&e!==42611||e>=42654&&e<=42655||e>=42736&&e<=42737:e===43010||e===43014||e===43019||e>=43045&&e<=43046||e===43052)?0:1:e<=43345?e<=43205||e>=43232&&e<=43249||e===43263||e>=43302&&e<=43309||e>=43335?0:1:e>=43360&&e<=43388?2:1:e<65536?e<44032?(e<43561?e<=43394||e===43443||e>=43446&&e<=43449||e>=43452&&e<=43453||e===43493:e<43696?e<=43566||e>=43569&&e<=43570||e>=43573&&e<=43574||e===43587||e===43596||e===43644:e<43714?e<=43700&&e!==43697||e>=43703&&e<=43704||e>=43710&&e!==43712:e<43968?e>=43756&&e<=43757||e===43766:e===44005||e===44008||e===44013)?0:1:e<65024?e<=64217?e<=55203||e>=63744&&e<=64109||e>=64112?2:1:e===64286?0:1:e<65132?e<65072?e<=65039||e>=65056?0:e<=65049?2:1:e<=65126&&e!==65107||e>=65128?2:1:e<65281?e===65279?0:1:e<=65510?e<=65376||e>=65504?2:e===65440?0:1:e>=65520&&e<=65528?0:1:e<70400?(e<68097?e===66045||e===66272||e>=66422&&e<=66426:e<68325?e<=68102&&e!==68100||e>=68108&&e<=68111||e>=68152&&e<=68154||e===68159:e<68904?e<=68326||e>=68900:e<69457?e>=68969&&e<=68973||e>=69291&&e<=69292||e>=69372&&e<=69375||e>=69446:e<69759?e>=69506&&e<=69509||e===69633||e>=69688&&e<=69702||e===69744||e>=69747&&e<=69748:e<69888?e<=69761||e>=69811&&e<=69814||e>=69817&&e<=69818||e===69826:e<70016?e<=69890||e>=69927&&e<=69940&&e!==69932||e===70003:e<70191?e<=70017||e>=70070&&e<=70078||e>=70089&&e<=70092||e===70095:e<70272?e<=70193||e>=70196&&e<=70199&&e!==70197||e===70206||e===70209:e===70367||e>=70371&&e<=70378)?0:1:e<92880?(e<=70626?e<70517?e<=70401||e>=70459&&e<=70460||e===70464||e>=70502&&e<=70508||e>=70512:e>=70587&&(e<=70592||e===70606||e===70608||e===70610||e>=70625):e<70852?e<=70750?e>=70712&&(e<=70719||e>=70722&&e<=70726&&e!==70725||e===70750):e>=70835&&(e<=70842&&e!==70841||e>=70847&&e!==70849):e<71233?e<71134?e>=71090&&(e<=71093||e>=71100&&e<=71104&&e!==71102||e>=71132):e>=71219&&(e<=71226||e>=71229&&e!==71230):e<71468?e<71352?e>=71339&&(e<=71341&&e!==71340||e>=71344&&e!==71350):e>=71453&&(e<=71455&&e!==71454||e>=71458&&e!==71462):e<72148?e<=71738?e>=71727&&e!==71736:e>=71995&&(e<=71998&&e!==71997||e===72003):e<72193?e<=72151||e>=72154&&e<=72155||e===72160:e<72273?e<=72202||e>=72243&&e<=72248||e>=72251&&e<=72254||e===72263:e<72850?e<=72345?e<=72278||e>=72281&&e<=72283||e>=72330&&e!==72343:e>=72752&&e<=72767&&e!==72759&&e!==72766:e<72887?e<=72871||e>=72874&&e<=72880||e>=72882&&e!==72884:e<73032?e>=73009&&e<=73014||e>=73018&&e<=73021&&e!==73019||e>=73023&&e!==73030:e<73472?e<=73460&&e>=73104&&(e<=73105||e===73109||e===73111||e>=73459):e<=73562?e<=73473||e>=73526&&e<=73530||e===73536||e===73538||e===73562:e<=78933?e===78912||e>=78919:e>=90398&&e<=90409||e>=90413&&e<=90415)?0:1:e<126976?e<94208?e<94099?e>=92912&&e<=92916||e>=92976&&e<=92982||e===94031||e>=94095?0:1:e>=94176&&e<=94193?e<=94179||e>=94192?2:e===94180?0:1:1:e<111356?(e<=101640?e<=100343||e>=100352&&e<=101589||e>=101631:e<=110882?e>=110576&&e!==110580&&e!==110588&&e!==110591:e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960)?2:1:e<119365?(e<119143?e>=113821&&e<=113827&&e!==113823||e>=118528&&e<=118573||e>=118576&&e<=118598:e<=119145||e>=119155&&e<=119170||e>=119173&&e<=119179||e>=119210&&e<=119213||e>=119362)?0:1:e<121344?e<=119670&&(e>=119552&&e<=119638||e>=119648)?2:1:(e<122880?e<=121398||e>=121403&&e<=121452||e===121461||e===121476||e>=121499&&e<=121519&&e!==121504:e<122923?e<=122904&&e!==122887||e>=122907&&e<=122913||e>=122915&&e!==122917:e<=125258&&(e===123023||e>=123184&&e<=123190||e===123566||e>=123628&&e<=123631||e>=124140&&e<=124143||e>=124398&&e<=124399||e>=125136&&e<=125142||e>=125252))?0:1:e<=205743?(e<127488?e===126980||e===127183||e===127374||e>=127377&&e<=127386:e<127744?e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e>=127568&&e<=127569||e>=127584&&e<=127589:e<128592?e<127992?e<=127776||e>=127789&&e<=127891&&e!==127798&&e!==127869||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988:e<=128252&&e!==128063&&e!==128065||e>=128255&&e<=128317||e>=128331&&e<=128359&&e!==128335||e===128378||e>=128405&&e<=128406||e===128420||e>=128507:e<128765?e>=128640&&(e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e>=128747&&e<=128748||e>=128756):e<129536?e>=128992&&e<=129003||e===129008||e>=129292&&e!==129339&&e!==129350:e<=129784?e>=129648&&(e<=129734?e<=129660||e>=129664&&e<=129673||e>=129679:e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776):e>=131072&&(e<=183969?e<=173791||e>=173824&&e<=177977||e>=177984&&e<=178205||e>=178208:e>=183984&&e<=191456||e>=191472&&e<=192093||e>=194560&&e<=195101||e>=196608&&e<=201546||e>=201552))?2:1:e>=917504&&e<=921599?0:1}return ac.default=t,ac}var wh={},Ny;function uc(){return Ny||(Ny=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldBreak=t.isGraphemeBase=t.graphemeBreakProperty=t.InCBProps=t.Emoji_Modifier=t.GBProps=void 0;const e=0,n=1,r=2,s=3,i=4,a=5,c=6,l=7,u=8,f=9,p=10,g=11,b=12,y=13,w=14;t.GBProps={None:e,CR:n,LF:r,Control:s,Extend:i,ZWJ:a,RI:c,Prepend:l,SpacingMark:u,L:f,V:p,T:g,LV:b,LVT:y,ExtendedPictographic:w};const m=16,A=32,E=64;t.Emoji_Modifier=128,t.InCBProps={Extend:m,Linker:A,Consonant:E};function C(o){return o<127?o>31?e:o===13?n:o===10?r:s:o<880?o<=174?o<=159||o===173?s:o===169||o===174?w:e:o>=768?i|m:e:o<4352?o<1536?(o<1425?o>=1155&&o<=1161:o<=1469||o>=1471&&o<=1474&&o!==1472||o>=1476&&o<=1479&&o!==1478)?i|m:e:o<1792?o<1750?o<=1541?l:o===1564?s:o>=1552&&o<=1562||o>=1611&&o<=1631||o===1648?i|m:e:o===1757?l:o<=1764&&o!==1758||o>=1767&&o<=1773&&o!==1769?i|m:e:o<2048?o<=1866?o>=1840||o===1809?i|m:o===1807?l:e:(o<2027?o>=1958&&o<=1968:o<=2035||o===2045)?i|m:e:o<2307?o<=2139?o>=2070&&o<=2083&&o!==2074||o>=2085&&o<=2093&&o!==2088||o>=2137?i|m:e:o<2250?o>=2192&&o<=2193?l:o>=2199&&o<=2207?i|m:e:o===2274?l:i|m:o<2433?o<2366?o===2307||o===2363?u:o<2362?o>=2325?E:e:o<=2364?i|m:e:o<=2383?o>=2369&&o<=2376?i|m:o===2381?i|A:u:o<=2399?o<2392?o>=2385?i|m:e:E:o>=2402&&o<=2403?i|m:o>=2424&&o<=2431?E:e:o<2561?o<=2489?o<2453?o<=2435?o===2433?i|m:u:e:o<=2480&&o!==2473||o>=2486||o===2482?E:e:o<=2508?o<=2500?o<2494?o===2492?i|m:e:o<=2496&&o>=2495?u:i|m:o>=2507||o>=2503&&o<=2504?u:e:o<2530?o<2524?o===2509?i|A:o===2519?i|m:e:o<=2525||o===2527?E:e:o<=2545?o<=2531?i|m:o>=2544?E:e:o===2558?i|m:e:o<2689?o<2625?o===2563||o>=2622?u:o<=2562||o===2620?i|m:e:(o<=2637?o<=2626||o>=2631&&o<=2632||o>=2635:o===2641||o>=2672&&o<=2673||o===2677)?i|m:e:o<2816?o<=2745?o<2709?o<=2690?i|m:o===2691?u:e:o!==2729&&o!==2737&&o!==2740?E:e:o<=2760?o>=2750&&o<=2752?u:o>=2753&&o!==2758||o===2748?i|m:e:o<2786?o<=2764?o!==2762?u:e:o===2765?i|A:e:o>=2810||o<=2787?i|m:o===2809?E:e:o<2944?o<=2873?o<2837?o>=2818&&o<=2819?u:o===2817?i|m:e:o<=2864&&o!==2857||o>=2866&&o!==2868?E:e:o<=2892?o<=2884?o===2880?u:o>=2878||o===2876?i|m:e:o>=2887&&o<=2888||o>=2891?u:e:o<2908?o<2901?o===2893?i|A:e:o<=2903?i|m:e:o<2914?o<=2909||o===2911?E:e:o<=2915?i|m:o===2929?E:e:o<3072?o<3009?o===3007?u:o===2946||o>=3006?i|m:e:o<=3020?o<=3010||o>=3014&&o<=3016||o>=3018?u:e:o===3021||o===3031?i|m:e:o<3172?o<3134?o<=3076?o>=3073&&o<=3075?u:i|m:o>=3093&&o<=3129&&o!==3113?E:o===3132?i|m:e:o<=3148?o<=3140&&o>=3137?u:o<=3136||o>=3142&&o!==3145?i|m:e:o<=3162?o===3149?i|A:o>=3157&&o<=3158?i|m:o>=3160?E:e:o>=3170?i|m:e:o<3328?o<=3268?o<3260?o>=3202&&o<=3203?u:o===3201?i|m:e:o<3265?o===3262?u:o!==3261?i|m:e:o===3266?i|m:u:o<=3299?o>=3270&&o<=3272||o>=3274&&o<=3277||o>=3285&&o<=3286||o>=3298?i|m:e:o===3315?u:e:o<3428?o<=3396?o<3387?o>=3349?E:o<=3329?i|m:o<=3331?u:e:o>=3391&&o<=3392?u:o!==3389?i|m:e:o<=3404?o>=3398&&o!==3401?u:e:o===3405?i|A:o===3415||o>=3426?i|m:o===3406?l:e:o<3572?o<=3540?o>=3458&&o<=3459||o>=3536&&o<=3537?u:o===3457||o===3530||o>=3535?i|m:e:o===3542||o===3551?i|m:o>=3544&&o<=3550||o>=3570?u:e:o<3864?o<=3662?o===3635?u:o>=3633&&o<=3642&&o!==3634||o>=3655?i|m:e:o===3763?u:o>=3761&&o<=3772&&o!==3762||o>=3784&&o<=3790?i|m:e:o<4141?o<3953?o<=3897?o<=3865||o>=3893&&o!==3894&&o!==3896?i|m:e:o<=3903&&o>=3902?u:e:o<=3975?o===3967?u:o!==3973?i|m:e:o>=3981&&o<=4028&&o!==3992||o===4038?i|m:e:o<=4158?o===4145||o>=4155&&o<=4156?u:o!==4152?i|m:e:o<4229?o>=4182&&o<=4183||o===4228?u:o>=4184&&o<=4185||o>=4190&&o<=4192||o>=4209&&o<=4212||o===4226?i|m:e:o<=4230||o===4237||o===4253?i|m:e:o<7424?o<4608?o<4448?f:o<4520?p:g:o<6004?(o<=5909?o>=4957&&o<=4959||o>=5906:o>=5938&&o<=5940||o>=5970&&o<=5971||o>=6002)?i|m:e:o<6155?o>=6068&&o<=6099?o===6070||o>=6078&&o<=6085||o>=6087&&o<=6088?u:i|m:o===6109?i|m:e:o<6432?o===6158?s:o<=6159||o>=6277&&o<=6278||o===6313?i|m:e:o<6741?o<=6459?o<=6443?o<=6434||o>=6439&&o<=6440?i|m:u:o>=6448?o>=6457||o===6450?i|m:u:e:o>=6679&&o<=6683?o>=6681&&o<=6682?u:i|m:e:o<6912?o<6757?o<=6750?o>=6744||o===6742?i|m:u:o===6752||o===6754?i|m:e:o<=6780?o<=6764||o>=6771?i|m:u:o===6783||o>=6832&&o<=6862?i|m:e:o<7040?o<6964?o<=6915?i|m:o===6916?u:e:o<=6980?o<=6973||o>=6978?i|m:u:o>=7019&&o<=7027?i|m:e:o<7142?o<7074?o<=7041?i|m:o===7042||o===7073?u:e:o<=7085?o<=7077||o>=7080?i|m:u:e:o<7376?o<=7155?o>=7146&&o<=7148||o===7143||o===7150?u:i|m:o>=7204&&o<=7223?o<=7211||o>=7220&&o<=7221?u:i|m:e:o===7393||o===7415?u:o<=7378||o>=7380&&o<=7400||o===7405||o===7412||o>=7416&&o<=7417?i|m:e:o<8448?o<8203?o>=7616&&o<=7679?i|m:e:o===8205?a|m:o<=8303?o===8204?i:o<=8207||o>=8232&&o<=8238||o>=8288?s:o===8252||o===8265?w:e:o>=8400&&o<=8432?i|m:e:o<11264?(o<8986?o<8596?o===8482||o===8505:o<=8618&&(o<=8601||o>=8617):o<9211?o<=8987||o===9e3||o===9096||o===9167||o>=9193&&o<=9203||o>=9208:o<9728?o<9642?o===9410:o<=9726&&(o<=9643||o===9654||o===9664||o>=9723):o<10176?o<=10006?o<=9861&&o!==9734&&o!==9747||o>=9872&&o<=9989||o>=9992&&o!==10003&&o!==10005:o<=10036?o===10013||o===10017||o===10024||o>=10035:o<=10071?o===10052||o===10055||o===10060||o===10062||o>=10067&&o!==10070:o>=10083&&o<=10087||o>=10133&&o<=10135||o===10145||o===10160||o===10175:o>=10548&&o<=10549||o>=11013&&(o<=11015||o>=11035&&o<=11036||o===11088||o===11093))?w:e:o<44032?o<12330?o<=11775&&o>=11503&&(o<=11505||o===11647||o>=11744)?i|m:e:o<13056?o<=12442?o<=12335||o>=12441?i|m:o===12336||o===12349?w:e:o===12951||o===12953?w:e:o<43008?o>=42607&&o<=42737&&(o<=42621&&o!==42611||o>=42654&&o<=42655||o>=42736)?i|m:e:o<43136?o<43043?o===43010||o===43014||o===43019?i|m:e:o<=43047?o>=43045&&o<=43046?i|m:u:o===43052?i|m:e:o<43264?o<43204?o<=43137||o>=43188?u:e:o<=43205||o>=43232&&o<=43249||o===43263?i|m:e:o<43392?o<43335?o>=43302&&o<=43309?i|m:e:o<=43347?o===43346?u:i|m:o>=43360&&o<=43388?f:e:o<43561?o<43444?o<=43394||o===43443?i|m:o===43395?u:e:o<43456?o<=43445||o>=43450&&o<=43451||o>=43454?u:i|m:o===43456||o===43493?i|m:e:o<43648?o<=43574?o<=43566||o>=43569&&o<=43570||o>=43573?i|m:u:o===43587||o===43596||o===43644?i|m:o===43597?u:e:o<43776?o<43755?o>=43696&&o<=43700&&o!==43697||o>=43703&&o<=43704||o>=43710&&o<=43713&&o!==43712?i|m:e:o<=43759?o>=43756&&o<=43757?i|m:u:o===43765?u:o===43766?i|m:e:o>=44003?o<=44010?o===44005||o===44008?i|m:u:o===44012?u:o===44013?i|m:e:e:o<65536?o<=55203?(o-44032)%28?y:b:o<=55291?o>=55243?g:o>=55216&&o<=55238?p:e:o<=65071?(o<65024?o===64286:o<=65039||o>=65056)?i|m:e:o===65279||o>=65520&&o<=65531?s:o>=65438&&o<=65439?i|m:e:o<70784?o<69632?(o<68097?o<=66426&&(o===66045||o===66272||o>=66422):o<68325?o<=68102&&o!==68100||o>=68108&&o<=68111||o>=68152&&o<=68154||o===68159:o<69372?o<=68326||o>=68900&&o<=68903||o>=68969&&o<=68973||o>=69291&&o<=69292:o<=69375||o>=69446&&o<=69456||o>=69506&&o<=69509)?i|m:e:o<69762?o<=69634?o===69633?i|m:u:(o<69747?o>=69688&&o<=69702||o===69744:o<=69748||o>=69759)?i|m:e:o<69888?o<=69818?o<69808?o===69762?u:e:o<=69810||o>=69815&&o<=69816?u:i|m:o===69821||o===69837?l:o===69826?i|m:e:o<70016?o<=69940?o===69932?u:o<=69890||o>=69927?i|m:e:o<=69958?o>=69957?u:e:o===70003?i|m:e:o<70188?o<=70080?o<70070?o<=70017?i|m:o===70018||o>=70067?u:e:o===70079?u:i|m:o<=70092?o>=70089?i|m:o<=70083&&o>=70082?l:e:o===70094?u:o===70095?i|m:e:o<70400?o<=70199?o<=70190||o>=70194&&o<=70195?u:i|m:o<70367?o===70206||o===70209?i|m:e:o<=70378?o>=70368&&o<=70370?u:i|m:e:o<70517?o<70465?o<70459?o<=70403?o<=70401?i|m:u:e:o===70463?u:o!==70461?i|m:e:o<70477?o<=70468||o>=70471&&o<=70472||o>=70475?u:e:o<=70499?o>=70498?u:o===70477||o===70487?i|m:e:o>=70502&&o<=70508||o>=70512?i|m:e:o<70627?o<=70594?o>=70584?o>=70585&&o<=70586?u:o!==70593?i|m:e:e:o<=70601?o===70597||o>=70599?i|m:e:o<70606?o!==70603?u:e:o===70609?l:o<=70610||o>=70625?i|m:e:o<=70724?o>=70709?o<=70711||o>=70720&&o<=70721?u:i|m:e:o===70725?u:o===70726||o===70750?i|m:e:o<72704?o<71087?o>=70832&&o<=70851?o>=70833&&o<=70834||o===70841||o>=70843&&o<=70844||o===70846||o===70849?u:i|m:e:o<71216?o<=71099?o>=71088&&o<=71089||o>=71096?u:o<=71093?i|m:e:o<=71104?o===71102?u:i|m:o>=71132&&o<=71133?i|m:e:o<71339?o<=71232?o<=71218||o>=71227&&o<=71228||o===71230?u:i|m:e:o<71453?o<=71351?o===71340||o>=71342&&o<=71343?u:i|m:e:o<71984?o<=71467?o===71454||o===71462?u:o<=71455||o>=71458?i|m:e:o>=71724&&o<=71738?o<=71726||o===71736?u:i|m:e:o<72145?o<71995?o===71984?i|m:o<=71992&&o!==71990?u:e:o<=72003?o<=71998||o===72003?i|m:o===71999||o===72001?l:u:e:o<72193?o<=72151?o<=72147?u:i|m:o>=72154&&o<=72160?o>=72156&&o<=72159?u:i|m:o===72164?u:e:o<72273?o<72243?o<=72202?i|m:e:o<=72254?o<=72248||o>=72251?i|m:o===72249?u:l:o===72263?i|m:e:o<=72283?o>=72279&&o<=72280?u:i|m:o>=72324&&o<=72345?o<=72329?l:o===72343?u:i|m:e:o<126976?o<73009?o<=72767?o>=72751?o===72751||o===72766?u:o!==72759?i|m:e:e:o>=72850&&o<=72886?o===72873||o===72881||o===72884?u:o!==72872?i|m:e:e:o<73098?o<73020?o<=73014||o===73018?i|m:e:o<=73031&&o!==73022?o===73030?l:i|m:e:o<73459?o<=73108?o<=73102||o>=73107?u:o>=73104&&o<=73105?i|m:e:o<=73111?o===73110?u:i|m:e:o<78896?o<=73538?o<73472?o<=73462?o<=73460?i|m:u:e:o<73524?o<=73475?o<=73473?i|m:o===73474?l:u:e:o<73534?o<=73525?u:o<=73530?i|m:e:o<=73535?u:i|m:o===73562?i|m:e:o<94031?o<90398?o<=78933?o<=78911?s:o>=78919||o===78912?i|m:e:e:o<=92982?o<=90415?o<=90409||o>=90413?i|m:u:o>=92912&&o<=92982&&(o<=92916||o>=92976)?i|m:e:o===93539||o>=93543&&o<=93546?p:e:o<119141?o<=94098?o>=94033&&o<=94087?u:o===94031||o>=94095?i|m:e:o<=94193?o===94180||o>=94192?i|m:e:o>=113821&&o<=113827?o<=113822?i|m:o>=113824?s:e:o>=118528&&o<=118598&&(o<=118573||o>=118576)?i|m:e:o<121520?o<119163?o<119155?o<=119145||o>=119149?i|m:e:s:(o<=119364?o<=119170||o>=119173&&o<=119179||o>=119210&&o<=119213||o>=119362:o>=121344&&(o<=121398||o>=121403&&o<=121452||o===121461||o===121476||o>=121499&&o!==121504))?i|m:e:(o<=122922?o>=122880&&(o<=122904&&o!==122887||o>=122907&&o!==122914&&o!==122917):o<=124143?o<=123190?o===123023||o>=123184:o===123566||o>=123628&&o<=123631||o>=124140:o<125136?o>=124398&&o<=124399:o<=125258&&(o<=125142||o>=125252))?i|m:e:o<131070?o<127488?o<127405?(o<=127345?o<=127231||o>=127245&&o<=127247||o===127279||o>=127340:o>=127358&&o<=127386&&(o<=127359||o===127374||o>=127377))?w:e:o<=127461?w:c:o<127561?o>=127489&&o<=127551&&(o<=127503||o===127514||o===127535||o>=127538&&o!==127547)?w:e:o<128318?o>=127995&&o<=127999?i|m|t.Emoji_Modifier:w:(o<=129023?o>=128326&&(o<=128591||o>=128640&&o<=128767||o>=128884&&o<=128895||o>=128981):o<129198?o>=129036&&o<=129167&&(o<=129039||o>=129096&&o<=129103||o>=129114&&o<=129119||o>=129160):o<=129279||o>=129292&&o<=129791&&o!==129339&&o!==129350||o>=130048)?w:e:o>=917504?o>921599?e:o>=918e3||o<=917535||o>=917632&&o<=917759?s:i|m:e}t.graphemeBreakProperty=C;function k(o,T){return(T&15)===i?!!(T&t.Emoji_Modifier):o<1536?!(o<=159?o<=31||o>=127:o===173):o<2304?!(o<1872?o<=1541||o===1564||o===1757||o===1807:o>=2192&&(o<=2193||o===2274)):o<8304?!(o<8203?o===6158:o<=8207||o>=8232&&o<=8238||o>=8288):o<=65531?!(o===65279||o>=65519):o<=119162?!(o<78896?o===69821||o===69837:o<113824?o<=78911:o<=113827||o>=119155):!(o>=205744&&o<=983039&&(o<=917535||o>=918e3||o>=917632&&o<=917759))}t.isGraphemeBase=k;function N(o,T,v){var D;if(T===n&&v===r)return!1;if(T===s||T===n||T===r||v===s||v===n||v===r)return!0;if(T===f&&(v===f||v===p||v===b||v===y)||(T===b||T===p)&&(v===p||v===g)||(T===y||T===g)&&v===g||(v&15)===i||(v&15)===a||v===u||T===l)return!1;if(v&E&&T&48){let $=!!(T&A);for(let q=o.length-1;q>=0;q-=1){if(o[q]&E){if($)return!1;break}if(o[q]&48){$||($=!!(o[q]&A));continue}break}}if((T&15)===a&&v===w){let $=o.length-1;for(;(((D=o[$])!==null&&D!==void 0?D:0)&15)===i;)$-=1;return o[$]!==w}if(T===c&&v===c){let $=o.length-1;for(;o[$]===c;)$-=1;return(o.length-1-$)%2===1}return!0}t.shouldBreak=N})(wh)),wh}var pn={},My;function Ry(){if(My)return pn;My=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.isEmojiModifierBase=pn.isEmojiModifierSequence=pn.isEmojiZwjSequence=pn.emojiProps=void 0;function t(i){return i<11264?i<8986?i>=8482&&(i<8596?i===8482||i===8505:i<=8601||i>=8617&&i<=8618)?1:0:i<9211?i<9193?i<=8987?3:i===9e3||i===9167?1:0:i<=9203?i<=9196||i===9200||i===9203?3:1:i>=9208?1:0:i<9728?i<9723?(i<=9643?i===9410||i>=9642:i===9654||i===9664)?1:0:i<=9726?i<=9724?1:3:0:i<9760?i<9748?i<=9732||i===9742||i===9745?1:0:i<=9749?3:i===9752?1:i===9757?5:0:i<9800?(i<=9775?i<=9763&&i!==9761||i===9766||i===9770||i>=9774:i>=9784&&(i<=9786||i===9792||i===9794))?1:0:i<9876?i<=9832?i>=9823&&(i<=9824||i>=9827&&i!==9828&&i!==9831)?1:i<=9811?3:0:i===9851||i===9854||i===9874?1:i===9855||i===9875?3:0:i<9926?i<9898?i===9889?3:i<=9884&&i!==9880&&i!==9882||i===9888||i===9895?1:0:i<=9905?i<=9899?3:i>=9904?1:0:i>=9917&&i<=9925&&(i<=9918||i>=9924)?3:0:i<9984?i<9968?i<=9937?i===9928||i===9935||i===9937?1:i===9934?3:0:i===9939||i===9961?1:i===9940||i===9962?3:0:i<=9976?i<=9973?i<=9969||i===9972?1:3:i>=9975?1:0:i===9978||i===9981?3:i===9977?5:0:i<9998?i<9992?i===9986?1:i===9989?3:0:i>=9996?5:i>=9994?7:1:i<10035?i<=10017?i===9999||i===10002||i===10004||i===10006||i===10013||i===10017?1:0:i===10024?3:0:i<10072?i<10060?i<=10036||i===10052||i===10055?1:0:i<=10062&&i!==10061||i>=10067&&i!==10070?3:0:i<10176?i<=10135?i>=10133?3:i>=10083&&i<=10084?1:0:i===10160||i===10175?3:i===10145?1:0:i<=11015?i>=10548&&(i<=10549||i>=11013)?1:0:i>=11035&&(i<=11036||i===11088||i===11093)?3:0:i<128640?i<127344?i<=12953?i===12336||i===12349||i>=12951&&i!==12952?1:0:i===126980||i===127183?3:0:i<127387?i<=127359?i<=127345||i>=127358?1:0:i===127374||i>=127377?3:0:i<127744?i<127538?i===127489||i===127514||i===127535?3:i===127490?1:0:i<=127569?i===127543?1:i<=127546||i>=127568?3:0:0:i<127904?i<127780?i<=127776?3:i===127777?1:0:i<127870?i<=127788||i===127798||i===127869?1:3:i<=127891?i===127877?7:3:i>=127894&&(i<=127899&&i!==127896||i>=127902)?1:0:i<127992?i<127947?i>=127938&&i<=127940||i===127943||i===127946?7:3:i<127951?i<=127948?5:1:i<=127984?i<=127955||i>=127968?3:1:i===127988?3:i>=127987&&i!==127990?1:0:i<128254?i<=128062?i>=127995&&i<=127999?27:3:i<128066?i===128064?3:1:i<128102?i>=128068&&i<=128069||i>=128081?3:7:i<128129?i<=128120||i===128124?7:3:i<128136?i===128132?3:7:i<=128252?i===128143||i===128145||i===128170?7:3:1:i<128378?i<=128330?i>=128255&&i<=128317?3:i>=128329?1:0:i<128367?i<=128359&&i!==128335?3:0:i>=128372&&i<=128373?5:i<=128368||i>=128371?1:0:i<128421?i<=128397?i>=128394||i===128391?1:i===128378?7:0:i<128405?i===128400?5:0:i<=128406?7:i===128420?3:0:i<128507?(i<=128452?i===128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452:i<=128483?i>=128465&&i<=128467||i>=128476&&i<=128478||i>=128481&&i!==128482:i===128488||i===128495||i===128499||i===128506)?1:0:i<=128591?i<=128580||i>=128584&&i<=128586?3:7:0:i<128720?i<128692?i===128675?7:3:i<=128709?i<=128694||i===128704?7:3:i>=128715?i===128716?7:1:0:i<128765?i<128736?i<=128722||i>=128732||i>=128725&&i<=128727?3:0:i<128747?i<=128741||i===128745?1:0:i<=128748||i>=128756?3:i===128752||i===128755?1:0:i<129343?i<129292?i>=128992&&i<=129003||i===129008?3:0:i<=129311?i>=129304||i===129292||i===129295?7:3:i<=129327?i===129318?7:3:i===129338?3:i!==129339?7:0:i<129456?i===129399?7:i!==129350?3:0:i<=129535?i<=129465?i<=129459?19:i===129460||i===129463?3:7:i<=129484?i===129467?7:3:i===129488||i>=129502?3:7:i<=129730?i>=129648&&i<=129660||i>=129664&&i<=129673||i>=129679?3:0:i<=129784?i<=129733||i>=129776?7:i>=129759&&i<=129769||i>=129742&&i<=129756||i===129734?3:0:0}pn.emojiProps=t;function e(i,a){const c=i.indexOf(8205,a);return c<0?i.length:c}function n(i){let a=0,c=e(i,a),l=i.slice(a,c);if(l.length>2)return!1;let[u,f]=l,p=t(u),g=!1;if(f===void 0){if(!(p&2))return!1}else if(f===65039){if((p&3)!==1)return!1;g=!0}else{const b=t(f);if(!(p&4&&b&8))return!1}for(a=c+1;a<i.length;a=c+1){if(c=e(i,a),l=i.slice(a,c),l.length>2)return!1;if([u,f]=l,p=t(u),f===void 0){if((p&1)===0)return!1}else if(f===65039){if(!(g?(p&3)===1:p&1))return!1}else{const b=t(f);if(!(p&4&&b&8))return!1}}return!0}pn.isEmojiZwjSequence=n;function r(i,a){const c=t(i),l=t(a);return!!(c&4&&l&8)}pn.isEmojiModifierSequence=r;function s(i){return!!(t(i)&4)}return pn.isEmojiModifierBase=s,pn}var By;function _h(){if(By)return sc;By=1,Object.defineProperty(sc,"__esModule",{value:!0});const t=yh(),e=Sh(),n=uc(),r=Ry(),{RI:s,ExtendedPictographic:i,Extend:a,V:c,T:l}=n.GBProps;function u(f){if(typeof f!="string")return 0;const p=(0,t.default)(f);if(p.length===0)return 0;let g=0,b=p.codePointAt(0),y=[b],w=[],m=(0,e.default)(b),A=m,E=b===8205,C=(0,n.graphemeBreakProperty)(b),k=!1,N=0;for(let o=b>65535?2:1,T=p.length;o<T;o+=1){const v=p.codePointAt(o),D=(0,n.graphemeBreakProperty)(v);if((0,n.shouldBreak)(w,C,D))g+=E&&w[0]===i&&(0,r.isEmojiZwjSequence)(y)?m:A,w=[],y=[v],m=(0,e.default)(v),A=m,E=v===8205,k=!1,N=0;else{y.push(v),w.push(C);let $=!1;if((D&15)!==a)$=C===s&&D===s||D===c||D===l;else if(D&n.Emoji_Modifier)$=C===i&&(0,r.isEmojiModifierBase)(b),k||(k=!0);else{for(;!k&&N<w.length;N+=1)k=(0,n.isGraphemeBase)(y[N],w[N]);$=k}$||(A+=(0,e.default)(v)),v===8205&&(E=!0)}b=v,b>65535&&(o+=1),C=D}return g+=E&&w[0]===i&&(0,r.isEmojiZwjSequence)(y)?m:A,g}return sc.default=u,sc}var cc={},Py;function Ah(){if(Py)return cc;Py=1,Object.defineProperty(cc,"__esModule",{value:!0});const t=yh(),e=uc();function n(r){if(typeof r!="string")return 0;const s=(0,t.default)(r);if(s.length===0)return 0;let i=1,a=[],c=s.codePointAt(0),l=(0,e.graphemeBreakProperty)(c);for(let u=c>65535?2:1,f=s.length;u<f;u+=1){c=s.codePointAt(u);const p=(0,e.graphemeBreakProperty)(c);(0,e.shouldBreak)(a,l,p)?(i+=1,a=[]):a.push(l),c>65535&&(u+=1),l=p}return i}return cc.default=n,cc}var lc={},Dy;function Eh(){if(Dy)return lc;Dy=1,Object.defineProperty(lc,"__esModule",{value:!0});const t=uc();function*e(n){if(typeof n!="string"||n.length===0)return;let r=0,s=[],i=n.codePointAt(0),a=(0,t.graphemeBreakProperty)(i);for(let c=i>65535?2:1,l=n.length;c<l;c+=1){i=n.codePointAt(c);const u=(0,t.graphemeBreakProperty)(i);(0,t.shouldBreak)(s,a,u)?(yield n.slice(r,c),s=[],r=c):s.push(a),i>65535&&(c+=1),a=u}yield n.slice(r)}return lc.default=e,lc}var fc={},jy;function Fh(){if(jy)return fc;jy=1,Object.defineProperty(fc,"__esModule",{value:!0});const t=Sh(),e=uc(),n=Ry(),{RI:r,ExtendedPictographic:s,Extend:i,V:a,T:c}=e.GBProps;function*l(u){if(typeof u!="string"||u.length===0)return;let f=0,p=u.codePointAt(0),g=[p],b=[],y=(0,t.default)(p),w=y,m=p===8205,A=(0,e.graphemeBreakProperty)(p),E=!1,C=0;for(let k=p>65535?2:1,N=u.length;k<N;k+=1){const o=u.codePointAt(k),T=(0,e.graphemeBreakProperty)(o);if((0,e.shouldBreak)(b,A,T))yield[u.slice(f,k),m&&b[0]===s&&(0,n.isEmojiZwjSequence)(g)?y:w],b=[],g=[o],y=(0,t.default)(o),w=y,f=k,m=o===8205,E=!1,C=0;else{g.push(o),b.push(A);let v=!1;if((T&15)!==i)v=A===r&&T===r||T===a||T===c;else if(T&e.Emoji_Modifier)v=A===s&&(0,n.isEmojiModifierBase)(p),E||(E=!0);else{for(;!E&&C<b.length;C+=1)E=(0,e.isGraphemeBase)(g[C],b[C]);v=E}v||(w+=(0,t.default)(o)),o===8205&&(m=!0)}p=o,p>65535&&(k+=1),A=T}yield[u.slice(f),m&&b[0]===s&&(0,n.isEmojiZwjSequence)(g)?y:w]}return fc.default=l,fc}var hc={},mn={},ss={},Ly;function B8(){return Ly||(Ly=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.closingCodes=ss.styleCodes=void 0,ss.styleCodes=new Map([["1","22"],["2","22"],["3","23"],["4","24"],["4:","4:0"],["5","25"],["6","25"],["7","27"],["8","28"],["9","29"],["20","23"],["21","24"],["26","50"],["30","39"],["31","39"],["32","39"],["33","39"],["34","39"],["35","39"],["36","39"],["37","39"],["38","39"],["90","39"],["91","39"],["92","39"],["93","39"],["94","39"],["95","39"],["96","39"],["97","39"],["40","49"],["41","49"],["42","49"],["43","49"],["44","49"],["45","49"],["46","49"],["47","49"],["48","49"],["51","54"],["52","54"],["53","55"],["58","59"],["60","65"],["61","65"],["62","65"],["63","65"],["64","65"],["73","75"],["74","75"],["100","49"],["101","49"],["102","49"],["103","49"],["104","49"],["105","49"],["106","49"],["107","49"]]),ss.closingCodes=["0","4:0","22","23","24","25","27","28","29","39","49","50","54","55","59","65","75"]),ss}var Uy;function xc(){if(Uy)return mn;Uy=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.closeEscapes=mn.openEscapes=mn.parseEscape=mn.parseAnsi=void 0;const t=bh(),e=B8();function*n(u){let f=0;for(let p=(0,t.default)(),g=p.exec(u);g;g=p.exec(u)){const{0:b,index:y}=g;y>f&&(yield[u.slice(f,y),!1]),yield[b,!0],f=y+b.length}f<u.length&&(yield[u.slice(f),!1])}mn.parseAnsi=n;function*r(u){let f=!1,p={value:-1};const g=[p];for(let b=0;b<u.length;b+=1){const y=u.charCodeAt(b);switch(y){case 59:f=!1,p={value:-1},g.push(p);break;case 58:f=!0,p.subparams?p.subparams.push(-1):p.subparams=[-1];break;default:{const w=y-48;if(f){const m=p.subparams,A=m[m.length-1];m[m.length-1]=~A?A*10+w:w}else p.value=~p.value?p.value*10+w:w;break}}}for(let b=0;b<g.length;b+=1){const y=g[b],w=Math.max(y.value,0);if(w===38||w===48||w===58){if(y.subparams){yield{code:w,params:y};continue}const m=b;b+=1;let A=g[b];const E=A?.value===2?3:A?.value===5?1:0;for(let k=0;A&&!A.subparams&&k<E;k+=1,b+=1,A=g[b]);const C=Math.min(b+1,g.length)-m;yield{code:w,params:C===1?y:g.slice(m,m+C),incomplete:!A?.subparams&&C<E+2};continue}yield{code:w,params:y}}}function s(u){return u.subparams?[u.value,...u.subparams].map(f=>~f?String(f):"").join(":"):~u.value?String(u.value):""}const i=/(?:(?:\x1b\x5b|\x9b)([\x30-\x3b]*m)|(?:\x1b\x5d|\x9d)8;(.*?)(?:\x1b\x5c|[\x07\x9c]))/;function a(u,f,p){var g,b;const[,y,w]=(g=i.exec(f))!==null&&g!==void 0?g:[],m=[];if(y)for(const{code:E,params:C,incomplete:k}of r(y.slice(0,-1))){let N=String(E);if(E===4&&C.subparams&&(N+=C.subparams[0]===0?":0":":"),e.closingCodes.includes(N)){const T=N==="4:0"||N==="24"?["4:0","24"]:null;for(let v=u.length-1;v>=0;v-=1){const[,D,$]=u[v];D===1||m.includes(v)||N!=="0"&&(T?!T.includes($):N!==$)||(N==="0"&&(u[v][2]="0"),m.push(v))}continue}const o=Array.isArray(C)?C.map(s).join(";"):s(C);u.push([o,k?2:0,(b=e.styleCodes.get(N))!==null&&b!==void 0?b:"0",p])}else if(w!==void 0){const E=w.replace(/^[^;]*;/,"");if(w===E)return null;if(E==="")for(let C=u.length-1;C>=0;C-=1){const[,k]=u[C];k!==1||m.includes(C)||(u[C][2]=f,m.push(C))}else{const C=f.replace(/((?:\x1b\x5d|\x9d)8;).*?(\x1b\x5c|[\x07\x9c])/,"$1;$2");u.push([f,1,C,p])}}else return null;const A=[];if(m.length)for(const E of m.sort((C,k)=>k-C))A.unshift(u[E]),u.splice(E,1);return A}mn.parseEscape=a;function c(u){let f="",p=[];for(const[g,b]of u){if(b===1){p.length&&(f+=`\x1B[${p.join(";")}m`,p=[]),f+=g;continue}p.push(g),b===2&&(f+=`\x1B[${p.join(";")}m`,p=[])}return f+(p.length?`\x1B[${p.join(";")}m`:"")}mn.openEscapes=c;function l(u){const f=[];let p="";for(const[,g,b]of u){if(g===1){p=b;continue}if(!f.includes(b)){if(b==="4:0"){f.includes("24")||f.unshift(b);continue}if(b==="24"){const y=f.indexOf("4:0");y<0?f.unshift(b):f[y]=b;continue}f.unshift(b)}}return p+(f.length?f.includes("0")?"\x1B[0m":`\x1B[${f.join(";")}m`:"")}return mn.closeEscapes=l,mn}var qy;function P8(){if(qy)return hc;qy=1,Object.defineProperty(hc,"__esModule",{value:!0});const t=xc();function e(n){const r=[],s=[],i=String(n).split(/\r?\n/g);for(let a=0,c=i.length;a<c;a+=1){let l="",u=-1;for(const[f,p]of(0,t.parseAnsi)(i[a])){if(p){const g=(0,t.parseEscape)(r,f,[a,u]);g&&u>=0?l+=(0,t.closeEscapes)(g.filter(([,,,[b,y]])=>b<a||b===a&&y<u)):g===null&&(l+=f);continue}l+=(0,t.openEscapes)(u<0?r:r.filter(([,,,[g,b]])=>g===a&&b===u)),l+=f,u+=1}u>=0&&(l+=(0,t.closeEscapes)(r.filter(([,,,[f,p]])=>f<a||f===a&&p<u))),s.push(l)}return s}return hc.default=e,hc}var is={},Vy;function D8(){if(Vy)return is;Vy=1,Object.defineProperty(is,"__esModule",{value:!0}),is.sliceColumns=is.sliceChars=void 0;const t=xc(),e=Eh(),n=Fh(),r=Ah(),s=_h();function i(a,c){return(l,u=0,f=1/0)=>{if(typeof l!="string"&&(l=String(l)),u<0||f<0){const m=c(l);u<0&&(u=m+u),f<0&&(f=m+f)}if(u>=f)return"";const p=[];let g="",b=0,y=-1,w=[];for(const[m,A]of(0,t.parseAnsi)(l)){if(A){const C=(0,t.parseEscape)(p,m,b);C?.length&&w.unshift(...C);continue}w.length&&(g+=(0,t.closeEscapes)(w.filter(([,,,C])=>C<=y)),w=[]);const E=b;for(const[C,k]of a(m))if((u<b||u===b&&k>0)&&b+k<=f&&(y<E&&(g+=(0,t.openEscapes)(p.filter(([,,,N])=>N>y)),y=E),g+=C),b+=k,b>=f)return g+(0,t.closeEscapes)(p.filter(([,,,N])=>N<=y))}return g+(0,t.closeEscapes)([...w,...p].filter(([,,,m])=>m<=y))}}return is.sliceChars=i(function*(c){for(const l of(0,e.default)(c))yield[l,1]},r.default),is.sliceColumns=i(n.default,s.default),is}var pc={},Wy;function j8(){if(Wy)return pc;Wy=1,Object.defineProperty(pc,"__esModule",{value:!0});const t=xc(),e=Eh(),n=Ah();function r(s,i,a,c=""){const l=Math.max(i<0?i+(0,n.default)(s):i,0),u=l+a,f=[];let p="",g=0,b=0,y=!1,w=!1;for(const[m,A]of(0,t.parseAnsi)(String(s))){if(A){const E=(0,t.parseEscape)(f,m,[g,y]);E===null||!y&&(g<l||c)?p+=m:E.length&&(p+=(0,t.closeEscapes)(E.filter(([,,,[C,k]])=>!k&&(C<l||c)))),b+=m.length;continue}if(w)return p+(0,t.openEscapes)(f.filter(([,,,[E,C]])=>C||E===l&&!c))+s.slice(b);for(const E of(0,e.default)(m)){if(g<l)p+=E;else if(g===l&&!y&&(p+=c,y=!0),g===u)return p+(0,t.openEscapes)(f.filter(([,,,[C,k]])=>k||C===l&&!c))+s.slice(b);g+=1,b+=E.length}g===l&&!y&&(p+=c,y=!0),g===u&&(w=!0)}return y?p:p+c}return pc.default=r,pc}var mc={},zy;function L8(){if(zy)return mc;zy=1,Object.defineProperty(mc,"__esModule",{value:!0});const t=xc(),e=Fh(),n=_h();function r(a,c,l){return a.filter(([,,,[u,f]])=>u<c||u===c&&f<=l)}function s(a,c,l,u,f){if(c.trim()==="")return"";const p=[];let g="",b=0,y=-1/0,w=0,m="",A=-1/0,E="";const C=c.split(" ").map(k=>[k,(0,n.default)(k)]);for(const[k,[N,o]]of C.entries()){if(k>0&&((b>0||!f&&y<0)&&(b+=1),m+=(0,t.openEscapes)(a.filter(([,,,[v,D]])=>v>A||v===A&&D>w)),A=k,m+=" "),u&&(o>l||!f&&y<0&&b+o>l&&b<l)){const v=l-b;Math.floor((o-1)/l)<1+Math.floor((o-v-1)/l)&&!(!f&&y<0)&&(p.push(g+E+(0,t.closeEscapes)(r(a,y,w))),[b,g]=[0,""],[m,E]=["",""]);let $=0;for(const[q,W]of(0,t.parseAnsi)(N)){if(W){const pt=(0,t.parseEscape)(a,q,[k,$]);pt?.length&&(y<k?(E+=(0,t.closeEscapes)(r(pt,y,w)),m+=(0,t.closeEscapes)(pt.filter(([,,,[Tt]])=>Tt<A))):b&&(g+=(0,t.closeEscapes)(r(pt,y,w))));continue}const jt=$;y<k&&(!f&&y<0&&b===l&&(p.push(g+m+(0,t.closeEscapes)(r(a,k,-1))),[b,g]=[0,""]),g+=b?m+(0,t.openEscapes)(a.filter(([,,,[pt]])=>pt===k)):(0,t.openEscapes)(a),[y,w]=[k,0],[A,m]=[k,""],E="");for(const[pt,Tt]of(0,e.default)(q))b+Tt>l&&(p.push(g+(0,t.closeEscapes)(r(a,y,w))),[b,g]=[0,(0,t.openEscapes)(a)]),w<jt&&(b&&(g+=(0,t.openEscapes)(a.filter(([,,,[Ct,wt]])=>Ct===y&&w<wt))),w=jt),g+=pt,b+=Tt,$+=Tt}continue}let T=0;for(const[v,D]of(0,t.parseAnsi)(N)){if(D){const $=(0,t.parseEscape)(a,v,[k,T]);$?.length&&(y<k?(E+=(0,t.closeEscapes)(r($,y,w)),m+=(0,t.closeEscapes)($.filter(([,,,[q]])=>q<A))):b&&(g+=(0,t.closeEscapes)(r($,y,w))));continue}y<k&&((!f&&y<0?b===l:b+o>l&&b>0)&&(p.push(!f&&y<0?g+m+(0,t.closeEscapes)(r(a,k,-1)):g+E+(0,t.closeEscapes)(r(a,y,w))),[b,g]=[0,""]),g+=b?m+(0,t.openEscapes)(a.filter(([,,,[$]])=>$===k)):(0,t.openEscapes)(a),b+=o,[y,w]=[k,0],[A,m]=[k,""],E=""),w<T&&(g+=(0,t.openEscapes)(a.filter(([,,,[$,q]])=>$===y&&w<q)),w=T),g+=v,T+=v.length}!f&&y<0&&b===l&&(p.push(g+m+(0,t.closeEscapes)(r(a,k,-1))),[b,g]=[0,""],m=(0,t.openEscapes)(r(a,A,w)),E="")}b>0&&p.push(g+E+(0,t.closeEscapes)(r(a,y,w)));for(const k of a)k[3]=[-1,0];return y>=0?p.join(`
`):""}function i(a,c,{hard:l=!1,trimLeft:u=!0}={}){const f=[];return String(a).split(/\r?\n/g).map(p=>s(f,p,c,l,u)).join(`
`)}return mc.default=i,mc}var Ky;function U8(){return Ky||(Ky=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wordWrap=t.spliceChars=t.sliceColumns=t.sliceChars=t.splitLines=t.codePointWidth=t.stripAnsi=t.ansiRegex=t.charWidths=t.splitChars=t.stringLength=t.stringWidth=void 0;var e=_h();Object.defineProperty(t,"stringWidth",{enumerable:!0,get:function(){return e.default}});var n=Ah();Object.defineProperty(t,"stringLength",{enumerable:!0,get:function(){return n.default}});var r=Eh();Object.defineProperty(t,"splitChars",{enumerable:!0,get:function(){return r.default}});var s=Fh();Object.defineProperty(t,"charWidths",{enumerable:!0,get:function(){return s.default}});var i=bh();Object.defineProperty(t,"ansiRegex",{enumerable:!0,get:function(){return i.default}});var a=yh();Object.defineProperty(t,"stripAnsi",{enumerable:!0,get:function(){return a.default}});var c=Sh();Object.defineProperty(t,"codePointWidth",{enumerable:!0,get:function(){return c.default}});var l=P8();Object.defineProperty(t,"splitLines",{enumerable:!0,get:function(){return l.default}});var u=D8();Object.defineProperty(t,"sliceChars",{enumerable:!0,get:function(){return u.sliceChars}}),Object.defineProperty(t,"sliceColumns",{enumerable:!0,get:function(){return u.sliceColumns}});var f=j8();Object.defineProperty(t,"spliceChars",{enumerable:!0,get:function(){return f.default}});var p=L8();Object.defineProperty(t,"wordWrap",{enumerable:!0,get:function(){return p.default}})})(gh)),gh}var Gy=U8();const Hy=new Intl.Segmenter,Dt=([t,e])=>n=>`${t}${n}${e}`;Dt.rest=(t,e)=>Dt([t,e]),Dt.parentheses=Dt(["(",")"]),Dt.squareBrackets=Dt(["[","]"]),Dt.curlyBrackets=Dt(["{","}"]),Dt.angledBrackets=Dt(["<",">"]),Dt.quote=Object.assign(Dt(["'","'"]),{double:Dt(['"','"']),fancy:Dt(["“","”"]),parentheses:Dt(["(",")"]),squareBrackets:Dt(["[","]"]),curlyBrackets:Dt(["{","}"]),angledBrackets:Dt(["<",">"])});const di=t=>t.join(`
`);di.double=t=>t.join(`

`),di.rest=(...t)=>di(t);const dt=t=>t.join("");dt.rest=(...t)=>dt(t),dt.pipeline=t=>h(t,sn(" | ")),dt.slash=t=>h(t,sn(" | ")),dt.spaced=Object.assign(t=>t.join(" "),{rest:(...t)=>t.join(" "),literal:(...t)=>t.join(" ")}),dt.comma=Object.assign(t=>t.join(", "),{rest:(...t)=>t.join(", ")}),dt.quote=Object.assign(t=>h(t,B(Dt.quote),dt.comma),{double:t=>h(t,B(Dt.quote.double),dt.comma),fancy:t=>h(t,B(Dt.quote.fancy),dt.comma)});const Ch=t=>e=>sh(t,e),q8=sh,dc=t=>t.toString(),V8=t=>e=>t===e,os=Gy.stringWidth,W8=B(os),z8=t=>h(" ",ci(t));function kh(t){return e=>{const n=os(e);if(t===0)return"";if(t-n<=0)return h(e,bc(0,t),dt);const[s,i]=rc(t,n);return h(e,Lo(ci(s),U(bc(0,i),dt)),dt)}}kh.flipped=t=>e=>kh(e)(t);function K8(t){return e=>{if(t===0)return[];const n=le(e)?e:[""],r=n.length;if(t-r<=0)return n.slice(0,t);const[i,a]=rc(t,r);return[...h(n,Dn(i),eo),...n.slice(0,a)]}}const G8=t=>Y0(yt)([0,...W8(t)]),H8=t=>e=>{let n=0;for(;t(e[n])&&n<os(e);)n++;return e.slice(0,n)},gc=t=>[...Hy.segment(t)].map(e=>e.segment),bc=(t,e)=>n=>[...Hy.segment(n)].map(r=>r.segment).slice(t,e??-1);class Ye extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=Ye.SharedFootPrint}static isFailure(e){return e!=null&&e.footprint===Ye.SharedFootPrint}}Ye.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");function J8(t){if(!t)throw new Ye}class vh{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}}vh.nil=new vh;function Y8(){return vh.nil}function*Z8(t,e){for(const n of t)yield e(n)}function*X8(t,e){for(const n of t)yield*e(n)}function*Q8(t,e){for(const n of t)e(n)&&(yield n)}function*tN(t,e){for(let n=0;n<e;++n){const r=t.next();if(r.done)break;yield r.value}}function*eN(t,e){let n=t.next();for(;!n.done&&e(n.value);)yield n.value,n=t.next()}function*nN(t,e){for(let n=t.next();!n.done;n=t.next())yield n.value;for(const n of e)for(let r=n.next();!r.done;r=n.next())yield r.value}const rN=Symbol.iterator;class G{static nil(){return new G(Y8())}static of(...e){return new G(e[rN]())}constructor(e){this.g=e}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(e){return new G(Z8(this.g,e))}flatMap(e){return new G(X8(this.g,e))}dropWhile(e){let n=!1;function*r(s){(n||!e(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(e){if(e<=0)return this;let n=0;function r(){return n++<e}return this.dropWhile(r)}takeWhile(e){return new G(eN(this.g,e))}take(e){return new G(tN(this.g,e))}filter(e){return new G(Q8(this.g,e))}every(e){for(const n of this.g)if(!e(n))return!1;return!0}has(e){for(const n of this.g)if(e(n))return[!0,n];return[!1,null]}join(...e){return new G(nN(this.g,e))}getNthOrLast(e){let n=e,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function mr(t){return new G(t)}const se=Symbol.for("fast-check/cloneMethod");function as(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&se in t&&typeof t[se]=="function"}function gi(t){return as(t)?t[se]():t}const sN=Object.defineProperty;class V{constructor(e,n,r=void 0){this.value_=e,this.context=n,this.hasToBeCloned=r!==void 0||as(e),this.readOnce=!1,this.hasToBeCloned?sN(this,"value",{get:r!==void 0?r:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[se]():(this.readOnce=!0,this.value_):this.value_}}class Nt{filter(e){return new aN(this,e)}map(e,n){return new oN(this,e,n)}chain(e){return new iN(this,e)}}class iN extends Nt{constructor(e,n){super(),this.arb=e,this.chainer=n}generate(e,n){const r=e.clone(),s=this.arb.generate(e,n);return this.valueChainer(s,e,r,n)}canShrinkWithoutContext(e){return!1}shrink(e,n){return this.isSafeContext(n)?(n.stoppedForOriginal?G.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(e,n.chainedContext).map(r=>{const s={...n,chainedContext:r.context,stoppedForOriginal:!0};return new V(r.value_,s)})):G.nil()}valueChainer(e,n,r,s){const i=this.chainer(e.value_),a=i.generate(n,s),c={originalBias:s,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new V(a.value_,c)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}}class oN extends Nt{constructor(e,n,r){super(),this.arb=e,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(e,n){const r=this.arb.generate(e,n);return this.valueMapper(r)}canShrinkWithoutContext(e){if(this.unmapper!==void 0)try{const n=this.unmapper(e);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(e,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(e);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return G.nil()}mapperWithCloneIfNeeded(e){const n=e.value,r=this.mapper(n);return e.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!as(r)&&Object.defineProperty(r,se,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[r,n]}valueMapper(e){const[n,r]=this.mapperWithCloneIfNeeded(e),s={originalValue:r,originalContext:e.context};return new V(n,s)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalValue"in e&&"originalContext"in e}}class aN extends Nt{constructor(e,n){super(),this.arb=e,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(e,n){for(;;){const r=this.arb.generate(e,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,n){return this.arb.shrink(e,n).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}}function Jy(t){return typeof t=="object"&&t!==null&&"generate"in t&&"shrink"in t&&"canShrinkWithoutContext"in t}function Yy(t){if(!Jy(t))throw new Error("Unexpected value received: not an instance of Arbitrary")}const Zy=Function.prototype.apply,Ih=Symbol("apply");function uN(t){try{return t.apply}catch{return}}function cN(t,e,n){const r=t;r[Ih]=Zy;const s=r[Ih](e,n);return delete r[Ih],s}function ht(t,e,n){return uN(t)===Zy?t.apply(e,n):cN(t,e,n)}const Xy=Array,P=BigInt,lN=BigInt64Array,fN=BigUint64Array,Qy=Boolean,yc=Date,z=Error,t2=Float32Array,e2=Float64Array,hN=Int8Array,xN=Int16Array,pN=Int32Array,Kn=Number,us=String,Sc=Set,mN=Uint8Array,dN=Uint8ClampedArray,gN=Uint16Array,bN=Uint32Array,yN=encodeURIComponent,Uo=Map,wc=Symbol,n2=Array.prototype.forEach,r2=Array.prototype.indexOf,s2=Array.prototype.join,i2=Array.prototype.map,o2=Array.prototype.filter,a2=Array.prototype.push,u2=Array.prototype.pop,c2=Array.prototype.splice,l2=Array.prototype.slice,f2=Array.prototype.sort,h2=Array.prototype.every;function SN(t){try{return t.forEach}catch{return}}function wN(t){try{return t.indexOf}catch{return}}function _N(t){try{return t.join}catch{return}}function AN(t){try{return t.map}catch{return}}function EN(t){try{return t.filter}catch{return}}function FN(t){try{return t.push}catch{return}}function CN(t){try{return t.pop}catch{return}}function kN(t){try{return t.splice}catch{return}}function vN(t){try{return t.slice}catch{return}}function IN(t){try{return t.sort}catch{return}}function TN(t){try{return t.every}catch{return}}function x2(t,e){return SN(t)===n2?t.forEach(e):ht(n2,t,[e])}function Gn(t,...e){return wN(t)===r2?t.indexOf(...e):ht(r2,t,e)}function Et(t,...e){return _N(t)===s2?t.join(...e):ht(s2,t,e)}function mt(t,e){return AN(t)===i2?t.map(e):ht(i2,t,[e])}function ON(t,e){return EN(t)===o2?t.filter(e):ht(o2,t,[e])}function K(t,...e){return FN(t)===a2?t.push(...e):ht(a2,t,e)}function p2(t){return CN(t)===u2?t.pop():ht(u2,t,[])}function m2(t,...e){return kN(t)===c2?t.splice(...e):ht(c2,t,e)}function ue(t,...e){return vN(t)===l2?t.slice(...e):ht(l2,t,e)}function d2(t,...e){return IN(t)===f2?t.sort(...e):ht(f2,t,e)}function g2(t,...e){return TN(t)===h2?t.every(...e):ht(h2,t,e)}const b2=Date.prototype.getTime,y2=Date.prototype.toISOString;function $N(t){try{return t.getTime}catch{return}}function NN(t){try{return t.toISOString}catch{return}}function _c(t){return $N(t)===b2?t.getTime():ht(b2,t,[])}function MN(t){return NN(t)===y2?t.toISOString():ht(y2,t,[])}const S2=Set.prototype.add,w2=Set.prototype.has;function RN(t){try{return t.add}catch{return}}function BN(t){try{return t.has}catch{return}}function Th(t,e){return RN(t)===S2?t.add(e):ht(S2,t,[e])}function _2(t,e){return BN(t)===w2?t.has(e):ht(w2,t,[e])}const A2=WeakMap.prototype.set,E2=WeakMap.prototype.get;function PN(t){try{return t.set}catch{return}}function DN(t){try{return t.get}catch{return}}function jN(t,e,n){return PN(t)===A2?t.set(e,n):ht(A2,t,[e,n])}function LN(t,e){return DN(t)===E2?t.get(e):ht(E2,t,[e])}const F2=Map.prototype.set,C2=Map.prototype.get;function UN(t){try{return t.set}catch{return}}function qN(t){try{return t.get}catch{return}}function cs(t,e,n){return UN(t)===F2?t.set(e,n):ht(F2,t,[e,n])}function dr(t,e){return qN(t)===C2?t.get(e):ht(C2,t,[e])}const k2=String.prototype.split,v2=String.prototype.startsWith,I2=String.prototype.endsWith,T2=String.prototype.substring,O2=String.prototype.toLowerCase,$2=String.prototype.toUpperCase,N2=String.prototype.padStart,M2=String.prototype.charCodeAt,R2=String.prototype.normalize,B2=String.prototype.replace;function VN(t){try{return t.split}catch{return}}function WN(t){try{return t.startsWith}catch{return}}function zN(t){try{return t.endsWith}catch{return}}function KN(t){try{return t.substring}catch{return}}function GN(t){try{return t.toLowerCase}catch{return}}function HN(t){try{return t.toUpperCase}catch{return}}function JN(t){try{return t.padStart}catch{return}}function YN(t){try{return t.charCodeAt}catch{return}}function ZN(t){try{return t.normalize}catch{return}}function XN(t){try{return t.replace}catch{return}}function Ee(t,...e){return VN(t)===k2?t.split(...e):ht(k2,t,e)}function QN(t,...e){return WN(t)===v2?t.startsWith(...e):ht(v2,t,e)}function tM(t,...e){return zN(t)===I2?t.endsWith(...e):ht(I2,t,e)}function Mt(t,...e){return KN(t)===T2?t.substring(...e):ht(T2,t,e)}function Oh(t){return GN(t)===O2?t.toLowerCase():ht(O2,t,[])}function $h(t){return HN(t)===$2?t.toUpperCase():ht($2,t,[])}function eM(t,...e){return JN(t)===N2?t.padStart(...e):ht(N2,t,e)}function bi(t,e){return YN(t)===M2?t.charCodeAt(e):ht(M2,t,[e])}function nM(t,e){return ZN(t)===R2?t.normalize(e):ht(R2,t,[e])}function rM(t,e,n){return XN(t)===B2?t.replace(e,n):ht(B2,t,[e,n])}const P2=Number.prototype.toString;function sM(t){try{return t.toString}catch{return}}function qo(t,...e){return sM(t)===P2?t.toString(...e):ht(P2,t,e)}const iM=Object.prototype.hasOwnProperty,oM=Object.prototype.toString;function Ac(t,e){return ht(iM,t,[e])}function Nh(t){return ht(oM,t,[])}const aM=Error.prototype.toString;function uM(t){return ht(aM,t,[])}class cM{constructor(e){this.producer=e}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function gr(t){return new cM(t)}const D2=Array.isArray,lM=Object.defineProperty;function j2(t,e){return lM(t,se,{value:()=>{const n=[];for(let r=0;r!==e.length;++r)K(n,e[r].value);return j2(n,e),n}})}function L2(t){let e=!1;const n=[],r=[];for(let s=0;s!==t.length;++s){const i=t[s];e=e||i.hasToBeCloned,K(n,i.value),K(r,i.context)}return e&&j2(n,t),new V(n,r)}function U2(t,e,n){const r=[],s=D2(n)?n:[];for(let i=0;i!==t.length;++i)K(r,gr(()=>t[i].shrink(e[i],s[i]).map(a=>{const c=mt(e,(l,u)=>new V(gi(l),s[u]));return[...ue(c,0,i),a,...ue(c,i+1)]}).map(L2)));return G.nil().join(...r)}class fM extends Nt{constructor(e){super(),this.arbs=e;for(let n=0;n!==e.length;++n){const r=e[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(e,n){const r=[];for(let s=0;s!==this.arbs.length;++s)K(r,this.arbs[s].generate(e,n));return L2(r)}canShrinkWithoutContext(e){if(!D2(e)||e.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(e[n]))return!1;return!0}shrink(e,n){return U2(this.arbs,e,n)}}function it(...t){return new fM(t)}const hM=Math.log;function q2(t){return 2+~~(hM(t+1)*.4342944819032518)}let Mh={};function xM(t){Mh=t}function dn(){return Mh}function pM(){Mh={}}const Vo=Symbol("UndefinedContextPlaceholder");function yi(t){return t.context!==void 0?t:t.hasToBeCloned?new V(t.value_,Vo,()=>t.value):new V(t.value_,Vo)}class Wo{constructor(e,n){this.arb=e,this.predicate=n;const{asyncBeforeEach:r,asyncAfterEach:s,beforeEach:i,afterEach:a}=dn()||{};if(r!==void 0&&i!==void 0)throw z(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(s!==void 0&&a!==void 0)throw z(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=r||i||Wo.dummyHook,this.afterEachHook=s||a||Wo.dummyHook}isAsync(){return!0}generate(e,n){const r=this.arb.generate(e,n!=null?q2(n):void 0);return yi(r)}shrink(e){if(e.context===void 0&&!this.arb.canShrinkWithoutContext(e.value_))return G.nil();const n=e.context!==Vo?e.context:void 0;return this.arb.shrink(e.value_,n).map(yi)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(e){try{const n=await this.predicate(e);return n===void 0||n===!0?null:{error:new z("Property failed by returning false")}}catch(n){return Ye.isFailure(n)?n:{error:n}}}beforeEach(e){const n=this.beforeEachHook;return this.beforeEachHook=()=>e(n),this}afterEach(e){const n=this.afterEachHook;return this.afterEachHook=()=>e(n),this}}Wo.dummyHook=()=>{};class V2 extends Nt{constructor(e){super(),this.arb=e}generate(e,n){const r=this.arb.generate(e,n);return yi(r)}canShrinkWithoutContext(e){return!0}shrink(e,n){if(n===void 0&&!this.arb.canShrinkWithoutContext(e))return G.nil();const r=n!==Vo?n:void 0;return this.arb.shrink(e,r).map(yi)}}function mM(...t){if(t.length<2)throw new Error("asyncProperty expects at least two parameters");const e=ue(t,0,t.length-1),n=t[t.length-1];x2(e,Yy);const r=mt(e,s=>new V2(s));return new Wo(it(...r),s=>n(...s))}class Si{constructor(e,n){this.arb=e,this.predicate=n;const{beforeEach:r=Si.dummyHook,afterEach:s=Si.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=dn()||{};if(i!==void 0)throw z(`"asyncBeforeEach" can't be set when running synchronous properties`);if(a!==void 0)throw z(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(e,n){const r=this.arb.generate(e,n!=null?q2(n):void 0);return yi(r)}shrink(e){if(e.context===void 0&&!this.arb.canShrinkWithoutContext(e.value_))return G.nil();const n=e.context!==Vo?e.context:void 0;return this.arb.shrink(e.value_,n).map(yi)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(e){try{const n=this.predicate(e);return n===void 0||n===!0?null:{error:new z("Property failed by returning false")}}catch(n){return Ye.isFailure(n)?n:{error:n}}}beforeEach(e){const n=this.beforeEachHook;return this.beforeEachHook=()=>e(n),this}afterEach(e){const n=this.afterEachHook;return this.afterEachHook=()=>e(n),this}}Si.dummyHook=()=>{};function dM(...t){if(t.length<2)throw new Error("property expects at least two parameters");const e=ue(t,0,t.length-1),n=t[t.length-1];x2(e,Yy);const r=mt(e,s=>new V2(s));return new Si(it(...r),s=>n(...s))}var gM=214013,bM=2531011,yM=4294967295,SM=(1<<31)-1,Rh=function(t){return t*gM+bM&yM},Bh=function(t){return(t&SM)>>16},W2=(function(){function t(e){this.seed=e}return t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var e=new t(this.seed),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=Rh(this.seed),n=Bh(e),r=Rh(e),s=Bh(r);this.seed=Rh(r);var i=Bh(this.seed),a=i+(s+(n<<15)<<15);return a|0},t.prototype.getState=function(){return[this.seed]},t})();function wM(t){var e=t.length===1;if(!e)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new W2(t[0])}var _M=Object.assign(function(t){return new W2(t)},{fromState:wM}),AM=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},EM=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},z2=(function(){function t(e,n){this.states=e,this.index=n}return t.twist=function(e){for(var n=e.slice(),r=0;r!==t.N-t.M;++r){var s=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M]^s>>>1^-(s&1)&t.A}for(var r=t.N-t.M;r!==t.N-1;++r){var i=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M-t.N]^i>>>1^-(i&1)&t.A}var a=(n[t.N-1]&t.MASK_UPPER)+(n[0]&t.MASK_LOWER);return n[t.N-1]=n[t.M-1]^a>>>1^-(a&1)&t.A,n},t.seeded=function(e){var n=Array(t.N);n[0]=e;for(var r=1;r!==t.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(t.F,s)+r|0}return n},t.from=function(e){return new t(t.twist(t.seeded(e)),0)},t.prototype.clone=function(){return new t(this.states,this.index)},t.prototype.next=function(){var e=new t(this.states,this.index),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.states[this.index];return e^=this.states[this.index]>>>t.U,e^=e<<t.S&t.B,e^=e<<t.T&t.C,e^=e>>>t.L,++this.index>=t.N&&(this.states=t.twist(this.states),this.index=0),e},t.prototype.getState=function(){return EM([this.index],AM(this.states),!1)},t.fromState=function(e){var n=e.length===t.N+1&&e[0]>=0&&e[0]<t.N;if(!n)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new t(e.slice(1),e[0])},t.N=624,t.M=397,t.R=31,t.A=2567483615,t.F=1812433253,t.U=11,t.S=7,t.B=2636928640,t.T=15,t.C=4022730752,t.L=18,t.MASK_LOWER=Math.pow(2,t.R)-1,t.MASK_UPPER=Math.pow(2,t.R),t})();function FM(t){return z2.fromState(t)}var CM=Object.assign(function(t){return z2.from(t)},{fromState:FM}),K2=(function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=e^this.s10^(e>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var c=1;c;c<<=1)i[a]&c&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},t})();function kM(t){var e=t.length===4;if(!e)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new K2(t[0],t[1],t[2],t[3])}var vM=Object.assign(function(t){return new K2(-1,~t,t|0,0)},{fromState:kM}),G2=(function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,e},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var c=1;c;c<<=1)i[a]&c&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},t})();function IM(t){var e=t.length===4;if(!e)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new G2(t[0],t[1],t[2],t[3])}var TM=Object.assign(function(t){return new G2(-1,~t,t|0,0)},{fromState:IM});function H2(t,e){if(t.sign!==e.sign)return Ph(t,{sign:-e.sign,data:e.data});for(var n=[],r=0,s=t.data,i=e.data,a=s.length-1,c=i.length-1;a>=0||c>=0;--a,--c){var l=a>=0?s[a]:0,u=c>=0?i[c]:0,f=l+u+r;n.push(f>>>0),r=~~(f/4294967296)}return r!==0&&n.push(r),{sign:t.sign,data:n.reverse()}}function OM(t){t.sign=1;for(var e=t.data,n=e.length-1;n>=0;--n)if(e[n]===4294967295)e[n]=0;else return e[n]+=1,t;return e.unshift(1),t}function $M(t,e){for(var n=Math.max(t.length,e.length),r=0;r<n;++r){var s=r+t.length-n,i=r+e.length-n,a=s>=0?t[s]:0,c=i>=0?e[i]:0;if(a<c)return!0;if(a>c)return!1}return!1}function Ph(t,e){if(t.sign!==e.sign)return H2(t,{sign:-e.sign,data:e.data});var n=t.data,r=e.data;if($M(n,r)){var s=Ph(e,t);return s.sign=-s.sign,s}for(var i=[],a=0,c=n.length-1,l=r.length-1;c>=0||l>=0;--c,--l){var u=c>=0?n[c]:0,f=l>=0?r[l]:0,p=u-f-a;i.push(p>>>0),a=p<0?1:0}return{sign:t.sign,data:i.reverse()}}function J2(t){for(var e=t.data,n=0;n!==e.length&&e[n]===0;++n);return n===e.length?(t.sign=1,t.data=[0],t):(e.splice(0,n),t)}function Y2(t,e){for(var n=t>2?~~(4294967296/t)*t:4294967296,r=e.unsafeNext()+2147483648;r>=n;)r=e.unsafeNext()+2147483648;return r%t}function Z2(t,e,n){for(var r=e.length;;){for(var s=0;s!==r;++s){var i=s===0?e[0]+1:4294967296,a=Y2(i,n);t[s]=a}for(var s=0;s!==r;++s){var c=t[s],l=e[s];if(c<l)return t;if(c>l)break}}}function Dh(t,e,n){var r=J2(OM(Ph(e,t))),s=r.data.slice(0),i=Z2(s,r.data,n);return J2(H2({sign:1,data:i},t))}function NM(t,e,n){if(n!=null){var r=n.clone();return[Dh(t,e,r),r]}return function(s){var i=s.clone();return[Dh(t,e,i),i]}}var X2=typeof BigInt<"u"?BigInt:void 0,MM=typeof BigInt<"u"?BigInt(1):void 0,Q2=typeof BigInt<"u"?BigInt(32):void 0,RM=typeof BigInt<"u"?BigInt(4294967296):void 0;function Ec(t,e,n){for(var r=e-t+MM,s=RM,i=1;s<r;)s<<=Q2,++i;var a=tS(i,n);if(a<r)return a+t;if(a+r<s)return a%r+t;for(var c=s-s%r;a>=c;)a=tS(i,n);return a%r+t}function tS(t,e){for(var n=X2(e.unsafeNext()+2147483648),r=1;r<t;++r){var s=e.unsafeNext();n=(n<<Q2)+X2(s+2147483648)}return n}function BM(t,e,n){if(n!=null){var r=n.clone();return[Ec(t,e,r),r]}return function(s){var i=s.clone();return[Ec(t,e,i),i]}}function jh(t,e){if(e<0){var n=-e;t.sign=-1,t.data[0]=~~(n/4294967296),t.data[1]=n>>>0}else t.sign=1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0;return t}function PM(t,e,n){var r=e.data[1],s=e.data[0],i=e.sign,a=n.data[1],c=n.data[0],l=n.sign;if(t.sign=1,i===1&&l===-1){var u=r+a,f=s+c+(u>4294967295?1:0);return t.data[0]=f>>>0,t.data[1]=u>>>0,t}var p=r,g=s,b=a,y=c;i===-1&&(p=a,g=c,b=r,y=s);var w=0,m=p-b;return m<0&&(w=1,m=m>>>0),t.data[0]=g-y-w,t.data[1]=m,t}var DM=Number.MAX_SAFE_INTEGER,jM={sign:1,data:[0,0]},LM={sign:1,data:[0,0]},eS={sign:1,data:[0,0]},Lh=[0,0];function UM(t,e,n,r){var s=n<=DM?jh(eS,n):PM(eS,jh(jM,e),jh(LM,t));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,Z2(Lh,s.data,r),Lh[0]*4294967296+Lh[1]+t}function wi(t,e,n){var r=e-t;if(r<=4294967295){var s=Y2(r+1,n);return s+t}return UM(t,e,r,n)}function qM(t,e,n){if(n!=null){var r=n.clone();return[wi(t,e,r),r]}return function(s){var i=s.clone();return[wi(t,e,i),i]}}function Uh(t,e){for(var n=0;n!=e;++n)t.unsafeNext()}function nS(t,e){var n=t.clone();return Uh(n,e),n}function rS(t,e){for(var n=[],r=0;r!=e;++r)n.push(t.unsafeNext());return n}function VM(t,e){var n=t.clone(),r=rS(n,e);return[r,n]}var WM="module",zM="7.0.1",KM="2248506b66d969d1a8b477a4dde8e24cbac33e6a",zo=Object.freeze({__proto__:null,__commitHash:KM,__type:WM,__version:zM,congruential32:_M,generateN:VM,mersenne:CM,skipN:nS,uniformArrayIntDistribution:NM,uniformBigIntDistribution:BM,uniformIntDistribution:qM,unsafeGenerateN:rS,unsafeSkipN:Uh,unsafeUniformArrayIntDistribution:Dh,unsafeUniformBigIntDistribution:Ec,unsafeUniformIntDistribution:wi,xoroshiro128plus:TM,xorshift128plus:vM}),xe;(function(t){t[t.None=0]="None",t[t.Verbose=1]="Verbose",t[t.VeryVerbose=2]="VeryVerbose"})(xe||(xe={}));const GM=Date.now,HM=Math.min,JM=Math.random;class qt{constructor(e){const n=e||{};this.seed=qt.readSeed(n),this.randomType=qt.readRandomType(n),this.numRuns=qt.readNumRuns(n),this.verbose=qt.readVerbose(n),this.maxSkipsPerRun=n.maxSkipsPerRun!==void 0?n.maxSkipsPerRun:100,this.timeout=qt.safeTimeout(n.timeout),this.skipAllAfterTimeLimit=qt.safeTimeout(n.skipAllAfterTimeLimit),this.interruptAfterTimeLimit=qt.safeTimeout(n.interruptAfterTimeLimit),this.markInterruptAsFailure=n.markInterruptAsFailure===!0,this.skipEqualValues=n.skipEqualValues===!0,this.ignoreEqualValues=n.ignoreEqualValues===!0,this.logger=n.logger!==void 0?n.logger:r=>{console.log(r)},this.path=n.path!==void 0?n.path:"",this.unbiased=n.unbiased===!0,this.examples=n.examples!==void 0?n.examples:[],this.endOnFailure=n.endOnFailure===!0,this.reporter=n.reporter,this.asyncReporter=n.asyncReporter,this.includeErrorInReport=n.includeErrorInReport===!0}toParameters(){return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:this.timeout,skipAllAfterTimeLimit:this.skipAllAfterTimeLimit,interruptAfterTimeLimit:this.interruptAfterTimeLimit,markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:this.reporter,asyncReporter:this.asyncReporter,includeErrorInReport:this.includeErrorInReport}}static read(e){return new qt(e)}}qt.createQualifiedRandomGenerator=t=>e=>{const n=t(e);return n.unsafeJump===void 0&&(n.unsafeJump=()=>Uh(n,42)),n},qt.readSeed=t=>{if(t.seed===void 0)return GM()^JM()*4294967296;const e=t.seed|0;if(t.seed===e)return e;const n=t.seed-e;return e^n*4294967296},qt.readRandomType=t=>{if(t.randomType===void 0)return zo.xorshift128plus;if(typeof t.randomType=="string")switch(t.randomType){case"mersenne":return qt.createQualifiedRandomGenerator(zo.mersenne);case"congruential":case"congruential32":return qt.createQualifiedRandomGenerator(zo.congruential32);case"xorshift128plus":return zo.xorshift128plus;case"xoroshiro128plus":return zo.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${t.randomType}'`)}const e=t.randomType(0);if("min"in e&&e.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(e.min)}`);if("max"in e&&e.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(e.max)}`);return"unsafeJump"in e?t.randomType:qt.createQualifiedRandomGenerator(t.randomType)},qt.readNumRuns=t=>t.numRuns!==void 0?t.numRuns:t.num_runs!==void 0?t.num_runs:100,qt.readVerbose=t=>t.verbose===void 0?xe.None:typeof t.verbose=="boolean"?t.verbose===!0?xe.Verbose:xe.None:t.verbose<=xe.None?xe.None:t.verbose>=xe.VeryVerbose?xe.VeryVerbose:t.verbose|0,qt.safeTimeout=t=>{if(t!==void 0)return HM(t,2147483647)};function YM(t,e,n){let r=null;const s=new Promise(i=>{r=e(()=>{const a=new Ye(!0);i(a)},t)});return{clear:()=>n(r),promise:s}}class sS{constructor(e,n,r,s,i,a){this.property=e,this.getTime=n,this.interruptExecution=s,this.setTimeoutSafe=i,this.clearTimeoutSafe=a,this.skipAfterTime=this.getTime()+r}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,n)}shrink(e){return this.property.shrink(e)}run(e){const n=this.skipAfterTime-this.getTime();if(n<=0){const r=new Ye(this.interruptExecution);return this.isAsync()?Promise.resolve(r):r}if(this.interruptExecution&&this.isAsync()){const r=YM(n,this.setTimeoutSafe,this.clearTimeoutSafe),s=Promise.race([this.property.run(e),r.promise]);return s.then(r.clear,r.clear),s}return this.property.run(e)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const ZM=(t,e,n)=>{let r=null;const s=new Promise(i=>{r=e(()=>{i({error:new z(`Property timeout: exceeded limit of ${t} milliseconds`)})},t)});return{clear:()=>n(r),promise:s}};class XM{constructor(e,n,r,s){this.property=e,this.timeMs=n,this.setTimeoutSafe=r,this.clearTimeoutSafe=s}isAsync(){return!0}generate(e,n){return this.property.generate(e,n)}shrink(e){return this.property.shrink(e)}async run(e){const n=ZM(this.timeMs,this.setTimeoutSafe,this.clearTimeoutSafe),r=Promise.race([this.property.run(e),n.promise]);return r.then(n.clear,n.clear),r}runBeforeEach(){return Promise.resolve(this.property.runBeforeEach())}runAfterEach(){return Promise.resolve(this.property.runAfterEach())}}class iS{constructor(e){this.property=e}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,void 0)}shrink(e){return this.property.shrink(e)}run(e){return this.property.run(e)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const oS=Array.from,aS=typeof Buffer<"u"?Buffer.isBuffer:void 0,_i=JSON.stringify,uS=Number.isNaN,QM=Object.keys,tR=Object.getOwnPropertySymbols,eR=Object.getOwnPropertyDescriptor,cS=Object.getPrototypeOf,lS=Number.NEGATIVE_INFINITY,nR=Number.POSITIVE_INFINITY,Hn=Symbol.for("fast-check/toStringMethod");function qh(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&Hn in t&&typeof t[Hn]=="function"}const Jn=Symbol.for("fast-check/asyncToStringMethod");function Vh(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&Jn in t&&typeof t[Jn]=="function"}const rR=/^Symbol\((.*)\)$/;function sR(t){if(t.description!==void 0)return t.description;const e=rR.exec(us(t));return e&&e[1].length?e[1]:null}function fS(t){switch(t){case 0:return 1/t===lS?"-0":"0";case lS:return"Number.NEGATIVE_INFINITY";case nR:return"Number.POSITIVE_INFINITY";default:return t===t?us(t):"Number.NaN"}}function iR(t){let e=-1;for(const n in t){const r=Number(n);if(r!==e+1)return!0;e=r}return e+1!==t.length}function De(t,e,n){const r=[...e,t];if(typeof t=="object"&&Gn(e,t)!==-1)return"[cyclic]";if(Vh(t)){const s=n(t);if(s.state==="fulfilled")return s.value}if(qh(t))try{return t[Hn]()}catch{}switch(Nh(t)){case"[object Array]":{const s=t;if(s.length>=50&&iR(s)){const a=[];for(const c in s)uS(Number(c))||K(a,`${c}:${De(s[c],r,n)}`);return a.length!==0?`Object.assign(Array(${s.length}),{${Et(a,",")}})`:`Array(${s.length})`}const i=Et(mt(s,a=>De(a,r,n)),",");return s.length===0||s.length-1 in s?`[${i}]`:`[${i},]`}case"[object BigInt]":return`${t}n`;case"[object Boolean]":{const s=t==!0?"true":"false";return typeof t=="boolean"?s:`new Boolean(${s})`}case"[object Date]":{const s=t;return uS(_c(s))?"new Date(NaN)":`new Date(${_i(MN(s))})`}case"[object Map]":return`new Map(${De(Array.from(t),r,n)})`;case"[object Null]":return"null";case"[object Number]":return typeof t=="number"?fS(t):`new Number(${fS(Number(t))})`;case"[object Object]":{try{const a=t.toString;if(typeof a=="function"&&a!==Object.prototype.toString)return t.toString()}catch{return"[object Object]"}const s=a=>`${a==="__proto__"?'["__proto__"]':typeof a=="symbol"?`[${De(a,r,n)}]`:_i(a)}:${De(t[a],r,n)}`,i=[...cS(t)===null?["__proto__:null"]:[],...mt(QM(t),s),...mt(ON(tR(t),a=>{const c=eR(t,a);return c&&c.enumerable}),s)];return"{"+Et(i,",")+"}"}case"[object Set]":return`new Set(${De(Array.from(t),r,n)})`;case"[object String]":return typeof t=="string"?_i(t):`new String(${_i(t)})`;case"[object Symbol]":{const s=t;if(wc.keyFor(s)!==void 0)return`Symbol.for(${_i(wc.keyFor(s))})`;const i=sR(s);if(i===null)return"Symbol()";const a=i.startsWith("Symbol.")&&wc[i.substring(7)];return s===a?i:`Symbol(${_i(i)})`}case"[object Promise]":{const s=n(t);switch(s.state){case"fulfilled":return`Promise.resolve(${De(s.value,r,n)})`;case"rejected":return`Promise.reject(${De(s.value,r,n)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(t instanceof Error)return`new Error(${De(t.message,r,n)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof aS=="function"&&aS(t))return`Buffer.from(${De(oS(t.values()),r,n)})`;const s=cS(t),i=s&&s.constructor&&s.constructor.name;if(typeof i=="string"){const c=t.values();return`${i}.from(${De(oS(c),r,n)})`}break}}try{return t.toString()}catch{return Nh(t)}}function Vt(t){return De(t,[],()=>({state:"unknown",value:void 0}))}function hS(t){const e=wc(),n=[],r=new Uo;function s(){let l=null;const u=()=>{l!==null&&clearTimeout(l)};return{delay:new Promise(p=>{l=setTimeout(()=>{l=null,p(e)},0)}),cancel:u}}const i={state:"unknown",value:void 0},a=function(u){const f=u;if(r.has(f))return r.get(f);const p=s(),g=Jn in u?Promise.resolve().then(()=>u[Jn]()):u;return g.catch(()=>{}),n.push(Promise.race([g,p.delay]).then(b=>{b===e?r.set(f,{state:"pending",value:void 0}):r.set(f,{state:"fulfilled",value:b}),p.cancel()},b=>{r.set(f,{state:"rejected",value:b}),p.cancel()})),r.set(f,i),i};function c(){const l=De(t,[],a);return n.length===0?l:Promise.all(n.splice(0)).then(c)}return c()}async function Wh(t){return Promise.resolve(hS(t))}function xS(t){return t===null?new Ye:t}function oR(...t){return t[1]?t[0].then(xS):xS(t[0])}function aR(t,e){return oR(t,e)}class pS{constructor(e,n){this.property=e,this.skipRuns=n,this.coveredCases=new Map}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,n)}shrink(e){return this.property.shrink(e)}run(e){const n=Vt(e);if(this.coveredCases.has(n)){const s=this.coveredCases.get(n);return this.skipRuns?aR(s,this.property.isAsync()):s}const r=this.property.run(e);return this.coveredCases.set(n,r),r}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const mS=Date.now,zh=setTimeout,Kh=clearTimeout;function uR(t,e){let n=t;return t.isAsync()&&e.timeout!==void 0&&(n=new XM(n,e.timeout,zh,Kh)),e.unbiased&&(n=new iS(n)),e.skipAllAfterTimeLimit!==void 0&&(n=new sS(n,mS,e.skipAllAfterTimeLimit,!1,zh,Kh)),e.interruptAfterTimeLimit!==void 0&&(n=new sS(n,mS,e.interruptAfterTimeLimit,!0,zh,Kh)),e.skipEqualValues&&(n=new pS(n,!0)),e.ignoreEqualValues&&(n=new pS(n,!1)),n}var Yn;(function(t){t[t.Success=0]="Success",t[t.Skipped=-1]="Skipped",t[t.Failure=1]="Failure"})(Yn||(Yn={}));class Fc{constructor(e,n){this.verbosity=e,this.interruptedAsFailure=n,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+Ee(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?Ee(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(e,n){const r={status:e,value:n,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(e,n,r){if(this.verbosity>=xe.Verbose){const s=this.appendExecutionTree(Yn.Failure,e);this.currentLevelExecutionTrees=s.children}this.pathToFailure==null?this.pathToFailure=`${n}`:this.pathToFailure+=`:${n}`,this.value=e,this.failure=r}skip(e){this.verbosity>=xe.VeryVerbose&&this.appendExecutionTree(Yn.Skipped,e),this.pathToFailure==null&&++this.numSkips}success(e){this.verbosity>=xe.VeryVerbose&&this.appendExecutionTree(Yn.Success,e),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];const e=[];let n=this.rootExecutionTrees;for(;n.length>0&&n[n.length-1].status===Yn.Failure;){const r=n[n.length-1];e.push(r.value),n=r.children}return e}toRunDetails(e,n,r,s){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:e,counterexample:this.value,counterexamplePath:Fc.mergePaths(n,this.pathToFailure),errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()};const i=this.interruptedAsFailure||this.numSuccesses===0;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:e,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()}}}Fc.mergePaths=(t,e)=>{if(t.length===0)return e;const n=t.split(":"),r=e.split(":"),s=+n[n.length-1]+ +r[0];return[...n.slice(0,n.length-1),`${s}`,...r.slice(1)].join(":")};class dS{constructor(e,n,r,s){this.sourceValues=e,this.shrink=n,this.runExecution=new Fc(r,s),this.currentIdx=-1,this.nextValues=e}[Symbol.iterator](){return this}next(){const e=this.nextValues.next();return e.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentValue=e.value,++this.currentIdx,{done:!1,value:e.value.value_})}handleResult(e){e!=null&&typeof e=="object"&&!Ye.isFailure(e)?(this.runExecution.fail(this.currentValue.value_,this.currentIdx,e),this.currentIdx=-1,this.nextValues=this.shrink(this.currentValue)):e!=null?e.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentValue.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentValue.value_)}}class cR{constructor(e,n,r){this.initialValues=e,this.maxInitialIterations=n,this.remainingSkips=r}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){const e=this.initialValues.next();if(!e.done)return{value:e.value,done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}class je{constructor(e){this.internalRng=e.clone()}clone(){return new je(this.internalRng)}next(e){return wi(0,(1<<e)-1,this.internalRng)}nextBoolean(){return wi(0,1,this.internalRng)==1}nextInt(e,n){return wi(e??je.MIN_INT,n??je.MAX_INT,this.internalRng)}nextBigInt(e,n){return Ec(e,n,this.internalRng)}nextDouble(){const e=this.next(26),n=this.next(27);return(e*je.DBL_FACTOR+n)*je.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&typeof this.internalRng.getState=="function")return this.internalRng.getState()}}je.MIN_INT=-2147483648,je.MAX_INT=2147483647,je.DBL_FACTOR=Math.pow(2,27),je.DBL_DIVISOR=Math.pow(2,-53);function lR(t,e,n){return e.unsafeJump(),t.generate(new je(e),n)}function*gS(t,e,n,r){for(let s=0;s!==r.length;++s)yield new V(r[s],void 0);for(let s=0,i=n(e);;++s)yield lR(t,i,s)}function fR(t,e,n){return()=>t.generate(new je(e),n)}function*bS(t,e,n,r){yield*mt(r,a=>()=>new V(a,void 0));let s=0,i=n(e);for(;;)i=i.jump?i.jump():nS(i,42),yield fR(t,i,s++)}function yS(t){return t()}function SS(t,e,n){const r=e,s=t.split(":").map(a=>+a);if(s.length===0)return r.map(yS);if(!s.every(a=>!Number.isNaN(a)))throw new Error(`Unable to replay, got invalid path=${t}`);let i=r.drop(s[0]).map(yS);for(const a of s.slice(1)){const c=i.getNthOrLast(0);if(c===null)throw new Error(`Unable to replay, got wrong path=${t}`);i=n(c).drop(a)}return i}const hR=Object.assign;function xR(t){return t.length===1?`Hint: ${t[0]}`:t.map((e,n)=>`Hint (${n+1}): ${e}`).join(`
`)}function pR(t,e){return`Encountered failures were:
- ${t.map(e).join(`
- `)}`}function Gh(t,e){const n=[],r=[];for(const s of t.slice().reverse())r.push({depth:1,tree:s});for(;r.length!==0;){const s=r.pop(),i=s.tree,a=s.depth,c=i.status===Yn.Success?"\x1B[32m√\x1B[0m":i.status===Yn.Failure?"\x1B[31m×\x1B[0m":"\x1B[33m!\x1B[0m",l=Array(a).join(". ");n.push(`${l}${c} ${e(i.value)}`);for(const u of i.children.slice().reverse())r.push({depth:a+1,tree:u})}return`Execution summary:
${n.join(`
`)}`}function mR(t,e){const n=`Failed to run property, too many pre-condition failures encountered
{ seed: ${t.seed} }

Ran ${t.numRuns} time(s)
Skipped ${t.numSkips} time(s)`;let r=null;const s=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return t.verbose>=xe.VeryVerbose?r=Gh(t.executionSummary,e):K(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function dR(t){if(t instanceof z&&t.stack!==void 0)return t.stack;try{return us(t)}catch{}if(t instanceof z)try{return uM(t)}catch{}if(t!==null&&typeof t=="object")try{return Nh(t)}catch{}return"Failed to serialize errorInstance"}function gR(t,e){const r=t.runConfiguration.includeErrorInReport?`
Got ${rM(dR(t.errorInstance),/^Error: /,"error: ")}`:"",s=`Property failed after ${t.numRuns} tests
{ seed: ${t.seed}, path: "${t.counterexamplePath}", endOnFailure: true }
Counterexample: ${e(t.counterexample)}
Shrunk ${t.numShrinks} time(s)${r}`;let i=null;const a=[];return t.verbose>=xe.VeryVerbose?i=Gh(t.executionSummary,e):t.verbose===xe.Verbose?i=pR(t.failures,e):K(a,"Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:s,details:i,hints:a}}function bR(t,e){const n=`Property interrupted after ${t.numRuns} tests
{ seed: ${t.seed} }`;let r=null;const s=[];return t.verbose>=xe.VeryVerbose?r=Gh(t.executionSummary,e):K(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function Hh(t,e){if(!t.failed)return;const{message:n,details:r,hints:s}=t.counterexamplePath===null?t.interrupted?bR(t,e):mR(t,e):gR(t,e);let i=n;return r!=null&&(i+=`

${r}`),s.length>0&&(i+=`

${xR(s)}`),i}function wS(t){return Hh(t,Vt)}async function _S(t){const e=[];function n(a){const c=hS(a);return typeof c=="string"?c:(e.push(Promise.all([a,c])),"…")}const r=Hh(t,n);if(e.length===0)return r;const s=new Uo(await Promise.all(e));function i(a){const c=dr(s,a);return c!==void 0?c:Vt(a)}return Hh(t,i)}function AS(t,e){if(e.runConfiguration.includeErrorInReport)throw new z(t);const n=z,r=new n(t,{cause:e.errorInstance});return"cause"in r||hR(r,{cause:e.errorInstance}),r}function yR(t){if(t.failed)throw AS(wS(t),t)}async function SR(t){if(t.failed)throw AS(await _S(t),t)}function wR(t){return t.runConfiguration.asyncReporter?t.runConfiguration.asyncReporter(t):t.runConfiguration.reporter?t.runConfiguration.reporter(t):yR(t)}async function _R(t){return t.runConfiguration.asyncReporter?t.runConfiguration.asyncReporter(t):t.runConfiguration.reporter?t.runConfiguration.reporter(t):SR(t)}function AR(t,e,n,r,s){const i=new dS(n,e,r,s);for(const a of i){t.runBeforeEach();const c=t.run(a);t.runAfterEach(),i.handleResult(c)}return i.runExecution}async function ER(t,e,n,r,s){const i=new dS(n,e,r,s);for(const a of i){await t.runBeforeEach();const c=await t.run(a);await t.runAfterEach(),i.handleResult(c)}return i.runExecution}function ES(t,e){if(t==null||t.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(t.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");const n=qt.read({...dn(),...e});if(n.reporter!==void 0&&n.asyncReporter!==void 0)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(n.asyncReporter!==void 0&&!t.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");const r=uR(t,n),s=n.path.length===0||n.path.indexOf(":")===-1?n.numRuns:-1,i=n.numRuns*n.maxSkipsPerRun,a=(...f)=>r.shrink(...f),c=n.path.length===0?gS(r,n.seed,n.randomType,n.examples):SS(n.path,mr(bS(r,n.seed,n.randomType,n.examples)),a),l=new cR(c,s,i),u=n.endOnFailure?G.nil:a;return r.isAsync()?ER(r,u,l,n.verbose,n.markInterruptAsFailure).then(f=>f.toRunDetails(n.seed,n.path,i,n)):AR(r,u,l,n.verbose,n.markInterruptAsFailure).toRunDetails(n.seed,n.path,i,n)}function FR(t,e){const n=ES(t,e);if(t.isAsync())return n.then(_R);wR(n)}function CR(t,e){const n=Object.prototype.hasOwnProperty.call(t,"isAsync")?t:new Si(t,()=>!0);return e.unbiased===!0?new iS(n):n}function FS(t,e){const n=typeof e=="number"?{...dn(),numRuns:e}:{...dn(),...e},r=qt.read(n),s=CR(t,r),i=s.shrink.bind(s);return(r.path.length===0?mr(gS(s,r.seed,r.randomType,r.examples)):SS(r.path,mr(bS(s,r.seed,r.randomType,r.examples)),i)).take(r.numRuns).map(c=>c.value_)}function kR(t,e){return[...FS(t,e)]}function vR(t){return(Math.round(t*100)/100).toFixed(2)}function IR(t,e,n){const r=typeof n=="number"?{...dn(),numRuns:n}:{...dn(),...n},s=qt.read(r),i={};for(const u of FS(t,n)){const f=e(u),p=Array.isArray(f)?f:[f];for(const g of p)i[g]=(i[g]||0)+1}const a=Object.entries(i).sort((u,f)=>f[1]-u[1]).map(u=>[u[0],`${vR(u[1]*100/s.numRuns)}%`]),c=a.map(u=>u[0].length).reduce((u,f)=>Math.max(u,f),0),l=a.map(u=>u[1].length).reduce((u,f)=>Math.max(u,f),0);for(const u of a)s.logger(`${u[0].padEnd(c,".")}..${u[1].padStart(l,".")}`)}const TR=Object.assign;function Jh(t,e,n,r){const s=n();let i=t.clone();const a={mrng:t.clone(),biasFactor:e,history:[]},c=p=>{const g=s[a.history.length];if(g!==void 0&&g.arb===p){const y=g.value;return K(a.history,{arb:p,value:y,context:g.context,mrng:g.mrng}),i=g.mrng.clone(),y}const b=p.generate(i,e);return K(a.history,{arb:p,value:b.value_,context:b.context,mrng:i.clone()}),b.value},l=(p,...g)=>c(r(p,g)),u={values(){return mt(a.history,p=>p.value)},[se](){return Jh(t,e,n,r).value},[Hn](){return Vt(mt(a.history,p=>p.value))}},f=TR(l,u);return new V(f,a)}const Yh=Array.isArray,CS=Object.keys,OR=Object.is;function $R(t){const e=new Uo;return function(r,s){const i=dr(e,r);if(i===void 0){const l=r(...s);return cs(e,r,[{args:s,value:l}]),l}const a=i;for(const l of a)if(t(s,l.args))return l.value;const c=r(...s);return K(a,{args:s,value:c}),c}}function kS(t,e){if(t!==null&&typeof t=="object"&&e!==null&&typeof e=="object"){if(Yh(t)){if(!Yh(e)||t.length!==e.length)return!1}else if(Yh(e))return!1;if(CS(t).length!==CS(e).length)return!1;for(const n in t)if(!(n in e)||!kS(t[n],e[n]))return!1;return!0}else return OR(t,e)}class NR extends Nt{constructor(){super(...arguments),this.arbitraryCache=$R(kS)}generate(e,n){return Jh(e,n,()=>[],this.arbitraryCache)}canShrinkWithoutContext(e){return!1}shrink(e,n){if(n===void 0)return G.nil();const r=n,s=r.mrng,i=r.biasFactor,a=r.history;return U2(a.map(c=>c.arb),a.map(c=>c.value),a.map(c=>c.context)).map(c=>{function l(){const u=c.value,f=c.context;return mt(a,(p,g)=>({arb:p.arb,value:u[g],context:f[g],mrng:p.mrng}))}return Jh(s,i,l,this.arbitraryCache)})}}function MR(){return new NR}const RR=Math.floor,vS=Math.log;function BR(t){return RR(vS(t)/vS(2))}function PR(t){return t===P(0)?P(0):P(us(t).length)}function IS(t,e,n){if(t===e)return[{min:t,max:e}];if(t<0&&e>0){const a=n(-t),c=n(e);return[{min:-a,max:c},{min:e-c,max:e},{min:t,max:t+a}]}const r=n(e-t),s={min:t,max:t+r},i={min:e-r,max:e};return t<0?[i,s]:[s,i]}const DR=Math.ceil,jR=Math.floor;function TS(t){return jR(t/2)}function OS(t){return DR(t/2)}function $S(t,e,n){const r=t-e;function*s(){let a=n?void 0:e;const c=n?r:TS(r);for(let l=c;l>0;l=TS(l)){const u=l===r?e:t-l;yield new V(u,a),a=u}}function*i(){let a=n?void 0:e;const c=n?r:OS(r);for(let l=c;l<0;l=OS(l)){const u=l===r?e:t-l;yield new V(u,a),a=u}}return r>0?mr(s()):mr(i())}const NS=Math.sign,LR=Number.isInteger,UR=Object.is;class br extends Nt{constructor(e,n){super(),this.min=e,this.max=n}generate(e,n){const r=this.computeGenerateRange(e,n);return new V(e.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(e){return typeof e=="number"&&LR(e)&&!UR(e,-0)&&this.min<=e&&e<=this.max}shrink(e,n){if(!br.isValidContext(e,n)){const r=this.defaultTarget();return $S(e,r,!0)}return this.isLastChanceTry(e,n)?G.of(new V(n,void 0)):$S(e,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,n){if(n===void 0||e.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=IS(this.min,this.max,BR);if(r.length===1)return r[0];const s=e.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(e,n){return e>0?e===n+1&&e>this.min:e<0?e===n-1&&e<this.max:!1}static isValidContext(e,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&NS(e)!==NS(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const MS=Number.isInteger;function qR(t){const e=t.min!==void 0?t.min:-2147483648,n=t.max!==void 0?t.max:2147483647;return{min:e,max:n}}function St(t={}){const e=qR(t);if(e.min>e.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!MS(e.min))throw new Error("fc.integer minimum value should be an integer");if(!MS(e.max))throw new Error("fc.integer maximum value should be an integer");return new br(e.min,e.max)}const RS=new Map;function Zh(t){if(t===void 0)return{depth:0};if(typeof t!="string")return t;const e=dr(RS,t);if(e!==void 0)return e;const n={depth:0};return cs(RS,t,n),n}function BS(){return{depth:0}}class VR{constructor(e,n,r){this.arb=e,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const WR=Math.min,zR=Math.max;class KR{constructor(e,n,r,s){this.arb=e,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(e){if(e!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===e&&K(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=e-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new V(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const e=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=e.length-1,new V(e[0],void 0);const n=this.mrng.nextInt(0,e.length-1),r=this.mrng.nextInt(0,e.length-1);return this.nextIndexInSlice=WR(n,r),this.lastIndexInSlice=zR(n,r),new V(e[this.nextIndexInSlice++],void 0)}}function PS(t,e,n,r){return r===void 0||n.length===0||e.nextInt(1,r)!==1?new VR(t,e,r):new KR(t,e,n,r)}const GR=Math.floor,DS=Math.log,jS=Math.max,HR=Array.isArray;function Xh(t,e){return t===e?t:t+GR(DS(e-t)/DS(2))}class Cc extends Nt{constructor(e,n,r,s,i,a,c){super(),this.arb=e,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=a,this.customSlices=c,this.lengthArb=St({min:n,max:r}),this.depthContext=Zh(i)}preFilter(e){if(this.setBuilder===void 0)return e;const n=this.setBuilder();for(let r=0;r!==e.length;++r)n.tryAdd(e[r]);return n.getData()}static makeItCloneable(e,n){return e[se]=()=>{const r=[];for(let s=0;s!==n.length;++s)K(r,n[s].value);return this.makeItCloneable(r,n),r},e}generateNItemsNoDuplicates(e,n,r,s){let i=0;const a=e(),c=PS(this.arb,r,this.customSlices,s);for(;a.size()<n&&i<this.maxGeneratedLength;){const l=c.next();a.tryAdd(l)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(e,n,r,s){const i=jS(0,n-Xh(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(e,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(e,n,r){const s=[],i=PS(this.arb,n,this.customSlices,r);i.attemptExact(e);for(let a=0;a!==e;++a){const c=i.next();K(s,c)}return s}safeGenerateNItems(e,n,r){const s=jS(0,e-Xh(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(e,n,r)}finally{this.depthContext.depth-=s}}wrapper(e,n,r,s){const i=n?this.preFilter(e):e;let a=!1;const c=[],l=[];for(let f=0;f!==i.length;++f){const p=i[f];a=a||p.hasToBeCloned,K(c,p.value),K(l,p.context)}a&&Cc.makeItCloneable(c,i);const u={shrunkOnce:n,lengthContext:e.length===i.length&&r!==void 0?r:void 0,itemsContexts:l,startIndex:s};return new V(c,u)}generate(e,n){const r=this.applyBias(e,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,e,r.biasFactorItems):this.safeGenerateNItems(s,e,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(e,n){if(n===void 0)return{size:this.lengthArb.generate(e,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};if(e.nextInt(1,n)!==1)return{size:this.lengthArb.generate(e,void 0).value};if(e.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};const r=Xh(this.minLength,this.maxGeneratedLength);return{size:St({min:this.minLength,max:r}).generate(e,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(e){if(!HR(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let r=0;r!==e.length;++r)if(!(r in e)||!this.arb.canShrinkWithoutContext(e[r]))return!1;return this.preFilter(mt(e,r=>new V(r,void 0))).length===e.length}shrinkItemByItem(e,n,r){const s=[];for(let i=n.startIndex;i<r;++i)K(s,gr(()=>this.arb.shrink(e[i],n.itemsContexts[i]).map(a=>{const c=mt(ue(e,0,i),(u,f)=>new V(gi(u),n.itemsContexts[f])),l=mt(ue(e,i+1),(u,f)=>new V(gi(u),n.itemsContexts[f+i+1]));return[[...c,a,...l],void 0,i]})));return G.nil().join(...s)}shrinkImpl(e,n){if(e.length===0)return G.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(e.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&e.length>this.minLength+1?1:0).map(s=>{const i=e.length-s.value;return[mt(ue(e,i),(a,c)=>new V(gi(a),r.itemsContexts[c+i])),s.context,0]}).join(gr(()=>e.length>this.minLength?this.shrinkItemByItem(e,r,1):this.shrinkItemByItem(e,r,e.length))).join(e.length>this.minLength?gr(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:ue(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(ue(e,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new V(gi(e[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):G.nil())}shrink(e,n){return this.shrinkImpl(e,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const JR=Math.floor,YR=Math.min,ls=2147483647,Ai=["xsmall","small","medium","large","xlarge"],ZR=["-4","-3","-2","-1","=","+1","+2","+3","+4"],Qh="small";function XR(t,e){switch(e){case"xsmall":return JR(1.1*t)+1;case"small":return 2*t+10;case"medium":return 11*t+100;case"large":return 101*t+1e3;case"xlarge":return 1001*t+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${e}`)}}function Ko(t,e){const n=Gn(ZR,t);if(n===-1)return t;const r=Gn(Ai,e);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${e}`);const s=r+n-4;return s<0?Ai[0]:s>=Ai.length?Ai[Ai.length-1]:Ai[s]}function Go(t,e,n,r){const{baseSize:s=Qh,defaultSizeToMaxWhenMaxSpecified:i}=dn()||{},a=t!==void 0?t:r&&i?"max":s;if(a==="max")return n;const c=Ko(a,s);return YR(XR(e,c),n)}function QR(t,e){if(typeof t=="number")return 1/t;const{baseSize:n=Qh,defaultSizeToMaxWhenMaxSpecified:r}=dn()||{},s=t!==void 0?t:e&&r?"max":n;if(s==="max")return 0;switch(Ko(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function tx(t){const{baseSize:e=Qh}=dn()||{};return t===void 0?e:Ko(t,e)}function Ft(t,e={}){const n=e.size,r=e.minLength||0,s=e.maxLength,i=e.depthIdentifier,a=s!==void 0?s:ls,l=Go(n,r,a,s!==void 0),u=e.experimentalCustomSlices||[];return new Cc(t,r,l,a,i,void 0,u)}function kc(t){return t/P(2)}function LS(t,e,n){const r=t-e;function*s(){let a=n?void 0:e;const c=n?r:kc(r);for(let l=c;l>0;l=kc(l)){const u=t-l;yield new V(u,a),a=u}}function*i(){let a=n?void 0:e;const c=n?r:kc(r);for(let l=c;l<0;l=kc(l)){const u=t-l;yield new V(u,a),a=u}}return r>0?mr(s()):mr(i())}class ex extends Nt{constructor(e,n){super(),this.min=e,this.max=n}generate(e,n){const r=this.computeGenerateRange(e,n);return new V(e.nextBigInt(r.min,r.max),void 0)}computeGenerateRange(e,n){if(n===void 0||e.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=IS(this.min,this.max,PR);if(r.length===1)return r[0];const s=e.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}canShrinkWithoutContext(e){return typeof e=="bigint"&&this.min<=e&&e<=this.max}shrink(e,n){if(!ex.isValidContext(e,n)){const r=this.defaultTarget();return LS(e,r,!0)}return this.isLastChanceTry(e,n)?G.of(new V(n,void 0)):LS(e,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?P(0):this.min<0?this.max:this.min}isLastChanceTry(e,n){return e>0?e===n+P(1)&&e>this.min:e<0?e===n-P(1)&&e<this.max:!1}static isValidContext(e,n){if(n===void 0)return!1;if(typeof n!="bigint")throw new Error("Invalid context type passed to BigIntArbitrary (#1)");const r=e>0&&n<0||e<0&&n>0;if(n!==P(0)&&r)throw new Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}}function t7(t){const n=P(-1)<<P(255),r=(P(1)<<P(255))-P(1),s=t.min,i=t.max;return{min:s!==void 0?s:n-(i!==void 0&&i<P(0)?i*i:P(0)),max:i!==void 0?i:r+(s!==void 0&&s>P(0)?s*s:P(0))}}function e7(t){return t[0]===void 0?{}:t[1]===void 0?t[0]:{min:t[0],max:t[1]}}function yr(...t){const e=t7(e7(t));if(e.min>e.max)throw new Error("fc.bigInt expects max to be greater than or equal to min");return new ex(e.min,e.max)}const n7=Object.getPrototypeOf;class Ho extends Nt{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return this.arb.shrink(e,n)}}function US(t){return n7(t)===Ho.prototype&&t.generate===Ho.prototype.generate&&t.canShrinkWithoutContext===Ho.prototype.canShrinkWithoutContext&&t.shrink===Ho.prototype.shrink?t:new Ho(t)}function r7(t){return t===1}function s7(t){if(typeof t!="boolean")throw new Error("Unsupported input type");return t===!0?1:0}function Jo(){return US(St({min:0,max:1}).map(r7,s7))}const Yo=Object.is;class i7{constructor(e){this.values=e,this.fastValues=new Sc(this.values);let n=!1,r=!1;if(_2(this.fastValues,0))for(let s=0;s!==this.values.length;++s){const i=this.values[s];n=n||Yo(i,-0),r=r||Yo(i,0)}this.hasMinusZero=n,this.hasPlusZero=r}has(e){return e===0?Yo(e,0)?this.hasPlusZero:this.hasMinusZero:_2(this.fastValues,e)}}class qS extends Nt{constructor(e){super(),this.values=e}generate(e,n){const r=this.values.length===1?0:e.nextInt(0,this.values.length-1),s=this.values[r];return as(s)?new V(s,r,()=>s[se]()):new V(s,r)}canShrinkWithoutContext(e){return this.values.length===1?Yo(this.values[0],e):(this.fastValues===void 0&&(this.fastValues=new i7(this.values)),this.fastValues.has(e))}shrink(e,n){return n===0||Yo(e,this.values[0])?G.nil():G.of(new V(this.values[0],0))}}function Tn(...t){if(t.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new qS(t)}function o7(t){return!t||!t.withBigInt?Tn(!1,null,void 0,0,"",NaN):Tn(!1,null,void 0,0,"",NaN,P(0))}function ie(t){return new qS([t])}class nx{constructor(){this.receivedLogs=[]}log(e){this.receivedLogs.push(e)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[se](){return new nx}}function a7(){return ie(new nx)}const u7=Number.NaN,c7=Number.isNaN;function VS(t){return new yc(t)}function WS(t){if(!(t instanceof yc)||t.constructor!==yc)throw new z("Not a valid value for date unmapper");return _c(t)}function l7(t){return e=>e===t?new yc(u7):VS(e)}function f7(t){return e=>{const n=WS(e);return c7(n)?t:n}}const zS=Number.isNaN;function KS(t={}){const e=t.min!==void 0?_c(t.min):-864e13,n=t.max!==void 0?_c(t.max):864e13,r=t.noInvalidDate;if(zS(e))throw new Error("fc.date min must be valid instance of Date");if(zS(n))throw new Error("fc.date max must be valid instance of Date");if(e>n)throw new Error("fc.date max must be greater or equal to min");if(r)return St({min:e,max:n}).map(VS,WS);const s=n+1;return St({min:e,max:n+1}).map(l7(s),f7(s))}const h7=Symbol.iterator,x7=Array.isArray,p7=Object.is;class rx extends Nt{constructor(e,n){super(),this.arb=e,this.numValues=n}generate(e,n){const r=[];if(this.numValues<=0)return this.wrapper(r);for(let s=0;s!==this.numValues-1;++s)K(r,this.arb.generate(e.clone(),n));return K(r,this.arb.generate(e,n)),this.wrapper(r)}canShrinkWithoutContext(e){if(!x7(e)||e.length!==this.numValues)return!1;if(e.length===0)return!0;for(let n=1;n<e.length;++n)if(!p7(e[0],e[n]))return!1;return this.arb.canShrinkWithoutContext(e[0])}shrink(e,n){return e.length===0?G.nil():new G(this.shrinkImpl(e,n!==void 0?n:[])).map(r=>this.wrapper(r))}*shrinkImpl(e,n){const r=mt(e,(i,a)=>this.arb.shrink(i,n[a])[h7]());let s=mt(r,i=>i.next());for(;!s[0].done;)yield mt(s,i=>i.value),s=mt(r,i=>i.next())}static makeItCloneable(e,n){return e[se]=()=>{const r=[];for(let s=0;s!==n.length;++s)K(r,n[s].value);return this.makeItCloneable(r,n),r},e}wrapper(e){let n=!1;const r=[],s=[];for(let i=0;i!==e.length;++i){const a=e[i];n=n||a.hasToBeCloned,K(r,a.value),K(s,a.context)}return n&&rx.makeItCloneable(r,e),new V(r,s)}}function m7(t,e){return new rx(t,e)}class GS{constructor(e){this.isEqual=e,this.data=[]}tryAdd(e){for(let n=0;n!==this.data.length;++n)if(this.isEqual(this.data[n],e))return!1;return K(this.data,e),!0}size(){return this.data.length}getData(){return this.data}}const d7=Number.isNaN;class g7{constructor(e){this.selector=e,this.selectedItemsExceptNaN=new Sc,this.data=[]}tryAdd(e){const n=this.selector(e);if(d7(n))return K(this.data,e),!0;const r=this.selectedItemsExceptNaN.size;return Th(this.selectedItemsExceptNaN,n),r!==this.selectedItemsExceptNaN.size?(K(this.data,e),!0):!1}size(){return this.data.length}getData(){return this.data}}const b7=Object.is;class y7{constructor(e){this.selector=e,this.selectedItemsExceptMinusZero=new Sc,this.data=[],this.hasMinusZero=!1}tryAdd(e){const n=this.selector(e);if(b7(n,-0))return this.hasMinusZero?!1:(K(this.data,e),this.hasMinusZero=!0,!0);const r=this.selectedItemsExceptMinusZero.size;return Th(this.selectedItemsExceptMinusZero,n),r!==this.selectedItemsExceptMinusZero.size?(K(this.data,e),!0):!1}size(){return this.data.length}getData(){return this.data}}class S7{constructor(e){this.selector=e,this.selectedItems=new Sc,this.data=[]}tryAdd(e){const n=this.selector(e),r=this.selectedItems.size;return Th(this.selectedItems,n),r!==this.selectedItems.size?(K(this.data,e),!0):!1}size(){return this.data.length}getData(){return this.data}}function w7(t){if(typeof t.comparator=="function"){if(t.selector===void 0){const c=t.comparator,l=(u,f)=>c(u.value_,f.value_);return()=>new GS(l)}const r=t.comparator,s=t.selector,i=c=>s(c.value_),a=(c,l)=>r(i(c),i(l));return()=>new GS(a)}const e=t.selector||(r=>r),n=r=>e(r.value_);switch(t.comparator){case"IsStrictlyEqual":return()=>new g7(n);case"SameValueZero":return()=>new S7(n);case"SameValue":case void 0:return()=>new y7(n)}}function Zo(t,e={}){const n=e.minLength!==void 0?e.minLength:0,r=e.maxLength!==void 0?e.maxLength:ls,s=Go(e.size,n,r,e.maxLength!==void 0),i=e.depthIdentifier,a=w7(e),c=new Cc(t,n,s,r,i,a,[]);return n===0?c:c.filter(l=>l.length>=n)}const _7=Object.create,A7=Object.defineProperty,E7=Object.getOwnPropertyDescriptor,F7=Object.getPrototypeOf,C7=Object.getOwnPropertySymbols,k7=Object.getOwnPropertyNames,v7=Object.entries;function I7(t){const e=t[1]?_7(null):{};for(const n of t[0])A7(e,n[0],{enumerable:!0,configurable:!0,writable:!0,value:n[1]});return e}function T7(t){return function(n){const r=E7(t,n);return r!==void 0&&!!r.configurable&&!!r.enumerable&&!!r.writable&&r.get===void 0&&r.set===void 0}}function O7(t){if(typeof t!="object"||t===null)throw new z("Incompatible instance received: should be a non-null object");const e=F7(t)===null,n="constructor"in t&&t.constructor===Object;if(!e&&!n)throw new z("Incompatible instance received: should be of exact type Object");if(C7(t).length>0)throw new z("Incompatible instance received: should contain symbols");if(!g2(k7(t),T7(t)))throw new z("Incompatible instance received: should contain only c/e/w properties without get/set");return[v7(t),e]}function $7(t){return t[0]}function sx(t,e,n={}){const r=!!n.noNullPrototype;return it(Zo(it(t,e),{minLength:n.minKeys,maxLength:n.maxKeys,size:n.size,selector:$7,depthIdentifier:n.depthIdentifier}),r?ie(!1):Jo()).map(I7,O7)}const N7=Number.POSITIVE_INFINITY,M7=Number.MAX_SAFE_INTEGER,R7=Number.isInteger,B7=Math.floor,P7=Math.pow,D7=Math.min;class Xo extends Nt{static from(e,n,r){if(e.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let a=0;a!==e.length;++a){if(e[a].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const l=e[a].weight;if(s+=l,!R7(l))throw new Error(`${r} expects weights to be integer values`);if(l<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:QR(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:N7,withCrossShrink:!!n.withCrossShrink};return new Xo(e,i,Zh(n.depthIdentifier))}constructor(e,n,r){super(),this.warbs=e,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==e.length;++i)s+=e[i].weight,K(this.cumulatedWeights,s);this.totalWeight=s}generate(e,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(e,0,n);const r=e.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(e,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(e){return this.canShrinkWithoutContextIndex(e)!==-1}shrink(e,n){if(n!==void 0){const s=n,i=s.selectedIndex,a=s.originalBias,l=this.warbs[i].arbitrary.shrink(e,s.originalContext).map(u=>this.mapIntoValue(i,u,null,a));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,a));const u=s.cachedGeneratedForFirst;return G.of(u).join(l)}return l}const r=this.canShrinkWithoutContextIndex(e);return r===-1?G.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(e,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(e){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(e)||this.warbs[0].fallbackValue===void 0)return G.nil()}finally{--this.context.depth}const n=new V(this.warbs[0].fallbackValue.default,void 0);return G.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(e){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(e)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(e))return n}return-1}finally{--this.context.depth}}mapIntoValue(e,n,r,s){const i={selectedIndex:e,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new V(n.value,i)}safeGenerateForIndex(e,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(e,r),i=this.mustFallbackToFirstInShrink(n)?e.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(e){return e!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const e=this.constraints.depthBias;if(e<=0||this.warbs[0].weight===0)return 0;const n=B7(P7(1+e,this.context.depth))-1;return-D7(this.totalWeight*n,M7)||0}}function j7(t){return t!=null&&typeof t=="object"&&!("generate"in t)&&!("arbitrary"in t)&&!("weight"in t)}function HS(t){return Jy(t)?{arbitrary:t,weight:1}:t}function oe(...t){const e=t[0];if(j7(e)){const r=mt(ue(t,1),HS);return Xo.from(r,e,"fc.oneof")}const n=mt(t,HS);return Xo.from(n,{},"fc.oneof")}const L7=Number.isInteger;function Sr(t){const e=typeof t=="number"?t:t&&t.max!==void 0?t.max:2147483647;if(e<0)throw new Error("fc.nat value should be greater than or equal to 0");if(!L7(e))throw new Error("fc.nat maximum value should be an integer");return new br(0,e)}const U7=Object.is;function q7(t){let e=0;const n=[];for(const r of t){const s=e;e=s+r.num;const i=e-1;n.push({from:s,to:i,entry:r})}return n}function V7(t,e){let n=0,r=t.length;for(;r-n>1;){const s=~~((n+r)/2);e<t[s].from?r=s:n=s}return t[n]}function W7(t){const e=q7(t);return function(r){const s=V7(e,r);return s.entry.build(r-s.from)}}function z7(t){const e={mapping:new Uo,negativeZeroIndex:void 0};let n=0;for(let r=0;r!==t.length;++r){const s=t[r];for(let i=0;i!==s.num;++i){const a=s.build(i);a===0&&1/a===Kn.NEGATIVE_INFINITY?e.negativeZeroIndex=n:cs(e.mapping,a,n),++n}}return e}function K7(t){let e=null;return function(r){e===null&&(e=z7(t));const s=U7(r,-0)?e.negativeZeroIndex:dr(e.mapping,r);if(s===void 0)throw new z("Unknown value encountered cannot be built using this mapToConstant");return s}}function G7(t){if(t.length===0)throw new z("fc.mapToConstant expects at least one option");let e=0;for(let n=0;n!==t.length;++n){if(t[n].num<0)throw new z("fc.mapToConstant expects all options to have a number of entries greater or equal to zero");e+=t[n].num}if(e===0)throw new z("fc.mapToConstant expects at least one choice among options");return e}function Qo(...t){const e=G7(t);return Sr({max:e-1}).map(W7(t),K7(t))}function JS(t,e,n,r){if(e.length===0)return n>0?void 0:[];if(r<=0)return;const s=[{endIndexChunks:0,nextStartIndex:1,chunks:[]}];for(;s.length>0;){const i=p2(s);for(let a=i.nextStartIndex;a<=e.length;++a){const c=Mt(e,i.endIndexChunks,a);if(t.canShrinkWithoutContext(c)){const l=[...i.chunks,c];if(a===e.length){if(l.length<n)break;return l}K(s,{endIndexChunks:i.endIndexChunks,nextStartIndex:a+1,chunks:i.chunks}),l.length<r&&K(s,{endIndexChunks:a,nextStartIndex:a+1,chunks:l});break}}}}function H7(t){return Et(t,"")}function YS(t){return t.minLength!==void 0?t.minLength:0}function ZS(t){return t.maxLength!==void 0?t.maxLength:ls}function J7(t,e){return YS(e)<=t.length&&t.length<=ZS(e)}function Y7(t,e){return function(r){if(typeof r!="string")throw new z("Unsupported value");const s=JS(t,r,YS(e),ZS(e));if(s===void 0)throw new z("Unable to unmap received string");return s}}const XS=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function Z7(t,e,n){let r;try{r=n(t)}catch{return}for(const s of r)if(!e.canShrinkWithoutContext(s))return;return r}function X7(t,e){const n=[];for(const r of XS){const s=Z7(r,t,e);s!==void 0&&K(n,s)}return n}const QS=new WeakMap;function Q7(t){const e=[];for(const n of XS){const r=JS(t,n,0,ls);r!==void 0&&K(e,r)}return e}function tB(t,e){let n=LN(QS,t);n===void 0&&(n=Q7(t),jN(QS,t,n));const r=[];for(const s of n)J7(s,e)&&K(r,s);return r}const eB=[[0,127]],nB=[[0,55295],[57344,1114111]],rB=[[32,126],[160,172],[174,767],[880,887],[890,895],[900,906],[908],[910,929],[931,1154],[1162,1327],[1329,1366],[1369,1418],[1421,1423],[1470],[1472],[1475],[1478],[1488,1514],[1519,1524],[1542,1551],[1563],[1565,1610],[1632,1647],[1649,1749],[1758],[1765,1766],[1769],[1774,1805],[1808],[1810,1839],[1869,1957],[1969],[1984,2026],[2036,2042],[2046,2069],[2074],[2084],[2088],[2096,2110],[2112,2136],[2142],[2144,2154],[2160,2190],[2208,2249],[2308,2361],[2365],[2384],[2392,2401],[2404,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482],[2486,2489],[2493],[2510],[2524,2525],[2527,2529],[2534,2557],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2654],[2662,2671],[2674,2676],[2678],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749],[2768],[2784,2785],[2790,2801],[2809],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877],[2908,2909],[2911,2913],[2918,2935],[2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024],[3046,3066],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133],[3160,3162],[3165],[3168,3169],[3174,3183],[3191,3200],[3204,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261],[3293,3294],[3296,3297],[3302,3311],[3313,3314],[3332,3340],[3342,3344],[3346,3386],[3389],[3407],[3412,3414],[3416,3425],[3430,3455],[3461,3478],[3482,3505],[3507,3515],[3517],[3520,3526],[3558,3567],[3572],[3585,3632],[3634],[3647,3654],[3663,3675],[3713,3714],[3716],[3718,3722],[3724,3747],[3749],[3751,3760],[3762],[3773],[3776,3780],[3782],[3792,3801],[3804,3807],[3840,3863],[3866,3892],[3894],[3896],[3898,3901],[3904,3911],[3913,3948],[3973],[3976,3980],[4030,4037],[4039,4044],[4046,4058],[4096,4138],[4159,4181],[4186,4189],[4193],[4197,4198],[4206,4208],[4213,4225],[4238],[4240,4249],[4254,4293],[4295],[4301],[4304,4351],[4608,4680],[4682,4685],[4688,4694],[4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4960,4988],[4992,5017],[5024,5109],[5112,5117],[5120,5788],[5792,5880],[5888,5905],[5919,5937],[5941,5942],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6100,6108],[6112,6121],[6128,6137],[6144,6154],[6160,6169],[6176,6264],[6272,6276],[6279,6312],[6314],[6320,6389],[6400,6430],[6464],[6468,6509],[6512,6516],[6528,6571],[6576,6601],[6608,6618],[6622,6678],[6686,6740],[6784,6793],[6800,6809],[6816,6829],[6917,6963],[6981,6988],[6992,7018],[7028,7038],[7043,7072],[7086,7141],[7164,7203],[7227,7241],[7245,7304],[7312,7354],[7357,7367],[7379],[7401,7404],[7406,7411],[7413,7414],[7418],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[8192,8202],[8208,8233],[8239,8287],[8304,8305],[8308,8334],[8336,8348],[8352,8384],[8448,8587],[8592,9254],[9280,9290],[9312,11123],[11126,11157],[11159,11502],[11506,11507],[11513,11557],[11559],[11565],[11568,11623],[11631,11632],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11776,11869],[11904,11929],[11931,12019],[12032,12245],[12272,12329],[12336,12351],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12771],[12783,12830],[12832,13312],[19903,19968],[40959,42124],[42128,42182],[42192,42539],[42560,42606],[42611],[42622,42653],[42656,42735],[42738,42743],[42752,42954],[42960,42961],[42963],[42965,42969],[42994,43009],[43011,43013],[43015,43018],[43020,43042],[43048,43051],[43056,43065],[43072,43127],[43138,43187],[43214,43225],[43250,43262],[43264,43301],[43310,43334],[43359],[43396,43442],[43457,43469],[43471,43481],[43486,43492],[43494,43518],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43612,43642],[43646,43695],[43697],[43701,43702],[43705,43709],[43712],[43714],[43739,43754],[43760,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43883],[43888,44002],[44011],[44016,44025],[44032],[55203],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285],[64287,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64450],[64467,64911],[64914,64967],[64975],[65008,65023],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65136,65140],[65142,65276],[65281,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65504,65510],[65512,65518],[65532,65533],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65792,65794],[65799,65843],[65847,65934],[65936,65948],[65952],[66e3,66044],[66176,66204],[66208,66256],[66273,66299],[66304,66339],[66349,66378],[66384,66421],[66432,66461],[66463,66499],[66504,66517],[66560,66717],[66720,66729],[66736,66771],[66776,66811],[66816,66855],[66864,66915],[66927,66938],[66940,66954],[66956,66962],[66964,66965],[66967,66977],[66979,66993],[66995,67001],[67003,67004],[67072,67382],[67392,67413],[67424,67431],[67456,67461],[67463,67504],[67506,67514],[67584,67589],[67592],[67594,67637],[67639,67640],[67644],[67647,67669],[67671,67742],[67751,67759],[67808,67826],[67828,67829],[67835,67867],[67871,67897],[67903],[67968,68023],[68028,68047],[68050,68096],[68112,68115],[68117,68119],[68121,68149],[68160,68168],[68176,68184],[68192,68255],[68288,68324],[68331,68342],[68352,68405],[68409,68437],[68440,68466],[68472,68497],[68505,68508],[68521,68527],[68608,68680],[68736,68786],[68800,68850],[68858,68899],[68912,68921],[69216,69246],[69248,69289],[69293],[69296,69297],[69376,69415],[69424,69445],[69457,69465],[69488,69505],[69510,69513],[69552,69579],[69600,69622],[69635,69687],[69703,69709],[69714,69743],[69745,69746],[69749],[69763,69807],[69819,69820],[69822,69825],[69840,69864],[69872,69881],[69891,69926],[69942,69956],[69959],[69968,70002],[70004,70006],[70019,70066],[70081],[70084,70088],[70093],[70096,70111],[70113,70132],[70144,70161],[70163,70187],[70200,70205],[70207,70208],[70272,70278],[70280],[70282,70285],[70287,70301],[70303,70313],[70320,70366],[70384,70393],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70461],[70480],[70493,70497],[70656,70708],[70727,70747],[70749],[70751,70753],[70784,70831],[70852,70855],[70864,70873],[71040,71086],[71105,71131],[71168,71215],[71233,71236],[71248,71257],[71264,71276],[71296,71338],[71352,71353],[71360,71369],[71424,71450],[71472,71494],[71680,71723],[71739],[71840,71922],[71935,71942],[71945],[71948,71955],[71957,71958],[71960,71983],[72004,72006],[72016,72025],[72096,72103],[72106,72144],[72161,72163],[72192],[72203,72242],[72255,72262],[72272],[72284,72323],[72346,72354],[72368,72440],[72448,72457],[72704,72712],[72714,72750],[72768,72773],[72784,72812],[72816,72847],[72960,72966],[72968,72969],[72971,73008],[73040,73049],[73056,73061],[73063,73064],[73066,73097],[73112],[73120,73129],[73440,73458],[73463,73464],[73476,73488],[73490,73523],[73539,73561],[73648],[73664,73713],[73727,74649],[74752,74862],[74864,74868],[74880,75075],[77712,77810],[77824,78895],[78913,78918],[82944,83526],[92160,92728],[92736,92766],[92768,92777],[92782,92862],[92864,92873],[92880,92909],[92917],[92928,92975],[92983,92997],[93008,93017],[93019,93025],[93027,93047],[93053,93071],[93760,93850],[93952,94026],[94032],[94099,94111],[94176,94179],[94208],[100343],[100352,101589],[101632],[101640],[110576,110579],[110581,110587],[110589,110590],[110592,110882],[110898],[110928,110930],[110933],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[113820],[113823],[118608,118723],[118784,119029],[119040,119078],[119081,119140],[119146,119148],[119171,119172],[119180,119209],[119214,119274],[119296,119361],[119365],[119488,119507],[119520,119539],[119552,119638],[119648,119672],[119808,119892],[119894,119964],[119966,119967],[119970],[119973,119974],[119977,119980],[119982,119993],[119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],[120134],[120138,120144],[120146,120485],[120488,120779],[120782,121343],[121399,121402],[121453,121460],[121462,121475],[121477,121483],[122624,122654],[122661,122666],[122928,122989],[123136,123180],[123191,123197],[123200,123209],[123214,123215],[123536,123565],[123584,123627],[123632,123641],[123647],[124112,124139],[124144,124153],[124896,124902],[124904,124907],[124909,124910],[124912,124926],[124928,125124],[125127,125135],[125184,125251],[125259],[125264,125273],[125278,125279],[126065,126132],[126209,126269],[126464,126467],[126469,126495],[126497,126498],[126500],[126503],[126505,126514],[126516,126519],[126521],[126523],[126530],[126535],[126537],[126539],[126541,126543],[126545,126546],[126548],[126551],[126553],[126555],[126557],[126559],[126561,126562],[126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[126704,126705],[126976,127019],[127024,127123],[127136,127150],[127153,127167],[127169,127183],[127185,127221],[127232,127405],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127994],[128e3,128727],[128732,128748],[128752,128764],[128768,128886],[128891,128985],[128992,129003],[129008],[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],[129200,129201],[129280,129619],[129632,129645],[129648,129660],[129664,129672],[129680,129725],[129727,129733],[129742,129755],[129760,129768],[129776,129784],[129792,129938],[129940,129994],[130032,130041],[131072],[173791],[173824],[177977],[177984],[178205],[178208],[183969],[183984],[191456],[191472],[192093],[194560,195101],[196608],[201546],[201552],[205743]],sB=[[192,197],[199,207],[209,214],[217,221],[224,229],[231,239],[241,246],[249,253],[255,271],[274,293],[296,304],[308,311],[313,318],[323,328],[332,337],[340,357],[360,382],[416,417],[431,432],[461,476],[478,483],[486,496],[500,501],[504,539],[542,543],[550,563],[901,902],[904,906],[908],[910,912],[938,944],[970,974],[979,980],[1024,1025],[1027],[1031],[1036,1038],[1049],[1081],[1104,1105],[1107],[1111],[1116,1118],[1142,1143],[1217,1218],[1232,1235],[1238,1239],[1242,1247],[1250,1255],[1258,1269],[1272,1273],[1570,1574],[1728],[1730],[1747],[2345],[2353],[2356],[2392,2399],[2524,2525],[2527],[2611],[2614],[2649,2651],[2654],[2908,2909],[2964],[3907],[3917],[3922],[3927],[3932],[3945],[4134],[6918],[6920],[6922],[6924],[6926],[6930],[7680,7833],[7835],[7840,7929],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8048],[8050],[8052],[8054],[8056],[8058],[8060],[8064,8116],[8118,8122],[8124],[8129,8132],[8134,8136],[8138],[8140,8146],[8150,8154],[8157,8162],[8164,8170],[8172,8173],[8178,8180],[8182,8184],[8186],[8188],[8602,8603],[8622],[8653,8655],[8708],[8713],[8716],[8740],[8742],[8769],[8772],[8775],[8777],[8800],[8802],[8813,8817],[8820,8821],[8824,8825],[8832,8833],[8836,8837],[8840,8841],[8876,8879],[8928,8931],[8938,8941],[10972],[12364],[12366],[12368],[12370],[12372],[12374],[12376],[12378],[12380],[12382],[12384],[12386],[12389],[12391],[12393],[12400,12401],[12403,12404],[12406,12407],[12409,12410],[12412,12413],[12436],[12446],[12460],[12462],[12464],[12466],[12468],[12470],[12472],[12474],[12476],[12478],[12480],[12482],[12485],[12487],[12489],[12496,12497],[12499,12500],[12502,12503],[12505,12506],[12508,12509],[12532],[12535,12538],[12542],[44032],[55203],[64285],[64287],[64298,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64334],[69786],[69788],[69803],[119134,119140],[119227,119232]],tw=String.fromCodePoint,iB=Math.min,oB=Math.max;function ew(t){if(t.length===1){const n=tw(t[0]);return{num:1,build:()=>n}}const e=t[0];return{num:t[1]-t[0]+1,build:n=>tw(e+n)}}function nw(t,e){const n=[];let r=0,s=0;for(;r<t.length&&s<e.length;){const i=t[r],a=i[0],c=i.length===1?i[0]:i[1],l=e[s],u=l[0],f=l.length===1?l[0]:l[1];if(c<u)r+=1;else if(f<a)s+=1;else{let p=oB(a,u);const g=iB(c,f);if(n.length>=1){const b=n[n.length-1];(b.length===1?b[0]:b[1])+1===p&&(p=b[0],p2(n))}K(n,p===g?[p]:[p,g]),c<=g&&(r+=1),f<=g&&(s+=1)}}return n}const rw=Object.create(null);function aB(t){switch(t){case"full":return nB;case"ascii":return eB}}function uB(t,e){const n=`${t}:${e}`,r=rw[n];if(r!==void 0)return r;const s=aB(e),i=t==="binary"?s:nw(s,rB),a=[];for(const l of i)K(a,ew(l));if(t==="grapheme"){const l=nw(s,sB);for(const u of l){const f=ew(u);K(a,{num:f.num,build:p=>nM(f.build(p),"NFD")})}}const c=Qo(...a);return rw[n]=c,c}function ta(t,e){return uB(t,e)}function cB(t){if(typeof t.unit=="object")return t.unit;switch(t.unit){case"grapheme":return ta("grapheme","full");case"grapheme-composite":return ta("composite","full");case"grapheme-ascii":case void 0:return ta("grapheme","ascii");case"binary":return ta("binary","full");case"binary-ascii":return ta("binary","ascii")}}function Wt(t={}){const e=cB(t),n=Y7(e,t),r=tB(e,t),s={...t,experimentalCustomSlices:r};return Ft(e,s).map(H7,n)}const sw=Map,ix=String.fromCharCode,ox={num:26,build:t=>ix(t+97)},lB={num:26,build:t=>ix(t+65)},iw={num:10,build:t=>ix(t+48)};function fB(t){const e=yN(t);return t!==e?e:`%${qo(bi(t,0),16)}`}function hB(t){if(typeof t!="string")throw new Error("Unsupported");return decodeURIComponent(t)}const xB=()=>Wt({unit:"binary",minLength:1,maxLength:1}).map(fB,hB);let ax;function pB(){return ax===void 0&&(ax=Qo(ox)),ax}let vc;function ux(t){vc===void 0&&(vc=new sw);let e=dr(vc,t);return e===void 0&&(e=Qo(ox,iw,{num:t.length,build:n=>t[n]}),cs(vc,t,e)),e}function mB(t){return Qo(ox,lB,iw,{num:t.length,build:e=>t[e]})}let Ic;function cx(t){Ic===void 0&&(Ic=new sw);let e=dr(Ic,t);return e===void 0&&(e=oe({weight:10,arbitrary:mB(t)},{weight:1,arbitrary:xB()}),cs(Ic,t,e)),e}function fs(t,e={}){const n=e.freq==null?6:e.freq,r=Ac(e,"nil")?e.nil:null,i=[{arbitrary:ie(r),weight:1,fallbackValue:{default:r}},{arbitrary:t,weight:n-1}],a={withCrossShrink:!0,depthSize:e.depthSize,maxDepth:e.maxDepth,depthIdentifier:e.depthIdentifier};return Xo.from(i,a,"fc.option")}function dB(t){return t.length>63?!1:t.length<4||t[0]!=="x"||t[1]!=="n"||t[2]!=="-"||t[3]!=="-"}const ow=Symbol("adapted-value");function gB(t,e){const n=e(t.value_);return n.adapted?new V(n.value,ow):t}class bB extends Nt{constructor(e,n){super(),this.sourceArb=e,this.adapter=n,this.adaptValue=r=>gB(r,n)}generate(e,n){const r=this.sourceArb.generate(e,n);return this.adaptValue(r)}canShrinkWithoutContext(e){return this.sourceArb.canShrinkWithoutContext(e)&&!this.adapter(e).adapted}shrink(e,n){return n===ow?this.sourceArb.canShrinkWithoutContext(e)?this.sourceArb.shrink(e,void 0).map(this.adaptValue):G.nil():this.sourceArb.shrink(e,n).map(this.adaptValue)}}function aw(t,e){return new bB(t,e)}function yB([t,e]){return e===null?t:`${t}${e[0]}${e[1]}`}function SB(t){if(typeof t!="string"||t.length===0)throw new Error("Unsupported");return t.length===1?[t[0],null]:[t[0],[Mt(t,1,t.length-1),t[t.length-1]]]}function wB(t){const e=ux(""),n=ux("-");return it(e,fs(it(Wt({unit:n,size:t,maxLength:61}),e))).map(yB,SB).filter(dB)}function _B(t){return`${Et(t[0],".")}.${t[1]}`}function AB(t){if(typeof t!="string")throw new Error("Unsupported type");const e=t.lastIndexOf(".");return[Ee(Mt(t,0,e),"."),Mt(t,e+1)]}function EB(t){const[e,n]=t;let r=n.length;for(let s=0;s!==e.length;++s)if(r+=1+e[s].length,r>255)return{adapted:!0,value:[ue(e,0,s),n]};return{adapted:!1,value:t}}function lx(t={}){const e=tx(t.size),n=Ko("-1",e),r=pB(),s=Wt({unit:r,minLength:2,maxLength:63,size:n});return aw(it(Ft(wB(e),{size:n,minLength:1,maxLength:127}),s),EB).map(_B,AB)}function FB(t){let e=t[0].length;for(let n=1;n!==t.length;++n)if(e+=1+t[n].length,e>64)return{adapted:!0,value:ue(t,0,n)};return{adapted:!1,value:t}}function CB(t){return Et(t,".")}function kB(t){if(typeof t!="string")throw new Error("Unsupported");return Ee(t,".")}function vB(t){return`${t[0]}@${t[1]}`}function IB(t){if(typeof t!="string")throw new Error("Unsupported");return Ee(t,"@",2)}function TB(t={}){const e=ux("!#$%&'*+-/=?^_`{|}~"),n=aw(Ft(Wt({unit:e,minLength:1,maxLength:64,size:t.size}),{minLength:1,maxLength:32,size:t.size}),FB).map(CB,kB);return it(n,lx({size:t.size})).map(vB,IB)}const OB=Kn.NEGATIVE_INFINITY,fx=Kn.POSITIVE_INFINITY,uw=Kn.EPSILON,hx=P(2146435072)*P(4294967296),$B=-hx-P(1),cw=4503599627370496,NB=P(0xfffffffffffff),lw=P("9007199254740992"),xx=new Float64Array(1),fw=new Uint32Array(xx.buffer,xx.byteOffset);function MB(t){return xx[0]=t,[fw[1],fw[0]]}function RB(t){const{0:e,1:n}=MB(t),r=e>>>31,s=e>>>20&2047,i=(e&1048575)*4294967296+n,a=s===0?-1022:s-1023;let c=s===0?0:1;return c+=i*uw,c*=r===0?1:-1,{exponent:a,significand:c}}function hw(t,e){if(t===-1022)return P(e*cw);const n=P((e-1)*cw),r=P(t+1023)<<P(52);return n+r}function px(t){if(t===fx)return hx;if(t===OB)return $B;const e=RB(t),n=e.exponent,r=e.significand;return t>0||t===0&&1/t===fx?hw(n,r):-hw(n,-r)-P(1)}function mx(t){if(t<0)return-mx(-t-P(1));if(t===hx)return fx;if(t<lw)return Kn(t)*2**-1074;const e=t-lw,n=-1021+Kn(e>>P(52));return(1+Kn(e&NB)*uw)*2**n}const xw=Number.isInteger,pw=Object.is,dx=Number.NEGATIVE_INFINITY,gx=Number.POSITIVE_INFINITY;function mw(t,e,n,r){const{noDefaultInfinity:s=!1,minExcluded:i=!1,maxExcluded:a=!1,min:c=s?-e:dx,max:l=s?e:gx}=t,u=i?c<-n?-r:Math.max(c,-n):c===dx?Math.max(c,-r):Math.max(c,-n),f=a?l>n?r:Math.min(l,n):l===gx?Math.min(l,r):Math.min(l,n);return{noDefaultInfinity:!1,minExcluded:i||(c!==dx||i)&&xw(u),maxExcluded:a||(l!==gx||a)&&xw(f),min:pw(u,-0)?0:u,max:pw(f,0)?-0:f,noNaN:t.noNaN||!1}}const dw=Number.NEGATIVE_INFINITY,gw=Number.POSITIVE_INFINITY,BB=Number.MAX_VALUE,PB=45035996273704955e-1,ea=4503599627370496;function DB(t){return mw(t,BB,PB,ea)}function jB(t){return t===ea?gw:t===-ea?dw:t}function LB(t){if(typeof t!="number")throw new Error("Unsupported type");return t===gw?ea:t===dw?-ea:t}const UB=Number.isInteger,bw=Number.isNaN,qB=Number.NEGATIVE_INFINITY,VB=Number.POSITIVE_INFINITY,yw=Number.MAX_VALUE,WB=Number.NaN;function Sw(t,e){if(bw(t))throw new Error("fc.double constraints."+e+" must be a 64-bit float");return px(t)}function zB(t){if(typeof t!="number")throw new Error("Unsupported type");return px(t)}function KB(t){return!UB(t)}function ww(t){const{noDefaultInfinity:e=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=e?-yw:qB,max:a=e?yw:VB}=t,c=Sw(i,"min"),l=r?c+P(1):c,u=Sw(a,"max"),f=s?u-P(1):u;if(f<l)throw new Error("fc.double constraints.min must be smaller or equal to constraints.max");if(n)return yr({min:l,max:f}).map(mx,zB);const p=f>P(0),g=p?l:l-P(1),b=p?f+P(1):f;return yr({min:g,max:b}).map(y=>f<y||y<l?WB:mx(y),y=>{if(typeof y!="number")throw new Error("Unsupported type");return bw(y)?f!==b?b:g:px(y)})}function Tc(t={}){return t.noInteger?ww(DB(t)).map(jB,LB).filter(KB):ww(t)}const GB=Number.NEGATIVE_INFINITY,bx=Number.POSITIVE_INFINITY,yx=2**127*(1+(2**23-1)/2**23),_w=2139095040,HB=-2139095041,Sx=new Float32Array(1),JB=new Uint32Array(Sx.buffer,Sx.byteOffset);function YB(t){return Sx[0]=t,JB[0]}function ZB(t){const e=YB(t),n=e>>>31,r=e>>>23&255,s=e&8388607,i=r===0?-126:r-127;let a=r===0?0:1;return a+=s/2**23,a*=n===0?1:-1,{exponent:i,significand:a}}function Aw(t,e){return t===-126?e*8388608:(t+127)*8388608+(e-1)*8388608}function wx(t){if(t===bx)return _w;if(t===GB)return HB;const e=ZB(t),n=e.exponent,r=e.significand;return t>0||t===0&&1/t===bx?Aw(n,r):-Aw(n,-r)-1}function _x(t){if(t<0)return-_x(-t-1);if(t===_w)return bx;if(t<16777216)return t*2**-149;const e=t-16777216,n=-125+(e>>23);return(1+(e&8388607)/8388608)*2**n}const Ew=Number.NEGATIVE_INFINITY,Fw=Number.POSITIVE_INFINITY,XB=yx,QB=83886075e-1,na=8388608;function tP(t){return mw(t,XB,QB,na)}function eP(t){return t===na?Fw:t===-na?Ew:t}function nP(t){if(typeof t!="number")throw new Error("Unsupported type");return t===Fw?na:t===Ew?-na:t}const rP=Number.isInteger,Cw=Number.isNaN,sP=Math.fround,iP=Number.NEGATIVE_INFINITY,oP=Number.POSITIVE_INFINITY,aP=Number.NaN;function kw(t,e){const r="fc.float constraints."+e+" must be a 32-bit float - "+"you can convert any double to a 32-bit float by using `Math.fround(myDouble)`";if(Cw(t)||sP(t)!==t)throw new Error(r);return wx(t)}function uP(t){if(typeof t!="number")throw new Error("Unsupported type");return wx(t)}function cP(t){return!rP(t)}function vw(t){const{noDefaultInfinity:e=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=e?-yx:iP,max:a=e?yx:oP}=t,c=kw(i,"min"),l=r?c+1:c,u=kw(a,"max"),f=s?u-1:u;if(l>f)throw new Error("fc.float constraints.min must be smaller or equal to constraints.max");if(n)return St({min:l,max:f}).map(_x,uP);const p=f>0?l:l-1,g=f>0?f+1:f;return St({min:p,max:g}).map(b=>b>f||b<l?aP:_x(b),b=>{if(typeof b!="number")throw new Error("Unsupported type");return Cw(b)?f!==g?g:p:wx(b)})}function Iw(t={}){return t.noInteger?vw(tP(t)).map(eP,nP).filter(cP):vw(t)}function lP(t){return t.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}function Tw(t){return t.replace(/\*\//g,"*\\/")}const Le=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function Oc(t){let e=4294967295;for(let n=0;n<t.length;++n){const r=bi(t,n);if(r<128)e=Le[e&255^r]^e>>8;else if(r<2048)e=Le[e&255^(192|r>>6&31)]^e>>8,e=Le[e&255^(128|r&63)]^e>>8;else if(r>=55296&&r<57344){const s=bi(t,++n);if(r>=56320||s<56320||s>57343||Number.isNaN(s))n-=1,e=Le[e&255^239]^e>>8,e=Le[e&255^191]^e>>8,e=Le[e&255^189]^e>>8;else{const i=(r&1023)+64,a=s&1023;e=Le[e&255^(240|i>>8&7)]^e>>8,e=Le[e&255^(128|i>>2&63)]^e>>8,e=Le[e&255^(128|a>>6&15|(i&3)<<4)]^e>>8,e=Le[e&255^(128|a&63)]^e>>8}}else e=Le[e&255^(224|r>>12&15)]^e>>8,e=Le[e&255^(128|r>>6&63)]^e>>8,e=Le[e&255^(128|r&63)]^e>>8}return(e|0)+2147483648}const fP=Object.getPrototypeOf;class ra extends Nt{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,n)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return G.nil()}}function $c(t){return fP(t)===ra.prototype&&t.generate===ra.prototype.generate&&t.canShrinkWithoutContext===ra.prototype.canShrinkWithoutContext&&t.shrink===ra.prototype.shrink?t:new ra(t)}const hP=Object.assign,xP=Object.keys;function Ow(t){return it($c(St()),$c(St({min:1,max:4294967295}))).map(([e,n])=>{const r=()=>{const s={};return hP((a,c)=>{const l=Vt(a),u=Vt(c),f=Oc(`${e}${l}`)%n,p=Oc(`${e}${u}`)%n,g=t(f,p);return s[`[${l},${u}]`]=g,g},{toString:()=>{const a=xP(s).sort().map(c=>`${c} => ${Vt(s[c])}`).map(c=>`/* ${Tw(c)} */`);return`function(a, b) {
  // With hash and stringify coming from fast-check${a.length!==0?`
  ${Et(a,`
  `)}`:""}
  const cmp = ${t};
  const hA = hash('${e}' + stringify(a)) % ${n};
  const hB = hash('${e}' + stringify(b)) % ${n};
  return cmp(hA, hB);
}`},[se]:r})};return r()})}const pP=Object.assign;function mP(){return Ow(pP((t,e)=>t<e,{toString(){return"(hA, hB) => hA < hB"}}))}const dP=Object.assign;function gP(){return Ow(dP((t,e)=>t-e,{toString(){return"(hA, hB) => hA - hB"}}))}const bP=Object.defineProperties,yP=Object.keys;function SP(t){return it(Ft(t,{minLength:1}),$c(St())).map(([e,n])=>{const r=()=>{const s={},i=(...c)=>{const l=Vt(c),u=e[Oc(`${n}${l}`)%e.length];return s[l]=u,as(u)?u[se]():u};function a(c){const l=mt(mt(d2(yP(s)),u=>`${u} => ${Vt(s[u])}`),u=>`/* ${Tw(u)} */`);return`function(...args) {
  // With hash and stringify coming from fast-check${l.length!==0?`
  ${l.join(`
  `)}`:""}
  const outs = ${c};
  return outs[hash('${n}' + stringify(args)) % outs.length];
}`}return bP(i,{toString:{value:()=>a(Vt(e))},[Hn]:{value:()=>a(Vt(e))},[Jn]:{value:async()=>a(await Wh(e))},[se]:{value:r,configurable:!0}})};return r()})}const wP=Number.MIN_SAFE_INTEGER,_P=Number.MAX_SAFE_INTEGER;function $w(){return new br(wP,_P)}const AP=Number.MAX_SAFE_INTEGER;function EP(){return new br(0,AP)}const FP=Number.parseInt;function CP(t){const[e,n]=t;switch(e){case"oct":return`0${qo(n,8)}`;case"hex":return`0x${qo(n,16)}`;case"dec":default:return`${n}`}}function Nc(t,e){const n=FP(t,e);if(qo(n,e)!==t)throw new Error("Invalid value");return n}function kP(t){if(typeof t!="string")throw new Error("Invalid type");return t.length>=2&&t[0]==="0"?t[1]==="x"?["hex",Nc(Mt(t,2),16)]:["oct",Nc(Mt(t,1),8)]:["dec",Nc(t,10)]}function vP(t){return Et(t,".")}function IP(t){if(typeof t!="string")throw new Error("Invalid type");return mt(Ee(t,"."),e=>Nc(e,10))}function Ax(){return it(Sr(255),Sr(255),Sr(255),Sr(255)).map(vP,IP)}function On(t){return it(Tn("dec","oct","hex"),Sr(t)).map(CP,kP)}function Ex(t){return Et(t,".")}function Fx(t){if(typeof t!="string")throw new Error("Invalid type");return Ee(t,".")}function Nw(){return oe(it(On(255),On(255),On(255),On(255)).map(Ex,Fx),it(On(255),On(255),On(65535)).map(Ex,Fx),it(On(255),On(16777215)).map(Ex,Fx),On(4294967295))}function Cx(t){return t.length===0?[]:Ee(t,":")}function kx(t){const e=Ee(t,":");return e.length>=2&&e[e.length-1].length<=4?[ue(e,0,e.length-2),`${e[e.length-2]}:${e[e.length-1]}`]:[ue(e,0,e.length-1),e[e.length-1]]}function TP(t){return`${Et(t[0],":")}:${t[1]}`}function OP(t){if(typeof t!="string")throw new Error("Invalid type");return kx(t)}function $P(t){return`::${Et(t[0],":")}:${t[1]}`}function NP(t){if(typeof t!="string")throw new Error("Invalid type");if(!QN(t,"::"))throw new Error("Invalid value");return kx(Mt(t,2))}function Mc(t){return`${Et(t[0],":")}::${Et(t[1],":")}:${t[2]}`}function Rc(t){if(typeof t!="string")throw new Error("Invalid type");const[e,n]=Ee(t,"::",2),[r,s]=kx(n);return[Cx(e),r,s]}function MP(t){return Mc([t[0],[t[1]],t[2]])}function RP(t){const e=Rc(t);return[e[0],Et(e[1],":"),e[2]]}function Mw(t){return`${Et(t[0],":")}::${t[1]}`}function Rw(t){if(typeof t!="string")throw new Error("Invalid type");const[e,n]=Ee(t,"::",2);return[Cx(e),n]}function BP(t){return`${Et(t[0],":")}::`}function PP(t){if(typeof t!="string")throw new Error("Invalid type");if(!tM(t,"::"))throw new Error("Invalid value");return[Cx(Mt(t,0,t.length-2))]}function DP([t,e]){return`${t}:${e}`}function jP(t){if(typeof t!="string")throw new z("Invalid type");if(!t.includes(":"))throw new z("Invalid value");return t.split(":",2)}const LP="0123456789abcdef";let vx;function UP(){return vx===void 0&&(vx=St({min:0,max:15}).map(t=>LP[t],t=>{if(typeof t!="string")throw new z("Not a string");if(t.length!==1)throw new z("Invalid length");const e=bi(t,0);if(e<=57)return e-48;if(e<97)throw new z("Invalid character");return e-87})),vx}function Bw(){const t=Wt({unit:UP(),minLength:1,maxLength:4,size:"max"}),e=oe(it(t,t).map(DP,jP),Ax());return oe(it(Ft(t,{minLength:6,maxLength:6,size:"max"}),e).map(TP,OP),it(Ft(t,{minLength:5,maxLength:5,size:"max"}),e).map($P,NP),it(Ft(t,{minLength:0,maxLength:1,size:"max"}),Ft(t,{minLength:4,maxLength:4,size:"max"}),e).map(Mc,Rc),it(Ft(t,{minLength:0,maxLength:2,size:"max"}),Ft(t,{minLength:3,maxLength:3,size:"max"}),e).map(Mc,Rc),it(Ft(t,{minLength:0,maxLength:3,size:"max"}),Ft(t,{minLength:2,maxLength:2,size:"max"}),e).map(Mc,Rc),it(Ft(t,{minLength:0,maxLength:4,size:"max"}),t,e).map(MP,RP),it(Ft(t,{minLength:0,maxLength:5,size:"max"}),e).map(Mw,Rw),it(Ft(t,{minLength:0,maxLength:6,size:"max"}),t).map(Mw,Rw),it(Ft(t,{minLength:0,maxLength:7,size:"max"})).map(BP,PP))}class Pw extends Nt{constructor(e){super(),this.name=e,this.underlying=null}generate(e,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(e,n)}canShrinkWithoutContext(e){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(e)}shrink(e,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(e,n)}}const qP=Object.create;function Dw(t){const e=qP(null),r=t(s=>(Ac(e,s)||(e[s]=new Pw(String(s))),e[s]));for(const s in r){if(!Ac(r,s))continue;const i=e[s],a=i!==void 0?i:new Pw(s);a.underlying=r[s],e[s]=a}return r}function VP(t){return Et(mt(t,e=>e[e.length-1]===","?Mt(e,0,e.length-1):e)," ")}function WP(t){return function(n){if(typeof n!="string")throw new Error("Unsupported type");const r=[];for(const s of Ee(n," "))if(t.canShrinkWithoutContext(s))K(r,s);else if(t.canShrinkWithoutContext(s+","))K(r,s+",");else throw new Error("Unsupported word");return r}}function zP(t){let e=Et(t," ");return e[e.length-1]===","&&(e=Mt(e,0,e.length-1)),$h(e[0])+Mt(e,1)+"."}function KP(t){return function(n){if(typeof n!="string")throw new Error("Unsupported type");if(n.length<2||n[n.length-1]!=="."||n[n.length-2]===","||$h(Oh(n[0]))!==n[0])throw new Error("Unsupported value");const r=Oh(n[0])+Mt(n,1,n.length-1),s=[],i=Ee(r," ");for(let a=0;a!==i.length;++a){const c=i[a];if(t.canShrinkWithoutContext(c))K(s,c);else if(a===i.length-1&&t.canShrinkWithoutContext(c+","))K(s,c+",");else throw new Error("Unsupported word")}return s}}function GP(t){return Et(t," ")}function HP(t){if(typeof t!="string")throw new Error("Unsupported type");const e=Ee(t,". ");for(let n=0;n<e.length-1;++n)e[n]+=".";return e}const _=(t,e)=>({arbitrary:ie(t),weight:e});function JP(){return oe(_("non",6),_("adipiscing",5),_("ligula",5),_("enim",5),_("pellentesque",5),_("in",5),_("augue",5),_("et",5),_("nulla",5),_("lorem",4),_("sit",4),_("sed",4),_("diam",4),_("fermentum",4),_("ut",4),_("eu",4),_("aliquam",4),_("mauris",4),_("vitae",4),_("felis",4),_("ipsum",3),_("dolor",3),_("amet,",3),_("elit",3),_("euismod",3),_("mi",3),_("orci",3),_("erat",3),_("praesent",3),_("egestas",3),_("leo",3),_("vel",3),_("sapien",3),_("integer",3),_("curabitur",3),_("convallis",3),_("purus",3),_("risus",2),_("suspendisse",2),_("lectus",2),_("nec,",2),_("ultricies",2),_("sed,",2),_("cras",2),_("elementum",2),_("ultrices",2),_("maecenas",2),_("massa,",2),_("varius",2),_("a,",2),_("semper",2),_("proin",2),_("nec",2),_("nisl",2),_("amet",2),_("duis",2),_("congue",2),_("libero",2),_("vestibulum",2),_("pede",2),_("blandit",2),_("sodales",2),_("ante",2),_("nibh",2),_("ac",2),_("aenean",2),_("massa",2),_("suscipit",2),_("sollicitudin",2),_("fusce",2),_("tempus",2),_("aliquam,",2),_("nunc",2),_("ullamcorper",2),_("rhoncus",2),_("metus",2),_("faucibus,",2),_("justo",2),_("magna",2),_("at",2),_("tincidunt",2),_("consectetur",1),_("tortor,",1),_("dignissim",1),_("congue,",1),_("non,",1),_("porttitor,",1),_("nonummy",1),_("molestie,",1),_("est",1),_("eleifend",1),_("mi,",1),_("arcu",1),_("scelerisque",1),_("vitae,",1),_("consequat",1),_("in,",1),_("pretium",1),_("volutpat",1),_("pharetra",1),_("tempor",1),_("bibendum",1),_("odio",1),_("dui",1),_("primis",1),_("faucibus",1),_("luctus",1),_("posuere",1),_("cubilia",1),_("curae,",1),_("hendrerit",1),_("velit",1),_("mauris,",1),_("gravida",1),_("ornare",1),_("ut,",1),_("pulvinar",1),_("varius,",1),_("turpis",1),_("nibh,",1),_("eros",1),_("id",1),_("aliquet",1),_("quis",1),_("lobortis",1),_("consectetuer",1),_("morbi",1),_("vehicula",1),_("tortor",1),_("tellus,",1),_("id,",1),_("eu,",1),_("quam",1),_("feugiat,",1),_("posuere,",1),_("iaculis",1),_("lectus,",1),_("tristique",1),_("mollis,",1),_("nisl,",1),_("vulputate",1),_("sem",1),_("vivamus",1),_("placerat",1),_("imperdiet",1),_("cursus",1),_("rutrum",1),_("iaculis,",1),_("augue,",1),_("lacus",1))}function YP(t={}){const{maxCount:e,mode:n="words",size:r}=t;if(e!==void 0&&e<1)throw new Error("lorem has to produce at least one word/sentence");const s=JP();if(n==="sentences"){const i=Ft(s,{minLength:1,size:"small"}).map(zP,KP(s));return Ft(i,{minLength:1,maxLength:e,size:r}).map(GP,HP)}else return Ft(s,{minLength:1,maxLength:e,size:r}).map(VP,WP(s))}let Bc=10;function ZP(t){const e={};return(n=>{const r=n!==void 0?n:Bc;if(!Ac(e,r)){const s=Bc;Bc=r-1,e[r]=t(r),Bc=s}return e[r]})}function XP(t){let e=0;for(;t>P(0);)t&P(1)&&++e,t>>=P(1);return e}function QP(t,e){const n=(P(1)<<P(e))-P(1),r=t&n;let s=XP(t-r),i=r;for(let a=P(1);a<=n&&s!==0;a<<=P(1))i&a||(i|=a,--s);return i}function Pc(t,e){const n=[];for(let r=t.length-1;r!==-1;--r)e(t[r])!==t[r]&&K(n,r);return n}function tD(t,e,n){let r=P(0);for(let s=0,i=P(1);s!==n.length;++s,i<<=P(1))t[n[s]]!==e[n[s]]&&(r|=i);return r}function Ix(t,e,n,r){for(let s=0,i=P(1);s!==n.length;++s,i<<=P(1))e&i&&(t[n[s]]=r(t[n[s]]))}class eD extends Nt{constructor(e,n,r){super(),this.stringArb=e,this.toggleCase=n,this.untoggleAll=r}buildContextFor(e,n){return{rawString:e.value,rawStringContext:e.context,flags:n.value,flagsContext:n.context}}generate(e,n){const r=this.stringArb.generate(e,n),s=[...r.value],i=Pc(s,this.toggleCase),c=yr(P(0),(P(1)<<P(i.length))-P(1)).generate(e,void 0);return Ix(s,c.value,i,this.toggleCase),new V(Et(s,""),this.buildContextFor(r,c))}canShrinkWithoutContext(e){return typeof e!="string"?!1:this.untoggleAll!==void 0?this.stringArb.canShrinkWithoutContext(this.untoggleAll(e)):this.stringArb.canShrinkWithoutContext(e)}shrink(e,n){let r;if(n!==void 0)r=n;else if(this.untoggleAll!==void 0){const a=this.untoggleAll(e),c=[...e],l=[...a],u=Pc(l,this.toggleCase);r={rawString:a,rawStringContext:void 0,flags:tD(l,c,u),flagsContext:void 0}}else r={rawString:e,rawStringContext:void 0,flags:P(0),flagsContext:void 0};const s=r.rawString,i=r.flags;return this.stringArb.shrink(s,r.rawStringContext).map(a=>{const c=[...a.value],l=Pc(c,this.toggleCase),u=QP(i,l.length);return Ix(c,u,l,this.toggleCase),new V(Et(c,""),this.buildContextFor(a,new V(u,void 0)))}).join(gr(()=>{const a=[...s],c=Pc(a,this.toggleCase);return yr(P(0),(P(1)<<P(c.length))-P(1)).shrink(i,r.flagsContext).map(l=>{const u=ue(a);return Ix(u,l.value,c,this.toggleCase),new V(Et(u,""),this.buildContextFor(new V(s,r.rawStringContext),l))})}))}}function nD(t){const e=$h(t);return e!==t?e:Oh(t)}function rD(t,e){const n=e&&e.toggleCase||nD,r=e&&e.untoggleAll;return new eD(t,n,r)}function sD(t){return t2.from(t)}function iD(t){if(!(t instanceof t2))throw new Error("Unexpected type");return[...t]}function jw(t={}){return Ft(Iw(t),t).map(sD,iD)}function oD(t){return e2.from(t)}function aD(t){if(!(t instanceof e2))throw new Error("Unexpected type");return[...t]}function Lw(t={}){return Ft(Tc(t),t).map(oD,aD)}function Zn(t,e,n,r,s){const i=r.name,{min:a=e,max:c=n,...l}=t;if(a>c)throw new Error(`Invalid range passed to ${i}: min must be lower than or equal to max`);if(a<e)throw new Error(`Invalid min value passed to ${i}: min must be greater than or equal to ${e}`);if(c>n)throw new Error(`Invalid max value passed to ${i}: max must be lower than or equal to ${n}`);return Ft(s({min:a,max:c}),l).map(u=>r.from(u),u=>{if(!(u instanceof r))throw new Error("Invalid type");return[...u]})}function Uw(t={}){return Zn(t,-32768,32767,xN,St)}function qw(t={}){return Zn(t,-2147483648,2147483647,pN,St)}function Vw(t={}){return Zn(t,-128,127,hN,St)}function Ww(t={}){return Zn(t,0,65535,gN,St)}function zw(t={}){return Zn(t,0,4294967295,bN,St)}function Kw(t={}){return Zn(t,0,255,mN,St)}function Gw(t={}){return Zn(t,0,255,dN,St)}function uD(t){return t!==void 0}function Hw(t){return t.hasToBeCloned?new V(t.value_,{generatorContext:t.context},()=>t.value):new V(t.value_,{generatorContext:t.context})}function Jw(t){return t.hasToBeCloned?new V(t.value_,{shrinkerContext:t.context},()=>t.value):new V(t.value_,{shrinkerContext:t.context})}class cD extends Nt{constructor(e,n){super(),this.generatorArbitrary=e,this.shrinkerArbitrary=n}generate(e,n){return Hw(this.generatorArbitrary.generate(e,n))}canShrinkWithoutContext(e){return this.shrinkerArbitrary.canShrinkWithoutContext(e)}shrink(e,n){return uD(n)?"generatorContext"in n?this.generatorArbitrary.shrink(e,n.generatorContext).map(Hw):this.shrinkerArbitrary.shrink(e,n.shrinkerContext).map(Jw):this.shrinkerArbitrary.shrink(e,void 0).map(Jw)}}function Tx(t,e,n){const r=St({min:t,max:e});if(e===n)return r;const s=St({min:t,max:n});return new cD(r,s)}const lD=Math.min,Ox=Math.max,Yw=Xy.isArray,fD=Object.entries;function hD(t){let e=-1;for(let n=0;n!==t.length;++n)e=Ox(e,t[n][0]);return e}function xD(t,e){const n=Xy(t);for(let r=0;r!==e.length;++r){const s=e[r];s[0]<t&&(n[s[0]]=s[1])}return n}function Zw(t,e={}){const{size:n,minNumElements:r=0,maxLength:s=ls,maxNumElements:i=s,noTrailingHole:a,depthIdentifier:c}=e,l=Go(n,r,i,e.maxNumElements!==void 0),u=Go(n,l,s,e.maxLength!==void 0);if(r>s)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(r>i)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");const f=lD(i,s),p=e.maxNumElements!==void 0||n!==void 0?n:"=",g=Ox(u-1,0),b=Ox(s-1,0),y=Zo(it(Tx(0,g,b),t),{size:p,minLength:r,maxLength:f,selector:w=>w[0],depthIdentifier:c}).map(w=>{const m=hD(w);return xD(m+1,w)},w=>{if(!Yw(w))throw new Error("Not supported entry type");if(a&&w.length!==0&&!(w.length-1 in w))throw new Error("No trailing hole");return mt(fD(w),m=>[Number(m[0]),m[1]])});return a||s===r?y:it(y,Tx(r,u,s)).map(w=>{const m=w[0],A=w[1];if(m.length>=A)return m;const E=ue(m);return E.length=A,E},w=>{if(!Yw(w))throw new Error("Not supported entry type");return[w,w.length]})}function pD(t){return new Map(t)}function mD(t){if(typeof t!="object"||t===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in t)||t.constructor!==Map)throw new Error("Incompatible instance received: should be of exact type Map");return Array.from(t)}function dD(t){return new Set(t)}function gD(t){if(typeof t!="object"||t===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in t)||t.constructor!==Set)throw new Error("Incompatible instance received: should be of exact type Set");return Array.from(t)}function Xw(t,e,n,r,s){return Zo(it(t,e),{maxLength:n,size:r,comparator:"SameValueZero",selector:i=>i[0],depthIdentifier:s}).map(pD,mD)}function bD(t,e,n,r,s,i){return sx(t,e,{maxKeys:n,noNullPrototype:!i,size:r,depthIdentifier:s})}function yD(t,e,n,r){return Zo(t,{maxLength:e,size:n,comparator:"SameValueZero",depthIdentifier:r}).map(dD,gD)}function SD(t){return oe(Vw(t),Kw(t),Gw(t),Uw(t),Ww(t),qw(t),zw(t),jw(t),Lw(t))}function Qw(t){const e=t.values,n=t.depthSize,r=BS(),s=t.maxDepth,i=t.maxKeys,a=t.size,c=oe(...e,...t.withBigInt?[yr()]:[],...t.withDate?[KS()]:[]);return Dw(l=>({anything:oe({maxDepth:s,depthSize:n,depthIdentifier:r},c,l("array"),l("object"),...t.withMap?[l("map")]:[],...t.withSet?[l("set")]:[],...t.withObjectString?[l("anything").map(u=>Vt(u))]:[],...t.withTypedArray?[SD({maxLength:i,size:a})]:[],...t.withSparseArray?[Zw(l("anything"),{maxNumElements:i,size:a,depthIdentifier:r})]:[]),keys:t.withObjectString?oe({arbitrary:t.key,weight:10},{arbitrary:l("anything").map(u=>Vt(u)),weight:1}):t.key,array:Ft(l("anything"),{maxLength:i,size:a,depthIdentifier:r}),set:yD(l("anything"),i,a,r),map:oe(Xw(l("keys"),l("anything"),i,a,r),Xw(l("anything"),l("anything"),i,a,r)),object:bD(l("keys"),l("anything"),i,a,r,t.withNullPrototype)})).anything}function wD(t){switch(typeof t){case"boolean":return new Qy(t);case"number":return new Kn(t);case"string":return new us(t);default:return t}}function _D(t){return typeof t!="object"||t===null||!("constructor"in t)?t:t.constructor===Qy||t.constructor===Kn||t.constructor===us?t.valueOf():t}function AD(t){return t.map(wD,_D)}function ED(t,e){return[Jo(),$w(),Tc(),e(t),oe(e(t),ie(null),ie(void 0))]}function FD(t){return t.map(e=>AD(e))}function CD(t,e){return e?FD(t).concat(t):t}function t_(t={}){const e={size:t.size,unit:"stringUnit"in t?t.stringUnit:t.withUnicodeString?"binary":void 0};return{key:t.key!==void 0?t.key:Wt(e),values:CD(t.values!==void 0?t.values:ED(e,Wt),t.withBoxedValues===!0),depthSize:t.depthSize,maxDepth:t.maxDepth,maxKeys:t.maxKeys,size:t.size,withSet:t.withSet===!0,withMap:t.withMap===!0,withObjectString:t.withObjectString===!0,withNullPrototype:t.withNullPrototype===!0,withBigInt:t.withBigInt===!0,withDate:t.withDate===!0,withTypedArray:t.withTypedArray===!0,withSparseArray:t.withSparseArray===!0}}function kD(t){return sx(t.key,Qw(t),{maxKeys:t.maxKeys,noNullPrototype:!t.withNullPrototype,size:t.size})}function vD(t){return kD(t_(t))}function ID(t,e){const{depthSize:n,maxDepth:r}=e,s=t,i=[Jo(),Tc({noDefaultInfinity:!0,noNaN:!0}),t,ie(null)];return{key:s,values:i,depthSize:n,maxDepth:r}}function e_(t){return Qw(t_(t))}function n_(t={}){const e=t.noUnicodeString===void 0||t.noUnicodeString===!0,n="stringUnit"in t?Wt({unit:t.stringUnit}):e?Wt():Wt({unit:"binary"});return e_(ID(n,t))}const TD=JSON.stringify;function OD(t={}){return n_(t).map(TD)}const $D=Object.keys,ND=Object.getOwnPropertySymbols,MD=Object.getOwnPropertyDescriptor;function RD(t){const e=$D(t),n=ND(t);for(let r=0;r!==n.length;++r){const s=n[r],i=MD(t,s);i&&i.enumerable&&e.push(s)}return e}const BD=Object.create,PD=Object.defineProperty,DD=Object.getOwnPropertyDescriptor,jD=Object.getOwnPropertyNames,LD=Object.getOwnPropertySymbols;function UD(t,e){return function(r){const s=r[1]?BD(null):{};for(let i=0;i!==t.length;++i){const a=r[0][i];a!==e&&PD(s,t[i],{value:a,configurable:!0,enumerable:!0,writable:!0})}return s}}function qD(t,e){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");const s=Object.getPrototypeOf(r)===null,i="constructor"in r&&r.constructor===Object;if(!s&&!i)throw new Error("Incompatible instance received: should be of exact type Object");let a=0;const c=[];for(let f=0;f!==t.length;++f){const p=DD(r,t[f]);if(p!==void 0){if(!p.configurable||!p.enumerable||!p.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(p.get!==void 0||p.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++a,K(c,p.value)}else K(c,e)}const l=jD(r).length,u=LD(r).length;if(a!==l+u)throw new Error("Incompatible instance received: should not contain extra properties");return[c,s]}}const $x=Symbol("no-key");function Nx(t,e,n){const r=RD(t),s=[];for(let i=0;i!==r.length;++i){const a=r[i],c=t[a];e===void 0||Gn(e,a)!==-1?K(s,c):K(s,fs(c,{nil:$x}))}return it(it(...s),n?ie(!1):Jo()).map(UD(r,$x),qD(r,$x))}function VD(t,e){const n=e!==void 0&&!!e.noNullPrototype;if(e==null||!("requiredKeys"in e&&e.requiredKeys!==void 0))return Nx(t,void 0,n);const s=("requiredKeys"in e?e.requiredKeys:void 0)||[];for(let i=0;i!==s.length;++i){const a=Object.getOwnPropertyDescriptor(t,s[i]);if(a===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!a.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return Nx(t,s,n)}const WD=Object.defineProperties;function Mx(t,e){return`Stream(${e!==void 0?`${Et(e,",")}…`:`${t} emitted`})`}class zD extends Nt{constructor(e,n){super(),this.arb=e,this.history=n}generate(e,n){const r=n!==void 0&&e.nextInt(1,n)===1?n:void 0,s=()=>{const i=this.history?[]:null;let a=0;const c=function*(u,f){for(;;){const p=u.generate(f,r).value;a++,i!==null&&K(i,p),yield p}},l=new G(c(this.arb,e.clone()));return WD(l,{toString:{value:()=>Mx(a,i!==null?i.map(Vt):void 0)},[Hn]:{value:()=>Mx(a,i!==null?i.map(Vt):void 0)},[Jn]:{value:async()=>Mx(a,i!==null?await Promise.all(i.map(Wh)):void 0)},[se]:{value:s,enumerable:!0}})};return new V(s(),void 0)}canShrinkWithoutContext(e){return!1}shrink(e,n){return G.nil()}}function KD(t,e){const n=e!==void 0&&typeof e=="object"&&"noHistory"in e?!e.noHistory:!0;return new zD(t,n)}function GD(t){return Et(t,"")}function r_(t){if(typeof t!="string")throw new Error("Cannot unmap the passed value");return[...t]}function HD(t){switch(t.length%4){case 0:return t;case 3:return`${t}=`;case 2:return`${t}==`;default:return Mt(t,1)}}function JD(t){if(typeof t!="string"||t.length%4!==0)throw new Error("Invalid string received");const e=t.indexOf("=");if(e===-1)return t;if(t.length-e>2)throw new Error("Cannot unmap the passed value");return Mt(t,0,e)}const Rx=String.fromCharCode;function YD(t){return t<26?Rx(t+65):t<52?Rx(t+97-26):t<62?Rx(t+48-52):t===62?"+":"/"}function ZD(t){if(typeof t!="string"||t.length!==1)throw new z("Invalid entry");const e=bi(t,0);return e>=65&&e<=90?e-65:e>=97&&e<=122?e-97+26:e>=48&&e<=57?e-48+52:e===43?62:e===47?63:-1}function XD(){return St({min:0,max:63}).map(YD,ZD)}function QD(t={}){const{minLength:e=0,maxLength:n=ls,size:r}=t,s=e+3-(e+3)%4,i=n-n%4,a=t.maxLength===void 0&&r===void 0?"=":r;if(s>i)throw new z("Minimal length should be inferior or equal to maximal length");if(s%4!==0)throw new z("Minimal length of base64 strings must be a multiple of 4");if(i%4!==0)throw new z("Maximal length of base64 strings must be a multiple of 4");const c=XD(),l=X7(c,r_);return Ft(c,{minLength:s,maxLength:i,size:a,experimentalCustomSlices:l}).map(GD,r_).map(HD,JD)}const s_=Object.is;function tj(t,e){const n=new Uo;let r=0;for(const s of t)if(s_(s,-0))++r;else{const i=dr(n,s)||0;cs(n,s,i+1)}for(let s=0;s!==e.length;++s){if(!(s in e))return!1;const i=e[s];if(s_(i,-0)){if(r===0)return!1;--r}else{const a=dr(n,i)||0;if(a===0)return!1;cs(n,i,a-1)}}return!0}const ej=Math.floor,i_=Math.log,nj=Array.isArray;class o_ extends Nt{constructor(e,n,r,s){if(super(),this.originalArray=e,this.isOrdered=n,this.minLength=r,this.maxLength=s,r<0||r>e.length)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be between 0 and the size of the original array");if(s<0||s>e.length)throw new Error("fc.*{s|S}ubarrayOf expects the maximal length to be between 0 and the size of the original array");if(r>s)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be inferior or equal to the maximal length");this.lengthArb=new br(r,s),this.biasedLengthArb=r!==s?new br(r,r+ej(i_(s-r)/i_(2))):this.lengthArb}generate(e,n){const s=(n!==void 0&&e.nextInt(1,n)===1?this.biasedLengthArb:this.lengthArb).generate(e,void 0),i=s.value,a=mt(this.originalArray,(l,u)=>u),c=[];for(let l=0;l!==i;++l){const u=e.nextInt(0,a.length-1);K(c,a[u]),m2(a,u,1)}return this.isOrdered&&d2(c,(l,u)=>l-u),new V(mt(c,l=>this.originalArray[l]),s.context)}canShrinkWithoutContext(e){return!nj(e)||!this.lengthArb.canShrinkWithoutContext(e.length)?!1:tj(this.originalArray,e)}shrink(e,n){return e.length===0?G.nil():this.lengthArb.shrink(e.length,n).map(r=>new V(ue(e,e.length-r.value),r.context)).join(e.length>this.minLength?gr(()=>this.shrink(ue(e,1),void 0).filter(r=>this.minLength<=r.value.length+1).map(r=>new V([e[0],...r.value],void 0))):G.nil())}}function rj(t,e={}){const{minLength:n=0,maxLength:r=t.length}=e;return new o_(t,!0,n,r)}function sj(t,e={}){const{minLength:n=0,maxLength:r=t.length}=e;return new o_(t,!1,n,r)}const ij={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"},oj={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,J:18,K:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,V:27,W:28,X:29,Y:30,Z:31};function aj(t){return t<10?us(t):ij[t]}function a_(t,e){let n="";for(;t.length+n.length<e;)n+="0";return n+t}function u_(t){let e="";for(let n=t;n!==0;){const r=n>>5,s=n-(r<<5);e=aj(s)+e,n=r}return e}function uj(t,e){const n=~~(t/1073741824),r=t&1073741823;return a_(u_(n),e-6)+a_(u_(r),6)}function c_(t){return function(n){return uj(n,t)}}function Bx(t){if(typeof t!="string")throw new z("Unsupported type");let e=0,n=1;for(let r=t.length-1;r>=0;--r){const s=t[r],i=oj[s];if(i===void 0)throw new z("Unsupported type");e+=i*n,n*=32}return e}const cj=c_(10),l_=c_(8);function lj(t){return cj(t[0])+l_(t[1])+l_(t[2])}function fj(t){if(typeof t!="string"||t.length!==26)throw new Error("Unsupported type");return[Bx(t.slice(0,10)),Bx(t.slice(10,18)),Bx(t.slice(18))]}function hj(){const t=St({min:0,max:0xffffffffffff}),e=St({min:0,max:0xffffffffff}),n=St({min:0,max:0xffffffffff});return it(t,e,n).map(lj,fj)}function f_(t){return eM(qo(t,16),8,"0")}function xj(t){if(typeof t!="string")throw new Error("Unsupported type");if(t.length!==8)throw new Error("Unsupported value: invalid length");const e=parseInt(t,16);if(t!==f_(e))throw new Error("Unsupported value: invalid content");return e}function Px(t,e){return St({min:t,max:e}).map(f_,xj)}function pj(t){return`${t[0]}-${Mt(t[1],4)}-${Mt(t[1],0,4)}-${Mt(t[2],0,4)}-${Mt(t[2],4)}${t[3]}`}const mj=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function dj(t){if(typeof t!="string")throw new Error("Unsupported type");const e=mj.exec(t);if(e===null)throw new Error("Unsupported type");return[e[1],e[3]+e[2],e[4]+Mt(e[5],0,4),Mt(e[5],4)]}const h_="0123456789abcdef";function gj(t){const e={},n={};for(let i=0;i!==t.length;++i){const a=h_[i],c=h_[t[i]];e[a]=c,n[c]=a}function r(i){return e[i[0]]+Mt(i,1)}function s(i){if(typeof i!="string")throw new z("Cannot produce non-string values");const a=n[i[0]];if(a===void 0)throw new z("Cannot produce strings not starting by the version in hexa code");return a+Mt(i,1)}return{versionsApplierMapper:r,versionsApplierUnmapper:s}}function bj(t){const e={};for(const n of t){if(e[n])throw new z(`Version ${n} has been requested at least twice for uuid`);if(e[n]=!0,n<1||n>15)throw new z(`Version must be a value in [1-15] for uuid, but received ${n}`);if(~~n!==n)throw new z(`Version must be an integer value for uuid, but received ${n}`)}if(t.length===0)throw new z("Must provide at least one version for uuid")}function yj(t={}){const e=Px(0,4294967295),n=t.version!==void 0?typeof t.version=="number"?[t.version]:t.version:[1,2,3,4,5,6,7,8];bj(n);const{versionsApplierMapper:r,versionsApplierUnmapper:s}=gj(n),i=Px(0,268435456*n.length-1).map(r,s),a=Px(2147483648,3221225471);return it(e,i,a,e).map(pj,dj)}function Sj(t){return Wt({unit:cx("-._~!$&'()*+,;=:"),size:t})}function wj([t,e,n]){return(t===null?"":`${t}@`)+e+(n===null?"":`:${n}`)}function _j(t){if(typeof t!="string")throw new Error("Unsupported");const e=t.indexOf("@"),n=e!==-1?t.substring(0,e):null,s=/:(\d+)$/.exec(t),i=s!==null?Number(s[1]):null,a=s!==null?t.substring(e+1,t.length-s[1].length-1):t.substring(e+1);return[n,a,i]}function Aj(t){return`[${t}]`}function Ej(t){if(typeof t!="string"||t[0]!=="["||t[t.length-1]!=="]")throw new Error("Unsupported");return t.substring(1,t.length-1)}function x_(t){const e=t||{},n=e.size,r=[lx({size:n}),...e.withIPv4===!0?[Ax()]:[],...e.withIPv6===!0?[Bw().map(Aj,Ej)]:[],...e.withIPv4Extended===!0?[Nw()]:[]];return it(e.withUserInfo===!0?fs(Sj(n)):ie(null),oe(...r),e.withPort===!0?fs(Sr(65535)):ie(null)).map(wj,_j)}function p_(t){return Wt({unit:cx("-._~!$&'()*+,;=:@/?"),size:t})}function m_(t={}){return p_(t.size)}function d_(t={}){return Wt({unit:cx("-._~!$&'()*+,;=:@"),size:t.size})}function Fj(t){return Et(mt(t,e=>`/${e}`),"")}function Cj(t){if(typeof t!="string")throw new Error("Incompatible value received: type");if(t.length!==0&&t[0]!=="/")throw new Error("Incompatible value received: start");return m2(Ee(t,"/"),1)}function kj(t){switch(t){case"xsmall":return["xsmall","xsmall"];case"small":return["small","xsmall"];case"medium":return["small","small"];case"large":return["medium","small"];case"xlarge":return["medium","medium"]}}function Dx(t,e){return Ft(d_({size:t}),{size:e}).map(Fj,Cj)}function vj(t){const[e,n]=kj(t);return e===n?Dx(e,n):oe(Dx(e,n),Dx(n,e))}function g_(t){const n=tx((t||{}).size);return vj(n)}function b_(t={}){return p_(t.size)}function Ij(t){const[e,n,r]=t,s=t[3]===null?"":`?${t[3]}`,i=t[4]===null?"":`#${t[4]}`;return`${e}://${n}${r}${s}${i}`}const Tj=/^([[A-Za-z][A-Za-z0-9+.-]*):\/\/([^/?#]*)([^?#]*)(\?[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?(#[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?$/;function Oj(t){if(typeof t!="string")throw new Error("Incompatible value received: type");const e=Tj.exec(t);if(e===null)throw new Error("Incompatible value received");const n=e[1],r=e[2],s=e[3],i=e[4],a=e[5];return[n,r,s,i!==void 0?i.substring(1):null,a!==void 0?a.substring(1):null]}function $j(t){const e=t||{},n=tx(e.size),r=e.authoritySettings!==void 0&&e.authoritySettings.size!==void 0?Ko(e.authoritySettings.size,n):n,s={...e.authoritySettings,size:r},i=e.validSchemes||["http","https"],a=Tn(...i),c=x_(s);return it(a,c,g_({size:n}),e.withQueryParameters===!0?fs(b_({size:n})):ie(null),e.withFragments===!0?fs(m_({size:n})):ie(null)).map(Ij,Oj)}class jx{constructor(e,n){this.commands=e,this.metadataForReplay=n,this[se]=function(){return new jx(this.commands.map(r=>r.clone()),this.metadataForReplay)}}[Symbol.iterator](){return this.commands[Symbol.iterator]()}toString(){const e=this.commands.filter(r=>r.hasRan).map(r=>r.toString()).join(","),n=this.metadataForReplay();return n.length!==0?`${e} /*${n}*/`:e}}class Dc{constructor(e){if(this.cmd=e,this.hasRan=!1,qh(e)){const n=e[Hn];this[Hn]=function(){return n.call(e)}}if(Vh(e)){const n=e[Jn];this[Jn]=function(){return n.call(e)}}}check(e){return this.cmd.check(e)}run(e,n){return this.hasRan=!0,this.cmd.run(e,n)}clone(){return as(this.cmd)?new Dc(this.cmd[se]()):new Dc(this.cmd)}toString(){return this.cmd.toString()}}class y_{static parse(e){const[n,r]=e.split(":"),s=this.parseCounts(n),i=this.parseChanges(r);return this.parseOccurences(s,i)}static stringify(e){const n=this.countOccurences(e),r=this.stringifyCounts(n),s=this.stringifyChanges(n);return`${r}:${s}`}static intToB64(e){return e<26?String.fromCharCode(e+65):e<52?String.fromCharCode(e+97-26):e<62?String.fromCharCode(e+48-52):String.fromCharCode(e===62?43:47)}static b64ToInt(e){return e>="a"?e.charCodeAt(0)-97+26:e>="A"?e.charCodeAt(0)-65:e>="0"?e.charCodeAt(0)-48+52:e==="+"?62:63}static countOccurences(e){return e.reduce((n,r)=>(n.length===0||n[n.length-1].count===64||n[n.length-1].value!==r?n.push({value:r,count:1}):n[n.length-1].count+=1,n),[])}static parseOccurences(e,n){const r=[];for(let s=0;s!==e.length;++s){const i=e[s],a=n[s];for(let c=0;c!==i;++c)r.push(a)}return r}static stringifyChanges(e){let n="";for(let r=0;r<e.length;r+=6){const s=e.slice(r,r+6).reduceRight((i,a)=>i*2+(a.value?1:0),0);n+=this.intToB64(s)}return n}static parseChanges(e){const n=e.split("").map(s=>this.b64ToInt(s)),r=[];for(let s=0;s!==n.length;++s){let i=n[s];for(let a=0;a!==6;++a,i>>=1)r.push(i%2===1)}return r}static stringifyCounts(e){return e.map(({count:n})=>this.intToB64(n-1)).join("")}static parseCounts(e){return e.split("").map(n=>this.b64ToInt(n)+1)}}class Nj extends Nt{constructor(e,n,r,s,i){super(),this.sourceReplayPath=s,this.disableReplayLog=i,this.oneCommandArb=oe(...e).map(a=>new Dc(a)),this.lengthArb=Tx(0,n,r),this.replayPath=[],this.replayPathPosition=0}metadataForReplay(){return this.disableReplayLog?"":`replayPath=${JSON.stringify(y_.stringify(this.replayPath))}`}buildValueFor(e,n){const r=e.map(i=>i.value_),s={shrunkOnce:n,items:e};return new V(new jx(r,()=>this.metadataForReplay()),s)}generate(e){const r=this.lengthArb.generate(e,void 0).value,s=Array(r);for(let i=0;i!==r;++i){const a=this.oneCommandArb.generate(e,void 0);s[i]=a}return this.replayPathPosition=0,this.buildValueFor(s,!1)}canShrinkWithoutContext(e){return!1}filterOnExecution(e){const n=[];for(const r of e)r.value_.hasRan?(this.replayPath.push(!0),n.push(r)):this.replayPath.push(!1);return n}filterOnReplay(e){return e.filter((n,r)=>{const s=this.replayPath[this.replayPathPosition+r];if(s===void 0)throw new Error("Too short replayPath");if(!s&&n.value_.hasRan)throw new Error("Mismatch between replayPath and real execution");return s})}filterForShrinkImpl(e){this.replayPathPosition===0&&(this.replayPath=this.sourceReplayPath!==null?y_.parse(this.sourceReplayPath):[]);const n=this.replayPathPosition<this.replayPath.length?this.filterOnReplay(e):this.filterOnExecution(e);return this.replayPathPosition+=e.length,n}shrink(e,n){if(n===void 0)return G.nil();const r=n,s=r.shrunkOnce,i=r.items,a=this.filterForShrinkImpl(i);if(a.length===0)return G.nil();const c=s?G.nil():new G([[]][Symbol.iterator]()),l=[];for(let u=0;u!==a.length;++u)l.push(gr(()=>{const f=a.slice(0,u);return this.lengthArb.shrink(a.length-1-u,void 0).map(p=>f.concat(a.slice(a.length-(p.value+1))))}));for(let u=0;u!==a.length;++u)l.push(gr(()=>this.oneCommandArb.shrink(a[u].value_,a[u].context).map(f=>a.slice(0,u).concat([f],a.slice(u+1)))));return c.join(...l).map(u=>this.buildValueFor(u.map(f=>new V(f.value_.clone(),f.context)),!0))}}function Mj(t,e={}){const{size:n,maxCommands:r=ls,disableReplayLog:s=!1,replayPath:i=null}=e,a=e.maxCommands!==void 0,c=Go(n,0,r,a);return new Nj(t,c,r,i,s)}class Rj{constructor(e,n){this.s=e,this.cmd=n}async check(e){let n=null,r=!1;if((await this.s.scheduleSequence([{label:`check@${this.cmd.toString()}`,builder:async()=>{try{r=await Promise.resolve(this.cmd.check(e))}catch(i){throw n=i,i}}}]).task).faulty)throw n;return r}async run(e,n){let r=null;if((await this.s.scheduleSequence([{label:`run@${this.cmd.toString()}`,builder:async()=>{try{await this.cmd.run(e,n)}catch(i){throw r=i,i}}}]).task).faulty)throw r}}const Bj=function*(t,e){for(const n of e)yield new Rj(t,n)},S_=(t,e,n,r,s)=>t.then(i=>{const{model:a,real:c}=i;let l=n;for(const u of e)l=s(l,()=>r(u,a,c));return l}),Pj=(t,e)=>S_({then:i=>{i(t())}},e,void 0,(i,a,c)=>{i.check(a)&&i.run(a,c)},(i,a)=>a()),Dj=t=>typeof t.then=="function",w_=async(t,e,n=Promise.resolve())=>await S_({then:a=>{const c=t();return Dj(c)?c.then(a):a(c)}},e,n,async(a,c,l)=>{await a.check(c)&&await a.run(c,l)},(a,c)=>a.then(c));function jj(t,e){Pj(t,e)}async function Lj(t,e){await w_(t,e)}async function Uj(t,e,n){const r=Bj(t,n),s=w_(e,r,t.schedule(Promise.resolve(),"startModel"));await t.waitFor(s),await t.waitAll()}const jc=t=>t(),Lx=50;class sa{constructor(e,n){this.act=e,this.taskSelector=n,this.lastTaskId=0,this.sourceTaskSelector=n.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[],this[se]=function(){return new sa(this.act,this.sourceTaskSelector)}}static buildLog(e){return`[task\${${e.taskId}}] ${e.label.length!==0?`${e.schedulingType}::${e.label}`:e.schedulingType} ${e.status}${e.outputValue!==void 0?` with value ${lP(e.outputValue)}`:""}`}log(e,n,r,s,i,a){this.triggeredTasks.push({status:i,schedulingType:e,taskId:n,label:r,metadata:s,outputValue:a!==void 0?Vt(a):void 0})}scheduleInternal(e,n,r,s,i,a){const c=++this.lastTaskId;let l;const u=new Promise((f,p)=>{l=()=>{const g=Promise.resolve(a!==void 0?r.then(()=>a()):r);return g.then(b=>{this.log(e,c,n,s,"resolved",b),f(b)},b=>{this.log(e,c,n,s,"rejected",b),p(b)}),g}});return this.scheduledTasks.push({original:r,trigger:l,schedulingType:e,taskId:c,label:n,metadata:s,customAct:i}),this.scheduledWatchers.length!==0&&this.scheduledWatchers[0](),u}schedule(e,n,r,s){return this.scheduleInternal("promise",n||"",e,r,s||jc)}scheduleFunction(e,n){return(...r)=>this.scheduleInternal("function",`${e.name}(${r.map(Vt).join(",")})`,e(...r),void 0,n||jc)}scheduleSequence(e,n){const r={done:!1,faulty:!1},s={then:f=>f()};let i=()=>{};const a=new Promise(f=>{i=()=>f({done:r.done,faulty:r.faulty})}),c=()=>{r.faulty=!0,i()},l=()=>{r.done=!0,i()},u=(f,p)=>{if(f>=e.length){p.then(l,c);return}p.then(()=>{const g=e[f],[b,y,w]=typeof g=="function"?[g,g.name,void 0]:[g.builder,g.label,g.metadata],m=this.scheduleInternal("sequence",y,s,w,n||jc,()=>b());u(f+1,m)},c)};return u(0,s),Object.assign(r,{task:a})}count(){return this.scheduledTasks.length}internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");const e=this.taskSelector.nextTaskIndex(this.scheduledTasks),[n]=this.scheduledTasks.splice(e,1);return n.customAct(()=>n.trigger().catch(s=>{}))}waitOne(e){const n=e||jc;return this.act(()=>n(()=>this.internalWaitOne()))}async waitAll(e){for(;this.scheduledTasks.length>0;)await this.waitOne(e)}async internalWaitFor(e,n){let r=!1;const s=n.customAct,i=n.onWaitStart,a=n.onWaitIdle,c=n.launchAwaiterOnInit;let l,u,f=0,p=null,g=null;const b=async()=>{for(f=Lx,f=Lx;!r&&f>0;--f)await Promise.resolve();if(!r&&this.scheduledTasks.length>0)return i!==void 0&&i(),g=this.waitOne(s),g.then(()=>(g=null,b()),A=>{throw g=null,r=!0,u(A),A});!r&&a!==void 0&&a(),p=null},y=()=>{if(p!==null){f=Lx+1;return}p=b().catch(()=>{})},w=()=>{const A=this.scheduledWatchers.indexOf(y);A!==-1&&this.scheduledWatchers.splice(A,1),A===0&&this.scheduledWatchers.length!==0&&this.scheduledWatchers[0]()},m=new Promise((A,E)=>{l=C=>{w(),A(C)},u=C=>{w(),E(C)}});return e.then(A=>{r=!0,g===null?l(A):g.then(()=>l(A),E=>u(E))},A=>{r=!0,g===null?u(A):g.then(()=>u(A),()=>u(A))}),(this.scheduledTasks.length>0||c)&&this.scheduledWatchers.length===0&&y(),this.scheduledWatchers.push(y),m}waitNext(e,n){let r,s=e;const i=s<=0?Promise.resolve():new Promise(a=>{r=()=>{--s<=0&&a()}});return this.internalWaitFor(i,{customAct:n,onWaitStart:r,onWaitIdle:void 0,launchAwaiterOnInit:!1})}waitIdle(e){let n;const r=new Promise(s=>n=s);return this.internalWaitFor(r,{customAct:e,onWaitStart:void 0,onWaitIdle:n,launchAwaiterOnInit:!0})}waitFor(e,n){return this.internalWaitFor(e,{customAct:n,onWaitStart:void 0,onWaitIdle:void 0,launchAwaiterOnInit:!1})}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(e=>({status:"pending",schedulingType:e.schedulingType,taskId:e.taskId,label:e.label,metadata:e.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(sa.buildLog).map(e=>`-> ${e}`).join(`
`)+"`"}}function __(t){let e=0;return{clone:()=>__(t),nextTaskIndex:n=>{if(t.length<=e)throw new Error("Invalid schedulerFor defined: too many tasks have been scheduled");const r=n.findIndex(s=>s.taskId===t[e]);if(r===-1)throw new Error("Invalid schedulerFor defined: unable to find next task");return++e,r}}}function A_(t,e){return new sa(t,__(e))}function E_(t){const e=t.clone();return{clone:()=>E_(e),nextTaskIndex:n=>t.nextInt(0,n.length-1)}}class qj extends Nt{constructor(e){super(),this.act=e}generate(e,n){return new V(new sa(this.act,E_(e.clone())),void 0)}canShrinkWithoutContext(e){return!1}shrink(e,n){return G.nil()}}function Vj(t){const{act:e=n=>n()}=t||{};return new qj(e)}function Wj(t,e){const{act:n=r=>r()}=Array.isArray(t)?e||{}:t||{};return Array.isArray(t)?A_(n,t):function(r,...s){return A_(n,s)}}function zj(t={}){return Zn(t,P("-9223372036854775808"),P("9223372036854775807"),lN,yr)}function Kj(t={}){return Zn(t,P(0),P("18446744073709551615"),fN,yr)}function Gj(t){return new Error(`Unsupported AST node! Received: ${Vt(t)}`)}function Lc(t,e,n){if(!e&&!n)return t;const r={hasStart:!1,hasEnd:!1},s=F_(t,e,n,r),i=e&&!r.hasStart,a=n&&!r.hasEnd;if(!i&&!a)return s;const c=[];return i&&(c.push({type:"Assertion",kind:"^"}),c.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}})),c.push(s),a&&(c.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}}),c.push({type:"Assertion",kind:"$"})),{type:"Group",capturing:!1,expression:{type:"Alternative",expressions:c}}}function F_(t,e,n,r){switch(t.type){case"Char":return t;case"Repetition":return t;case"Quantifier":throw new Error("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return r.hasStart=!0,r.hasEnd=!0,{...t,expressions:t.expressions.map((s,i)=>Lc(s,e&&i===0,n&&i===t.expressions.length-1))};case"CharacterClass":return t;case"ClassRange":return t;case"Group":return{...t,expression:F_(t.expression,e,n,r)};case"Disjunction":return r.hasStart=!0,r.hasEnd=!0,{...t,left:t.left!==null?Lc(t.left,e,n):null,right:t.right!==null?Lc(t.right,e,n):null};case"Assertion":{if(t.kind==="^"||t.kind==="Lookahead")return r.hasStart=!0,t;if(t.kind==="$"||t.kind==="Lookbehind")return r.hasEnd=!0,t;throw new Error(`Assertions of kind ${t.kind} not implemented yet!`)}case"Backreference":return t;default:throw Gj(t)}}function Hj(t){return Lc(t,!0,!0)}function C_(t,e){return t[e]>="\uD800"&&t[e]<="\uDBFF"&&t[e+1]>="\uDC00"&&t[e+1]<="\uDFFF"?2:1}function zt(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"}function Ux(t){return t>="0"&&t<="9"}function k_(t,e){for(let n=e;n!==t.length;++n){const r=t[n];if(r==="\\")n+=1;else if(r==="]")return n}throw new Error("Missing closing ']'")}function Jj(t,e){let n=0;for(let r=e;r!==t.length;++r){const s=t[r];if(s==="\\")r+=1;else if(s===")"){if(n===0)return r;n-=1}else s==="["?r=k_(t,r):s==="("&&(n+=1)}throw new Error("Missing closing ')'")}function Yj(t,e){let n=!1;for(let r=e;r!==t.length;++r){const s=t[r];if(!Ux(s)){if(e===r)return-1;if(s===","){if(n)return-1;n=!0}else return s==="}"?r:-1}}return-1}var Xn;(function(t){t[t.Full=0]="Full",t[t.Character=1]="Character"})(Xn||(Xn={}));function Zj(t,e,n,r){switch(t[e]){case"[":return r===Xn.Character?e+1:k_(t,e+1)+1;case"{":{if(r===Xn.Character)return e+1;const s=Yj(t,e+1);return s===-1?e+1:s+1}case"(":return r===Xn.Character?e+1:Jj(t,e+1)+1;case"]":case"}":case")":return e+1;case"\\":{const s=t[e+1];switch(s){case"x":if(zt(t[e+2])&&zt(t[e+3]))return e+4;throw new Error(`Unexpected token '${t.substring(e,e+4)}' found`);case"u":if(t[e+2]==="{"){if(!n)return e+2;if(t[e+4]==="}"){if(zt(t[e+3]))return e+5;throw new Error(`Unexpected token '${t.substring(e,e+5)}' found`)}if(t[e+5]==="}"){if(zt(t[e+3])&&zt(t[e+4]))return e+6;throw new Error(`Unexpected token '${t.substring(e,e+6)}' found`)}if(t[e+6]==="}"){if(zt(t[e+3])&&zt(t[e+4])&&zt(t[e+5]))return e+7;throw new Error(`Unexpected token '${t.substring(e,e+7)}' found`)}if(t[e+7]==="}"){if(zt(t[e+3])&&zt(t[e+4])&&zt(t[e+5])&&zt(t[e+6]))return e+8;throw new Error(`Unexpected token '${t.substring(e,e+8)}' found`)}if(t[e+8]==="}"&&zt(t[e+3])&&zt(t[e+4])&&zt(t[e+5])&&zt(t[e+6])&&zt(t[e+7]))return e+9;throw new Error(`Unexpected token '${t.substring(e,e+9)}' found`)}if(zt(t[e+2])&&zt(t[e+3])&&zt(t[e+4])&&zt(t[e+5]))return e+6;throw new Error(`Unexpected token '${t.substring(e,e+6)}' found`);case"p":case"P":{if(!n)return e+2;let i=e+2;for(;i<t.length&&t[i]!=="}";i+=t[i]==="\\"?2:1);if(t[i]!=="}")throw new Error("Invalid \\P definition");return i+1}case"k":{let i=e+2;for(;i<t.length&&t[i]!==">";++i);if(t[i]!==">"){if(!n)return e+2;throw new Error("Invalid \\k definition")}return i+1}default:{if(Ux(s)){const a=n?t.length:Math.min(e+4,t.length);let c=e+2;for(;c<a&&Ux(t[c]);++c);return c}const i=n?C_(t,e+1):1;return e+i+1}}}default:{const s=n?C_(t,e):1;return e+s}}}function Uc(t,e,n,r){const s=Zj(t,e,n,r);return t.substring(e,s)}const qx=String.fromCodePoint;function Vx(t){const e=t.pop();if(e===void 0)throw new Error("Unable to extract token preceeding the currently parsed one");return e}function v_(t){return t>="0"&&t<="9"}function qc(t,e){return{type:"Char",kind:"simple",symbol:t,value:t,codePoint:t.codePointAt(0)||-1,escaped:e}}function Ei(t,e){return{type:"Char",kind:"meta",symbol:e,value:t,codePoint:e.codePointAt(0)||-1}}function wr(t,e){if(t.length>1)return{type:"Alternative",expressions:t};if(!e&&t.length===0)throw new Error("Unsupported no token");return t[0]}function Wx(t){if(t[0]==="\\"){const e=t[1];switch(e){case"x":{const n=t.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"hex",symbol:qx(r),value:t,codePoint:r}}case"u":{if(t==="\\u")return qc("u",!0);const n=t[2]==="{"?t.substring(3,t.length-1):t.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"unicode",symbol:qx(r),value:t,codePoint:r}}case"0":return Ei(t,"\0");case"n":return Ei(t,`
`);case"f":return Ei(t,"\f");case"r":return Ei(t,"\r");case"t":return Ei(t,"	");case"v":return Ei(t,"\v");case"w":case"W":case"d":case"D":case"s":case"S":case"b":case"B":return{type:"Char",kind:"meta",symbol:void 0,value:t,codePoint:Number.NaN};default:{if(v_(e)){const r=t.substring(1),s=Number(r);return{type:"Char",kind:"decimal",symbol:qx(s),value:t,codePoint:s}}if(t.length>2&&(e==="p"||e==="P"))throw new Error("UnicodeProperty not implemented yet!");const n=t.substring(1);return qc(n,!0)}}}return qc(t)}function Fi(t,e,n,r){let s=null;for(let i=0,a=Uc(e,i,n,Xn.Full);i!==e.length;i+=a.length,a=Uc(e,i,n,Xn.Full)){const c=a[0];switch(c){case"|":{s===null&&(s=[]),s.push(wr(t.splice(0),!0)||null);break}case".":{t.push({type:"Char",kind:"meta",symbol:a,value:a,codePoint:Number.NaN});break}case"*":case"+":{const l=Vx(t);t.push({type:"Repetition",expression:l,quantifier:{type:"Quantifier",kind:c,greedy:!0}});break}case"?":{const l=Vx(t);l.type==="Repetition"?(l.quantifier.greedy=!1,t.push(l)):t.push({type:"Repetition",expression:l,quantifier:{type:"Quantifier",kind:c,greedy:!0}});break}case"{":{if(a==="{"){t.push(qc(a));break}const l=Vx(t),f=a.substring(1,a.length-1).split(","),p=Number(f[0]),g=f.length===1?p:f[1].length!==0?Number(f[1]):void 0;t.push({type:"Repetition",expression:l,quantifier:{type:"Quantifier",kind:"Range",greedy:!0,from:p,to:g}});break}case"[":{const l=a.substring(1,a.length-1),u=[];let f,p=!1;for(let g=0,b=Uc(l,g,n,Xn.Character);g!==l.length;g+=b.length,b=Uc(l,g,n,Xn.Character)){if(g===0&&b==="^"){f=!0;continue}const y=Wx(b);if(b==="-")u.push(y),p=!0;else{const w=u.length>=2?u[u.length-2]:void 0;p&&w!==void 0&&w.type==="Char"?(u.pop(),u.pop(),u.push({type:"ClassRange",from:w,to:y})):u.push(y),p=!1}}t.push({type:"CharacterClass",expressions:u,negative:f});break}case"(":{const l=a.substring(1,a.length-1),u=[];if(l[0]==="?")if(l[1]===":")Fi(u,l.substring(2),n,r),t.push({type:"Group",capturing:!1,expression:wr(u)});else if(l[1]==="="||l[1]==="!")Fi(u,l.substring(2),n,r),t.push({type:"Assertion",kind:"Lookahead",negative:l[1]==="!"?!0:void 0,assertion:wr(u)});else if(l[1]==="<"&&(l[2]==="="||l[2]==="!"))Fi(u,l.substring(3),n,r),t.push({type:"Assertion",kind:"Lookbehind",negative:l[2]==="!"?!0:void 0,assertion:wr(u)});else{const f=l.split(">");if(f.length<2||f[0][1]!=="<")throw new Error(`Unsupported regex content found at ${JSON.stringify(a)}`);const p=++r.lastIndex,g=f[0].substring(2);r.named.set(g,p),Fi(u,f.slice(1).join(">"),n,r),t.push({type:"Group",capturing:!0,nameRaw:g,name:g,number:p,expression:wr(u)})}else{const f=++r.lastIndex;Fi(u,l,n,r),t.push({type:"Group",capturing:!0,number:f,expression:wr(u)})}break}default:{if(a==="^")t.push({type:"Assertion",kind:a});else if(a==="$")t.push({type:"Assertion",kind:a});else if(a[0]==="\\"&&v_(a[1])){const l=Number(a.substring(1));n||l<=r.lastIndex?t.push({type:"Backreference",kind:"number",number:l,reference:l}):t.push(Wx(a))}else if(a[0]==="\\"&&a[1]==="k"&&a.length!==2){const l=a.substring(3,a.length-1);t.push({type:"Backreference",kind:"name",number:r.named.get(l)||0,referenceRaw:l,reference:l})}else t.push(Wx(a));break}}}if(s!==null){s.push(wr(t.splice(0),!0)||null);let i={type:"Disjunction",left:s[0],right:s[1]};for(let a=2;a<s.length;++a)i={type:"Disjunction",left:i,right:s[a]};t.push(i)}}function Xj(t){const e=Gn([...t.flags],"u")!==-1,n=t.source,r=[];return Fi(r,n,e,{lastIndex:0,named:new Map}),wr(r)}const Qj=String.fromCodePoint,I_=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],T_=[..."0123456789"],O_=[...` 	\r
\v\f`],zx=[...`\r
`],$_=[...""],tL=[...zx,...$_],hs=()=>Wt({unit:"grapheme-ascii",minLength:1,maxLength:1});function N_(t){return new z(`Unsupported AST node! Received: ${Vt(t)}`)}function _r(t,e,n){switch(t.type){case"Char":{if(t.kind==="meta")switch(t.value){case"\\w":return Tn(...I_);case"\\W":return hs().filter(r=>Gn(I_,r)===-1);case"\\d":return Tn(...T_);case"\\D":return hs().filter(r=>Gn(T_,r)===-1);case"\\s":return Tn(...O_);case"\\S":return hs().filter(r=>Gn(O_,r)===-1);case"\\b":case"\\B":throw new z(`Meta character ${t.value} not implemented yet!`);case".":{const r=n.dotAll?$_:tL;return hs().filter(s=>Gn(r,s)===-1)}}if(t.symbol===void 0)throw new z(`Unexpected undefined symbol received for non-meta Char! Received: ${Vt(t)}`);return ie(t.symbol)}case"Repetition":{const r=_r(t.expression,e,n);switch(t.quantifier.kind){case"*":return Wt({...e,unit:r});case"+":return Wt({...e,minLength:1,unit:r});case"?":return Wt({...e,minLength:0,maxLength:1,unit:r});case"Range":return Wt({...e,minLength:t.quantifier.from,maxLength:t.quantifier.to,unit:r});default:throw N_(t.quantifier)}}case"Quantifier":throw new z("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return it(...mt(t.expressions,r=>_r(r,e,n))).map(r=>Et(r,""));case"CharacterClass":if(t.negative){const r=mt(t.expressions,s=>_r(s,e,n));return hs().filter(s=>g2(r,i=>!i.canShrinkWithoutContext(s)))}return oe(...mt(t.expressions,r=>_r(r,e,n)));case"ClassRange":{const r=t.from.codePoint,s=t.to.codePoint;return St({min:r,max:s}).map(i=>Qj(i),i=>{if(typeof i!="string")throw new z("Invalid type");if([...i].length!==1)throw new z("Invalid length");return bi(i,0)})}case"Group":return _r(t.expression,e,n);case"Disjunction":{const r=t.left!==null?_r(t.left,e,n):ie(""),s=t.right!==null?_r(t.right,e,n):ie("");return oe(r,s)}case"Assertion":{if(t.kind==="^"||t.kind==="$")return n.multiline?t.kind==="^"?oe(ie(""),it(Wt({unit:hs()}),Tn(...zx)).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new z("Invalid type");return[Mt(r,0,r.length-1),r[r.length-1]]})):oe(ie(""),it(Tn(...zx),Wt({unit:hs()})).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new z("Invalid type");return[r[0],Mt(r,1)]})):ie("");throw new z(`Assertions of kind ${t.kind} not implemented yet!`)}case"Backreference":throw new z("Backreference nodes not implemented yet!");default:throw N_(t)}}function eL(t,e={}){for(const i of t.flags)if(i!=="d"&&i!=="g"&&i!=="m"&&i!=="s"&&i!=="u")throw new z(`Unable to use "stringMatching" against a regex using the flag ${i}`);const n={size:e.size},r={multiline:t.multiline,dotAll:t.dotAll},s=Hj(Xj(t));return _r(s,n,r)}function nL(t){const e=[];for(let n=0;n!==t.length;++n)e.push(t[n].next());return e}function rL(t,e){for(let n=0;n!==t.length;++n)e[n]=t[n].next()}function sL(t){for(let e=0;e!==t.length;++e)if(t[e].done)return!0;return!1}function*iL(...t){const e=nL(t);for(;!sL(e);)yield e.map(n=>n.value),rL(t,e)}function*oL(t){let e=t;for(;;)yield e,++e}class aL extends Nt{constructor(e,n){super(),this.arb=e,this.maxShrinks=n}generate(e,n){const r=this.arb.generate(e,n);return this.valueMapper(r,0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return this.isSafeContext(n)?this.safeShrink(e,n.originalContext,n.length):this.safeShrink(e,void 0,0)}safeShrink(e,n,r){const s=this.maxShrinks-r;return s<=0?G.nil():new G(iL(this.arb.shrink(e,n),oL(r+1))).take(s).map(i=>this.valueMapper(i[0],i[1]))}valueMapper(e,n){const r={originalContext:e.context,length:n};return new V(e.value,r)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalContext"in e&&"length"in e}}function uL(t,e){return new aL(t,e)}var ot=Object.freeze({__proto__:null,Arbitrary:Nt,get ExecutionStatus(){return Yn},PreconditionFailure:Ye,Random:je,Stream:G,Value:V,get VerbosityLevel(){return xe},__commitHash:"fc3afba040ebfb5e6d276359f55ff2752618bc45",__type:"module",__version:"4.3.0",anything:e_,array:Ft,assert:FR,asyncDefaultReportMessage:_S,asyncModelRun:Lj,asyncProperty:mM,asyncStringify:Wh,asyncToStringMethod:Jn,base64String:QD,bigInt:yr,bigInt64Array:zj,bigUint64Array:Kj,boolean:Jo,check:ES,clone:m7,cloneIfNeeded:gi,cloneMethod:se,commands:Mj,compareBooleanFunc:mP,compareFunc:gP,configureGlobal:xM,constant:ie,constantFrom:Tn,context:a7,createDepthIdentifier:BS,date:KS,defaultReportMessage:wS,dictionary:sx,domain:lx,double:Tc,emailAddress:TB,falsy:o7,float:Iw,float32Array:jw,float64Array:Lw,func:SP,gen:MR,getDepthContextFor:Zh,hasAsyncToStringMethod:Vh,hasCloneMethod:as,hasToStringMethod:qh,hash:Oc,infiniteStream:KD,int16Array:Uw,int32Array:qw,int8Array:Vw,integer:St,ipV4:Ax,ipV4Extended:Nw,ipV6:Bw,json:OD,jsonValue:n_,letrec:Dw,limitShrink:uL,lorem:YP,mapToConstant:Qo,maxSafeInteger:$w,maxSafeNat:EP,memo:ZP,mixedCase:rD,modelRun:jj,nat:Sr,noBias:US,noShrink:$c,object:vD,oneof:oe,option:fs,pre:J8,property:dM,readConfigureGlobal:dn,record:VD,resetConfigureGlobal:pM,sample:kR,scheduledModelRun:Uj,scheduler:Vj,schedulerFor:Wj,shuffledSubarray:sj,sparseArray:Zw,statistics:IR,stream:mr,string:Wt,stringMatching:eL,stringify:Vt,subarray:rj,toStringMethod:Hn,tuple:it,uint16Array:Ww,uint32Array:zw,uint8Array:Kw,uint8ClampedArray:Gw,ulid:hj,uniqueArray:Zo,uuid:yj,webAuthority:x_,webFragments:m_,webPath:g_,webQueryParameters:b_,webSegment:d_,webUrl:$j});function cL(t,e){return function(n){if(Array.isArray(n))return n.reduce(e,t);let r=t;for(const s of n)r=e(r,s);return r}}function lL(t){return function(e){return Array.isArray(e)?e.map(t):(function*(){for(const n of e)yield t(n)})()}}const fL=t=>e=>{const n=Object.keys(e);return t.imap(t.productAll(n.map(r=>e[r])),r=>{const s={};for(let i=0;i<r.length;i++)s[n[i]]=r[i];return s},r=>n.map(s=>r[s]))},Ue=(t,e=(n,r)=>cL(n,t)(r))=>({combine:t,combineMany:e}),hL=t=>Ue((e,n)=>t(e,n)===-1?e:n),xL=t=>Ue(()=>t,()=>t),pL=d(3,(t,e,n)=>Ue((r,s)=>e(t.combine(n(r),n(s))),(r,s)=>e(t.combineMany(n(r),lL(n)(s))))),mL=(t,e)=>Ue(([n,r],[s,i])=>[t.combine(n,s),e.combine(r,i)]),M_=t=>Ue((e,n)=>{const r=Math.min(e.length,n.length),s=[];let i=0;for(const a of t){if(i>=r)break;s.push(a.combine(e[i],n[i])),i++}return s}),R_=fL({of:xL,imap:pL,product:mL,productMany:(t,e)=>{const n=M_(e);return Ue((r,s)=>[t.combine(r[0],s[0]),...n.combine(r.slice(1),s.slice(1))])},productAll:M_}),Ar=(t,e)=>({combine:t.combine,combineMany:t.combineMany,empty:e,combineAll:n=>t.combineMany(e,n)}),dL=t=>{const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n].empty);return Ar(R_(t),e)},gL=t=>d(3,(e,n,r)=>t.map(t.product(e,n),([s,i])=>r(s,i))),B_=t=>e=>d(2,(n,r)=>gL(t)(n,r,e)),P_=t=>d(2,(e,n)=>t.bimap(e,n,rt)),D_=t=>d(2,(e,n)=>t.bimap(e,rt,n)),bL=t=>d(3,(e,n,r)=>t(e,r)),xs=t=>d(3,(e,n,r)=>t(e,n)),yL=t=>d(2,(e,n)=>t.map(n,r=>r(e))),Kx=t=>e=>n=>t.traverse(e)(n,rt),j_=d(2,(t,e)=>t.map(n=>e(n))),SL=d(2,(t,e)=>t.chain(n=>e(n))),Gx={map:j_,imap:xs(j_),flatMap:SL},{map:L_,flatMap:wL}=Gx,_L=t=>ot.oneof(h(t,L_(R)),ot.constant(M())),Qn=ot.integer({min:-100,max:100}),AL=ot.string({minLength:0,maxLength:3});L_(t=>new Error(t));const EL=t=>h(FL,wL(U(B(e=>[e,t]),Object.fromEntries,ot.record))),FL=ot.uniqueArray(ot.string({minLength:1,maxLength:5}),{minLength:1,maxLength:5,comparator:es}),{map:CL}=Gx;CL(t=>Xb(new Error(t)));const kL=t=>e=>t(e),vL=()=>t=>ot.func(t).map(kL),U_=()=>vL()(ot.boolean()),{flatMap:IL,map:q_}=Gx;ot.oneof(Qn.map(t=>Ur(t)),Qn.map(t=>Rm(t)),Qn.map(t=>Bm(t)),Qn.map(t=>Pm(t)),Qn.map(t=>Dm(t)),Qn.map(t=>jm(t))),h(ot.tuple(Qn,Qn),IL(([t,e])=>{const[n,r]=t<e?[t,e]:[e,t],s=ot.constant({compare:Hk,maxBound:Ur(n),minBound:Ur(r)});return ot.tuple(h({min:n,max:r},ot.integer,q_(Ur),ot.constant),s)})),h({min:-14,max:14},ot.integer,q_(t=>v9(t)));const TL=(t="",...e)=>({name:t,laws:e,sets:[]});((...t)=>TL("",...t))();const Hx={traverse:t=>d(2,(e,n)=>t.productAll(bt(e).map(n)))};xs(Y5);const OL=d(2,(t,e)=>n=>h(n,e,t));bL(OL),xs(rI);const $L=t=>Ar(Ue((e,n)=>gt(e)?n:gt(n)?e:R(t.combine(e.value,n.value))),M());d(3,(t,e,n)=>h(t,ae({onNone:Bi(e),onSome:r=>n(e,r)})));const NL=t=>t.to,Jx=Ar(Ue((t,e)=>t+e),0),ML=_L(Qn);EL(ML),U_();const RL=hp($p);j3(RL),$L(Jx),U_(),Ar(R_({x:hL(yt),y:Ue(d(2,sh))}),{x:0,y:""});const{$is:Yx,$match:BL,Left:PL,Right:DL,Both:jL}=nh(),ia=({Left:t,Right:e,Both:n})=>r=>h(r,BL({Left:s=>t(s),Right:s=>e(s),Both:s=>n(s)})),[oa,aa,Er]=[Object.assign(PL,{from:t=>oa({left:t})}),Object.assign(DL,{from:t=>aa({right:t})}),Object.assign(jL,{from:(t,e)=>Er({left:e,right:t})})];Yx("Left"),Yx("Right"),Yx("Both"),d(2,(t,e)=>h(t,ia({Left:()=>oa.from(e),Right:({right:n})=>Er.from(n,e),Both:({right:n})=>Er.from(n,e)}))),d(2,(t,e)=>h(t,ia({Left:({left:n})=>Er.from(e,n),Right:()=>aa.from(e),Both:({left:n})=>Er.from(e,n)})));const LL=t=>h(t,ia({Left:({left:e})=>[M(),R(e)],Right:({right:e})=>[R(e),M()],Both:({left:e,right:n})=>[R(n),R(e)]})),V_=(t,e,n)=>{const r=e.length-t.length;return[...qa(t,e,U(Er.from,n)),...r===0?[]:r>0?h(e,Ua(r),B(U(oa.from,n))):h(t,Ua(-1*r),B(U(aa.from,n)))]};d(2,(t,e)=>V_(t,e,rt));const UL=t=>h(t,B(LL),Lo(U(Wa(([e])=>vt(e)),B(([e])=>e.value)),U(Wa(([,e])=>vt(e)),B(([,e])=>e.value)))),Zx=d(3,(t,e,n)=>h(t,ia({Right:({right:r})=>h(r,e,aa.from),Left:({left:r})=>h(r,n,oa.from),Both:({left:r,right:s})=>Er({left:n(r),right:e(s)})}))),W_={bimap:Zx};P_(W_),D_(W_),Object.assign(q0,{removeReadOnly:q0});const qe=t=>({node:t}),gn=Object.assign(d(2,(t,e)=>({node:t,forest:e})),{tupled:([t,e])=>({node:t,forest:e}),flipped:d(2,(t,e)=>({node:e,forest:t}))}),Fr=Object.assign(d(2,(t,e)=>$t(e)?gn(t,e):qe(t)),{flipped:d(2,(t,e)=>Fr(e,t)),tupled:([t,e])=>Fr(t,e)}),z_=t=>!("forest"in t),qL=t=>!z_(t),pe=({onLeaf:t,onBranch:e})=>n=>qL(n)?e(n.node,n.forest):t(n.node),VL=pe({onLeaf:()=>0,onBranch:(t,e)=>e.length}),Vc=({node:t})=>t,WL=({forest:t})=>t,zL=d(2,(t,e)=>h(e,pe({onLeaf:()=>qe(t),onBranch:(n,r)=>gn(t,r)})));d(2,(t,e)=>h(e,pe({onLeaf:n=>Fr(n,t),onBranch:n=>Fr(n,t)}))),d(2,(t,e)=>h(t,Vc,e,zL(t)));const K_=d(2,(t,e)=>h(t,pe({onLeaf:qe,onBranch:(n,r)=>({node:n,forest:B(r,e)})})));xs(K_),d(2,(t,e)=>h(t,K_(e),pe({onLeaf:qe,onBranch:gn})));const ua={traverse:t=>d(2,(e,n)=>h(e,pe({onLeaf:U(qe,t.of),onBranch:(r,s)=>KL(t)(r,B(s,n))})))},KL=t=>(e,n)=>h(e,t.of,B_(t)(Fr)(Kx(Hx)(t)(n))),Wc=t=>({unfixed:t}),Xx=t=>t.unfixed,GL=Ge,G_=Ie,HL=xs(G_),JL=t=>(e,n)=>Zu([e,n],t),YL=t=>(e,n)=>Zu([e,...n],t),ZL=t=>e=>Zu(e,t),XL=t=>({imap:HL,of:GL,map:G_,product:JL(t),productMany:YL(t),productAll:ZL(t)}),ca=t=>e=>h(e,t,Ge),H_=t=>(e,n)=>{const r=t.traverse(XL()),s=i=>h(i,e,re(a=>hn(()=>h(a,r(s)))),re(n));return s},J_=t=>(e,n)=>r=>h(r,H_(t)(ca(e),ca(n)),zn),Y_=t=>e=>H_(t)(n=>h(n,Xx,Ge),e),Qx=t=>e=>U(h(e,ca,Y_(t)),zn),QL=t=>e=>J_(t)(e,Wc),[Z_,tU]=[Wc,Xx],zc=Wc,eU=Xx,bn=U(qe,Z_),tr=Object.assign(d(2,(t,e)=>zc(gn(t,e))),{flipped:t=>e=>zc(gn(t,e)),tupled:([t,e])=>zc(gn(t,e))}),Kc=(t,e=[])=>$t(e)?tr(t,e):bn(t),Cr=Object.assign(Kc,{curried:t=>e=>Kc(e,t),flipped:t=>e=>Kc(t,e),tupled:([t,e])=>Kc(t,e)}),$n=t=>z_(t.unfixed),nU=t=>!$n(t),Oe=U(tU,Vc),Ci=U(eU,WL),me=({onLeaf:t,onBranch:e})=>n=>nU(n)?e(...h(n,Lo(Oe,Ci))):h(n,Oe,t),rU=(t,e)=>h(t,me({onLeaf:U(e,Ie(bn)),onBranch:(n,r)=>hn(()=>h(r,kn(ps(e)),re(s=>h(n,e,Ie(tr(s))))))})),sU=t=>me({onLeaf:U(t,Ie(bn)),onBranch:(e,n)=>hn(()=>re(t(e),r=>h(n,kn(ps.pre(t)),Ie(Cr.flipped(r)))))}),ps=Object.assign(d(2,rU),{pre:sU}),Ze=d(2,(t,e)=>h(t,ps.pre(U(e,Ge)),zn)),iU=xs(Ze),X_={map:Ze,imap:iU};yL(X_);const Q_=t=>h(t,pe({onLeaf:rt,onBranch:(e,n)=>tr(Oe(e),n)}));Qx(ua)(Q_);const tA=Y_(ua)(U(Q_,Ge)),oU=Object.assign(d(2,(t,e)=>h(t,ps(e),re(tA))),{pre:t=>e=>h(e,ps.pre(t),re(tA))}),aU=d(2,(t,e)=>h(t,oU(U(e,Ge)),zn)),uU=bn;({...X_},d(2,(t,e)=>h(t,aU(n=>h(e,Ze(rs.withFirst(n)))))));const Gc=me({onLeaf:()=>0,onBranch:(t,e)=>e.length}),cU=t=>h(t,me({onLeaf:()=>[],onBranch:(e,n)=>n})),lU=d(2,(t,e)=>({unfixed:h(t,me({onLeaf:()=>qe(e),onBranch:(n,r)=>gn(e,r)}))})),eA=(t,e)=>h(t,Oe,gn(e),zc),t1=Object.assign(d(2,eA),{flip:t=>e=>eA(t,e)});d(2,(t,e)=>$n(t)?t:e(t)),d(2,(t,e)=>lU(t,h(t,Oe,e)));const e1=d(2,(t,e)=>h(t,Lo(Oe,U(cU,e)),Cr.tupled)),nA=t=>e=>t1(e,h(e,Ci,t)),rA=(t,e)=>h(e,me({onLeaf:mi(M()),onBranch:(n,r)=>Sp(r,t+(t<0?r.length:0))})),sA=Object.assign(d(2,(t,e)=>rA(t,e)),{flip:t=>e=>rA(t,e)}),fU=Object.assign(d(2,(t,e)=>{const[n,...r]=t;if(n===void 0)return M();let s=sA(n,e);if(gt(s))return M();for(const i of r)if(s=sA(i,s.value),gt(s))return M();return s}),{flip:t=>e=>fU(t,e)}),n1=(t,e,n)=>h(t,me({onLeaf:r=>[],onBranch:(r,s)=>s.slice(e,n)}));Object.assign(n1,{curry:(t,e)=>n=>n1(n,t,e),flip:t=>(e,n)=>n1(t,e,n)});const hU=Ue((t,e)=>t&&e,(t,e)=>{if(t===!1)return!1;for(const n of e)if(n===!1)return!1;return!0}),xU=Ue((t,e)=>t||e,(t,e)=>{if(t===!0)return!0;for(const n of e)if(n===!0)return!0;return!1}),pU=Ue((t,e)=>t!==e),mU=Ue((t,e)=>t===e),dU=Ar(hU,!0),gU=Ar(xU,!1),bU=Ar(pU,!1),yU=Ar(mU,!0),er=Qx(ua);d(3,(t,e,n)=>h(e,iA(n,t),zn));const iA=(t,e)=>n=>h(e,me({onLeaf:r=>Ge(t(n,r)),onBranch:(r,s)=>Nr(s,Ge(t(n,r)),(i,a)=>hn(()=>h(i,re(iA(t,a)))))})),Hc=t=>er(oA(t)),oA=t=>e=>h(e,pe({onLeaf:n=>t.combine(t.empty,n),onBranch:(n,r)=>Nr(r,t.combine(t.empty,n),t.combine)}));Hc(dU),Hc(gU),Hc(bU),Hc(yU);const aA=t=>e=>n=>r=>{const s=SU(e),i=me({onLeaf:U(n,Ie(e.map(bn))),onBranch:(a,c)=>hn(()=>t==="post"?h(c,kn(i),re(l=>Ie(n(a),s(l)))):h(a,n,re(l=>h(c,kn(i),Ie(u=>s(l,u))))))});return i(r)};Object.assign(aA("pre"),{post:aA("post")});const SU=t=>d(2,(e,n)=>B_(t)((r,s)=>Cr(r,s))(e,h(n,Kx(Hx)(t)))),la=QL(ua),wU=t=>U(Lo(t,Fr.flipped),R8),_U=J_(ua),AU=d(3,(t,e,n)=>{const r=e+(e<0?Gc(t):0);return h(t,me({onLeaf:tr(n),onBranch:(s,i)=>{const a=r>=i.length?[...i,...n]:i.toSpliced(r,0,...n);return tr(s,a)}}))});d(3,(t,e,n)=>AU(t,n,[e]));const EU=d(2,(t,e)=>$n(t)?h(t,Oe,tr([e])):h(t,nA(Ay(e)))),FU=d(2,(t,e)=>$n(t)?h(t,Oe,tr([e])):h(t,nA(Ey(e))));d(2,(t,e)=>le(e)?$n(t)?h(t,t1(e)):h(t,e1(y8(e))):t),d(2,(t,e)=>le(e)?$n(t)?h(t,t1(e)):h(t,e1(S8(e))):t);const uA=(t,e)=>n=>{const r=t+(t<0?Gc(n):0);return h(n,e1(s=>r>=s.length?[...s]:s.toSpliced(r,e)))},cA=Object.assign(d(2,(t,e)=>uA(t,1)(e)),{flip:t=>uA(t,1)});cA.flip(0),cA.flip(-1);const CU=({depth:t,degree:e=()=>1})=>wU(n=>n>=t?[]:Dn(n+1,e(n))),kU=([t,e])=>{const n=e+1;return h(t,me({onLeaf:U(rs.withSecond(n),qe),onBranch:(r,s)=>gn([r,n],h(s,B(rs.withSecond(n))))}))},vU=t=>(e=1)=>h(t,CU,la)(e),r1=({degree:t,depth:e})=>vU({depth:e,degree:mi(t)})(1);r1.string=U(r1,Ze(dc));const lA=t=>r1({degree:2,depth:t});lA.string=U(lA,Ze(dc));const IU=pe({onLeaf:t=>[t],onBranch:(t,e)=>h(e,eo,wn(t))}),TU=pe({onLeaf:()=>1,onBranch:(t,e)=>Math.max(...e)+1}),OU=pe({onLeaf:()=>0,onBranch:(t,e)=>Math.max(e.length,...e)}),$U=t=>h(t,er(TU)),NU=t=>h(t,er(OU)),fA=t=>(e,n)=>{const r=W1(fA(t)),s=t(Oe(e),Oe(n)),i=()=>h(s,bn,Ge);return h(e,me({onLeaf:i,onBranch:(a,c)=>h(n,me({onLeaf:i,onBranch:(l,u)=>hn(()=>h(c,Qi(u),kn(r),Ie(Cr.flipped(s))))}))}))},MU=(t,e,n)=>zn(fA(n)(t,e));d(2,(t,e)=>MU(t,e,(n,r)=>[n,r]));const RU=t=>pe({onLeaf:rs.withSecond(M()),onBranch:(e,n)=>h(n,rC(BU(t)),U0(Pn(()=>R(e))))});function BU(t){return h(t,Ba(xp))}const PU=t=>e=>{const[n,r]=h(t,RU,er)(e);return[(gt(r)?rt:h(n,mh.curried(t),PF,DU))(e),n,r]},DU=t=>h(t,LU,er),jU=t=>pe({onLeaf:bn,onBranch:(e,n)=>Cr(e,h(n,Wa(t)))}),LU=t=>jU(({unfixed:e})=>VL(e)!==0||h(e,Vc,t)),hA=(t,e=2)=>h([t,0],_U(kU,IU),B(([n,r])=>h((r-1)*e,z8,q8(n)))),xA=Object.assign(hA,{curried:t=>e=>hA(e,t)}),pA=t=>{const[e,n]=t;if(n===void 0)return Z_(qe(e));const r=dA(n),s=a=>dA(a)/r,i=h(t,B(a=>[a.trimStart(),s(a)]));return h(i,la(mA))},mA=([[t,e],n,...r])=>{if(n===void 0)return qe(t);const s=[[n]];for(const[i,a]of r)a>e+1?s.at(-1).push([i,a]):s.push([[i,a]]);return gn(t,s)},dA=t=>h(t,H8(V8(" ")),_9);var UU=Object.freeze({__proto__:null,decode:pA,decodeIndentedUnfold:mA,encode:xA});const gA=t=>K0(t)?Fr(...t):qe(t),qU=la(gA),bA=t=>{if(K0(Vc(t)))throw new Error("Cannot encode a tree of arrays as an array tree.");return h(t,pe({onLeaf:rt,onBranch:(e,n)=>[e,n]}))};var VU=Object.freeze({__proto__:null,decode:qU,decodeUnfold:gA,encode:t=>h(t,er(bA)),unsafeEncodeFold:bA});const s1=t=>h(t,Nr(JU(),WU)),WU=(t,e)=>h([e,t],zU,KU,GU,N3),zU=([[t,e],{roots:n,...r}])=>[[t,e],{...r,roots:h(n,h(e,ae({onNone:()=>Ls,onSome:()=>Bl}))(t))}],KU=([[t,e],{toParent:n,...r}])=>[[t,e],{...r,toParent:h(n,h(e,ae({onNone:()=>rt,onSome:s=>Ul(t,s)})))}],GU=([[t,e],{toChildren:n,...r}])=>[[t,e],{...r,toChildren:h(e,ae({onNone:()=>n,onSome:HU(n,t)}))}],HU=(t,e)=>n=>h(t,ad(n,U(ae({onNone:()=>[e],onSome:ur(e)}),R))),JU=()=>({roots:lr(),toParent:lo(),toChildren:lo()}),i1=t=>[t,M()],yA=t=>([e])=>[e,R(t)],SA=({roots:t,toChildren:e})=>{const[n]=Bv(t);if(n===void 0)throw new Error("Edge map |roots|=0");if(Rl(t)!==1)throw new Error("Edge map |roots|≠1");return[n,h(e,Ll(n),Ut(()=>[]))]},wA=t=>e=>({...t,roots:Zm([e])}),_A=t=>q0(t,hp(t)),YU=t=>h(t,_A,Mr),ZU=B(U0(Ut(()=>0))),AA=t=>{const[e,n]=SA(t);return h(n,q3({onEmpty:()=>qe(e),onNonEmpty:U(B(wA(t)),Fr.flipped(e))}))},EA=t=>h(t,la(AA)),o1=U(s1,EA),FA=pe({onLeaf:t=>[i1(t)],onBranch:(t,e)=>h(e,J0(Y3(yA(t))),wn(i1(t)))}),a1=er(FA),XU=U(a1,s1);var QU=Object.freeze({__proto__:null,decode:o1,decodeMap:EA,decodeUnfold:AA,encode:a1,encodeFold:FA,getEdgeEquivalence:_A,getEdgeListEquivalence:YU,getMapChildren:SA,index:XU,indexParents:s1,numeric:ZU,rootTreeEdge:i1,setMapRoot:wA,setParent:yA});const CA=t=>h(t,pe({onLeaf:e=>[[e]],onBranch:(e,n)=>h(n,eo,B(r=>[e,...r]))})),kA=t=>e=>{const n=h(t,Ba(Jt)),r=mh(n),s=e[0][0],i=h(e,B(_n),Wa($t));return $t(i)?gn(s,eC(h(i,J3(n)),r)):qe(s)},vA=er(CA),ki=t=>e=>h(e,la(kA(t)));ki.number=ki(yt),ki.string=ki(S9);var tq=Object.freeze({__proto__:null,decode:ki,encode:vA,isValidPathList:t=>e=>{const n=new Map,r=new Set,s=e[0][0];for(const i of e){const[a,c]=[Jt(i),Xi(i)];if(!t(a,s)||r.has(c))return!1;r.add(c);const l=h(_n(i),Qi(G0(i)));if(dp(l))return e.length===1;for(const[u,f]of l){const p=n.get(u);if(p===void 0)n.set(u,f);else if(!t(p,f))return!1}}return!0},pathListFold:CA,pathListUnfold:kA});const nr=t=>le(t)?h(t,IA,o1):tr(1,[bn(2)]),IA=t=>{const e=[],n=[-1,2,...h(1,Dn(t.length+1))];for(const s of t)n[s]++;let r=n.indexOf(1);for(const s of t)e.push([r,R(s)]),n[r]--,r=--n[s]===1&&s<r?s:n.indexOf(1,r);return[[1,M()],[r,R(1)],...e]},ms=t=>e=>{const[n,...r]=Ci(e);if(r.length===0&&$n(n))return[];const s=PU(t),i=a=>{const[c,,l]=s(a);return h(l,ae({onNone:()=>Ge([]),onSome:u=>h(hn(()=>i(c)),Ie(Ey(u)))}))};return h(h(e,i,zn),G0)},TA=t=>BigInt(t)**(BigInt(t)-2n),yn=t=>t.length+2,u1=t=>t-2,fa=(t,e)=>{if(e<3)return[];const n=B(Cy(t-1n,e),el),r=e-n.length-2;return h(n,Yi(r===0?[]:Dn(1,r)))},c1=t=>{if(t.length===0)return[1n,2];const[e,n]=h(t,B(nl),pr.mapSecond(yn));return[ky(e,n)+1n,n]},eq=(t,e)=>h(fa(t,e),nr),nq=t=>h(t,ms(yt),c1),OA=t=>{const e=TA(t);return t>=36?[fa(1n,t)]:h(L3(1,Number(e)),B(n=>fa(BigInt(n),t)))},rq=t=>t<2?[]:t===2?[tr(1,[uU(2)])]:h(t,OA,B(nr)),ha=t=>t<3?[]:h(t,u1,e=>Dn(1,e)),sq=t=>h(t,yn,ha),iq=t=>h(t,yn,el,ha),xa=t=>t<3?[]:h(t,u1,e=>Dn(t,e)),oq=t=>h(t,yn,xa),aq=t=>h(t,yn,nl,xa),l1=t=>le(t)?_p(t,e=>e===1):!0,f1=t=>{if(le(t)){const e=yn(t);return h(t,_p(n=>n===e))}else return!0},h1=t=>le(t)?l1(t)?t.length===1?[]:xa(yn(t)-1):h(t,MA(L0(e=>e-1n))):[],x1=t=>f1(t)?ha(yn(t)+1):h(t,MA(L0(e=>e+1n))),$A=t=>le(t)?l1(t)?h(t,yn,xa):h1(t):[],NA=t=>f1(t)?h(t,yn,ha):x1(t),uq=t=>h(t,ms(yt),h1,nr),cq=t=>h(t,ms(yt),x1,nr),lq=t=>h(t,ms(yt),$A,nr),fq=t=>h(t,ms(yt),NA,nr),MA=t=>e=>{const[n,r]=h(e,c1,t);return fa(n,r)};var hq=Object.freeze({__proto__:null,allCodesAt:OA,allTreesAt:rq,codeCount:u1,computeNodeCount:yn,decode:nr,encode:ms,fromOrdinal:fa,getFirstCode:sq,getFirstCodeFor:ha,getLastCode:oq,getLastCodeFor:xa,getNextFirstCode:iq,getNthTree:eq,getPreviousLastCode:aq,isFirstCode:l1,isLastCode:f1,labeledTreeCount:TA,nextCode:x1,nextCodeWrap:NA,nextTree:cq,nextTreeWrap:fq,previousCode:h1,previousCodeWrap:$A,previousTree:uq,previousTreeWrap:lq,toEdges:IA,toOrdinal:c1,treeToOrdinal:nq});const RA=t=>u8(m8(()=>xq(t,RA(t))),mq(t)),xq=(t,e)=>pi({unfixed:pq(t,e)}),pq=(t,e)=>pi({node:t,forest:l8(e)}),mq=t=>pi({unfixed:dq(t)}),dq=t=>pi({node:t}),BA=()=>({to:a1,from:o1}),gq=t=>({to:vA,from:ki(t)}),bq={to:ms(yt),from:nr},yq=t=>({to:xA.curried(t),from:pA}),PA=t=>O9(e=>{for(const[n,r]of h(t,Ze(s=>M9(e,s)),NL(BA())))h(r,Da(s=>B9(e,n,s,"")))});var Sq=Object.freeze({__proto__:null,Arrays:VU,ArraysIsomorphism:gq,EdgeListIsomorphism:BA,Edges:QU,Indented:UU,IndentedIsomorphism:yq,Paths:tq,Prufer:hq,PruferIsomorphism:bq,treeSchema:RA,treeToGraph:PA,treeToGraphViz:t=>{const e=Ze(t,n=>typeof n=="number"?n.toString():n);return h(e,PA,P9)}});B(([t,e])=>h(t,Hi,Da(rs.withSecond(e))));const wq=dL({numerator:Jx,denominator:Jx}),_q=t=>h(t,oA(wq)),Aq=({numerator:t,denominator:e})=>e===0?0:t/e;U(Ze(t=>({numerator:t,denominator:1})),er(_q),Aq);const DA=t=>{const[e,n]=[ps(ca(U(aa.from,t))),ps(ca(U(oa.from,t)))],r=i=>Ie(Cr.flipped(i)),s=i=>a=>c=>h(c,kn(a),r(i));return(i,a)=>{const c=t(Er.from(Oe(i),Oe(a)));return h(i,me({onLeaf:()=>h(a,me({onLeaf:()=>h(c,bn,Ge),onBranch:(l,u)=>s(c)(n)(u)})),onBranch:(l,u)=>h(a,me({onLeaf:()=>s(c)(e)(u),onBranch:(f,p)=>h(V_(p,u,ia({Left:({left:g})=>e(g),Right:({right:g})=>n(g),Both:({left:g,right:b})=>DA(t)(g,b)})),Zu,r(c))}))}))}};pe({onLeaf:Zx(bn,bn),onBranch:(t,e)=>{const[n,r]=UL(e);return h(t,Zx(Cr.curried(r),Cr.curried(n)))}});const Eq=t=>U(DA(t),zn);d(2,(t,e)=>Eq(rt)(t,e));const jA=(t,e)=>ot.integer({min:t,max:e}).map(n=>String.fromCodePoint(n)),Fq=jA(65,90),Cq=jA(97,122),LA=ot.boolean().chain(t=>t?Fq:Cq),p1=ot.array(LA,{minLength:0,maxLength:3}),UA=p1.map(dt),m1=ot.array(LA,{minLength:1,maxLength:3});m1.map(dt);const kq=["topLeft","topRight"],vq=["bottomRight","bottomLeft"],qA=[...kq,...vq],vi=["top","right","bottom","left"],VA=(t,e,n)=>V0(t,e,mi(n)),WA=Object.assign(d(3,VA),{named:(t,e)=>n=>VA(kr(n),t,e)}),Iq={ascii:Xe("..''"),diagonal:{topLeft:"╱",topRight:"╲",bottomLeft:"╲",bottomRight:"╱"},double:Xe("╔╗╚╝"),hDouble:Xe("╒╕╘╛"),hThick:Xe("┍┑┕┙"),round:Xe("╭╮╰╯"),solid:In("█")(...qA),space:In(" ")(...qA),thick:Xe("┏┓┗┛"),thin:Xe("┌┐└┘"),vDouble:Xe("╓╖╙╜"),vThick:Xe("┎┒┖┚"),halfSolid:Xe("▞▚▚▞"),halfSolidNear:Xe("▗▖▝▘"),halfSolidFar:Xe("▛▜▙▟")},kr=t=>Iq[t];function Xe(t){const[e,n,r,s]=gc(t);return{topLeft:e,topRight:n,bottomRight:s,bottomLeft:r}}const zA=(t,e,n)=>V0(t,e,mi(n)),KA=Object.assign(d(3,zA),{named:(t,e)=>n=>zA(Qe(n),t,e)}),Tq={ascii:$e("-|"),dashed:$e("┄┆"),dashedWide:$e("╌╎"),dotted:$e("┈┊"),double:$e("═║"),halfSolid:Jc("▀▐▄▌"),halfSolidNear:Jc("▄▌▀▐"),halfSolidFar:Jc("▀▐▄▌"),hDouble:$e("═│"),hThick:$e("━│"),near:Jc("▁▏▔▕"),solid:In("█")(...vi),space:In(" ")(...vi),thick:$e("━┃"),thickDashed:$e("┅┇"),thickDashedWide:$e("╍╏"),thickDotted:$e("┉┋"),thin:$e("─│"),vDouble:$e("─║"),vThick:$e("─┃")},Qe=t=>Tq[t];function $e(t){const[e,n]=gc(t);return{top:e,right:n,bottom:e,left:n}}function Jc(t){const[e,n,r,s]=gc(t);return{top:e,right:n,bottom:r,left:s}}Object.assign(d(3,({lines:t,...e},n,r)=>({...e,lines:KA(t,n,r)})),{named:(t,e)=>({lines:n,...r})=>({...r,lines:KA(n,t,d1(e).lines[t])})}),Object.assign(d(3,({elbows:t,...e},n,r)=>({...e,elbows:WA(t,n,r)})),{named:(t,e)=>({elbows:n,...r})=>({...r,elbows:WA(n,t,kr(e)[t])})});const Oq={ascii:Kt("ascii","ascii"),thin:Kt("thin","thin"),dashed:Kt("dashed","thin"),dashedWide:Kt("dashedWide","thin"),dotted:Kt("dotted","thin"),thick:Kt("thick","thick"),hThick:Kt("hThick","hThick"),vThick:Kt("vThick","vThick"),thickDashed:Kt("thickDashed","thick"),thickDashedWide:Kt("dashedWide","thick"),thickDotted:Kt("thickDotted","thick"),double:Kt("double","double"),hDouble:Kt("hDouble","hDouble"),vDouble:Kt("vDouble","vDouble"),solid:Kt("solid","solid"),space:Kt("space","space"),near:Kt("near","space"),halfSolid:Kt("halfSolid","halfSolid"),halfSolidNear:Kt("halfSolidNear","halfSolidNear"),halfSolidFar:Kt("halfSolidFar","halfSolidFar"),beveled:Kt("near","diagonal")},d1=t=>Oq[t];function Kt(t,e){return{lines:Qe(t),elbows:kr(e)}}const GA=(t,e,n)=>V0(t,e,mi(n));Object.assign(d(3,GA),{named:(t,e)=>n=>GA(Ii(n),t,e)});const $q={ascii:In("+")(...vi),double:rr("╩╠╦╣"),hDouble:rr("╧╞╤╡"),hThick:rr("┷┝┯┥"),solid:In("█")(...vi),space:In(" ")(...vi),thick:rr("┻┣┳┫"),thin:rr("┴├┬┤"),vDouble:rr("╨╟╥╢"),vThick:rr("┸┠┰┨"),vThickTop:rr("┴┞┰┦"),vThickBottom:rr("┸┟┬┧")},Ii=t=>$q[t];function rr(t){const[e,n,r,s]=gc(t);return{top:e,right:n,bottom:r,left:s}}const Ne=(t=[" "],e="",n="")=>({axis:"horizontal",prefix:e,body:t,suffix:n}),Nn=(t=[""],e=[],n=[])=>({axis:"vertical",prefix:e,body:t,suffix:n}),Yc=(t,e=t)=>({left:t,right:e}),Zc=(t,e=t)=>({top:t,bottom:e});Ne.space=Ne([" "]),Nn.empty=Nn([""]),Yc.space=Yc(Ne.space),Zc.empty=Zc(Nn.empty);const pa=Ne.space,g1=Nn.empty,Nq={top:g1,right:pa,bottom:g1,left:pa},HA=t=>({...Nq,...dh(t??{})});Ne.fill=({prefix:t,body:e,suffix:n})=>r=>{if(r===0)return"";const s=r-os(t)-os(n);if(s>=0)return t+h(e,dt,kh(s))+n;const i=Math.floor(r/2),a=r-i;return dt([...bc(0,a)(t),...bc(0,i)(n)])},Nn.fill=({prefix:t,body:e,suffix:n})=>r=>{if(r===0)return[];const s=r-t.length-n.length;if(s>=0)return[...t,...K8(s)(e),...n];const i=Math.floor(r/2),a=r-i;return[...t.slice(0,a),...n.slice(0,i)]},Yc.fill=({left:t,right:e})=>(n,r)=>s=>Ne.fill(t)(n)+s+Ne.fill(e)(r),Zc.fill=({top:t,bottom:e})=>([n,r])=>s=>[...Nn.fill(t)(n),...s,...Nn.fill(e)(r)];const b1=(t=g1,e=pa,n=t,r=e)=>({top:t,right:e,bottom:n,left:r}),Xc=Mr(es),y1=Ea({prefix:es,body:Xc,suffix:es}),S1=Ea({prefix:Xc,body:Xc,suffix:Xc}),JA=({prefix:t,body:e,suffix:n})=>`⊦${t}«${dt.quote.fancy(e)}»${n}`,YA=({prefix:t,body:e,suffix:n})=>dt.rest("⊥",dt.comma(t),`«${dt.quote.fancy(e)}»`,dt.comma(n)),ZA=({right:t,left:e})=>dt.rest(`←${JA(e)}`,...y1(e,t)?[]:[`→${JA(t)}`]),Mq=({top:t,bottom:e})=>dt.rest(`↑${YA(t)}`,...S1(t,e)?[]:[`↓${YA(e)}`]),Rq=({top:t,right:e,bottom:n,left:r})=>dt.rest(ZA({left:r,right:e}),Mq({top:t,bottom:n})),Bq=(t,e,n)=>r=>r==="left"?t():r==="center"?e():n(),Pq=(t,e,n)=>r=>r==="top"?t():r==="middle"?e():n(),XA=t=>[t("left",0),t("center",1),t("right",2)],QA=t=>[t("top",0),t("middle",1),t("bottom",2)],Ti=t=>Ji(XA((e,n)=>[e,t(e,n)])),w1=t=>Ji(QA((e,n)=>[e,t(e,n)])),Dq={left:"⮄",center:"⮂",right:"⮆",top:"⮅",middle:"⮁",bottom:"⮇"},_1=t=>Dq[t],tE=Ea({left:y1,right:y1,hAlign:es}),jq=Ea({top:S1,bottom:S1,vAlign:es}),Lq=FF(tE,jq),eE=(t,e,n=!1)=>r=>{if(r.length<=1)return r;const s=G8(r),i=a=>s-os(a);return h(r,B(a=>{const c=i(a);return c<=0?a:Uq(t,e,c,n)(a)}))};function Uq(t,e,n,r){const{left:s,right:i}=t;return a=>h(e,Bq(()=>a+Ne.fill(i)(n),()=>Yc.fill(t)(...(r?vy:Iy)(n))(a),()=>Ne.fill(s)(n)+a))}const A1=(t,e,n,r=!1)=>s=>{const i=E8(s);return i===0?s:h(s,B(a=>{const c=i-a.length;return h(a,c<=0?rt:qq(t,e,c,r),n)}))};A1.useTopRound=(t,e,n)=>A1(t,e,n,!0);function qq(t,e,n,r=!1){return h(e,Pq(()=>[n,0],()=>N8[r?"halfToFirst":"halfToSecond"](n),()=>[0,n]),M3,Zc.fill(t))}const ma=nh(),da=ma.$is,nE=ma.EmptyF,rE=ma.TextF,Qc=ma.RowF,t0=ma.ColumnF,E1=t=>da("EmptyF")(t),F1=t=>da("TextF")(t),C1=t=>da("RowF")(t),sE=t=>da("ColumnF")(t),Oi=(t,e,n,r)=>s=>E1(s)?t:F1(s)?e(s.show):C1(s)?n(s):r(s),e0=nE(),n0=t=>rE({show:t}),iE=t=>e=>Qc({...t,cells:e}),oE=t=>e=>t0({...t,cells:e}),r0=d(2,(t,e)=>h(t,Oi(e0,n=>n0(n),({cells:n,...r})=>Qc({...r,cells:h(n,B(e))}),({cells:n,...r})=>t0({...r,cells:h(n,B(e))})))),aE=xs(r0),uE=t=>d(2,(e,n)=>h(e,r0(n),Wq(t))),Vq={map:r0,imap:aE},cE={traverse:uE},Wq=t=>e=>{const n=Kx(Hx)(t),r=t.map;return h(e,Oi(t.of(e0),U(n0,t.of),({cells:s,...i})=>h(s,n,r(a=>Qc({...i,cells:[...a]}))),({cells:s,...i})=>h(s,n,r(a=>t0({...i,cells:[...a]})))))},zq=t=>(e,n)=>h(e,Oi(E1(n),r=>F1(n)&&n.show===r,r=>C1(n)&&Kq(t)(r,n),r=>sE(n)&&Gq(t)(r,n))),Kq=t=>({cells:e,...n},{cells:r,...s})=>Lq(n,s)&&Mr(t)(e,r),Gq=t=>({cells:e,...n},{cells:r,...s})=>tE(n,s)&&Mr(t)(e,r),Hq=Ge({}),Jq=Xb(void 0);var Yq=Object.freeze({__proto__:null,ColumnF:t0,Covariant:Vq,EmptyF:nE,RowF:Qc,TextF:rE,Traversable:cE,columnF:oE,emptyF:e0,equalsFail:Jq,equalsSuccess:Hq,getEquivalence:zq,imap:aE,isColumnF:sE,isEmptyF:E1,isPartFOf:da,isRowF:C1,isTextF:F1,map:r0,matchPartF:Oi,rowF:iE,textF:n0,traverse:uE});const s0=t=>Wc(t),Zq=t=>U(iE(t),s0),lE=t=>U(oE(t),s0),fE=s0(e0),sr=U(n0,s0),hE=(t="middle")=>(e="center")=>(n,r)=>Zq({hAlign:e,vAlign:t,...HA(r)})(n),ga=Object.assign(hE,w1(U(hE,Ti))),xE=(t="middle")=>(e="center")=>(n,r)=>s=>ga(t)(e)([s,n],r),pE=(t="middle")=>(e="center")=>(n,r)=>s=>ga(t)(e)([n,s],r),Xq=Object.assign(xE,w1(t=>Ti(e=>xE(t)(e)))),mE=Object.assign(pE,w1(t=>Ti(e=>pE(t)(e)))),dE=(t="center")=>(e,n=pa,r=n)=>lE({hAlign:t,left:n,right:r})(e),vr=Object.assign(dE,Ti(dE)),k1=(t="center")=>(e,n=pa,r=n)=>s=>lE({hAlign:t,left:n,right:r})([e,s]),gE=t=>(e,n,r)=>s=>k1(t)(s,n,r)(e),bE=Object.assign(t=>(e,n,r)=>s=>k1(t)(e,n,r)(s),Ti(k1)),yE=Object.assign(t=>(e,n,r)=>s=>gE(t)(e,n,r)(s),Ti(gE)),v1=t=>Qx(cE)(t),SE=Oi([],Ce,tV,eV),Qq=Object.assign(v1(SE),{unlines:t=>h(t,v1(SE),di)});function tV({hAlign:t,vAlign:e,cells:[n,...r],...s}){if(n===void 0)return[];const{left:i,right:a,top:c,bottom:l}=HA(s),u=h([n,...r],A1({top:c,bottom:l},e,eE({left:i,right:a},t)));return h(u,wy,B(B(Ut(mi(" ")))),B(dt))}function eV({cells:t,hAlign:e,...n}){return h(t,eo,eE(n,e))}const nV=Oi("∅",Dt.quote.fancy,rV,sV);v1(nV);function rV({cells:t,hAlign:e,vAlign:n,...r}){return dt.rest(_1(e),_1(n),".",Rq(r),"(",t.join(", "),")")}function sV({hAlign:t,cells:e,...n}){return dt.rest(_1(t),ZA(n),"(",e.join(", "),")")}const wE=["rootBullet","branchBullet","leafBullet"],iV=["elbow","hLine","indent","rightTee","space","tee","vLine",...wE],oV=In("")(...wE),ba={...In("")(...iV),...AE("space"),...oV,tee:Ii("space").bottom,rightTee:Ii("space").right,elbow:kr("space").bottomLeft,space:" ",indent:" "},_E={...ba,hLine:Qe("thin").top,vLine:" "+Qe("thin").left,elbow:" "+kr("thin").bottomLeft,tee:Qe("thin").bottom,rightTee:" "+Ii("thin").right,indent:ci(2)(Qe("thin").top),space:"  "},aV={ascii:{...ba,...Gt("ascii"),indent:Qe("ascii").top},bullets:{...ba,rootBullet:"►",branchBullet:"∘",leafBullet:"∙"},dashed:h("thin",Gt,$i("dashed")),dashedWide:h("thin",Gt,$i("dashedWide")),dotted:h("thin",Gt,$i("dotted")),double:Gt("double"),hDouble:Gt("hDouble"),hThick:Gt("hThick"),hThickDashed:h("hThick",Gt,gs("thickDashed"),ds("dashed")),hThickDashedWide:h("hThick",Gt,gs("thickDashedWide"),ds("dashedWide")),hThickDotted:h("hThick",Gt,gs("thickDotted"),ds("dotted")),round:{...Gt("thin"),elbow:kr("round").bottomLeft},space:ba,thick:Gt("thick"),thickDashed:h("thick",Gt,$i("thickDashed")),thickDashedWide:h("thick",Gt,$i("thickDashedWide")),thickDotted:h("thick",Gt,$i("thickDotted")),thin:Gt("thin"),unix:_E,unixRound:{..._E,elbow:" "+kr("round").bottomLeft},vThick:Gt("vThick"),vThickDashed:h("vThick",Gt,gs("dashed"),ds("thickDashed")),vThickDashedWide:h("vThick",Gt,gs("dashedWide"),ds("thickDashedWide")),vThickDotted:h("vThick",Gt,gs("dotted"),ds("thickDotted")),vDouble:Gt("vDouble")},I1=t=>aV[t];function $i(t){return U(gs(t),ds(t))}function ds(t){return e=>({...e,vLine:Qe(t).left})}function gs(t){return e=>({...e,hLine:Qe(t).top})}function Gt(t){return{...ba,...AE(t),...uV(t),elbow:kr(t).bottomLeft,indent:Qe(t).top}}function AE(t){return{hLine:Qe(t).top,vLine:Qe(t).left}}function uV(t){return{tee:Ii(t).bottom,rightTee:Ii(t).right}}const EE=["ascii","bullets","space"],FE=h(["dashed","dashedWide","dotted","double","hDouble","hThick","hThickDashed","hThickDashedWide","hThickDotted","round","thick","thickDashed","thickDashedWide","thickDotted","thin","unix","unixRound","vDouble","vThick","vThickDashed","vThickDashedWide","vThickDotted"]),cV={spacing:0,indents:0,glyphs:I1("thin"),formatter:rt},lV=[...FE,...EE],fV=[...h(FE,B(pr.mapSecond(t=>kE(t,0)))),...h(EE,B(pr.mapSecond(t=>kE(t,1))))],CE=Ji(fV),hV=t=>CE[t],xV=t=>h(lV,B(pr.mapSecond(e=>t(CE[e],e))),Ji);function pV(t=I1("thin"),e=0,n){return{...cV,indents:e,glyphs:t,...n}}function kE(t="thin",e=0,n){return pV(I1(t),e,n)}const i0=Object.assign(d(2,(t,{glyphs:e})=>e[t]),{flipped:t=>({glyphs:e})=>e[t]});d(2,(t,e)=>sr(i0(t,e)));const mV=({formatter:t})=>Ze(t),dV=t=>(e,n)=>{const r=i0(t);return h(n,r,ci(t.indents),Ch(r(e)))},vE=(t,e)=>n=>U(dV(n),sr)(t,e);function gV(t){return e=>(t+h(`
`,ci(e.spacing))).split(/\n/)}const bV=vE("rightTee","indent"),yV=vE("elbow","indent"),SV=IE("hLine","leafBullet","space"),wV=IE("tee","branchBullet","vLine");function IE(t,e,n){return r=>s=>{const i=i0(s),[a,c,l]=[i(t),i(e),i(n)],u=a+c,f=ci(os(u))(l)+c;return h(s,gV(r),_8(U(Ch(u),sr),U(Ch(f),sr)),vr.left)}}const _V=TE(bV,"vLine"),AV=TE(yV,"space");function TE(t,e){return n=>{const r=i0(n);return mE.top.left(t(n),b1(Nn.empty,Ne([r("space")],r(e))))}}const OE=Object.assign($E,{flip:F8($E)});function $E(t){return e=>h(t,me({onLeaf:n=>SV(n)(e),onBranch:EV(e)}))}const EV=t=>(e,n)=>{const r=[wV(e),FV(n)];return h(r,CV,y0(t),vr.left)},FV=t=>e=>{const n=U(OE,y0(e));return h(t,A8(U(n,_V(e)),U(n,AV(e))),vr.left)};function CV(t){return e=>B(t,y0(e))}const NE=(t,e)=>h(t,mV(e),OE.flip(e)),kV=Object.assign(d(2,NE),{number:t=>e=>NE(Ze(e,dc),t)}),ME=(t,e)=>h(kV(t,e),Qq),vV=Object.assign(d(2,ME),{unlines:t=>e=>di(ME(e,t))}),IV=Object.assign(RE("thin"),xV((t,e)=>RE(e)));function RE(t){return Object.assign(BE(t,rt),{number:BE(t,dc)})}function BE(t,e){return Object.assign(PE(t,e),{unlines:U(PE(t,e),di)})}function PE(t,e){return U(Ze(e),h(t,hV,vV))}const ya=sr(""),DE=(t,e)=>h(t,sn(e??""),sr),TV=Object.assign((t,e)=>DE(t,e),{curried:t=>e=>DE(e,t)}),T1=(t,e="center")=>h(t,B(sr),vr[e]),OV=Object.assign(T1,{curried:t=>e=>T1(e,t),rest:(...t)=>T1(t)}),o0=d(2,(t,e)=>t===0?fE:h(e,Dn(t),TV)),a0=t=>t===0?fE:h(ya,Dn(t),vr.center),$V=Object.assign((t=" ",e=" ")=>(n=1,r=n)=>s=>ga.middle.center([o0(n,t),s,o0(r,e)]),{left:(t=" ",e=0)=>n=>ga.middle.center([o0(e,t),n]),right:(t=" ",e=0)=>n=>ga.middle.center([n,o0(e,t)])}),NV=Object.assign((t=1,e=t)=>n=>vr.center([a0(t),n,a0(e)]),{top:(t,e=0)=>vr.center([a0(e),t]),bottom:(t,e=0)=>vr.center([t,a0(e)])}),jE=d(2,(t,{top:e,right:n,bottom:r,left:s})=>h(t,NV(e,r),$V()(s,n))),LE=Object.assign(({lines:{top:t}})=>bE.center(ya,Ne([t])),{corners:({lines:{top:t},elbows:{topLeft:e,topRight:n}})=>bE.left(ya,Ne([t],e,n))}),MV=({lines:{right:t}})=>e=>h(e,Xq.middle.center(sr(t),b1(Nn([t])))),UE=Object.assign(({lines:{bottom:t}})=>yE.center(ya,Ne([t])),{corners:({lines:{bottom:t},elbows:{bottomLeft:e,bottomRight:n}})=>yE.right(ya,Ne([t],e,n))}),RV=({lines:{left:t}})=>e=>h(e,mE.middle.center(sr(t),b1(Nn([t])))),BV=t=>e=>h(e,RV(t),MV(t)),PV=Object.assign(t=>e=>h(e,LE(t),UE(t)),{corners:t=>e=>h(e,LE.corners(t),UE.corners(t))}),qE=(t,e)=>h(t,BV(e),PV.corners(e)),O1=Object.assign(qE,{curried:t=>e=>qE(e,t)}),VE=([t,...e])=>n=>h(e,Nr(h(n,O1.curried(t)),O1));Object.assign(VE,{rest:(...t)=>e=>VE(t)(e)});const u0=In(0)(...vi),DV={padding:u0,margin:u0,border:d1("thin")},jV=(t=DV)=>({padding:{...u0,...dh(t.padding??{})},margin:{...u0,...dh(t.margin??{})},border:t.border??d1("thin")}),$1=(t,e)=>{const{padding:n,margin:r,border:s}=jV(e);return h(t,jE(n),O1.curried(s),jE(r))};Object.assign($1,{curried:t=>e=>$1(e,t),lines:t=>(e,n="center")=>$1(OV(e,n),t)});const WE=ot.record({axis:ot.constant("horizontal"),prefix:UA,body:m1,suffix:UA}),zE=ot.record({axis:ot.constant("vertical"),prefix:p1,body:m1,suffix:p1}),KE=ot.record({right:WE,left:WE}),GE=ot.record({top:zE,bottom:zE});ot.tuple(KE,GE).map(([t,e])=>({...t,...e}));const{emptyF:LV,textF:UV}=Yq,qV=KE.chain(({left:t,right:e})=>ot.record({hAlign:ot.oneof(...XA(ot.constant)),left:ot.constant(t),right:ot.constant(e)})),VV=GE.chain(({top:t,bottom:e})=>ot.record({vAlign:ot.oneof(...QA(ot.constant)),top:ot.constant(t),bottom:ot.constant(e)}));qV.chain(t=>VV.map(e=>({...t,...e})));const WV=ot.constant(LV),zV=AL.map(UV);WV.map(t=>({unfixed:t})),zV.map(t=>({unfixed:t}));function N1(t){return{parent:h(t.focus,Oe,R),levels:Ay(t.levels,ly(t,"lefts","rights","parent"))}}const Sa=d(3,(t,e,n)=>{let r=t;for(let s=0;s<e;s++){const i=n(r);if(gt(i))return i;r=i.value}return R(r)});d(3,(t,e,n)=>h(t,Sa(e,n),ar));const HE=t=>{const{focus:e}=t;if($n(e))return M();const n=Ci(e);return R({...N1(t),focus:Jt(n),lefts:[],rights:n.slice(1)})},KV=d(2,(t,e)=>Sa(t,e,HE)),JE=t=>{const{focus:e}=t;if($n(e))return M();const n=Ci(e);return R({...N1(t),focus:Xi(n),lefts:n.slice(0,-1),rights:[]})},GV=d(2,(t,e)=>Sa(t,e,JE)),HV=({focus:t,lefts:e,rights:n,...r})=>{if(!le(e))return M();const[s,i]=Fy(e);return R({...r,focus:s,lefts:i,rights:[t,...n]})},JV=d(2,(t,e)=>Sa(t,e,HV)),YV=({focus:t,lefts:e,rights:n,...r})=>{if(!le(n))return M();const[s,...i]=n;return R({...r,focus:s,lefts:[...e,t],rights:i})},ZV=d(2,(t,e)=>Sa(t,e,YV)),XV=d(2,(t,e)=>{const{focus:n}=t,r=Gc(n),s=e+(e<0?r:0);if($n(n)||s>=Gc(n))return M();const i=n,a=Ci(i),[c,l,u]=[a.slice(0,e),a.at(s),a.slice(e)];return R({...N1(t),focus:l,lefts:c,rights:u,parent:h(i,Oe,R)})}),QV=U(HE,ar);d(2,(t,e)=>h(t,KV(e),ar));const tW=U(JE,ar);d(2,(t,e)=>h(t,GV(e),ar)),d(2,(t,e)=>h(t,JV(e),ar)),d(2,(t,e)=>h(t,ZV(e),ar)),d(2,(t,e)=>h(XV(t,e),ar)),d(2,({focus:t,...e},n)=>({...e,focus:n}));const YE=({focus:t,...e},n)=>({...e,focus:FU(t,n)}),ZE=({focus:t,...e},n)=>({...e,focus:EU(t,n)});Object.assign(d(2,YE),{move:t=>e=>QV(YE(e,t))}),Object.assign(d(2,ZE),{move:t=>e=>tW(ZE(e,t))});const eW=t=>"_tag"in t&&t._tag==="effect-tree-demo",nW=t=>({data:e})=>{const n=e;return eW(n)?{...n,...t(n)}:void 0};Object.assign(ur,{flipped:t=>e=>ur(t,e)}),Object.assign(wn,{flipped:t=>e=>wn(t,e)}),Object.assign(vs,{flipped:t=>e=>vs(t,e)}),Object.assign(Yi,{flipped:t=>e=>Yi(t,e)}),Z0(es);const rW=new Intl.Segmenter,Ht=([t,e])=>n=>`${t}${n}${e}`;Ht.rest=(t,e)=>Ht([t,e]),Ht.parentheses=Ht(["(",")"]),Ht.squareBrackets=Ht(["[","]"]),Ht.curlyBrackets=Ht(["{","}"]),Ht.angledBrackets=Ht(["<",">"]),Ht.quote=Object.assign(Ht(["'","'"]),{double:Ht(['"','"']),fancy:Ht(["“","”"]),parentheses:Ht(["(",")"]),squareBrackets:Ht(["[","]"]),curlyBrackets:Ht(["{","}"]),angledBrackets:Ht(["<",">"])});const Fe=t=>t.join("");Fe.rest=(...t)=>Fe(t),Fe.pipeline=t=>h(t,sn(" | ")),Fe.slash=t=>h(t,sn(" | ")),Fe.spaced=Object.assign(t=>t.join(" "),{rest:(...t)=>t.join(" "),literal:(...t)=>t.join(" ")}),Fe.comma=Object.assign(t=>t.join(", "),{rest:(...t)=>t.join(", ")}),Fe.quote=Object.assign(t=>h(t,B(Ht.quote),Fe.comma),{double:t=>h(t,B(Ht.quote.double),Fe.comma),fancy:t=>h(t,B(Ht.quote.fancy),Fe.comma)});const sW=Gy.stringWidth;B(sW);const c0=t=>[...rW.segment(t)].map(e=>e.segment),{$is:M1,$match:iW,Left:oW,Right:aW,Both:uW}=nh(),R1=({Left:t,Right:e,Both:n})=>r=>h(r,iW({Left:s=>t(s),Right:s=>e(s),Both:s=>n(s)})),[l0,f0,bs]=[Object.assign(oW,{from:t=>l0({left:t})}),Object.assign(aW,{from:t=>f0({right:t})}),Object.assign(uW,{from:(t,e)=>bs({left:e,right:t})})];M1("Left"),M1("Right"),M1("Both"),d(2,(t,e)=>h(t,R1({Left:()=>l0.from(e),Right:({right:n})=>bs.from(n,e),Both:({right:n})=>bs.from(n,e)}))),d(2,(t,e)=>h(t,R1({Left:({left:n})=>bs.from(e,n),Right:()=>f0.from(e),Both:({left:n})=>bs.from(e,n)})));const cW=(t,e,n)=>{const r=e.length-t.length;return[...qa(t,e,U(bs.from,n)),...r===0?[]:r>0?h(e,Ua(r),B(U(l0.from,n))):h(t,Ua(-1*r),B(U(f0.from,n)))]};d(2,(t,e)=>cW(t,e,rt));const XE={bimap:d(3,(t,e,n)=>h(t,R1({Right:({right:r})=>h(r,e,f0.from),Left:({left:r})=>h(r,n,l0.from),Both:({left:r,right:s})=>bs({left:n(r),right:e(s)})})))};P_(XE),D_(XE);var B1={exports:{}},wa={},P1={exports:{}},_a={exports:{}};_a.exports;var QE;function lW(){return QE||(QE=1,(function(t,e){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function n(x,S){Object.defineProperty(i.prototype,x,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",S[0],S[1])}})}function r(x){return x===null||typeof x!="object"?null:(x=iF&&x[iF]||x["@@iterator"],typeof x=="function"?x:null)}function s(x,S){x=(x=x.constructor)&&(x.displayName||x.name)||"ReactClass";var I=x+"."+S;oF[I]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",S,x),oF[I]=!0)}function i(x,S,I){this.props=x,this.context=S,this.refs=j1,this.updater=I||aF}function a(){}function c(x,S,I){this.props=x,this.context=S,this.refs=j1,this.updater=I||aF}function l(){}function u(x){return""+x}function f(x){try{u(x);var S=!1}catch{S=!0}if(S){S=console;var I=S.error,O=typeof Symbol=="function"&&Symbol.toStringTag&&x[Symbol.toStringTag]||x.constructor.name||"Object";return I.call(S,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",O),u(x)}}function p(x){if(x==null)return null;if(typeof x=="function")return x.$$typeof===EW?null:x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case F:return"Fragment";case Ot:return"Profiler";case et:return"StrictMode";case Lt:return"Suspense";case Ir:return"SuspenseList";case sF:return"Activity"}if(typeof x=="object")switch(typeof x.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),x.$$typeof){case Ss:return"Portal";case ws:return x.displayName||"Context";case Pt:return(x._context.displayName||"Context")+".Consumer";case Mi:var S=x.render;return x=x.displayName,x||(x=S.displayName||S.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case _s:return S=x.displayName||null,S!==null?S:p(x.type)||"Memo";case As:S=x._payload,x=x._init;try{return p(x(S))}catch{}}return null}function g(x){if(x===F)return"<>";if(typeof x=="object"&&x!==null&&x.$$typeof===As)return"<...>";try{var S=p(x);return S?"<"+S+">":"<...>"}catch{return"<...>"}}function b(){var x=at.A;return x===null?null:x.getOwner()}function y(){return Error("react-stack-top-frame")}function w(x){if(m0.call(x,"key")){var S=Object.getOwnPropertyDescriptor(x,"key").get;if(S&&S.isReactWarning)return!1}return x.key!==void 0}function m(x,S){function I(){fF||(fF=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",S))}I.isReactWarning=!0,Object.defineProperty(x,"key",{get:I,configurable:!0})}function A(){var x=p(this.type);return xF[x]||(xF[x]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),x=this.props.ref,x!==void 0?x:null}function E(x,S,I,O,L,ut){var nt=I.ref;return x={$$typeof:tn,type:x,key:S,props:I,_owner:O},(nt!==void 0?nt:null)!==null?Object.defineProperty(x,"ref",{enumerable:!1,get:A}):Object.defineProperty(x,"ref",{enumerable:!1,value:null}),x._store={},Object.defineProperty(x._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(x,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(x,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:L}),Object.defineProperty(x,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:ut}),Object.freeze&&(Object.freeze(x.props),Object.freeze(x)),x}function C(x,S){return S=E(x.type,S,x.props,x._owner,x._debugStack,x._debugTask),x._store&&(S._store.validated=x._store.validated),S}function k(x){N(x)?x._store&&(x._store.validated=1):typeof x=="object"&&x!==null&&x.$$typeof===As&&(x._payload.status==="fulfilled"?N(x._payload.value)&&x._payload.value._store&&(x._payload.value._store.validated=1):x._store&&(x._store.validated=1))}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===tn}function o(x){var S={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(I){return S[I]})}function T(x,S){return typeof x=="object"&&x!==null&&x.key!=null?(f(x.key),o(""+x.key)):S.toString(36)}function v(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(l,l):(x.status="pending",x.then(function(S){x.status==="pending"&&(x.status="fulfilled",x.value=S)},function(S){x.status==="pending"&&(x.status="rejected",x.reason=S)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function D(x,S,I,O,L){var ut=typeof x;(ut==="undefined"||ut==="boolean")&&(x=null);var nt=!1;if(x===null)nt=!0;else switch(ut){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(x.$$typeof){case tn:case Ss:nt=!0;break;case As:return nt=x._init,D(nt(x._payload),S,I,O,L)}}if(nt){nt=x,L=L(nt);var _t=O===""?"."+T(nt,0):O;return cF(L)?(I="",_t!=null&&(I=_t.replace(mF,"$&/")+"/"),D(L,S,I,"",function(Tr){return Tr})):L!=null&&(N(L)&&(L.key!=null&&(nt&&nt.key===L.key||f(L.key)),I=C(L,I+(L.key==null||nt&&nt.key===L.key?"":(""+L.key).replace(mF,"$&/")+"/")+_t),O!==""&&nt!=null&&N(nt)&&nt.key==null&&nt._store&&!nt._store.validated&&(I._store.validated=2),L=I),S.push(L)),1}if(nt=0,_t=O===""?".":O+":",cF(x))for(var ct=0;ct<x.length;ct++)O=x[ct],ut=_t+T(O,ct),nt+=D(O,S,I,ut,L);else if(ct=r(x),typeof ct=="function")for(ct===x.entries&&(pF||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),pF=!0),x=ct.call(x),ct=0;!(O=x.next()).done;)O=O.value,ut=_t+T(O,ct++),nt+=D(O,S,I,ut,L);else if(ut==="object"){if(typeof x.then=="function")return D(v(x),S,I,O,L);throw S=String(x),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return nt}function $(x,S,I){if(x==null)return x;var O=[],L=0;return D(x,O,"","",function(ut){return S.call(I,ut,L++)}),O}function q(x){if(x._status===-1){var S=x._ioInfo;S!=null&&(S.start=S.end=performance.now()),S=x._result;var I=S();if(I.then(function(L){if(x._status===0||x._status===-1){x._status=1,x._result=L;var ut=x._ioInfo;ut!=null&&(ut.end=performance.now()),I.status===void 0&&(I.status="fulfilled",I.value=L)}},function(L){if(x._status===0||x._status===-1){x._status=2,x._result=L;var ut=x._ioInfo;ut!=null&&(ut.end=performance.now()),I.status===void 0&&(I.status="rejected",I.reason=L)}}),S=x._ioInfo,S!=null){S.value=I;var O=I.displayName;typeof O=="string"&&(S.name=O)}x._status===-1&&(x._status=0,x._result=I)}if(x._status===1)return S=x._result,S===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,S),"default"in S||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,S),S.default;throw x._result}function W(){var x=at.H;return x===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),x}function jt(){at.asyncTransitions--}function pt(x){if(d0===null)try{var S=("require"+Math.random()).slice(0,7);d0=(t&&t[S]).call(t,"timers").setImmediate}catch{d0=function(O){gF===!1&&(gF=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var L=new MessageChannel;L.port1.onmessage=O,L.port2.postMessage(void 0)}}return d0(x)}function Tt(x){return 1<x.length&&typeof AggregateError=="function"?new AggregateError(x):x[0]}function Ct(x,S){S!==g0-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),g0=S}function wt(x,S,I){var O=at.actQueue;if(O!==null)if(O.length!==0)try{ye(O),pt(function(){return wt(x,S,I)});return}catch(L){at.thrownErrors.push(L)}else at.actQueue=null;0<at.thrownErrors.length?(O=Tt(at.thrownErrors),at.thrownErrors.length=0,I(O)):S(x)}function ye(x){if(!L1){L1=!0;var S=0;try{for(;S<x.length;S++){var I=x[S];do{at.didUsePromise=!1;var O=I(!1);if(O!==null){if(at.didUsePromise){x[S]=I,x.splice(0,S);return}I=O}else break}while(!0)}x.length=0}catch(L){x.splice(0,S+1),at.thrownErrors.push(L)}finally{L1=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var tn=Symbol.for("react.transitional.element"),Ss=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),Ot=Symbol.for("react.profiler"),Pt=Symbol.for("react.consumer"),ws=Symbol.for("react.context"),Mi=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Ir=Symbol.for("react.suspense_list"),_s=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),sF=Symbol.for("react.activity"),iF=Symbol.iterator,oF={},aF={isMounted:function(){return!1},enqueueForceUpdate:function(x){s(x,"forceUpdate")},enqueueReplaceState:function(x){s(x,"replaceState")},enqueueSetState:function(x){s(x,"setState")}},uF=Object.assign,j1={};Object.freeze(j1),i.prototype.isReactComponent={},i.prototype.setState=function(x,S){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,S,"setState")},i.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};var en={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(Aa in en)en.hasOwnProperty(Aa)&&n(Aa,en[Aa]);a.prototype=i.prototype,en=c.prototype=new a,en.constructor=c,uF(en,i.prototype),en.isPureReactComponent=!0;var cF=Array.isArray,EW=Symbol.for("react.client.reference"),at={H:null,A:null,T:null,S:null,actQueue:null,asyncTransitions:0,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},m0=Object.prototype.hasOwnProperty,lF=console.createTask?console.createTask:function(){return null};en={react_stack_bottom_frame:function(x){return x()}};var fF,hF,xF={},FW=en.react_stack_bottom_frame.bind(en,y)(),CW=lF(g(y)),pF=!1,mF=/\/+/g,dF=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},gF=!1,d0=null,g0=0,b0=!1,L1=!1,bF=typeof queueMicrotask=="function"?function(x){queueMicrotask(function(){return queueMicrotask(x)})}:pt;en=Object.freeze({__proto__:null,c:function(x){return W().useMemoCache(x)}});var Aa={map:$,forEach:function(x,S,I){$(x,function(){S.apply(this,arguments)},I)},count:function(x){var S=0;return $(x,function(){S++}),S},toArray:function(x){return $(x,function(S){return S})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};e.Activity=sF,e.Children=Aa,e.Component=i,e.Fragment=F,e.Profiler=Ot,e.PureComponent=c,e.StrictMode=et,e.Suspense=Lt,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,e.__COMPILER_RUNTIME=en,e.act=function(x){var S=at.actQueue,I=g0;g0++;var O=at.actQueue=S!==null?S:[],L=!1;try{var ut=x()}catch(ct){at.thrownErrors.push(ct)}if(0<at.thrownErrors.length)throw Ct(S,I),x=Tt(at.thrownErrors),at.thrownErrors.length=0,x;if(ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var nt=ut;return bF(function(){L||b0||(b0=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(ct,Tr){L=!0,nt.then(function(Ri){if(Ct(S,I),I===0){try{ye(O),pt(function(){return wt(Ri,ct,Tr)})}catch(vW){at.thrownErrors.push(vW)}if(0<at.thrownErrors.length){var kW=Tt(at.thrownErrors);at.thrownErrors.length=0,Tr(kW)}}else ct(Ri)},function(Ri){Ct(S,I),0<at.thrownErrors.length&&(Ri=Tt(at.thrownErrors),at.thrownErrors.length=0),Tr(Ri)})}}}var _t=ut;if(Ct(S,I),I===0&&(ye(O),O.length!==0&&bF(function(){L||b0||(b0=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),at.actQueue=null),0<at.thrownErrors.length)throw x=Tt(at.thrownErrors),at.thrownErrors.length=0,x;return{then:function(ct,Tr){L=!0,I===0?(at.actQueue=O,pt(function(){return wt(_t,ct,Tr)})):ct(_t)}}},e.cache=function(x){return function(){return x.apply(null,arguments)}},e.cacheSignal=function(){return null},e.captureOwnerStack=function(){var x=at.getCurrentStack;return x===null?null:x()},e.cloneElement=function(x,S,I){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var O=uF({},x.props),L=x.key,ut=x._owner;if(S!=null){var nt;t:{if(m0.call(S,"ref")&&(nt=Object.getOwnPropertyDescriptor(S,"ref").get)&&nt.isReactWarning){nt=!1;break t}nt=S.ref!==void 0}nt&&(ut=b()),w(S)&&(f(S.key),L=""+S.key);for(_t in S)!m0.call(S,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&S.ref===void 0||(O[_t]=S[_t])}var _t=arguments.length-2;if(_t===1)O.children=I;else if(1<_t){nt=Array(_t);for(var ct=0;ct<_t;ct++)nt[ct]=arguments[ct+2];O.children=nt}for(O=E(x.type,L,O,ut,x._debugStack,x._debugTask),L=2;L<arguments.length;L++)k(arguments[L]);return O},e.createContext=function(x){return x={$$typeof:ws,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:Pt,_context:x},x._currentRenderer=null,x._currentRenderer2=null,x},e.createElement=function(x,S,I){for(var O=2;O<arguments.length;O++)k(arguments[O]);O={};var L=null;if(S!=null)for(ct in hF||!("__self"in S)||"key"in S||(hF=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),w(S)&&(f(S.key),L=""+S.key),S)m0.call(S,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(O[ct]=S[ct]);var ut=arguments.length-2;if(ut===1)O.children=I;else if(1<ut){for(var nt=Array(ut),_t=0;_t<ut;_t++)nt[_t]=arguments[_t+2];Object.freeze&&Object.freeze(nt),O.children=nt}if(x&&x.defaultProps)for(ct in ut=x.defaultProps,ut)O[ct]===void 0&&(O[ct]=ut[ct]);L&&m(O,typeof x=="function"?x.displayName||x.name||"Unknown":x);var ct=1e4>at.recentlyCreatedOwnerStacks++;return E(x,L,O,b(),ct?Error("react-stack-top-frame"):FW,ct?lF(g(x)):CW)},e.createRef=function(){var x={current:null};return Object.seal(x),x},e.forwardRef=function(x){x!=null&&x.$$typeof===_s?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof x!="function"?console.error("forwardRef requires a render function but was given %s.",x===null?"null":typeof x):x.length!==0&&x.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",x.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),x!=null&&x.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var S={$$typeof:Mi,render:x},I;return Object.defineProperty(S,"displayName",{enumerable:!1,configurable:!0,get:function(){return I},set:function(O){I=O,x.name||x.displayName||(Object.defineProperty(x,"name",{value:O}),x.displayName=O)}}),S},e.isValidElement=N,e.lazy=function(x){x={_status:-1,_result:x};var S={$$typeof:As,_payload:x,_init:q},I={name:"lazy",start:-1,end:-1,value:null,owner:null,debugStack:Error("react-stack-top-frame"),debugTask:console.createTask?console.createTask("lazy()"):null};return x._ioInfo=I,S._debugInfo=[{awaited:I}],S},e.memo=function(x,S){x==null&&console.error("memo: The first argument must be a component. Instead received: %s",x===null?"null":typeof x),S={$$typeof:_s,type:x,compare:S===void 0?null:S};var I;return Object.defineProperty(S,"displayName",{enumerable:!1,configurable:!0,get:function(){return I},set:function(O){I=O,x.name||x.displayName||(Object.defineProperty(x,"name",{value:O}),x.displayName=O)}}),S},e.startTransition=function(x){var S=at.T,I={};I._updatedFibers=new Set,at.T=I;try{var O=x(),L=at.S;L!==null&&L(I,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&(at.asyncTransitions++,O.then(jt,jt),O.then(l,dF))}catch(ut){dF(ut)}finally{S===null&&I._updatedFibers&&(x=I._updatedFibers.size,I._updatedFibers.clear(),10<x&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),S!==null&&I.types!==null&&(S.types!==null&&S.types!==I.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),S.types=I.types),at.T=S}},e.unstable_useCacheRefresh=function(){return W().useCacheRefresh()},e.use=function(x){return W().use(x)},e.useActionState=function(x,S,I){return W().useActionState(x,S,I)},e.useCallback=function(x,S){return W().useCallback(x,S)},e.useContext=function(x){var S=W();return x.$$typeof===Pt&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),S.useContext(x)},e.useDebugValue=function(x,S){return W().useDebugValue(x,S)},e.useDeferredValue=function(x,S){return W().useDeferredValue(x,S)},e.useEffect=function(x,S){return x==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"),W().useEffect(x,S)},e.useEffectEvent=function(x){return W().useEffectEvent(x)},e.useId=function(){return W().useId()},e.useImperativeHandle=function(x,S,I){return W().useImperativeHandle(x,S,I)},e.useInsertionEffect=function(x,S){return x==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),W().useInsertionEffect(x,S)},e.useLayoutEffect=function(x,S){return x==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),W().useLayoutEffect(x,S)},e.useMemo=function(x,S){return W().useMemo(x,S)},e.useOptimistic=function(x,S){return W().useOptimistic(x,S)},e.useReducer=function(x,S,I){return W().useReducer(x,S,I)},e.useRef=function(x){return W().useRef(x)},e.useState=function(x){return W().useState(x)},e.useSyncExternalStore=function(x,S,I){return W().useSyncExternalStore(x,S,I)},e.useTransition=function(){return W().useTransition()},e.version="19.2.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(_a,_a.exports)),_a.exports}var tF;function fW(){return tF||(tF=1,P1.exports=lW()),P1.exports}var eF;function hW(){if(eF)return wa;eF=1;/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function t(F){if(F==null)return null;if(typeof F=="function")return F.$$typeof===q?null:F.displayName||F.name||null;if(typeof F=="string")return F;switch(F){case m:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case o:return"Suspense";case T:return"SuspenseList";case $:return"Activity"}if(typeof F=="object")switch(typeof F.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),F.$$typeof){case w:return"Portal";case k:return F.displayName||"Context";case C:return(F._context.displayName||"Context")+".Consumer";case N:var et=F.render;return F=F.displayName,F||(F=et.displayName||et.name||"",F=F!==""?"ForwardRef("+F+")":"ForwardRef"),F;case v:return et=F.displayName||null,et!==null?et:t(F.type)||"Memo";case D:et=F._payload,F=F._init;try{return t(F(et))}catch{}}return null}function e(F){return""+F}function n(F){try{e(F);var et=!1}catch{et=!0}if(et){et=console;var Ot=et.error,Pt=typeof Symbol=="function"&&Symbol.toStringTag&&F[Symbol.toStringTag]||F.constructor.name||"Object";return Ot.call(et,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",Pt),e(F)}}function r(F){if(F===m)return"<>";if(typeof F=="object"&&F!==null&&F.$$typeof===D)return"<...>";try{var et=t(F);return et?"<"+et+">":"<...>"}catch{return"<...>"}}function s(){var F=W.A;return F===null?null:F.getOwner()}function i(){return Error("react-stack-top-frame")}function a(F){if(jt.call(F,"key")){var et=Object.getOwnPropertyDescriptor(F,"key").get;if(et&&et.isReactWarning)return!1}return F.key!==void 0}function c(F,et){function Ot(){Ct||(Ct=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",et))}Ot.isReactWarning=!0,Object.defineProperty(F,"key",{get:Ot,configurable:!0})}function l(){var F=t(this.type);return wt[F]||(wt[F]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),F=this.props.ref,F!==void 0?F:null}function u(F,et,Ot,Pt,ws,Mi){var Lt=Ot.ref;return F={$$typeof:y,type:F,key:et,props:Ot,_owner:Pt},(Lt!==void 0?Lt:null)!==null?Object.defineProperty(F,"ref",{enumerable:!1,get:l}):Object.defineProperty(F,"ref",{enumerable:!1,value:null}),F._store={},Object.defineProperty(F._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(F,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(F,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ws}),Object.defineProperty(F,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Mi}),Object.freeze&&(Object.freeze(F.props),Object.freeze(F)),F}function f(F,et,Ot,Pt,ws,Mi){var Lt=et.children;if(Lt!==void 0)if(Pt)if(pt(Lt)){for(Pt=0;Pt<Lt.length;Pt++)p(Lt[Pt]);Object.freeze&&Object.freeze(Lt)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else p(Lt);if(jt.call(et,"key")){Lt=t(F);var Ir=Object.keys(et).filter(function(As){return As!=="key"});Pt=0<Ir.length?"{key: someKey, "+Ir.join(": ..., ")+": ...}":"{key: someKey}",Ss[Lt+Pt]||(Ir=0<Ir.length?"{"+Ir.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Pt,Lt,Ir,Lt),Ss[Lt+Pt]=!0)}if(Lt=null,Ot!==void 0&&(n(Ot),Lt=""+Ot),a(et)&&(n(et.key),Lt=""+et.key),"key"in et){Ot={};for(var _s in et)_s!=="key"&&(Ot[_s]=et[_s])}else Ot=et;return Lt&&c(Ot,typeof F=="function"?F.displayName||F.name||"Unknown":F),u(F,Lt,Ot,s(),ws,Mi)}function p(F){g(F)?F._store&&(F._store.validated=1):typeof F=="object"&&F!==null&&F.$$typeof===D&&(F._payload.status==="fulfilled"?g(F._payload.value)&&F._payload.value._store&&(F._payload.value._store.validated=1):F._store&&(F._store.validated=1))}function g(F){return typeof F=="object"&&F!==null&&F.$$typeof===y}var b=fW(),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),q=Symbol.for("react.client.reference"),W=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jt=Object.prototype.hasOwnProperty,pt=Array.isArray,Tt=console.createTask?console.createTask:function(){return null};b={react_stack_bottom_frame:function(F){return F()}};var Ct,wt={},ye=b.react_stack_bottom_frame.bind(b,i)(),tn=Tt(r(i)),Ss={};wa.Fragment=m,wa.jsx=function(F,et,Ot){var Pt=1e4>W.recentlyCreatedOwnerStacks++;return f(F,et,Ot,!1,Pt?Error("react-stack-top-frame"):ye,Pt?Tt(r(F)):tn)},wa.jsxs=function(F,et,Ot){var Pt=1e4>W.recentlyCreatedOwnerStacks++;return f(F,et,Ot,!0,Pt?Error("react-stack-top-frame"):ye,Pt?Tt(r(F)):tn)}})(),wa}var nF;function xW(){return nF||(nF=1,B1.exports=hW()),B1.exports}xW();const pW=t=>()=>t,rF=3999;h({decimal:{icon:"1,2,3",label:"Decimal",title:"Format labels as decimals."},lower:{icon:"ⅰ,ⅱ,ⅲ",label:"Unicode",title:"Use lowercase Unicode Roman numerals from the ‘Number Forms’ block (U+2150…U+218F)"},upper:{icon:"Ⅰ,Ⅱ,Ⅲ",label:"Unicode Caps",title:"Use uppercase Unicode Roman numerals from the ‘Number Forms’ block (U+2150…U+218F)"},lowerAscii:{icon:"i,ii,iii",label:"ASCII",title:"Use lowercase ASCII emulation of Roman numerals."},upperAscii:{icon:"I,II,III",label:"ASCII Caps",title:"Use uppercase ASCII emulation of Roman numerals."}},mp((t,e)=>[e,{id:e,...t}]));const h0=[["",...{upper:["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"]}.upper.slice(0,9)],["","Ⅹ","ⅩⅩ","ⅩⅩⅩ","ⅩⅬ","Ⅼ","ⅬⅩ","ⅬⅩⅩ","ⅬⅩⅩⅩ","ⅩⅭ"],["","Ⅽ","ⅭⅭ","ⅭⅭⅭ","ⅭⅮ","Ⅾ","ⅮⅭ","ⅮⅭⅭ","ⅮⅭⅭⅭ","ⅭⅯ"],["","Ⅿ","ⅯⅯ","ⅯⅯⅯ"]],mW={"Ⅰ":["ⅰ","I","i"],"Ⅱ":["ⅱ","II","ii"],"Ⅲ":["ⅲ","III","iii"],"Ⅳ":["ⅳ","IV","iv"],"Ⅴ":["ⅴ","V","v"],"Ⅵ":["ⅵ","VI","vi"],"Ⅶ":["ⅶ","VII","vii"],"Ⅷ":["ⅷ","VIII","viii"],"Ⅸ":["ⅸ","IX","ix"],"Ⅹ":["ⅹ","X","x"],"Ⅺ":["ⅺ","XI","xi"],"Ⅻ":["ⅻ","XII","xii"],"Ⅽ":["ⅽ","C","c"],"Ⅼ":["ⅼ","L","l"],"Ⅾ":["ⅾ","D","d"],"Ⅿ":["ⅿ","M","m"]},x0=t=>mW[t],dW=t=>x0(t)[0],gW=t=>x0(t)[1],bW=t=>x0(t)[2],yW=t=>e=>t==="upper"?e:x0(e)[t==="lower"?0:t==="upperAscii"?1:2],ys=t=>t<1||t>rF?" ":Fe.rest(h0[3]?.[Math.floor(t/1e3)]??" ",h0[2]?.[Math.floor(t%1e3/100)]??" ",h0[1]?.[Math.floor(t%100/10)]??" ",h0[0]?.[t%10]??" ");ys.lower=t=>h(t,ys,c0,B(dW),Fe),ys.upperAscii=t=>h(t,ys,c0,B(gW),Fe),ys.lowerAscii=t=>h(t,ys,c0,B(bW),Fe);const SW=t=>e=>{if(t==="decimal")return e.toLocaleString();const n=yW(t);return h(e,ys,c0,B(n),Fe)},wW={dashed:"╴",dashedWide:"╴",dotted:"╴",double:" ",hDouble:" ",hThick:"╸",hThickDashed:"╸",hThickDashedWide:"╸",hThickDotted:"╸",round:"╴",thick:"╸",thickDashed:"╸",thickDashedWide:"╸",thickDotted:"╸",thin:"╴",unix:"",unixRound:"",space:"",bullets:" ",ascii:" ",vDouble:"╴",vThick:"╴",vThickDashed:"╴",vThickDashedWide:"╴",vThickDotted:"╴"},_W=(t,e,n)=>h(t,Ze(r=>wW[n]+(r>rF?r.toLocaleString():SW(e)(r))),IV[n],B(U(w9,A9(" "," ")))),{Prufer:p0}=Sq,AW=h([Ni("nodeCount","node count","Number of nodes.")(U(p0.computeNodeCount,BigInt)),Ni("treeCount","Trees","Number of labeled sorted trees at this node count.")(U(p0.computeNodeCount,p0.labeledTreeCount)),Ni("treeIndex","Ordinal","Index of current tree in ordered set of all trees in this node count.")(U(p0.toOrdinal,xp)),Ni("maxNodes","Max Nodes","Maximum node count limit.")(pW(BigInt(200))),Ni("maxDepth","max depth","Maximum hops from a leaf node to root.")((t,e)=>BigInt($U(e))),Ni("maxDegree","max degree","Size of the  largest forest.")((t,e)=>BigInt(NU(e)))],B(t=>[t.id,t]),Ji),D1=(t,e)=>h(AW,mp(({compute:n,...r},s)=>[s,{...r,value:n(t,e)}]));D1.tupled=W1(D1);function Ni(t,e,n){return r=>({id:t,label:e,title:n,compute:r})}globalThis.global=globalThis,globalThis.window=globalThis,window.__vite_plugin_react_preamble_installed__=!0,globalThis.onmessage=t=>{const e=nW(n=>{const{code:r,format:s,theme:i}=n,a=nr(r),c=_W(a,s,i),l=D1(r,a);return{...n,stats:l,code:r,tree:a,lines:c}})(t);e!==void 0&&globalThis.postMessage(e)}})();
