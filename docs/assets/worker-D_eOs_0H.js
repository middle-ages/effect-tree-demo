const HF=e=>typeof e=="function",p=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(s){return t(s,n)}};case 3:return function(n,r,s){return arguments.length>=3?t(n,r,s):function(i){return t(i,n,r)}};case 4:return function(n,r,s,i){return arguments.length>=4?t(n,r,s,i):function(o){return t(o,n,r,s)}};case 5:return function(n,r,s,i,o){return arguments.length>=5?t(n,r,s,i,o):function(u){return t(u,n,r,s,i)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},rf=(...e)=>t=>t(...e),H=e=>e,Ai=e=>()=>e,Lh=Ai(!0),D0=Ai(!1),Hm=Ai(void 0),KF=Hm,Km=e=>t=>e(...t);function l(e,t,n,r,s,i,o,u,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return s(r(n(t(e))));case 6:return i(s(r(n(t(e)))));case 7:return o(i(s(r(n(t(e))))));case 8:return u(o(i(s(r(n(t(e)))))));case 9:return c(u(o(i(s(r(n(t(e))))))));default:{let f=arguments[0];for(let h=1;h<arguments.length;h++)f=arguments[h](f);return f}}}function T(e,t,n,r,s,i,o,u,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return s(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(s(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(s(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(s(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(u(o(i(s(r(n(t(e.apply(this,arguments)))))))))}}}const pr=e=>(t,n)=>t===n||e(t,n),JF=(e,t)=>e===t,Jm=()=>JF,YF=Jm(),ZF=Jm(),XF=p(2,(e,t)=>pr((n,r)=>e(n,r)&&t(n,r))),QF=p(2,(e,t)=>pr((n,r)=>e(t(n),t(r)))),t3=e=>pr((t,n)=>{const r=Math.min(t.length,n.length);let s=0;for(const i of e){if(s>=r)break;if(!i(t[s],n[s]))return!1;s++}return!0}),e3=(...e)=>t3(e),n3=e=>pr((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),Lo=e=>{const t=Object.keys(e);return pr((n,r)=>{for(const s of t)if(!e[s](n[s],r[s]))return!1;return!0})},Uh="effect/GlobalValue";let $s;const Z=(e,t)=>($s||(globalThis[Uh]??=new Map,$s=globalThis[Uh]),$s.has(e)||$s.set(e,t()),$s.get(e)),r3=e=>typeof e=="string",so=e=>typeof e=="number",s3=e=>typeof e=="bigint",Uo=HF,i3=e=>e!==void 0,a3=e=>typeof e=="object"&&e!==null,wi=e=>a3(e)||Uo(e),W=p(2,(e,t)=>wi(e)&&t in e),sf=p(2,(e,t)=>W(e,"_tag")&&e._tag===t),_r=e=>e==null,Ym=e=>typeof e=="string"||W(e,Symbol.iterator),o3=e=>W(e,"then")&&Uo(e.then),u3=e=>t=>!e(t),Vo=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;let Zm=class Xm{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Xm(this.self)}};const c3=335903614,f3=4150755663,l3=1481765933,h3=1284865837,x3=9007199254740992,p3=134217728;class m3{_state;constructor(t,n,r,s){return _r(n)&&_r(t)?(n=Math.random()*4294967295>>>0,t=0):_r(n)&&(n=t,t=0),_r(s)&&_r(r)?(s=this._state?this._state[3]:f3,r=this._state?this._state[2]:c3):_r(s)&&(s=r,r=0),this._state=new Int32Array([0,0,r>>>0,((s||0)|1)>>>0]),this._next(),Vh(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){const t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*p3+n)/x3}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;g3(this._state,t,n,l3,h3),Vh(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,s=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,s=(s^n)>>>0;const i=(s>>>27|r<<5)>>>0,o=t>>>27,u=(-o>>>0&31)>>>0;return(i>>>o|i<<u)>>>0}}function g3(e,t,n,r,s){let i=(n>>>16)*(s&65535)>>>0,o=(n&65535)*(s>>>16)>>>0,u=(n&65535)*(s&65535)>>>0,c=(n>>>16)*(s>>>16)+((o>>>16)+(i>>>16))>>>0;o=o<<16>>>0,u=u+o>>>0,u>>>0<o>>>0&&(c=c+1>>>0),i=i<<16>>>0,u=u+i>>>0,u>>>0<i>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,s)>>>0,e[0]=c,e[1]=u}function Vh(e,t,n,r,s){let i=t+r>>>0;const o=n+s>>>0;o>>>0<n>>>0&&(i=i+1|0),e[0]=i,e[1]=o}const R0=Symbol.for("effect/Utils/YieldWrap");class _i{#t;constructor(t){this.#t=t}[R0](){return this.#t}}function d3(e){if(typeof e=="object"&&e!==null&&R0 in e)return e[R0]();throw new Error(Vo("yieldWrapGet"))}const fe=Z("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Qm={effect_internal_function:e=>e()},b3={effect_internal_function:e=>{try{return e()}finally{}}},y3=Qm.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0,Vt=y3?Qm.effect_internal_function:b3.effect_internal_function,qu=Z(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),V=Symbol.for("effect/Hash"),$=e=>{if(fe.enabled===!0)return 0;switch(typeof e){case"number":return of(e);case"bigint":return St(e.toString(10));case"boolean":return St(String(e));case"symbol":return St(String(e));case"string":return St(e);case"undefined":return St("undefined");case"function":case"object":return e===null?St("null"):e instanceof Date?$(e.toISOString()):e instanceof URL?$(e.href):S3(e)?e[V]():af(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},af=e=>(qu.has(e)||qu.set(e,of(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),qu.get(e)),K=e=>t=>t*53^e,qo=e=>e&3221225471|e>>>1&1073741824,S3=e=>W(e,V),of=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return qo(t)},St=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return qo(t)},F3=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=l(St(t[r]),K($(e[t[r]])));return qo(n)},tg=e=>F3(e,Object.keys(e)),Ei=e=>{let t=6151;for(let n=0;n<e.length;n++)t=l(t,K($(e[n])));return qo(t)},ht=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,V,{value(){return r},enumerable:!1}),r}}const e=arguments[0],t=arguments[1];return Object.defineProperty(e,V,{value(){return t},enumerable:!1}),t},L=Symbol.for("effect/Equal");function q(){return arguments.length===1?e=>io(e,arguments[0]):io(arguments[0],arguments[1])}function io(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(ao(e)&&ao(t))return $(e)===$(t)&&e[L](t)?!0:fe.enabled&&fe.tester?fe.tester(e,t):!1;if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(fe.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,s)=>io(r,t[s]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),s=Object.keys(t);if(r.length===s.length){for(const i of r)if(!(i in t&&io(e[i],t[i])))return fe.tester?fe.tester(e,t):!1;return!0}}return fe.tester?fe.tester(e,t):!1}}return fe.enabled&&fe.tester?fe.tester(e,t):!1}const ao=e=>W(e,L),uf=()=>q,xt=Symbol.for("nodejs.util.inspect.custom"),vt=e=>{try{if(W(e,"toJSON")&&Uo(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(vt)}catch{return{}}return w3(e)},Nt=e=>JSON.stringify(e,null,2),Ur=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?eg(e,t):String(e)}catch{return String(e)}},eg=(e,t)=>{let n=[];const r=JSON.stringify(e,(s,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&(Jn.fiberRefs!==void 0&&ng(i)?i[cf](Jn.fiberRefs):i):i,t);return n=void 0,r},cf=Symbol.for("effect/Inspectable/Redactable"),ng=e=>typeof e=="object"&&e!==null&&cf in e,Jn=Z("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),A3=(e,t)=>{const n=Jn.fiberRefs;Jn.fiberRefs=e;try{return t()}finally{Jn.fiberRefs=n}},w3=e=>ng(e)&&Jn.fiberRefs!==void 0?e[cf](Jn.fiberRefs):e,j=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,s=t.length;r<s;r++)n=t[r](n);return n}}},qs="Async",Wo="Commit",Se="Failure",Wu="OnFailure",oo="OnSuccess",uo="OnSuccessAndFailure",Fe="Success",rg="Sync",_3="Tag",Ci="UpdateRuntimeFlags",co="While",Ua="Iterator",sg="WithRuntime",Va="Yield",ff="RevertFlags";let E3="3.18.4";const lf=()=>E3,C3=Symbol.for("effect/Effect"),I3=Symbol.for("effect/Stream"),k3=Symbol.for("effect/Sink"),v3=Symbol.for("effect/Channel"),Vr={_R:e=>e,_E:e=>e,_A:e=>e,_V:lf()},T3={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},$3={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},Ii={[C3]:Vr,[I3]:Vr,[k3]:T3,[v3]:$3,[L](e){return this===e},[V](){return ht(this,af(this))},[Symbol.iterator](){return new Zm(new _i(this))},pipe(){return j(this,arguments)}},ki={[V](){return ht(this,tg(this))},[L](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e&&q(this[r],e[r])))return!1;return!0}},vi={...Ii,_op:Wo},O3={...vi,...ki},B3=(function(){function e(){}return e.prototype=vi,e})(),ig=Symbol.for("effect/Option"),ag={...Ii,[ig]:{_A:e=>e},[xt](){return this.toJSON()},toString(){return Nt(this.toJSON())}},M3=Object.assign(Object.create(ag),{_tag:"Some",_op:"Some",[L](e){return og(e)&&cg(e)&&q(this.value,e.value)},[V](){return ht(this,K($(this._tag))($(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:vt(this.value)}}}),N3=$("None"),D3=Object.assign(Object.create(ag),{_tag:"None",_op:"None",[L](e){return og(e)&&ug(e)},[V](){return N3},toJSON(){return{_id:"Option",_tag:this._tag}}}),og=e=>W(e,ig),ug=e=>e._tag==="None",cg=e=>e._tag==="Some",Js=Object.create(D3),gn=e=>{const t=Object.create(M3);return t.value=e,t},fg=Symbol.for("effect/Either"),lg={...Ii,[fg]:{_R:e=>e},[xt](){return this.toJSON()},toString(){return Nt(this.toJSON())}},R3=Object.assign(Object.create(lg),{_tag:"Right",_op:"Right",[L](e){return hg(e)&&pg(e)&&q(this.right,e.right)},[V](){return K($(this._tag))($(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:vt(this.right)}}}),P3=Object.assign(Object.create(lg),{_tag:"Left",_op:"Left",[L](e){return hg(e)&&xg(e)&&q(this.left,e.left)},[V](){return K($(this._tag))($(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:vt(this.left)}}}),hg=e=>W(e,fg),xg=e=>e._tag==="Left",pg=e=>e._tag==="Right",j3=e=>{const t=Object.create(P3);return t.left=e,t},L3=e=>{const t=Object.create(R3);return t.right=e,t},Je=L3,qr=j3,Vs=xg,la=pg,U3=p(2,(e,{onLeft:t,onRight:n})=>Vs(e)?t(e.left):n(e.right)),V3=U3({onLeft:H,onRight:H}),hf=e=>e.length>0,gs=e=>(t,n)=>t===n?0:e(t,n),q3=gs((e,t)=>e<t?-1:1),W3=gs((e,t)=>e<t?-1:1),z3=p(2,(e,t)=>gs((n,r)=>{let s=e(n,r);if(s!==0)return s;for(const i of t)if(s=i(n,r),s!==0)return s;return s})),G3=()=>gs(()=>0),H3=e=>z3(G3(),e),xf=p(2,(e,t)=>gs((n,r)=>e(t(n),t(r)))),zo=e=>p(2,(t,n)=>e(t,n)===-1),pf=e=>p(2,(t,n)=>e(t,n)===1),mf=e=>p(2,(t,n)=>e(t,n)!==1),K3=e=>p(2,(t,n)=>e(t,n)!==-1),gf=e=>p(2,(t,n)=>t===n||e(t,n)<1?t:n),df=e=>p(2,(t,n)=>t===n||e(t,n)>-1?t:n),J3=e=>p(2,(t,n)=>gf(e)(n.maximum,df(e)(n.minimum,t))),Y3=e=>p(2,(t,n)=>!zo(e)(t,n.minimum)&&!pf(e)(t,n.maximum)),k=()=>Js,v=gn,ct=ug,ne=cg,ie=p(2,(e,{onNone:t,onSome:n})=>ct(e)?t():n(e.value)),Pe=p(2,(e,t)=>ct(e)?t():e.value),Z3=p(2,(e,t)=>ct(e)?t():e),X3=p(2,(e,t)=>ct(e)?v(t()):e),Go=e=>e==null?k():v(e),Vn=Pe(Hm),Q3=p(2,(e,t)=>{if(ne(e))return e.value;throw t()}),Mn=Q3(()=>new Error("getOrThrow called on a None")),mg=p(2,(e,t)=>ct(e)?k():v(t(e.value))),tA=p(2,(e,t)=>ct(e)?k():t(e.value)),gg=e=>pr((t,n)=>ct(t)?ct(n):ct(n)?!1:e(t.value,n.value)),eA=e=>p(2,(t,n)=>ct(t)?!1:e(t.value,n)),nA=uf(),rA=eA(nA),sA=(...e)=>e,dg=e=>e[0],iA=e=>e[1],bf=p(2,(e,t)=>[t(e[0]),e[1]]),yf=p(2,(e,t)=>[e[0],t(e[1])]),aA=e=>[e[1],e[0]],P0=e3,oA=p(3,(e,t,n)=>{if(Array.isArray(e))return e.reduce(n,t);let r=0,s=t;for(const i of e)s=n(s,i,r++);return s}),uA=()=>({}),Ti=Object.fromEntries,bg=p(2,(e,t)=>Object.prototype.hasOwnProperty.call(e,t)),Sf=p(3,(e,t,n)=>bg(e,t)?{...e,[t]:n(e[t])}:{...e}),yg=p(2,(e,t)=>{const n={};for(const r of Ff(e)){const[s,i]=t(e[r],r);n[s]=i}return n}),cA=p(2,(e,t)=>{const n=uA();for(const r of Ff(e))t(e[r],r)&&(n[r]=e[r]);return n}),Ff=e=>Object.keys(e),fA=e=>p(2,(t,n)=>{for(const r of Ff(t))if(!bg(n,r)||!e(t[r],n[r]))return!1;return!0}),lA=e=>{const t=fA(e);return(n,r)=>t(n,r)&&t(r,n)},Af=e=>new Array(e),wf=p(2,(e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let s=0;s<n;s++)r[s]=t(s);return r}),hA=(e,t)=>e<=t?wf(t-e+1,n=>e+n):[e],cn=p(2,(e,t)=>wf(t,()=>e)),nt=e=>Array.isArray(e)?e:Array.from(e),xA=e=>Array.isArray(e)?e:[e],pA=p(2,(e,{onEmpty:t,onNonEmpty:n})=>_t(e)?n(e):t()),je=p(2,(e,t)=>[t,...e]),Ys=p(2,(e,t)=>nt(t).concat(nt(e))),Fn=p(2,(e,t)=>[...e,t]),Wr=p(2,(e,t)=>nt(e).concat(nt(t))),Sg=Array.isArray,Fg=e=>e.length===0,mA=Fg,Yt=hf,_t=hf,Ag=e=>e.length,wg=(e,t)=>e<0||e>=t.length,_g=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),Eg=p(2,(e,t)=>{const n=Math.floor(t);return wg(n,e)?k():v(e[n])}),Cg=p(2,(e,t)=>{const n=Math.floor(t);if(wg(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),Ws=Eg(0),$t=Cg(0),gA=e=>_t(e)?v($i(e)):k(),$i=e=>e[e.length-1],tn=e=>e.slice(1),_f=e=>e.slice(0,-1),fo=p(2,(e,t)=>{const n=nt(e),r=_g(t,n);return r===0?[]:n.slice(-r)}),dA=(e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n},bA=p(2,(e,t)=>_A(e,dA(e,t))),yA=p(2,(e,t)=>{const n=nt(e);return n.slice(_g(t,n),n.length)}),j0=e=>Array.from(e).reverse(),Zs=p(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),SA=(...e)=>{const t=Zs(H3(e));return n=>{const r=nt(n);return _t(r)?t(r):[]}},Xs=p(2,(e,t)=>Ho(e,t,sA)),Ho=p(3,(e,t,n)=>{const r=nt(e),s=nt(t);if(_t(r)&&_t(s)){const i=[n($t(r),$t(s))],o=Math.min(r.length,s.length);for(let u=1;u<o;u++)i[u]=n(r[u],s[u]);return i}return[]}),FA=p(2,(e,t)=>[t($t(e)),...tn(e)]),AA=uf(),wA=p(2,(e,t)=>{const n=nt(e);if(_t(n)){const[r,s]=t(n),i=[r];let o=s;for(;hf(o);){const[u,c]=t(o);i.push(u),o=c}return i}return[]}),_A=p(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return _t(n)?r>=1?EA(n,r):[[],n]:[n,[]]}),EA=p(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[CA(e),[]]:[je(e.slice(1,n),$t(e)),e.slice(n)]}),CA=e=>e.slice(),IA=p(2,(e,t)=>wA(e,n=>{const r=$t(n),s=[r];let i=1;for(;i<n.length;i++){const o=n[i];if(t(o,r))s.push(o);else break}return[s,n.slice(i)]})),kA=p(3,(e,t,n)=>{const r=nt(e),s=nt(t);return _t(r)?_t(s)?Cf(n)(Wr(r,s)):r:s}),qa=p(2,(e,t)=>kA(e,t,AA)),zr=()=>[],Ht=e=>[e],C=p(2,(e,t)=>e.map(t)),Ig=p(2,(e,t)=>{if(mA(e))return[];const n=[];for(let r=0;r<e.length;r++){const s=t(e[r],r);for(let i=0;i<s.length;i++)n.push(s[i])}return n}),Oi=Ig(H),lo=p(2,(e,t)=>{const n=nt(e),r=[];for(let s=0;s<n.length;s++)t(n[s],s)&&r.push(n[s]);return r}),mr=p(3,(e,t,n)=>nt(e).reduce((r,s,i)=>n(r,s,i),t)),kg=p(2,(e,t)=>e.every(t)),vA=p(2,(e,t)=>e.reduce(gf(t))),Ef=p(2,(e,t)=>e.reduce(df(t))),qh=(e,t)=>{const n=[];let r=e,s;for(;ne(s=t(r));){const[i,o]=s.value;n.push(i),r=o}return n},gr=n3,Cf=p(2,(e,t)=>{const n=nt(e);if(_t(n)){const r=[$t(n)],s=tn(n);for(const i of s)r.every(o=>!t(i,o))&&r.push(i);return r}return[]}),TA=e=>Cf(e,uf()),$e=p(2,(e,t)=>nt(e).join(t)),$A=so,OA=e=>Tg(e,-1),If=p(2,(e,t)=>e+t),BA=e=>oA(e,0,If),vg=p(2,(e,t)=>e-t),Tg=p(2,(e,t)=>e*t),MA=e=>{let t=1;for(const n of e){if(n===0)return 0;t*=n}return t},NA=p(2,(e,t)=>t===0?Js:gn(e/t)),DA=p(2,(e,t)=>e/t),kf=e=>If(e,1),vf=e=>vg(e,1),$g=ZF,ot=W3,RA=zo(ot),PA=mf(ot),jA=pf(ot),LA=K3(ot),UA=Y3(ot),VA=J3(ot),qA=gf(ot),WA=df(ot),zA=e=>ot(e,0),GA=p(2,(e,t)=>{const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}),HA=e=>{const t=Math.ceil(Math.log(e)/Math.log(2));return Math.max(Math.pow(2,t),2)},KA=e=>{if(e==="NaN")return gn(NaN);if(e==="Infinity")return gn(1/0);if(e==="-Infinity")return gn(-1/0);if(e.trim()==="")return Js;const t=Number(e);return Number.isNaN(t)?Js:gn(t)},JA=p(2,(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n}),YA=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),ZA=Symbol.for("effect/Context/Tag"),ho=Symbol.for("effect/Context/Reference"),XA="effect/STM",QA=Symbol.for(XA),Og={...Ii,_op:"Tag",[QA]:Vr,[ZA]:{_Service:e=>e,_Identifier:e=>e},toString(){return Nt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[xt](){return this.toJSON()},of(e){return e},context(e){return Mg(this,e)}},tw={...Og,[ho]:ho},ew=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(Og);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r},nw=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function s(){}return Object.setPrototypeOf(s,tw),s.key=e,s.defaultValue=t.defaultValue,Object.defineProperty(s,"stack",{get(){return r.stack}}),s},Bg=Symbol.for("effect/Context"),rw={[Bg]:{_Services:e=>e},[L](e){if(iw(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!q(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[V](){return ht(this,of(this.unsafeMap.size))},pipe(){return j(this,arguments)},toString(){return Nt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(vt)}},[xt](){return this.toJSON()}},Gr=e=>{const t=Object.create(rw);return t.unsafeMap=e,t},sw=e=>{const t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){const n=e.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},iw=e=>W(e,Bg),aw=e=>W(e,ho),ow=Gr(new Map),uw=()=>ow,Mg=(e,t)=>Gr(new Map([[e.key,t]])),cw=p(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Gr(r)}),zu=Z("effect/Context/defaultValueCache",()=>new Map),Tf=e=>{if(zu.has(e.key))return zu.get(e.key);const t=e.defaultValue();return zu.set(e.key,t),t},fw=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):Tf(t),Ng=p(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(ho in t)return Tf(t);throw sw(t)}return e.unsafeMap.get(t.key)}),lw=Ng,hw=p(2,(e,t)=>e.unsafeMap.has(t.key)?gn(e.unsafeMap.get(t.key)):aw(t)?gn(Tf(t)):Js),xw=p(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,s]of t.unsafeMap)n.set(r,s);return Gr(n)}),dr=ew,$f=uw,pw=Mg,Os=cw,Dg=lw,Rg=Ng,Bi=hw,Pg=xw,jg=nw,Lg=Symbol.for("effect/Chunk");function mw(e,t,n,r,s){for(let i=t;i<Math.min(e.length,t+s);i++)n[r+i-t]=e[i];return n}const Ug=[],gw=e=>pr((t,n)=>t.length===n.length&&Yn(t).every((r,s)=>e(r,Nr(n,s)))),dw=gw(q),bw={[Lg]:{_A:e=>e},toString(){return Nt(this.toJSON())},toJSON(){return{_id:"Chunk",values:Yn(this).map(vt)}},[xt](){return this.toJSON()},[L](e){return Vg(e)&&dw(this,e)},[V](){return ht(this,Ei(Yn(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return Ug[Symbol.iterator]();default:return Yn(this)[Symbol.iterator]()}},pipe(){return j(this,arguments)}},Et=e=>{const t=Object.create(bw);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=Ne,t.right=Ne;break}case"ISingleton":{t.length=1,t.depth=0,t.left=Ne,t.right=Ne;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=Ne,t.right=Ne;break}}return t},Vg=e=>W(e,Lg),Ne=Et({_tag:"IEmpty"}),en=()=>Ne,Gu=(...e)=>Fw(e),re=e=>Et({_tag:"ISingleton",a:e}),qg=e=>Vg(e)?e:Ko(nt(e)),L0=(e,t,n)=>{switch(e.backing._tag){case"IArray":{mw(e.backing.array,0,t,n,e.length);break}case"IConcat":{L0(e.left,t,n),L0(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,s=n;for(;r<e.length;)t[s]=Nr(e,r),r+=1,s+=1;break}}},yw=e=>{switch(e.backing._tag){case"IEmpty":return Ug;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return L0(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Ne,e.right=Ne,e.depth=0,t}}},Yn=yw,Sw=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Et({_tag:"IArray",array:j0(e.backing.array)});case"IConcat":return Et({_tag:"IConcat",left:Hr(e.backing.right),right:Hr(e.backing.left)});case"ISlice":return Ko(j0(Yn(e)))}},Hr=Sw,Ko=e=>e.length===0?en():e.length===1?re(e[0]):Et({_tag:"IArray",array:e}),Fw=e=>Ko(e),Nr=p(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?Nr(e.left,t):Nr(e.right,t-e.left.length);case"ISlice":return Nr(e.backing.chunk,t+e.backing.offset)}}),Aw=p(2,(e,t)=>be(e,re(t))),Ce=p(2,(e,t)=>be(re(t),e)),U0=p(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Ne;switch(e.backing._tag){case"ISlice":return Et({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?U0(e.right,t-e.left.length):Et({_tag:"IConcat",left:U0(e.left,t),right:e.right});default:return Et({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),be=p(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Et({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){const r=be(e.right,t);return Et({_tag:"IConcat",left:e.left,right:r})}else{const r=be(e.right.right,t);if(r.depth===e.depth-3){const s=Et({_tag:"IConcat",left:e.right.left,right:r});return Et({_tag:"IConcat",left:e.left,right:s})}else{const s=Et({_tag:"IConcat",left:e.left,right:e.right.left});return Et({_tag:"IConcat",left:s,right:r})}}else if(t.right.depth>=t.left.depth){const r=be(e,t.left);return Et({_tag:"IConcat",left:r,right:t.right})}else{const r=be(e,t.left.left);if(r.depth===t.depth-3){const s=Et({_tag:"IConcat",left:r,right:t.left.right});return Et({_tag:"IConcat",left:s,right:t.right})}else{const s=Et({_tag:"IConcat",left:t.left.right,right:t.right});return Et({_tag:"IConcat",left:r,right:s})}}}),ww=e=>e.length===0,Kr=e=>e.length>0,Wg=e=>Nr(e,0),Jr=Wg,Gn=e=>U0(e,1),V0=Symbol.for("effect/Duration"),zg=BigInt(0),Wh=BigInt(24),ha=BigInt(60),q0=BigInt(1e3),zh=BigInt(1e6),Gh=BigInt(1e9),_w=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,nn=e=>{if(Gg(e))return e;if(so(e))return Zn(e);if(s3(e))return Hu(e);if(Array.isArray(e)&&e.length===2&&e.every(so))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?Hg:e[0]===1/0||e[1]===1/0?kw:Hu(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(r3(e)){const t=_w.exec(e);if(t){const[n,r,s]=t,i=Number(r);switch(s){case"nano":case"nanos":return Hu(BigInt(r));case"micro":case"micros":return vw(BigInt(r));case"milli":case"millis":return Zn(i);case"second":case"seconds":return Kg(i);case"minute":case"minutes":return Jg(i);case"hour":case"hours":return Yg(i);case"day":case"days":return Zg(i);case"week":case"weeks":return Xg(i)}}}throw new Error("Invalid DurationInput")},Hh={_tag:"Millis",millis:0},Ew={_tag:"Infinity"},Cw={[V0]:V0,[V](){return ht(this,tg(this.value))},[L](e){return Gg(e)&&Rw(this,e)},toString(){return`Duration(${jw(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:$w(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[xt](){return this.toJSON()},pipe(){return j(this,arguments)}},Ue=e=>{const t=Object.create(Cw);return so(e)?isNaN(e)||e<=0?t.value=Hh:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=Ew:e<=zg?t.value=Hh:t.value={_tag:"Nanos",nanos:e},t},Gg=e=>W(e,V0),Iw=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===zg;case"Infinity":return!1}},Hg=Ue(0),kw=Ue(1/0),Hu=e=>Ue(e),vw=e=>Ue(e*q0),Zn=e=>Ue(e),Kg=e=>Ue(e*1e3),Jg=e=>Ue(e*6e4),Yg=e=>Ue(e*36e5),Zg=e=>Ue(e*864e5),Xg=e=>Ue(e*6048e5),W0=e=>Ow(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),Tw=e=>{const t=nn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},$w=e=>{const t=nn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/Gh),Number(t.value.nanos%Gh)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Ow=p(2,(e,t)=>{const n=nn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),Jo=p(3,(e,t,n)=>{const r=nn(e),s=nn(t);if(r.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(W0(r),W0(s));if(r.value._tag==="Nanos"||s.value._tag==="Nanos"){const i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),o=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(i,o)}return n.onMillis(r.value.millis,s.value.millis)}),Bw=gs((e,t)=>Jo(e,t,{onMillis:(n,r)=>n<r?-1:n>r?1:0,onNanos:(n,r)=>n<r?-1:n>r?1:0})),Mw=(e,t)=>Jo(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),Nw=p(2,(e,t)=>Jo(e,t,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r})),Dw=p(2,(e,t)=>Jo(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),Rw=p(2,(e,t)=>Mw(nn(e),nn(t))),Pw=e=>{const t=nn(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=Tw(t),r=n/zh,s=r/q0,i=s/ha,o=i/ha,u=o/Wh;return{days:Number(u),hours:Number(o%Wh),minutes:Number(i%ha),seconds:Number(s%ha),millis:Number(r%q0),nanos:Number(n%zh)}},jw=e=>{const t=nn(e);if(t.value._tag==="Infinity")return"Infinity";if(Iw(t))return"0";const n=Pw(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},tr=5,Of=Math.pow(2,tr),Lw=Of-1,Uw=Of/2,Vw=Of/4;function qw(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Yr(e,t){return t>>>e&Lw}function Br(e){return 1<<e}function Qg(e,t){return qw(e&t-1)}const Ww=(e,t)=>({value:e,previous:t});function Dr(e,t,n,r){let s=r;if(!e){const i=r.length;s=new Array(i);for(let o=0;o<i;++o)s[o]=r[o]}return s[t]=n,s}function td(e,t,n){const r=n.length-1;let s=0,i=0,o=n;if(e)s=i=t;else for(o=new Array(r);s<t;)o[i++]=n[s++];for(++s;s<=r;)o[i++]=n[s++];return e&&(o.length=r),o}function zw(e,t,n,r){const s=r.length;if(e){let c=s;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let i=0,o=0;const u=new Array(s+1);for(;i<t;)u[o++]=r[i++];for(u[t]=n;i<s;)u[++o]=r[i++];return u}class An{_tag="EmptyNode";modify(t,n,r,s,i,o){const u=r(k());return ct(u)?new An:(++o.value,new Xn(t,s,i,u))}}function ye(e){return sf(e,"EmptyNode")}function Gw(e){return ye(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function Yo(e,t){return ye(e)?!1:t===e.edit}class Xn{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,s){this.edit=t,this.hash=n,this.key=r,this.value=s}modify(t,n,r,s,i,o){if(q(i,this.key)){const c=r(this.value);return c===this.value?this:ct(c)?(--o.value,new An):Yo(this,t)?(this.value=c,this):new Xn(t,s,i,c)}const u=r(k());return ct(u)?this:(++o.value,ed(t,n,this.hash,this,s,new Xn(t,s,i,u)))}}class Bf{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,s,i,o){if(s===this.hash){const c=Yo(this,t),f=this.updateCollisionList(c,t,this.hash,this.children,r,i,o);return f===this.children?this:f.length>1?new Bf(t,this.hash,f):f[0]}const u=r(k());return ct(u)?this:(++o.value,ed(t,n,this.hash,this,s,new Xn(t,s,i,u)))}updateCollisionList(t,n,r,s,i,o,u){const c=s.length;for(let h=0;h<c;++h){const x=s[h];if("key"in x&&q(o,x.key)){const g=x.value,d=i(g);return d===g?s:ct(d)?(--u.value,td(t,h,s)):Dr(t,h,new Xn(n,r,o,d),s)}}const f=i(k());return ct(f)?s:(++u.value,Dr(t,c,new Xn(n,r,o,f),s))}}class Zr{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,s,i,o){const u=this.mask,c=this.children,f=Yr(n,s),h=Br(f),x=Qg(u,h),g=u&h,d=Yo(this,t);if(!g){const A=new An().modify(t,n+tr,r,s,i,o);return A?c.length>=Uw?Kw(t,f,A,u,c):new Zr(t,u|h,zw(d,x,A,c)):this}const b=c[x],S=b.modify(t,n+tr,r,s,i,o);if(b===S)return this;let m=u,F;if(ye(S)){if(m&=~h,!m)return new An;if(c.length<=2&&Gw(c[x^1]))return c[x^1];F=td(d,x,c)}else F=Dr(d,x,S,c);return d?(this.mask=m,this.children=F,this):new Zr(t,m,F)}}class Mf{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,s,i,o){let u=this.size;const c=this.children,f=Yr(n,s),h=c[f],x=(h||new An).modify(t,n+tr,r,s,i,o);if(h===x)return this;const g=Yo(this,t);let d;if(ye(h)&&!ye(x))++u,d=Dr(g,f,x,c);else if(!ye(h)&&ye(x)){if(--u,u<=Vw)return Hw(t,u,f,c);d=Dr(g,f,new An,c)}else d=Dr(g,f,x,c);return g?(this.size=u,this.children=d,this):new Mf(t,u,d)}}function Hw(e,t,n,r){const s=new Array(t-1);let i=0,o=0;for(let u=0,c=r.length;u<c;++u)if(u!==n){const f=r[u];f&&!ye(f)&&(s[i++]=f,o|=1<<u)}return new Zr(e,o,s)}function Kw(e,t,n,r,s){const i=[];let o=r,u=0;for(let c=0;o;++c)o&1&&(i[c]=s[u++]),o>>>=1;return i[t]=n,new Mf(e,u+1,i)}function Jw(e,t,n,r,s,i){if(n===s)return new Bf(e,n,[i,r]);const o=Yr(t,n),u=Yr(t,s);if(o===u)return c=>new Zr(e,Br(o)|Br(u),[c]);{const c=o<u?[r,i]:[i,r];return new Zr(e,Br(o)|Br(u),c)}}function ed(e,t,n,r,s,i){let o,u=t;for(;;){const c=Jw(e,u,n,r,s,i);if(typeof c=="function")o=Ww(c,o),u=u+tr;else{let f=c;for(;o!=null;)f=o.value(f),o=o.previous;return f}}}const nd="effect/HashMap",z0=Symbol.for(nd),Yw={[z0]:z0,[Symbol.iterator](){return new Zo(this,(e,t)=>[e,t])},[V](){let e=$(nd);for(const t of this)e^=l($(t[0]),K($(t[1])));return ht(this,e)},[L](e){if(Qw(e)){if(e._size!==this._size)return!1;for(const t of this){const n=l(e,Df(t[0],$(t[0])));if(ct(n))return!1;if(!q(t[1],n.value))return!1}return!0}return!1},toString(){return Nt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(vt)}},[xt](){return this.toJSON()},pipe(){return j(this,arguments)}},Nf=(e,t,n,r)=>{const s=Object.create(Yw);return s._editable=e,s._edit=t,s._root=n,s._size=r,s};class Zo{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=rd(this.map._root,this.f,void 0)}next(){if(ct(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=xo(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Zo(this.map,this.f)}}const xo=e=>e?sd(e[0],e[1],e[2],e[3],e[4]):k(),rd=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return ne(e.value)?v({value:t(e.key,e.value.value),cont:n}):xo(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return sd(r.length,r,0,t,n)}default:return xo(n)}},sd=(e,t,n,r,s)=>{for(;n<e;){const i=t[n++];if(i&&!ye(i))return rd(i,r,[e,t,n,r,s])}return xo(s)},Zw=Nf(!1,0,new An,0),Xo=()=>Zw,Xw=e=>{const t=id(Xo());for(const n of e)Qs(t,n[0],n[1]);return s_(t)},Qw=e=>W(e,z0),t_=e=>e&&ye(e._root),e_=p(2,(e,t)=>Df(e,t,$(t))),Df=p(3,(e,t,n)=>{let r=e._root,s=0;for(;;)switch(r._tag){case"LeafNode":return q(t,r.key)?r.value:k();case"CollisionNode":{if(n===r.hash){const i=r.children;for(let o=0,u=i.length;o<u;++o){const c=i[o];if("key"in c&&q(t,c.key))return c.value}}return k()}case"IndexedNode":{const i=Yr(s,n),o=Br(i);if(r.mask&o){r=r.children[Qg(r.mask,o)],s+=tr;break}return k()}case"ArrayNode":{if(r=r.children[Yr(s,n)],r){s+=tr;break}return k()}default:return k()}}),n_=p(2,(e,t)=>ne(Df(e,t,$(t)))),Qs=p(3,(e,t,n)=>Pf(e,t,()=>v(n))),r_=p(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:Nf(e._editable,e._edit,t,n)),Rf=e=>new Zo(e,t=>t),G0=e=>e._size,id=e=>Nf(!0,e._edit+1,e._root,e._size),s_=e=>(e._editable=!1,e),Pf=p(3,(e,t,n)=>i_(e,t,$(t),n)),i_=p(4,(e,t,n,r)=>{const s={value:e._size},i=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,s);return l(e,r_(i,s.value))}),Kh=p(2,(e,t)=>Pf(e,t,k)),a_=p(2,(e,t)=>Qo(e,Xo(),(n,r,s)=>Qs(n,s,t(r,s)))),o_=p(2,(e,t)=>Qo(e,void 0,(n,r,s)=>t(r,s))),Qo=p(3,(e,t,n)=>{const r=e._root;if(r._tag==="LeafNode")return ne(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;const s=[r.children];let i;for(;i=s.pop();)for(let o=0,u=i.length;o<u;){const c=i[o++];c&&!ye(c)&&(c._tag==="LeafNode"?ne(c.value)&&(t=n(t,c.value.value,c.key)):s.push(c.children))}return t}),ad="effect/HashSet",H0=Symbol.for(ad),u_={[H0]:H0,[Symbol.iterator](){return Rf(this._keyMap)},[V](){return ht(this,K($(this._keyMap))($(ad)))},[L](e){return c_(e)?G0(this._keyMap)===G0(e._keyMap)&&q(this._keyMap,e._keyMap):!1},toString(){return Nt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(vt)}},[xt](){return this.toJSON()},pipe(){return j(this,arguments)}},tu=e=>{const t=Object.create(u_);return t._keyMap=e,t},c_=e=>W(e,H0),f_=tu(Xo()),eu=()=>f_,l_=e=>{const t=jf(eu());for(const n of e)ti(t,n);return Lf(t)},h_=(...e)=>{const t=jf(eu());for(const n of e)ti(t,n);return Lf(t)},x_=p(2,(e,t)=>n_(e._keyMap,t)),p_=e=>Rf(e._keyMap),m_=e=>G0(e._keyMap),jf=e=>tu(id(e._keyMap)),Lf=e=>(e._keyMap._editable=!1,e),od=p(2,(e,t)=>{const n=jf(e);return t(n),Lf(n)}),ti=p(2,(e,t)=>e._keyMap._editable?(Qs(t,!0)(e._keyMap),e):tu(Qs(t,!0)(e._keyMap))),ud=p(2,(e,t)=>e._keyMap._editable?(Kh(t)(e._keyMap),e):tu(Kh(t)(e._keyMap))),g_=p(2,(e,t)=>od(e,n=>{for(const r of t)ud(n,r)})),d_=p(2,(e,t)=>od(eu(),n=>{b_(e,r=>ti(n,r));for(const r of t)ti(n,r)})),b_=p(2,(e,t)=>o_(e._keyMap,(n,r)=>t(r))),y_=p(3,(e,t,n)=>Qo(e._keyMap,t,(r,s,i)=>n(r,i))),wn=eu,cd=l_,Uf=h_,S_=x_,F_=p_,Vf=m_,Rr=ti,qf=ud,Jh=g_,ei=d_,po=y_,Yh=Symbol.for("effect/MutableRef"),A_={[Yh]:Yh,toString(){return Nt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:vt(this.current)}},[xt](){return this.toJSON()},pipe(){return j(this,arguments)}},fd=e=>{const t=Object.create(A_);return t.current=e,t},nu=e=>e.current,ld=p(2,(e,t)=>(e.current=t,e)),Wf="effect/FiberId",ni=Symbol.for(Wf),mo="None",K0="Runtime",w_="Composite",__=St(`${Wf}-${mo}`);let E_=class{[ni]=ni;_tag=mo;id=-1;startTimeMillis=-1;[V](){return __}[L](t){return hd(t)&&t._tag===mo}toString(){return Nt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[xt](){return this.toJSON()}};class C_{id;startTimeMillis;[ni]=ni;_tag=K0;constructor(t,n){this.id=t,this.startTimeMillis=n}[V](){return ht(this,St(`${Wf}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[L](t){return hd(t)&&t._tag===K0&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return Nt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[xt](){return this.toJSON()}}const I_=new E_,hd=e=>W(e,ni),J0=e=>{switch(e._tag){case mo:return wn();case K0:return Uf(e.id);case w_:return l(J0(e.left),ei(J0(e.right)))}},Zh=Z(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>fd(0)),xd=e=>Array.from(J0(e)).map(n=>`#${n}`).join(","),k_=()=>{const e=nu(Zh);return l(Zh,ld(e+1)),new C_(e,Date.now())},Xr=I_,v_=xd,pd=k_,ri=Xo,T_=Xw,$_=t_,zf=e_,Gf=Qs,md=Rf,gd=Pf,O_=a_,dd=Qo,si=Symbol.for("effect/List"),Y0=e=>nt(e),B_=e=>QF(gr(e),Y0),M_=B_(q),N_={[si]:si,_tag:"Cons",toString(){return Nt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Y0(this).map(vt)}},[xt](){return this.toJSON()},[L](e){return bd(e)&&this._tag===e._tag&&M_(this,e)},[V](){return ht(this,Ei(Y0(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return j(this,arguments)}},Qr=(e,t)=>{const n=Object.create(N_);return n.head=e,n.tail=t,n},D_=St("Nil"),R_={[si]:si,_tag:"Nil",toString(){return Nt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[xt](){return this.toJSON()},[V](){return D_},[L](e){return bd(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return j(this,arguments)}},go=Object.create(R_),bd=e=>W(e,si),Ae=e=>e._tag==="Nil",P_=e=>e._tag==="Cons",j_=()=>go,er=(e,t)=>Qr(e,t),ts=j_,Hf=e=>Qr(e,go),L_=p(2,(e,t)=>V_(t,e)),U_=p(2,(e,t)=>er(t,e)),V_=p(2,(e,t)=>{if(Ae(e))return t;if(Ae(t))return e;{const n=Qr(t.head,e);let r=n,s=t.tail;for(;!Ae(s);){const i=Qr(s.head,e);r.tail=i,r=i,s=s.tail}return n}}),q_=p(2,(e,t)=>{if(Ae(e))return e;{let n=0;const r=Qr(t(e.head,n++),go);let s=r,i=e.tail;for(;!Ae(i);){const o=Qr(t(i.head,n++),go);s.tail=o,s=o,i=i.tail}return r}}),W_=p(3,(e,t,n)=>{let r=t,s=e;for(;!Ae(s);)r=n(r,s.head),s=s.tail;return r}),z_=e=>{let t=ts(),n=e;for(;!Ae(n);)t=U_(t,n.head),n=n.tail;return t},Kf=(function(){function e(t){t&&Object.assign(this,t)}return e.prototype=ki,e})(),G_=e=>Object.assign(Object.create(ki),e),H_=Symbol.for("effect/DifferContextPatch");function Xh(e){return e}const Mi={...Kf.prototype,[H_]:{_Value:Xh,_Patch:Xh}},K_=Object.assign(Object.create(Mi),{_tag:"Empty"}),J_=Object.create(K_),yd=()=>J_,Y_=Object.assign(Object.create(Mi),{_tag:"AndThen"}),Z_=(e,t)=>{const n=Object.create(Y_);return n.first=e,n.second=t,n},X_=Object.assign(Object.create(Mi),{_tag:"AddService"}),Q_=(e,t)=>{const n=Object.create(X_);return n.key=e,n.service=t,n},tE=Object.assign(Object.create(Mi),{_tag:"RemoveService"}),eE=e=>{const t=Object.create(tE);return t.key=e,t},nE=Object.assign(Object.create(Mi),{_tag:"UpdateService"}),rE=(e,t)=>{const n=Object.create(nE);return n.key=e,n.update=t,n},sE=(e,t)=>{const n=new Map(e.unsafeMap);let r=yd();for(const[s,i]of t.unsafeMap.entries())if(n.has(s)){const o=n.get(s);n.delete(s),q(o,i)||(r=Wa(rE(s,()=>i))(r))}else n.delete(s),r=Wa(Q_(s,i))(r);for(const[s]of n.entries())r=Wa(eE(s))(r);return r},Wa=p(2,(e,t)=>Z_(e,t)),iE=p(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=re(e);const s=new Map(t.unsafeMap);for(;Kr(r);){const o=Jr(r),u=Gn(r);switch(o._tag){case"Empty":{r=u;break}case"AddService":{s.set(o.key,o.service),r=u;break}case"AndThen":{r=Ce(Ce(u,o.second),o.first);break}case"RemoveService":{s.delete(o.key),r=u;break}case"UpdateService":{s.set(o.key,o.update(s.get(o.key))),n=!0,r=u;break}}}if(!n)return Gr(s);const i=new Map;for(const[o]of t.unsafeMap)s.has(o)&&(i.set(o,s.get(o)),s.delete(o));for(const[o,u]of s)i.set(o,u);return Gr(i)}),aE=Symbol.for("effect/DifferHashSetPatch");function Ku(e){return e}const ru={...Kf.prototype,[aE]:{_Value:Ku,_Key:Ku,_Patch:Ku}},oE=Object.assign(Object.create(ru),{_tag:"Empty"}),uE=Object.create(oE),Sd=()=>uE,cE=Object.assign(Object.create(ru),{_tag:"AndThen"}),fE=(e,t)=>{const n=Object.create(cE);return n.first=e,n.second=t,n},lE=Object.assign(Object.create(ru),{_tag:"Add"}),hE=e=>{const t=Object.create(lE);return t.value=e,t},xE=Object.assign(Object.create(ru),{_tag:"Remove"}),pE=e=>{const t=Object.create(xE);return t.value=e,t},mE=(e,t)=>{const[n,r]=po([e,Sd()],([s,i],o)=>S_(o)(s)?[qf(o)(s),i]:[s,Z0(hE(o))(i)])(t);return po(r,(s,i)=>Z0(pE(i))(s))(n)},Z0=p(2,(e,t)=>fE(e,t)),gE=p(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=re(e);for(;Kr(r);){const s=Jr(r),i=Gn(r);switch(s._tag){case"Empty":{r=i;break}case"AndThen":{r=Ce(s.first)(Ce(s.second)(i));break}case"Add":{n=Rr(s.value)(n),r=i;break}case"Remove":n=qf(s.value)(n),r=i}}return n}),dE=Symbol.for("effect/DifferReadonlyArrayPatch");function Qh(e){return e}const Ni={...Kf.prototype,[dE]:{_Value:Qh,_Patch:Qh}},bE=Object.assign(Object.create(Ni),{_tag:"Empty"}),yE=Object.create(bE),Fd=()=>yE,SE=Object.assign(Object.create(Ni),{_tag:"AndThen"}),FE=(e,t)=>{const n=Object.create(SE);return n.first=e,n.second=t,n},AE=Object.assign(Object.create(Ni),{_tag:"Append"}),wE=e=>{const t=Object.create(AE);return t.values=e,t},_E=Object.assign(Object.create(Ni),{_tag:"Slice"}),EE=(e,t)=>{const n=Object.create(_E);return n.from=e,n.until=t,n},CE=Object.assign(Object.create(Ni),{_tag:"Update"}),IE=(e,t)=>{const n=Object.create(CE);return n.index=e,n.patch=t,n},kE=e=>{let t=0,n=Fd();for(;t<e.oldValue.length&&t<e.newValue.length;){const r=e.oldValue[t],s=e.newValue[t],i=e.differ.diff(r,s);q(i,e.differ.empty)||(n=za(n,IE(t,i))),t=t+1}return t<e.oldValue.length&&(n=za(n,EE(0,t))),t<e.newValue.length&&(n=za(n,wE(yA(t)(e.newValue)))),n},za=p(2,(e,t)=>FE(e,t)),vE=p(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),s=Ht(e);for(;Yt(s);){const i=$t(s),o=tn(s);switch(i._tag){case"Empty":{s=o;break}case"AndThen":{o.unshift(i.first,i.second),s=o;break}case"Append":{for(const u of i.values)r.push(u);s=o;break}case"Slice":{r=r.slice(i.from,i.until),s=o;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),s=o;break}}}return r}),TE=Symbol.for("effect/Differ"),$E={[TE]:{_P:H,_V:H},pipe(){return j(this,arguments)}},ds=e=>{const t=Object.create($E);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},OE=()=>ds({empty:yd(),combine:(e,t)=>Wa(t)(e),diff:(e,t)=>sE(e,t),patch:(e,t)=>iE(t)(e)}),BE=()=>ds({empty:Sd(),combine:(e,t)=>Z0(t)(e),diff:(e,t)=>mE(e,t),patch:(e,t)=>gE(t)(e)}),ME=e=>ds({empty:Fd(),combine:(t,n)=>za(t,n),diff:(t,n)=>kE({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>vE(t,n,e)}),Ad=()=>NE((e,t)=>t),NE=e=>ds({empty:H,combine:(t,n)=>t===H?n:n===H?t:r=>n(t(r)),diff:(t,n)=>q(t,n)?H:Ai(n),patch:(t,n)=>e(n,t(n))}),ii=255,wd=8,X0=e=>e&ii,Q0=e=>e>>wd&ii,Di=(e,t)=>(e&ii)+((t&e&ii)<<wd),DE=Di(0,0),RE=e=>Di(e,e),PE=e=>Di(e,0),jE=p(2,(e,t)=>Di(X0(e)&~t,Q0(e))),LE=p(2,(e,t)=>e|t),UE=e=>~e>>>0&ii,VE=0,bs=1,qE=2,_d=4,tc=16,Ed=32,WE=e=>su(e,Ed),zE=p(2,(e,t)=>e|t),mn=e=>Cd(e)&&!HE(e),Cd=e=>su(e,bs),su=p(2,(e,t)=>(e&t)!==0),Id=(...e)=>e.reduce((t,n)=>t|n,0),GE=Id(VE),tx=e=>su(e,_d),HE=e=>su(e,tc),Ga=p(2,(e,t)=>Di(e^t,t)),Ha=p(2,(e,t)=>e&(UE(X0(t))|Q0(t))|X0(t)&Q0(t)),ex=ds({empty:DE,diff:(e,t)=>Ga(e,t),combine:(e,t)=>LE(t)(e),patch:(e,t)=>Ha(t,e)}),KE=RE,kd=PE,nx=jE,vd=(e,t)=>({_tag:"Par",left:e,right:t}),xa=(e,t)=>({_tag:"Seq",left:e,right:t}),JE=e=>{let t=Hf(e),n=ts();for(;;){const[r,s]=W_(t,[Td(),ts()],([i,o],u)=>{const[c,f]=YE(u);return[eC(i,c),L_(o,f)]});if(n=ZE(n,r),Ae(s))return z_(n);t=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},YE=e=>{let t=e,n=Td(),r=ts(),s=ts();for(;;)switch(t._tag){case"Empty":{if(Ae(r))return[n,s];t=r.head,r=r.tail;break}case"Par":{r=er(t.right,r),t=t.left;break}case"Seq":{const i=t.left,o=t.right;switch(i._tag){case"Empty":{t=o;break}case"Par":{const u=i.left,c=i.right;t=vd(xa(u,o),xa(c,o));break}case"Seq":{const u=i.left,c=i.right;t=xa(u,xa(c,o));break}case"Single":{t=i,s=er(o,s);break}}break}case"Single":{if(n=tC(n,t),Ae(r))return[n,s];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},ZE=(e,t)=>{if(Ae(e))return Hf(Ju(t));if(nC(t))return e;const n=uC(e.head),r=rC(t);return n.length===1&&r.length===1&&q(n[0],r[0])?er(oC(e.head,Ju(t)),e.tail):er(Ju(t),e)},XE=Symbol.for("effect/RequestBlock/RequestBlockParallel"),QE={_R:e=>e};class Jf{map;[XE]=QE;constructor(t){this.map=t}}const Td=()=>new Jf(ri()),tC=(e,t)=>new Jf(gd(e.map,t.dataSource,n=>X3(mg(n,Aw(t.blockedRequest)),()=>re(t.blockedRequest)))),eC=(e,t)=>new Jf(dd(e.map,t.map,(n,r,s)=>Gf(n,s,ie(zf(n,s),{onNone:()=>r,onSome:i=>be(r,i)})))),nC=e=>$_(e.map),rC=e=>Array.from(md(e.map)),Ju=e=>aC(O_(e.map,t=>re(t))),sC=Symbol.for("effect/RequestBlock/RequestBlockSequential"),iC={_R:e=>e};class $d{map;[sC]=iC;constructor(t){this.map=t}}const aC=e=>new $d(e),oC=(e,t)=>new $d(dd(t.map,e.map,(n,r,s)=>Gf(n,s,ie(zf(n,s),{onNone:()=>en(),onSome:i=>be(i,r)})))),uC=e=>Array.from(md(e.map)),cC=e=>Array.from(e.map),Ri="Die",nr="Empty",ys="Fail",Ss="Interrupt",es="Parallel",ns="Sequential",Od="effect/Cause",Bd=Symbol.for(Od),fC={_E:e=>e},Fs={[Bd]:fC,[V](){return l($(Od),K($(EC(this))),ht(this))},[L](e){return lC(e)&&_C(this,e)},pipe(){return j(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:vt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:vt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:vt(this.left),right:vt(this.right)}}},toString(){return ji(this)},[xt](){return this.toJSON()}},rr=(()=>{const e=Object.create(Fs);return e._tag=nr,e})(),ai=e=>{const t=Object.create(Fs);return t._tag=ys,t.error=e,t},we=e=>{const t=Object.create(Fs);return t._tag=Ri,t.defect=e,t},Ke=e=>{const t=Object.create(Fs);return t._tag=Ss,t.fiberId=e,t},Pi=(e,t)=>{const n=Object.create(Fs);return n._tag=es,n.left=e,n.right=t,n},ee=(e,t)=>{const n=Object.create(Fs);return n._tag=ns,n.left=e,n.right=t,n},lC=e=>W(e,Bd),hC=e=>e._tag===nr,xC=e=>e._tag===nr?!0:rs(e,!0,(t,n)=>{switch(n._tag){case nr:return v(t);case Ri:case ys:case Ss:return v(!1);default:return k()}}),pC=e=>ne(SC(e)),Yf=e=>Xf(void 0,IC)(e),mC=e=>Hr(rs(e,en(),(t,n)=>n._tag===ys?v(l(t,Ce(n.error))):k())),gC=e=>Hr(rs(e,en(),(t,n)=>n._tag===Ri?v(l(t,Ce(n.defect))):k())),dC=e=>rs(e,wn(),(t,n)=>n._tag===Ss?v(l(t,Rr(n.fiberId))):k()),bC=e=>Md(e,t=>t._tag===ys?v(t.error):k()),yC=e=>{const t=bC(e);switch(t._tag){case"None":return Je(e);case"Some":return qr(t.value)}},SC=e=>Md(e,t=>t._tag===Ss?v(t.fiberId):k()),rx=e=>Zf(e,{onEmpty:rr,onFail:()=>rr,onDie:we,onInterrupt:Ke,onSequential:ee,onParallel:Pi}),FC=e=>Zf(e,{onEmpty:rr,onFail:we,onDie:we,onInterrupt:Ke,onSequential:ee,onParallel:Pi}),AC=p(2,(e,t)=>wC(e,n=>ai(t(n)))),wC=p(2,(e,t)=>Zf(e,{onEmpty:rr,onFail:n=>t(n),onDie:n=>we(n),onInterrupt:n=>Ke(n),onSequential:(n,r)=>ee(n,r),onParallel:(n,r)=>Pi(n,r)})),_C=(e,t)=>{let n=re(e),r=re(t);for(;Kr(n)&&Kr(r);){const[s,i]=l(Jr(n),rs([wn(),en()],([c,f],h)=>{const[x,g]=ec(h);return v([l(c,ei(x)),l(f,be(g))])})),[o,u]=l(Jr(r),rs([wn(),en()],([c,f],h)=>{const[x,g]=ec(h);return v([l(c,ei(x)),l(f,be(g))])}));if(!q(s,o))return!1;n=i,r=u}return!0},EC=e=>CC(re(e),en()),CC=(e,t)=>{for(;;){const[n,r]=l(e,mr([wn(),en()],([i,o],u)=>{const[c,f]=ec(u);return[l(i,ei(c)),l(o,be(f))]})),s=Vf(n)>0?l(t,Ce(n)):t;if(ww(r))return Hr(s);e=r,t=s}throw new Error(Vo("Cause.flattenCauseLoop"))},Md=p(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),s=t(r);switch(s._tag){case"None":{switch(r._tag){case ns:case es:{n.push(r.right),n.push(r.left);break}}break}case"Some":return s}}return k()}),ec=e=>{let t=e;const n=[];let r=wn(),s=en();for(;t!==void 0;)switch(t._tag){case nr:{if(n.length===0)return[r,s];t=n.pop();break}case ys:{if(r=Rr(r,Gu(t._tag,t.error)),n.length===0)return[r,s];t=n.pop();break}case Ri:{if(r=Rr(r,Gu(t._tag,t.defect)),n.length===0)return[r,s];t=n.pop();break}case Ss:{if(r=Rr(r,Gu(t._tag,t.fiberId)),n.length===0)return[r,s];t=n.pop();break}case ns:{switch(t.left._tag){case nr:{t=t.right;break}case ns:{t=ee(t.left.left,ee(t.left.right,t.right));break}case es:{t=Pi(ee(t.left.left,t.right),ee(t.left.right,t.right));break}default:{s=Ce(s,t.right),t=t.left;break}}break}case es:{n.push(t.right),t=t.left;break}}throw new Error(Vo("Cause.evaluateCauseLoop"))},IC={emptyCase:Lh,failCase:D0,dieCase:D0,interruptCase:Lh,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},sx="SequentialCase",ix="ParallelCase",Zf=p(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:s,onParallel:i,onSequential:o})=>Xf(e,void 0,{emptyCase:()=>n,failCase:(u,c)=>r(c),dieCase:(u,c)=>t(c),interruptCase:(u,c)=>s(c),sequentialCase:(u,c,f)=>o(c,f),parallelCase:(u,c,f)=>i(c,f)})),rs=p(3,(e,t,n)=>{let r=t,s=e;const i=[];for(;s!==void 0;){const o=n(r,s);switch(r=ne(o)?o.value:r,s._tag){case ns:{i.push(s.right),s=s.left;break}case es:{i.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&i.length>0&&(s=i.pop())}return r}),Xf=p(3,(e,t,n)=>{const r=[e],s=[];for(;r.length>0;){const o=r.pop();switch(o._tag){case nr:{s.push(Je(n.emptyCase(t)));break}case ys:{s.push(Je(n.failCase(t,o.error)));break}case Ri:{s.push(Je(n.dieCase(t,o.defect)));break}case Ss:{s.push(Je(n.interruptCase(t,o.fiberId)));break}case ns:{r.push(o.right),r.push(o.left),s.push(qr({_tag:sx}));break}case es:{r.push(o.right),r.push(o.left),s.push(qr({_tag:ix}));break}}}const i=[];for(;s.length>0;){const o=s.pop();switch(o._tag){case"Left":{switch(o.left._tag){case sx:{const u=i.pop(),c=i.pop(),f=n.sequentialCase(t,u,c);i.push(f);break}case ix:{const u=i.pop(),c=i.pop(),f=n.parallelCase(t,u,c);i.push(f);break}}break}case"Right":{i.push(o.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),ji=(e,t)=>Yf(e)?"All fibers interrupted without errors.":Dd(e).map(function(n){return t?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Nd(n.cause,"  ")}
}`}).join(`
`),Nd=(e,t)=>{const n=e.stack.split(`
`);let r=`${t}[cause]: ${n[0]}`;for(let s=1,i=n.length;s<i;s++)r+=`
${t}${n[s]}`;return e.cause&&(r+=` {
${Nd(e.cause,`${t}  `)}
${t}}`),r};class bo extends globalThis.Error{span=void 0;constructor(t){const n=typeof t=="object"&&t!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(kC(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new bo(t.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(ss in t&&(this.span=t[ss]),Object.keys(t).forEach(s=>{s in this||(this[s]=t[s])})),this.stack=$C(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const kC=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(W(e,"toString")&&Uo(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return eg(e)},vC=/\((.*)\)/g,TC=Z("effect/Tracer/spanToTrace",()=>new WeakMap),$C=(e,t,n)=>{const r=[e],s=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let i=1;i<s.length;i++){if(s[i].includes(" at new BaseEffectError")||s[i].includes(" at new YieldableError")){i++;continue}if(s[i].includes("Generator.next")||s[i].includes("effect_internal_function"))break;r.push(s[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,o=0;for(;i&&i._tag==="Span"&&o<10;){const u=TC.get(i);if(typeof u=="function"){const c=u();if(typeof c=="string"){const f=c.matchAll(vC);let h=!1;for(const[,x]of f)h=!0,r.push(`    at ${i.name} (${x})`);h||r.push(`    at ${i.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=Vn(i.parent),o++}}return r.join(`
`)},ss=Symbol.for("effect/SpanAnnotation"),Dd=e=>Xf(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new bo(n)],failCase:(t,n)=>[new bo(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),iu="Pending",Rd="Done",OC="effect/Deferred",BC=Symbol.for(OC),MC={_E:e=>e,_A:e=>e},NC=e=>({_tag:iu,joiners:e}),DC=e=>({_tag:Rd,effect:e});class Li{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Li(this.self)}}const Pd=(e,t)=>{const n=new jt("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},RC=e=>{const t=new jt("RunBlocked");return t.effect_instruction_i0=e,t},is=Symbol.for("effect/Effect");class PC{patch;op;_op=ff;constructor(t,n){this.patch=t,this.op=n}}class jt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[is]=Vr;constructor(t){this._op=t}[L](t){return this===t}[V](){return ht(this,af(this))}pipe(){return j(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:vt(this.effect_instruction_i0),effect_instruction_i1:vt(this.effect_instruction_i1),effect_instruction_i2:vt(this.effect_instruction_i2)}}toString(){return Nt(this.toJSON())}[xt](){return this.toJSON()}[Symbol.iterator](){return new Li(new _i(this))}}class jd{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[is]=Vr;constructor(t){this._op=t,this._tag=t}[L](t){return ul(t)&&t._op==="Failure"&&q(this.effect_instruction_i0,t.effect_instruction_i0)}[V](){return l(St(this._tag),K($(this.effect_instruction_i0)),ht(this))}get cause(){return this.effect_instruction_i0}pipe(){return j(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Nt(this.toJSON())}[xt](){return this.toJSON()}[Symbol.iterator](){return new Li(new _i(this))}}class Ld{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[is]=Vr;constructor(t){this._op=t,this._tag=t}[L](t){return ul(t)&&t._op==="Success"&&q(this.effect_instruction_i0,t.effect_instruction_i0)}[V](){return l(St(this._tag),K($(this.effect_instruction_i0)),ht(this))}get value(){return this.effect_instruction_i0}pipe(){return j(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:vt(this.value)}}toString(){return Nt(this.toJSON())}[xt](){return this.toJSON()}[Symbol.iterator](){return new Li(new _i(this))}}const Qf=e=>W(e,is),se=e=>{const t=new jt(sg);return t.effect_instruction_i0=e,t},jC=p(3,(e,t,n)=>ou(r=>R(e,s=>R(Vd(Ct(()=>r(t(s)))),i=>Ct(()=>n(s,i)).pipe(as({onFailure:o=>{switch(i._tag){case Se:return Ie(ee(i.effect_instruction_i0,o));case Fe:return Ie(o)}},onSuccess:()=>i})))))),Ui=p(2,(e,t)=>R(e,()=>it(t))),Vi=e=>Ui(e,void 0),Ud=function(){const e=new jt(Wo);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(Vo("you're not supposed to end up here"))}return e},yo=(e,t=Xr)=>{const n=new jt(qs);let r;return n.effect_instruction_i0=s=>{r=e(s)},n.effect_instruction_i1=t,Kd(n,s=>Qf(r)?r:ke)},LC=(e,t=Xr)=>Ct(()=>yo(e,t)),oi=(e,t=Xr)=>Ud(e,function(){let n,r;function s(c){n?n(c):r===void 0&&(r=c)}const i=new jt(qs);i.effect_instruction_i0=c=>{n=c,r&&c(r)},i.effect_instruction_i1=t;let o,u;return this.effect_instruction_i0.length!==1?(u=new AbortController,o=Vt(()=>this.effect_instruction_i0(s,u.signal))):o=Vt(()=>this.effect_instruction_i0(s)),o||u?Kd(i,c=>(u&&u.abort(),o??ke)):i}),ax=p(2,(e,t)=>el(e,{onFailure:t,onSuccess:it})),ox=Symbol.for("effect/OriginalAnnotation"),tl=(e,t)=>ne(t)?new Proxy(e,{has(n,r){return r===ss||r===ox||r in n},get(n,r){return r===ss?t.value:r===ox?e:n[r]}}):e,ux=e=>wi(e)&&!(ss in e)?se(t=>Ie(we(tl(e,cl(t))))):Ie(we(e)),UC=e=>VC(()=>we(new b6(e))),ui=e=>el(e,{onFailure:t=>it(qr(t)),onSuccess:t=>it(Je(t))}),Vd=e=>zC(e,{onFailure:ut,onSuccess:wt}),Dt=e=>wi(e)&&!(ss in e)?se(t=>Ie(ai(tl(e,cl(t))))):Ie(ai(e)),qd=e=>R(P(e),Dt),Ie=e=>{const t=new jd(Se);return t.effect_instruction_i0=e,t},VC=e=>R(P(e),Ie),qC=se(e=>it(e.id())),Wd=e=>se(t=>e(t.id())),R=p(2,(e,t)=>{const n=new jt(oo);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),WC=e=>{const t=new jt("OnStep");return t.effect_instruction_i0=e,t},zd=e=>R(e,H),zC=p(2,(e,t)=>as(e,{onFailure:n=>it(t.onFailure(n)),onSuccess:n=>it(t.onSuccess(n))})),as=p(2,(e,t)=>{const n=new jt(uo);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),el=p(2,(e,t)=>as(e,{onFailure:n=>{if(gC(n).length>0)return Ie(FC(n));const s=mC(n);return s.length>0?t.onFailure(Wg(s)):Ie(n)},onSuccess:t.onSuccess})),dn=p(2,(e,t)=>Ct(()=>{const n=nt(e),r=Af(n.length);let s=0;return Ui(sl({while:()=>s<n.length,body:()=>t(n[s],s),step:i=>{r[s++]=i}}),r)})),au=p(2,(e,t)=>Ct(()=>{const n=nt(e);let r=0;return sl({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),Gd=e=>{const t=new jt(Ci);return t.effect_instruction_i0=KE(bs),t.effect_instruction_i1=()=>e,t},Ut=p(2,(e,t)=>R(e,n=>P(()=>t(n)))),Hd=p(2,(e,t)=>el(e,{onFailure:n=>qd(()=>t.onFailure(n)),onSuccess:n=>P(()=>t.onSuccess(n))})),nl=p(2,(e,t)=>as(e,{onFailure:n=>{const r=yC(n);switch(r._tag){case"Left":return qd(()=>t(r.left));case"Right":return Ie(r.right)}},onSuccess:it})),rl=p(2,(e,t)=>ou(n=>as(n(e),{onFailure:r=>{const s=ut(r);return as(t(s),{onFailure:i=>ut(ee(r,i)),onSuccess:()=>s})},onSuccess:r=>{const s=wt(r);return uu(t(s),s)}}))),Kd=p(2,(e,t)=>rl(e,ob({onFailure:n=>Yf(n)?Vi(t(dC(n))):ke,onSuccess:()=>ke}))),it=e=>{const t=new Ld(Fe);return t.effect_instruction_i0=e,t},Ct=e=>{const t=new jt(Wo);return t.commit=e,t},P=e=>{const t=new jt(rg);return t.effect_instruction_i0=e,t},GC=p(e=>e.length===3||e.length===2&&!(wi(e[1])&&"onlyEffect"in e[1]),(e,t)=>R(e,n=>{const r=typeof t=="function"?t(n):t;return Qf(r)?Ui(r,n):o3(r)?yo(s=>{r.then(i=>s(it(n)),i=>s(Dt(new F6(i,"An unknown error occurred in Effect.tap"))))}):it(n)})),HC=e=>se(t=>{const n=t.getFiberRef(rc),r=l(n,Pe(()=>t.scope()));return e(cu(rc,v(r)))}),Jd=e=>{const t=new jt(Ci);return t.effect_instruction_i0=kd(bs),t.effect_instruction_i1=()=>e,t},ou=e=>Ud(e,function(){const t=new jt(Ci);return t.effect_instruction_i0=kd(bs),t.effect_instruction_i1=n=>Cd(n)?Vt(()=>this.effect_instruction_i0(Gd)):Vt(()=>this.effect_instruction_i0(Jd)),t}),ke=it(void 0),KC=e=>{const t=new jt(Ci);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},sl=e=>{const t=new jt(co);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},il=e=>{const t=new jt(Va);return typeof e?.priority<"u"?l6(t,e.priority):t},Yd=p(2,(e,t)=>R(e,n=>Ut(t,r=>[n,r]))),Zd=p(2,(e,t)=>R(e,n=>Ui(t,n))),uu=p(2,(e,t)=>R(e,()=>t)),JC=e=>R(qC,t=>l(e,Xd(t))),Xd=p(2,(e,t)=>R(e.interruptAsFork(t),()=>e.await)),YC={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return j(this,arguments)}},ZC={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return j(this,arguments)}},XC={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return j(this,arguments)}},Qd={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return j(this,arguments)}},tb={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return j(this,arguments)}},eb={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return j(this,arguments)}},QC={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return j(this,arguments)}},t6={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return j(this,arguments)}},e6="effect/FiberRef",n6=Symbol.for(e6),r6={_A:e=>e},al=e=>se(t=>wt(t.getFiberRef(e))),ol=p(2,(e,t)=>R(al(e),t)),cx=p(2,(e,t)=>s6(e,()=>[void 0,t])),s6=p(2,(e,t)=>se(n=>{const[r,s]=t(n.getFiberRef(e));return n.setFiberRef(e,s),it(r)})),cu=p(3,(e,t,n)=>jC(Zd(al(t),cx(t,n)),()=>e,r=>cx(t,r))),Zt=(e,t)=>As(e,{differ:Ad(),fork:t?.fork??H,join:t?.join}),i6=e=>{const t=BE();return As(e,{differ:t,fork:t.empty})},a6=e=>{const t=ME(Ad());return As(e,{differ:t,fork:t.empty})},nb=e=>{const t=OE();return As(e,{differ:t,fork:t.empty})},As=(e,t)=>({...vi,[n6]:r6,initial:e,commit(){return al(this)},diff:(r,s)=>t.differ.diff(r,s),combine:(r,s)=>t.differ.combine(r,s),patch:r=>s=>t.differ.patch(r,s),fork:t.fork,join:t.join??((r,s)=>s)}),o6=e=>As(e,{differ:ex,fork:ex.empty}),qi=Z(Symbol.for("effect/FiberRef/currentContext"),()=>nb($f())),fu=Z(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Zt(0)),rb=Z(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Zt(2048)),u6=Z(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Zt(ri())),c6=Z(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Zt(tb)),f6=Z(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Zt(ts())),l6=p(2,(e,t)=>cu(e,fu,t)),h6=Z(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Zt("unbounded")),x6=Z(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Zt(!0)),p6=Z(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Zt(v(eb))),m6=Z(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>Zt(v(Qd))),nc=Z(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>a6(zr())),rc=Z(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Zt(k(),{fork:()=>k(),join:(e,t)=>e})),pa=Z(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Zt(rr,{fork:()=>rr,join:(e,t)=>e})),g6=(e,t)=>e.addFinalizer(()=>Vi(t)),d6=(e,t)=>e.close(t),lu=(e,t)=>e.fork(t),sb=(function(){class e extends globalThis.Error{commit(){return Dt(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[xt](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?ji(ai(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,O3),e})(),ib=(e,t)=>{class n extends sb{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},fx=Symbol.for("effect/Cause/errors/RuntimeException"),b6=ib({[fx]:fx},"RuntimeException"),y6=Symbol.for("effect/Cause/errors/InterruptedException"),S6=e=>W(e,y6),lx=Symbol.for("effect/Cause/errors/NoSuchElement"),ab=ib({[lx]:lx},"NoSuchElementException"),hx=Symbol.for("effect/Cause/errors/UnknownException"),F6=(function(){class e extends sb{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(e.prototype,{[hx]:hx,name:"UnknownException"}),e})(),ul=e=>Qf(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),xx=(e,t)=>E6(e,t?.parallel?Pi:ee),A6=e=>ut(we(e)),px=e=>ut(ai(e)),ut=e=>{const t=new jd(Se);return t.effect_instruction_i0=e,t},w6=e=>ut(Ke(e)),Yu=p(2,(e,t)=>{switch(e._tag){case Se:return ut(e.effect_instruction_i0);case Fe:return wt(t(e.effect_instruction_i0))}}),ob=p(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case Se:return t(e.effect_instruction_i0);case Fe:return n(e.effect_instruction_i0)}}),wt=e=>{const t=new Ld(Fe);return t.effect_instruction_i0=e,t},Hn=wt(void 0),_6=p(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case Se:switch(t._tag){case Fe:return ut(e.effect_instruction_i0);case Se:return ut(n(e.effect_instruction_i0,t.effect_instruction_i0))}case Fe:switch(t._tag){case Fe:return wt(r(e.effect_instruction_i0,t.effect_instruction_i0));case Se:return ut(t.effect_instruction_i0)}}}),E6=(e,t)=>{const n=qg(e);return Kr(n)?l(Gn(n),mr(l(Jr(n),Yu(re)),(r,s)=>l(r,_6(s,{onSuccess:(i,o)=>l(i,Ce(o)),onFailure:t}))),Yu(Hr),Yu(r=>Yn(r)),v):k()},C6=e=>({...vi,[BC]:MC,state:fd(NC([])),commit(){return ub(this)},blockingOn:e}),ub=e=>LC(t=>{const n=nu(e.state);switch(n._tag){case Rd:return t(n.effect);case iu:return n.joiners.push(t),I6(e,t)}},e.blockingOn),cb=(e,t)=>{const n=nu(e.state);if(n._tag===iu){ld(e.state,DC(t));for(let r=0,s=n.joiners.length;r<s;r++)n.joiners[r](t)}},I6=(e,t)=>P(()=>{const n=nu(e.state);if(n._tag===iu){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),k6=se(e=>wt(e.currentContext)),v6=()=>k6,Wi=e=>R(v6(),e),T6=p(2,(e,t)=>cu(qi,t)(e)),$6=p(2,(e,t)=>Wi(n=>T6(e,t(n)))),cl=e=>{const t=e.currentSpan;return t!==void 0&&t._tag==="Span"?v(t):k()},mx=Symbol.for("effect/MutableHashMap"),O6={[mx]:mx,[Symbol.iterator](){return new fl(this)},toString(){return Nt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(vt)}},[xt](){return this.toJSON()},pipe(){return j(this,arguments)}};class fl{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new B6(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new fl(this.self)}}class B6{backing;constructor(t){this.backing=t}currentBucket;next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const M6=()=>{const e=Object.create(O6);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},qn=p(2,(e,t)=>{if(ao(t)===!1)return e.referential.has(t)?v(e.referential.get(t)):k();const n=t[V](),r=e.buckets.get(n);return r===void 0?k():N6(e,r,t)}),N6=(e,t,n,r=!1)=>{for(let s=0,i=t.length;s<i;s++)if(n[L](t[s][0])){const o=t[s][1];return r&&(t.splice(s,1),e.bucketsSize--),v(o)}return k()},Bs=p(2,(e,t)=>ne(qn(e,t))),Ms=p(3,(e,t,n)=>{if(ao(t)===!1)return e.referential.set(t,n),e;const r=t[V](),s=e.buckets.get(r);return s===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(D6(e,s,t),s.push([t,n]),e.bucketsSize++,e)}),D6=(e,t,n)=>{for(let r=0,s=t.length;r<s;r++)if(n[L](t[r][0])){t.splice(r,1),e.bucketsSize--;return}},R6="effect/Clock",gx=Symbol.for(R6),ll=dr("effect/Clock"),P6=2**31-1,dx={unsafeSchedule(e,t){const n=W0(t);if(n>P6)return D0;let r=!1;const s=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(s),!r)}},bx=(function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;let t;return()=>(t===void 0&&(t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6))),t+BigInt(Math.round(performance.now()*1e6)))})(),j6=(function(){const e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return bx;const t=bx()-e.bigint();return()=>t+e.bigint()})();class L6{[gx]=gx;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return j6()}currentTimeMillis=P(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=P(()=>this.unsafeCurrentTimeNanos());scheduler(){return it(dx)}sleep(t){return oi(n=>{const r=dx.unsafeSchedule(()=>n(ke),t);return Vi(P(r))})}}const U6=()=>new L6,fb="And",lb="Or",hb="InvalidData",xb="MissingData",pb="SourceUnavailable",mb="Unsupported",V6="effect/ConfigError",yx=Symbol.for(V6),ws={_tag:"ConfigError",[yx]:yx},gb=(e,t)=>{const n=Object.create(ws);return n._op=fb,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},db=(e,t)=>{const n=Object.create(ws);return n._op=lb,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},q6=(e,t,n={pathDelim:"."})=>{const r=Object.create(ws);return r._op=hb,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${l(this.path,$e(n.pathDelim))}: "${this.message}")`}}),r},sr=(e,t,n={pathDelim:"."})=>{const r=Object.create(ws);return r._op=xb,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${l(this.path,$e(n.pathDelim))}: "${this.message}")`}}),r},W6=(e,t,n,r={pathDelim:"."})=>{const s=Object.create(ws);return s._op=pb,s.path=e,s.message=t,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${l(this.path,$e(r.pathDelim))}: "${this.message}")`}}),s},z6=(e,t,n={pathDelim:"."})=>{const r=Object.create(ws);return r._op=mb,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${l(this.path,$e(n.pathDelim))}: "${this.message}")`}}),r},Kn=p(2,(e,t)=>{switch(e._op){case fb:return gb(Kn(e.left,t),Kn(e.right,t));case lb:return db(Kn(e.left,t),Kn(e.right,t));case hb:return q6([...t,...e.path],e.message);case xb:return sr([...t,...e.path],e.message);case pb:return W6([...t,...e.path],e.message,e.cause);case mb:return z6([...t,...e.path],e.message)}}),G6={_tag:"Empty"},Zu=p(2,(e,t)=>{let n=Hf(t),r=e;for(;P_(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=er(s.first,er(s.second,n.tail));break}case"MapName":{r=C(r,s.f),n=n.tail;break}case"Nested":{r=je(r,s.name),n=n.tail;break}case"Unnested":{if(l(Ws(r),rA(s.name)))r=tn(r),n=n.tail;else return qr(sr(r,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return Je(r)}),H6="Constant",K6="Fail",J6="Fallback",Y6="Described",Z6="Lazy",X6="MapOrFail",Q6="Nested",tI="Primitive",eI="Sequence",nI="HashMap",rI="ZipWith";var Sx={};const So=(e,t)=>[...e,...t],sI="effect/ConfigProvider",Fx=Symbol.for(sI),iI=dr("effect/ConfigProvider"),aI="effect/ConfigProviderFlat",Ax=Symbol.for(aI),oI=e=>({[Fx]:Fx,pipe(){return j(this,arguments)},...e}),uI=e=>({[Ax]:Ax,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),cI=e=>oI({load:t=>R(le(e,zr(),t,!1),n=>ie(Ws(n),{onNone:()=>Dt(sr(zr(),`Expected a single value having structure: ${t}`)),onSome:it})),flattened:e}),fI=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=c=>l(c,$e(t)),s=c=>c.split(t),i=()=>typeof process<"u"&&"env"in process&&typeof Sx=="object"?Sx:{};return cI(uI({load:(c,f,h=!0)=>{const x=r(c),g=i(),d=x in g?v(g[x]):k();return l(d,nl(()=>sr(c,`Expected ${x} to exist in the process context`)),R(b=>mI(b,c,f,n,h)))},enumerateChildren:c=>P(()=>{const f=i(),g=Object.keys(f).map(d=>s(d.toUpperCase())).filter(d=>{for(let b=0;b<c.length;b++){const S=l(c,Cg(b)),m=d[b];if(m===void 0||S!==m)return!1}return!0}).flatMap(d=>d.slice(c.length,c.length+1));return cd(g)}),patch:G6}))},lI=(e,t,n,r)=>{const s=qh(n.length,c=>c>=r.length?k():v([e(c),c+1])),i=qh(r.length,c=>c>=n.length?k():v([t(c),c+1])),o=So(n,s),u=So(r,i);return[o,u]},hI=(e,t)=>{let n=t;if(n._tag==="Nested"){const r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},le=(e,t,n,r)=>{const s=n;switch(s._tag){case H6:return it(Ht(s.value));case Y6:return Ct(()=>le(e,t,s.config,r));case K6:return Dt(sr(t,s.message));case J6:return l(Ct(()=>le(e,t,s.first,r)),ax(i=>s.condition(i)?l(le(e,t,s.second,r),ax(o=>Dt(db(i,o)))):Dt(i)));case Z6:return Ct(()=>le(e,t,s.config(),r));case X6:return Ct(()=>l(le(e,t,s.original,r),R(dn(i=>l(s.mapOrFail(i),nl(Kn(hI(t,s.original))))))));case Q6:return Ct(()=>le(e,So(t,Ht(s.name)),s.config,r));case tI:return l(Zu(t,e.patch),R(i=>l(e.load(i,s,r),R(o=>{if(o.length===0){const u=l(gA(i),Pe(()=>"<n/a>"));return Dt(sr([],`Expected ${s.description} with name ${u}`))}return it(o)}))));case eI:return l(Zu(t,e.patch),R(i=>l(e.enumerateChildren(i),R(dI),R(o=>o.length===0?Ct(()=>Ut(le(e,t,s.config,!0),Ht)):l(dn(o,u=>le(e,Fn(t,`[${u}]`),s.config,!0)),Ut(u=>{const c=Oi(u);return c.length===0?Ht(zr()):Ht(c)}))))));case nI:return Ct(()=>l(Zu(t,e.patch),R(i=>l(e.enumerateChildren(i),R(o=>l(o,dn(u=>le(e,So(i,Ht(u)),s.valueConfig,r)),Ut(u=>u.length===0?Ht(ri()):l(gI(u),C(c=>T_(Xs(nt(o),c)))))))))));case rI:return Ct(()=>l(le(e,t,s.left,r),ui,R(i=>l(le(e,t,s.right,r),ui,R(o=>{if(Vs(i)&&Vs(o))return Dt(gb(i.left,o.left));if(Vs(i)&&la(o))return Dt(i.left);if(la(i)&&Vs(o))return Dt(o.left);if(la(i)&&la(o)){const u=l(t,$e(".")),c=xI(t,u),[f,h]=lI(c,c,l(i.right,C(Je)),l(o.right,C(Je)));return l(f,Xs(h),dn(([x,g])=>l(Yd(x,g),Ut(([d,b])=>s.zip(d,b)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},xI=(e,t)=>n=>qr(sr(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),pI=(e,t)=>e.split(new RegExp(`\\s*${YA(t)}\\s*`)),mI=(e,t,n,r,s)=>s?l(pI(e,r),dn(i=>n.parse(i.trim())),nl(Kn(t))):l(n.parse(e),Hd({onFailure:Kn(t),onSuccess:Ht})),gI=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),dI=e=>l(dn(e,yI),Hd({onFailure:()=>zr(),onSuccess:Zs(ot)}),ui,Ut(V3)),bI=/^(\[(\d+)\])$/,yI=e=>{const t=e.match(bI);if(t!==null){const n=t[2];return l(n!==void 0&&n.length>0?v(n):k(),tA(SI))}return k()},SI=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?k():v(t)},wx=Symbol.for("effect/Console"),bb=dr("effect/Console"),FI={[wx]:wx,assert(e,...t){return P(()=>{console.assert(e,...t)})},clear:P(()=>{console.clear()}),count(e){return P(()=>{console.count(e)})},countReset(e){return P(()=>{console.countReset(e)})},debug(...e){return P(()=>{console.debug(...e)})},dir(e,t){return P(()=>{console.dir(e,t)})},dirxml(...e){return P(()=>{console.dirxml(...e)})},error(...e){return P(()=>{console.error(...e)})},group(e){return e?.collapsed?P(()=>console.groupCollapsed(e?.label)):P(()=>console.group(e?.label))},groupEnd:P(()=>{console.groupEnd()}),info(...e){return P(()=>{console.info(...e)})},log(...e){return P(()=>{console.log(...e)})},table(e,t){return P(()=>{console.table(e,t)})},time(e){return P(()=>console.time(e))},timeEnd(e){return P(()=>console.timeEnd(e))},timeLog(e,...t){return P(()=>{console.timeLog(e,...t)})},trace(...e){return P(()=>{console.trace(...e)})},warn(...e){return P(()=>{console.warn(...e)})},unsafe:console},AI="effect/Random",_x=Symbol.for(AI),wI=dr("effect/Random");class _I{seed;[_x]=_x;PRNG;constructor(t){this.seed=t,this.PRNG=new m3(t)}get next(){return P(()=>this.PRNG.number())}get nextBoolean(){return Ut(this.next,t=>t>.5)}get nextInt(){return P(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return Ut(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return P(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return EI(t,n=>this.nextIntBetween(0,n))}}const EI=(e,t)=>Ct(()=>l(P(()=>Array.from(e)),R(n=>{const r=[];for(let s=n.length;s>=2;s=s-1)r.push(s);return l(r,au(s=>l(t(s),Ut(i=>CI(n,s-1,i)))),Ui(qg(n)))}))),CI=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},II=e=>new _I($(e)),Ex=Symbol.for("effect/Tracer"),kI=e=>({[Ex]:Ex,...e}),yb=dr("effect/Tracer"),Sb=dr("effect/ParentSpan"),Cx=(function(){const e="abcdef0123456789",t=e.length;return function(n){let r="";for(let s=0;s<n;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}})();class vI{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(t,n,r,s,i,o){this.name=t,this.parent=n,this.context=r,this.startTime=i,this.kind=o,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:Cx(32),this.spanId=Cx(16),this.links=Array.from(s)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}addLinks(t){this.links.push(...t)}}const TI=kI({span:(e,t,n,r,s,i)=>new vI(e,t,n,r,s,i),context:e=>e()}),$I=l($f(),Os(ll,U6()),Os(bb,FI),Os(wI,II(Math.random())),Os(iI,fI()),Os(yb,TI)),Fo=Z(Symbol.for("effect/DefaultServices/currentServices"),()=>nb($I));function OI(e){return new _n(e)}function BI(){return OI(new Map)}const Ix=Symbol.for("effect/FiberRefs");class _n{locals;[Ix]=Ix;constructor(t){this.locals=t}pipe(){return j(this,arguments)}}const MI=(e,t,n,r=!1)=>{const s=e;let i=t,o=n,u=r,c;for(;c===void 0;)if(_t(i)&&_t(o)){const f=$t(i)[0],h=tn(i),x=$t(o)[0],g=$t(o)[1],d=tn(o);f.startTimeMillis<x.startTimeMillis?(o=d,u=!0):f.startTimeMillis>x.startTimeMillis?i=h:f.id<x.id?(o=d,u=!0):f.id>x.id?i=h:c=[g,u]}else c=[s.initial,!0];return c},NI=p(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((s,i)=>{const o=s[0][1];if(!s[0][0][L](t)){if(!r.has(i)){if(q(o,i.initial))return;r.set(i,[[t,i.join(i.initial,o)]]);return}const u=r.get(i),[c,f]=MI(i,u,s);if(f){const h=i.diff(c,o),x=u[0][1],g=i.join(x,i.patch(h)(x));if(!q(x,g)){let d;const b=u[0][0];b[L](t)?d=[[b,g],...u.slice(1)]:d=[[t,g],...u],r.set(i,d)}}}}),new _n(r)}),DI=p(2,(e,t)=>{const n=new Map;return Fb(e,n,t),new _n(n)}),Fb=(e,t,n)=>{e.locals.forEach((r,s)=>{const i=r[0][1],o=s.patch(s.fork)(i);q(i,o)?t.set(s,r):t.set(s,[[n,o],...r])})},Ab=p(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new _n(n)}),RI=p(2,(e,t)=>e.locals.has(t)?v($t(e.locals.get(t))[1]):k()),ci=p(2,(e,t)=>l(RI(e,t),Pe(()=>t.initial))),sc=p(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new _n(new Map([[n,[[t,r]]]]));const s=new Map(e.locals);return ic(s,t,n,r),new _n(s)}),ic=(e,t,n,r)=>{const s=e.get(n)??[];let i;if(_t(s)){const[o,u]=$t(s);if(o[L](t)){if(q(u,r))return;i=[[t,r],...s.slice(1)]}else i=[[t,r],...s]}else i=[[t,r]];e.set(n,i)},PI=p(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new _n(new Map(t));const r=new Map(e.locals);return n!==void 0&&Fb(e,r,n),t.forEach(([s,i])=>{i.length===1?ic(r,i[0][0],s,i[0][1]):i.forEach(([o,u])=>{ic(r,o,s,u)})}),new _n(r)}),jI=ci,LI=PI,UI=BI,VI=YC,qI=ZC,WI=XC,zI=Qd,GI=tb,HI=eb,KI=QC,JI=t6,YI=l(ot,xf(e=>e.ordinal)),ZI=pf(YI),XI=e=>{switch(e){case"All":return VI;case"Debug":return HI;case"Error":return WI;case"Fatal":return qI;case"Info":return GI;case"Trace":return KI;case"None":return JI;case"Warning":return zI}},wb=e=>e.replace(/[\s="]/g,"_"),QI=e=>t=>`${wb(t.label)}=${e-t.startTime}ms`,tk=Ii,ek=B3;class nk extends ek{}const _b="Empty",Eb="Add",Cb="Remove",Ib="Update",kb="AndThen",rk={_tag:_b},sk=(e,t)=>{const n=new Map(e.locals);let r=rk;for(const[s,i]of t.locals.entries()){const o=$t(i)[1],u=n.get(s);if(u!==void 0){const c=$t(u)[1];q(c,o)||(r=Xu({_tag:Ib,fiberRef:s,patch:s.diff(c,o)})(r))}else r=Xu({_tag:Eb,fiberRef:s,value:o})(r);n.delete(s)}for(const[s]of n.entries())r=Xu({_tag:Cb,fiberRef:s})(r);return r},Xu=p(2,(e,t)=>({_tag:kb,first:e,second:t})),ik=p(3,(e,t,n)=>{let r=n,s=Ht(e);for(;_t(s);){const i=$t(s),o=tn(s);switch(i._tag){case _b:{s=o;break}case Eb:{r=sc(r,{fiberId:t,fiberRef:i.fiberRef,value:i.value}),s=o;break}case Cb:{r=Ab(r,i.fiberRef),s=o;break}case Ib:{const u=ci(r,i.fiberRef);r=sc(r,{fiberId:t,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(u)}),s=o;break}case kb:{s=je(i.first)(je(i.second)(o));break}}}return r}),vb="effect/MetricLabel",ac=Symbol.for(vb);class ak{key;value;[ac]=ac;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=St(vb+this.key+this.value)}[V](){return this._hash}[L](t){return uk(t)&&this.key===t.key&&this.value===t.value}pipe(){return j(this,arguments)}}const ok=(e,t)=>new ak(e,t),uk=e=>W(e,ac),ck="Sequential",fk="Parallel",lk="ParallelN",Tb={_tag:ck},hk={_tag:fk},xk=e=>({_tag:lk,parallelism:e}),oc=Tb,uc=hk,cc=xk,pk=sk,mk=ik,hu="effect/FiberStatus",ir=Symbol.for(hu),Ao="Done",kx="Running",vx="Suspended",gk=St(`${hu}-${Ao}`);class dk{[ir]=ir;_tag=Ao;[V](){return gk}[L](t){return hl(t)&&t._tag===Ao}}class bk{runtimeFlags;[ir]=ir;_tag=kx;constructor(t){this.runtimeFlags=t}[V](){return l($(hu),K($(this._tag)),K($(this.runtimeFlags)),ht(this))}[L](t){return hl(t)&&t._tag===kx&&this.runtimeFlags===t.runtimeFlags}}class yk{runtimeFlags;blockingOn;[ir]=ir;_tag=vx;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[V](){return l($(hu),K($(this._tag)),K($(this.runtimeFlags)),K($(this.blockingOn)),ht(this))}[L](t){return hl(t)&&t._tag===vx&&this.runtimeFlags===t.runtimeFlags&&q(this.blockingOn,t.blockingOn)}}const Sk=new dk,Fk=e=>new bk(e),Ak=(e,t)=>new yk(e,t),hl=e=>W(e,ir),wk=e=>e._tag===Ao,_k=Sk,$b=Fk,Ek=Ak,Ck=wk,Ik=Symbol.for("effect/Micro"),wo=Symbol.for("effect/Micro/MicroExit"),Tx=Symbol.for("effect/Micro/MicroCause"),kk={_E:H};class Ob extends globalThis.Error{_tag;traces;[Tx];constructor(t,n,r){const s=`MicroCause.${t}`;let i,o,u;if(n instanceof globalThis.Error){i=`(${s}) ${n.name}`,o=n.message;const c=o.split(`
`).length;u=n.stack?`(${s}) ${n.stack.split(`
`).slice(0,c+3).join(`
`)}`:`${i}: ${o}`}else i=s,o=Ur(n,0),u=`${i}: ${o}`;r.length>0&&(u+=`
    ${r.join(`
    `)}`),super(o),this._tag=t,this.traces=r,this[Tx]=kk,this.name=i,this.stack=u}pipe(){return j(this,arguments)}toString(){return this.stack}[xt](){return this.stack}}class vk extends Ob{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}const Tk=(e,t=[])=>new vk(e,t);class $k extends Ob{constructor(t=[]){super("Interrupt","interrupted",t)}}const Ok=(e=[])=>new $k(e),Bk=e=>e._tag==="Interrupt",$x=Symbol.for("effect/Micro/MicroFiber"),Mk={_A:H,_E:H};class Nk{context;interruptible;[$x];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[$x]=Mk}getRef(t){return fw(this.context,t)}addObserver(t){return this._exit?(t(this._exit),KF):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(dl))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){const s=this._yielded;this._yielded=void 0,s()}const n=this.runLoop(t);if(n===ma)return;const r=Ox.interruptChildren&&Ox.interruptChildren(this);if(r!==void 0)return this.evaluate(Eo(r,()=>n));this._exit=n;for(let s=0;s<this._observers.length;s++)this._observers[s](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(bl).shouldYield(this)){n=!0;const s=r;r=Eo(Lk,()=>s)}if(r=r[fc](this),r===ma){const s=this._yielded;return wo in s?(this._yielded=void 0,s):ma}}}catch(s){return W(r,fc)?lc(s):lc(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[_o]&&n[_o](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,ma}children(){return this._children??=new Set}}const Ox=Z("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),Bb=Symbol.for("effect/Micro/identifier"),It=Symbol.for("effect/Micro/args"),fc=Symbol.for("effect/Micro/evaluate"),os=Symbol.for("effect/Micro/successCont"),Pr=Symbol.for("effect/Micro/failureCont"),_o=Symbol.for("effect/Micro/ensureCont"),ma=Symbol.for("effect/Micro/Yield"),Dk={_A:H,_E:H,_R:H},Rk={...tk,_op:"Micro",[Ik]:Dk,pipe(){return j(this,arguments)},[Symbol.iterator](){return new Zm(new _i(this))},toJSON(){return{_id:"Micro",op:this[Bb],...It in this?{args:this[It]}:void 0}},toString(){return Nt(this)},[xt](){return Nt(this)}};function Pk(e){return lc("Micro.evaluate: Not implemented")}const xu=e=>({...Rk,[Bb]:e.op,[fc]:e.eval??Pk,[os]:e.contA,[Pr]:e.contE,[_o]:e.ensure}),xl=e=>{const t=xu(e);return function(){const n=Object.create(t);return n[It]=e.single===!1?arguments:arguments[0],n}},Mb=e=>{const t={...xu(e),[wo]:wo,_tag:e.op,get[e.prop](){return this[It]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[It]}},[L](n){return qk(n)&&n._tag===e.op&&q(this[It],n[It])},[V](){return ht(this,K(St(e.op))($(this[It])))}};return function(n){const r=Object.create(t);return r[It]=n,r[os]=void 0,r[Pr]=void 0,r[_o]=void 0,r}},pl=Mb({op:"Success",prop:"value",eval(e){const t=e.getCont(os);return t?t[os](this[It],e):e.yieldWith(this)}}),Nb=Mb({op:"Failure",prop:"cause",eval(e){let t=e.getCont(Pr);for(;Bk(this[It])&&t&&e.interruptible;)t=e.getCont(Pr);return t?t[Pr](this[It],e):e.yieldWith(this)}}),jk=xl({op:"Yield",eval(e){let t=!1;return e.getRef(bl).scheduleTask(()=>{t||e.evaluate(Wk)},this[It]??0),e.yieldWith(()=>{t=!0})}}),Lk=jk(0),Uk=pl(void 0),ml=xl({op:"WithMicroFiber",eval(e){return this[It](e)}}),Eo=p(2,(e,t)=>{const n=Object.create(Vk);return n[It]=e,n[os]=t,n}),Vk=xu({op:"OnSuccess",eval(e){return e._stack.push(this),this[It]}}),qk=e=>W(e,wo),Db=pl,gl=Nb,dl=gl(Ok()),lc=e=>gl(Tk(e)),Wk=Db(void 0),zk="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class Rb{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,zk(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(Kk)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const Gk=p(2,(e,t)=>ml(n=>{const r=n.context;return n.context=t(r),Zk(e,()=>(n.context=r,Uk))})),Hk=p(2,(e,t)=>Gk(e,Pg(t)));class Kk extends jg()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class bl extends jg()("effect/Micro/currentScheduler",{defaultValue:()=>new Rb}){}const Jk=p(2,(e,t)=>{const n=Object.create(Yk);return n[It]=e,n[os]=t.onSuccess,n[Pr]=t.onFailure,n}),Yk=xu({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[It]}}),Zk=p(2,(e,t)=>Qk(n=>Jk(n(e),{onFailure:r=>Eo(t(gl(r)),()=>Nb(r)),onSuccess:r=>Eo(t(Db(r)),()=>pl(r))}))),Pb=xl({op:"SetInterruptible",ensure(e){if(e.interruptible=this[It],e._interrupted&&e.interruptible)return()=>dl}}),Xk=e=>ml(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(Pb(!1)),t._interrupted?dl:e)),Qk=e=>ml(t=>t.interruptible?(t.interruptible=!1,t._stack.push(Pb(!0)),e(Xk)):e(H)),tv=(e,t)=>{const n=new Nk(bl.context(new Rb));return n.evaluate(e),n};class jb{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let s,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)s=this.buckets[i];s&&s[0]===n?s[1].push(t):i===r?this.buckets.push([n,[t]]):this.buckets.splice(i,0,[n,[t]])}}class ev{maxNextTickBeforeTimer;running=!1;tasks=new jb;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,s]of n)for(let i=0;i<s.length;i++)s[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(rb)?t.getFiberRef(fu):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const Lb=Z(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new ev(2048));class nv{tasks=new jb;deferred=!1;scheduleTask(t,n){this.deferred?Lb.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(rb)?t.getFiberRef(fu):!1}flush(){for(;this.tasks.buckets.length>0;){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of t)for(let s=0;s<r.length;s++)r[s]()}this.deferred=!0}}const Ub=Z(Symbol.for("effect/FiberRef/currentScheduler"),()=>Zt(Lb)),Vb=Z(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Zt(new Map)),Bx=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return ol(h6,s=>s==="unbounded"?n():s>1?r(s):t());default:return e>1?r(e):t()}},yl="InterruptSignal",Sl="Stateful",Fl="Resume",Al="YieldNow",Qu=e=>({_tag:yl,cause:e}),Ka=e=>({_tag:Sl,onFiber:e}),Er=e=>({_tag:Fl,effect:e}),rv=()=>({_tag:Al}),sv="effect/FiberScope",Co=Symbol.for(sv);class iv{[Co]=Co;fiberId=Xr;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class av{fiberId;parent;[Co]=Co;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Ka(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const ov=e=>new av(e.id(),e),wl=Z(Symbol.for("effect/FiberScope/Global"),()=>new iv),uv="effect/Fiber",cv=Symbol.for(uv),fv={_E:e=>e,_A:e=>e},lv="effect/Fiber",hv=Symbol.for(lv),qb=e=>Zd(zd(e.await),e.inheritAll);({...vi});const Pn="effect/FiberCurrent",xv="effect/Logger",pv=Symbol.for(xv),mv={_Message:e=>e,_Output:e=>e},_l=e=>({[pv]:mv,log:e,pipe(){return j(this,arguments)}}),gv=/^[^\s"=]*$/,dv=(e,t)=>({annotations:n,cause:r,date:s,fiberId:i,logLevel:o,message:u,spans:c})=>{const f=b=>b.match(gv)?b:e(b),h=(b,S)=>`${wb(b)}=${f(S)}`,x=(b,S)=>" "+h(b,S);let g=h("timestamp",s.toISOString());g+=x("level",o.label),g+=x("fiber",xd(i));const d=xA(u);for(let b=0;b<d.length;b++)g+=x("message",Ur(d[b],t));hC(r)||(g+=x("cause",ji(r,{renderErrorCause:!0})));for(const b of c)g+=" "+QI(s.getTime())(b);for(const[b,S]of n)g+=x(b,Ur(S,t));return g},bv=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,yv=_l(dv(bv)),Sv=typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null;Sv&&process.stdout.isTTY;const Wb="effect/MetricBoundaries",hc=Symbol.for(Wb);class Fv{values;[hc]=hc;constructor(t){this.values=t,this._hash=l(St(Wb),K(Ei(this.values)))}_hash;[V](){return this._hash}[L](t){return Av(t)&&q(this.values,t.values)}pipe(){return j(this,arguments)}}const Av=e=>W(e,hc),wv=e=>{const t=l(e,Wr(re(Number.POSITIVE_INFINITY)),TA);return new Fv(t)},_v=e=>l(wf(e.count-1,t=>e.start*Math.pow(e.factor,t)),Ko,wv),Ev="effect/MetricKeyType",zb=Symbol.for(Ev),Gb="effect/MetricKeyType/Counter",xc=Symbol.for(Gb),Cv="effect/MetricKeyType/Frequency",Iv=Symbol.for(Cv),kv="effect/MetricKeyType/Gauge",vv=Symbol.for(kv),Hb="effect/MetricKeyType/Histogram",pc=Symbol.for(Hb),Tv="effect/MetricKeyType/Summary",$v=Symbol.for(Tv),Kb={_In:e=>e,_Out:e=>e};class Ov{incremental;bigint;[zb]=Kb;[xc]=xc;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=St(Gb)}_hash;[V](){return this._hash}[L](t){return Jb(t)}pipe(){return j(this,arguments)}}class Bv{boundaries;[zb]=Kb;[pc]=pc;constructor(t){this.boundaries=t,this._hash=l(St(Hb),K($(this.boundaries)))}_hash;[V](){return this._hash}[L](t){return Yb(t)&&q(this.boundaries,t.boundaries)}pipe(){return j(this,arguments)}}const Mv=e=>new Ov(e?.incremental??!1,e?.bigint??!1),Nv=e=>new Bv(e),Jb=e=>W(e,xc),Dv=e=>W(e,Iv),Rv=e=>W(e,vv),Yb=e=>W(e,pc),Pv=e=>W(e,$v),jv="effect/MetricKey",Zb=Symbol.for(jv),Lv={_Type:e=>e},Uv=gr(q);class El{name;keyType;description;tags;[Zb]=Lv;constructor(t,n,r,s=[]){this.name=t,this.keyType=n,this.description=r,this.tags=s,this._hash=l(St(this.name+this.description),K($(this.keyType)),K(Ei(this.tags)))}_hash;[V](){return this._hash}[L](t){return Vv(t)&&this.name===t.name&&q(this.keyType,t.keyType)&&q(this.description,t.description)&&Uv(this.tags,t.tags)}pipe(){return j(this,arguments)}}const Vv=e=>W(e,Zb),qv=(e,t)=>new El(e,Mv(t),Go(t?.description)),Wv=(e,t,n)=>new El(e,Nv(t),Go(n)),zv=p(2,(e,t)=>t.length===0?e:new El(e.name,e.keyType,e.description,qa(e.tags,t))),Gv="effect/MetricState",zi=Symbol.for(Gv),Xb="effect/MetricState/Counter",mc=Symbol.for(Xb),Qb="effect/MetricState/Frequency",gc=Symbol.for(Qb),ty="effect/MetricState/Gauge",dc=Symbol.for(ty),ey="effect/MetricState/Histogram",bc=Symbol.for(ey),ny="effect/MetricState/Summary",yc=Symbol.for(ny),Gi={_A:e=>e};class Hv{count;[zi]=Gi;[mc]=mc;constructor(t){this.count=t}[V](){return l($(Xb),K($(this.count)),ht(this))}[L](t){return s4(t)&&this.count===t.count}pipe(){return j(this,arguments)}}const Kv=gr(q);class Jv{occurrences;[zi]=Gi;[gc]=gc;constructor(t){this.occurrences=t}_hash;[V](){return l(St(Qb),K(Ei(nt(this.occurrences.entries()))),ht(this))}[L](t){return i4(t)&&Kv(nt(this.occurrences.entries()),nt(t.occurrences.entries()))}pipe(){return j(this,arguments)}}class Yv{value;[zi]=Gi;[dc]=dc;constructor(t){this.value=t}[V](){return l($(ty),K($(this.value)),ht(this))}[L](t){return a4(t)&&this.value===t.value}pipe(){return j(this,arguments)}}class Zv{buckets;count;min;max;sum;[zi]=Gi;[bc]=bc;constructor(t,n,r,s,i){this.buckets=t,this.count=n,this.min=r,this.max=s,this.sum=i}[V](){return l($(ey),K($(this.buckets)),K($(this.count)),K($(this.min)),K($(this.max)),K($(this.sum)),ht(this))}[L](t){return o4(t)&&q(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return j(this,arguments)}}class Xv{error;quantiles;count;min;max;sum;[zi]=Gi;[yc]=yc;constructor(t,n,r,s,i,o){this.error=t,this.quantiles=n,this.count=r,this.min=s,this.max=i,this.sum=o}[V](){return l($(ny),K($(this.error)),K($(this.quantiles)),K($(this.count)),K($(this.min)),K($(this.max)),K($(this.sum)),ht(this))}[L](t){return u4(t)&&this.error===t.error&&q(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return j(this,arguments)}}const Qv=e=>new Hv(e),t4=e=>new Jv(e),e4=e=>new Yv(e),n4=e=>new Zv(e.buckets,e.count,e.min,e.max,e.sum),r4=e=>new Xv(e.error,e.quantiles,e.count,e.min,e.max,e.sum),s4=e=>W(e,mc),i4=e=>W(e,gc),a4=e=>W(e,dc),o4=e=>W(e,bc),u4=e=>W(e,yc),c4="effect/MetricHook",f4=Symbol.for(c4),l4={_In:e=>e,_Out:e=>e},Hi=e=>({[f4]:l4,pipe(){return j(this,arguments)},...e}),Mx=BigInt(0),h4=e=>{let t=e.keyType.bigint?Mx:0;const n=e.keyType.incremental?e.keyType.bigint?s=>s>=Mx:s=>s>=0:s=>!0,r=s=>{n(s)&&(t=t+s)};return Hi({get:()=>Qv(t),update:r,modify:r})},x4=e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const s=t.get(r)??0;t.set(r,s+1)};return Hi({get:()=>t4(t),update:n,modify:n})},p4=(e,t)=>{let n=t;return Hi({get:()=>e4(n),update:r=>{n=r},modify:r=>{n=n+r}})},m4=e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),s=new Float64Array(n);let i=0,o=0,u=Number.MAX_VALUE,c=Number.MIN_VALUE;l(t,Zs(ot),C((x,g)=>{s[g]=x}));const f=x=>{let g=0,d=n;for(;g!==d;){const b=Math.floor(g+(d-g)/2),S=s[b];x<=S?d=b:g=b,d===g+1&&(x<=s[g]?d=g:g=d)}r[g]=r[g]+1,i=i+1,o=o+x,x<u&&(u=x),x>c&&(c=x)},h=()=>{const x=Af(n);let g=0;for(let d=0;d<n;d++){const b=s[d],S=r[d];g=g+S,x[d]=[b,g]}return x};return Hi({get:()=>n4({buckets:h(),count:i,min:u,max:c,sum:o}),update:f,modify:f})},g4=e=>{const{error:t,maxAge:n,maxSize:r,quantiles:s}=e.keyType,i=l(s,Zs(ot)),o=Af(r);let u=0,c=0,f=0,h=0,x=0;const g=b=>{const S=[];let m=0;for(;m!==r-1;){const F=o[m];if(F!=null){const[A,E]=F,_=Zn(b-A);Dw(_,Hg)&&Nw(_,n)&&S.push(E)}m=m+1}return d4(t,i,Zs(S,ot))},d=(b,S)=>{if(r>0){u=u+1;const m=u%r;o[m]=[S,b]}h=c===0?b:Math.min(h,b),x=c===0?b:Math.max(x,b),c=c+1,f=f+b};return Hi({get:()=>r4({error:t,quantiles:g(Date.now()),count:c,min:h,max:x,sum:f}),update:([b,S])=>d(b,S),modify:([b,S])=>d(b,S)})},d4=(e,t,n)=>{const r=n.length;if(!_t(t))return zr();const s=t[0],i=t.slice(1),o=Nx(e,r,k(),0,s,n),u=Ht(o);return i.forEach(c=>{u.push(Nx(e,r,o.value,o.consumed,c,o.rest))}),C(u,c=>[c.quantile,c.value])},Nx=(e,t,n,r,s,i)=>{let o=e,u=t,c=n,f=r,h=s,x=i,g=e,d=t,b=n,S=r,m=s,F=i;for(;;){if(!_t(x))return{quantile:h,value:k(),consumed:f,rest:[]};if(h===1)return{quantile:h,value:v($i(x)),consumed:f+x.length,rest:[]};const A=$t(x),E=bA(x,w=>w===A),_=h*u,X=o/2*_,a=f+E[0].length,U=Math.abs(a-_);if(a<_-X){g=o,d=u,b=Ws(x),S=a,m=h,F=E[1],o=g,u=d,c=b,f=S,h=m,x=F;continue}if(a>_+X){const w=ct(c)?v(A):c;return{quantile:h,value:w,consumed:f,rest:x}}switch(c._tag){case"None":{g=o,d=u,b=Ws(x),S=a,m=h,F=E[1],o=g,u=d,c=b,f=S,h=m,x=F;continue}case"Some":{const w=Math.abs(_-c.value);if(U<w){g=o,d=u,b=Ws(x),S=a,m=h,F=E[1],o=g,u=d,c=b,f=S,h=m,x=F;continue}return{quantile:h,value:v(c.value),consumed:f,rest:x}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},b4="effect/MetricPair",y4=Symbol.for(b4),S4={_Type:e=>e},F4=(e,t)=>({[y4]:S4,metricKey:e,metricState:t,pipe(){return j(this,arguments)}}),A4="effect/MetricRegistry",Dx=Symbol.for(A4);class w4{[Dx]=Dx;map=M6();snapshot(){const t=[];for(const[n,r]of this.map)t.push(F4(n,r.get()));return t}get(t){const n=l(this.map,qn(t),Vn);if(n==null){if(Jb(t.keyType))return this.getCounter(t);if(Rv(t.keyType))return this.getGauge(t);if(Dv(t.keyType))return this.getFrequency(t);if(Yb(t.keyType))return this.getHistogram(t);if(Pv(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=l(this.map,qn(t),Vn);if(n==null){const r=h4(t);l(this.map,Bs(t))||l(this.map,Ms(t,r)),n=r}return n}getFrequency(t){let n=l(this.map,qn(t),Vn);if(n==null){const r=x4(t);l(this.map,Bs(t))||l(this.map,Ms(t,r)),n=r}return n}getGauge(t){let n=l(this.map,qn(t),Vn);if(n==null){const r=p4(t,t.keyType.bigint?BigInt(0):0);l(this.map,Bs(t))||l(this.map,Ms(t,r)),n=r}return n}getHistogram(t){let n=l(this.map,qn(t),Vn);if(n==null){const r=m4(t);l(this.map,Bs(t))||l(this.map,Ms(t,r)),n=r}return n}getSummary(t){let n=l(this.map,qn(t),Vn);if(n==null){const r=g4(t);l(this.map,Bs(t))||l(this.map,Ms(t,r)),n=r}return n}}const _4=()=>new w4,E4="effect/Metric",C4=Symbol.for(E4),I4={_Type:e=>e,_In:e=>e,_Out:e=>e},Rx=Z(Symbol.for("effect/Metric/globalMetricRegistry"),()=>_4()),ry=function(e,t,n,r){const s=Object.assign(i=>GC(i,o=>$4(s,o)),{[C4]:I4,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return j(this,arguments)}});return s},pu=(e,t)=>sy(qv(e,t)),sy=e=>{let t;const n=new WeakMap,r=s=>{if(s.length===0)return t!==void 0||(t=Rx.get(e)),t;let i=n.get(s);return i!==void 0||(i=Rx.get(zv(e,s)),n.set(s,i)),i};return ry(e.keyType,(s,i)=>r(i).update(s),s=>r(s).get(),(s,i)=>r(i).modify(s))},k4=(e,t,n)=>sy(Wv(e,t,n)),v4=p(3,(e,t,n)=>T4(e,[ok(t,n)])),T4=p(2,(e,t)=>ry(e.keyType,(n,r)=>e.unsafeUpdate(n,qa(t,r)),n=>e.unsafeValue(qa(t,n)),(n,r)=>e.unsafeModify(n,qa(t,r)))),$4=p(2,(e,t)=>ol(nc,n=>P(()=>e.unsafeUpdate(t,n))));({...ki});const O4=p(2,(e,t)=>ol(Vb,n=>P(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,cb(r.result,t))}}))),B4="effect/Supervisor",mu=Symbol.for(B4),Cl={_T:e=>e};class gu{underlying;value0;[mu]=Cl;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,s){this.underlying.onStart(t,n,r,s)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new gu(this,l(this.value,Ut(t)))}zip(t){return new du(this,t)}}class du{left;right;_tag="Zip";[mu]=Cl;constructor(t,n){this.left=t,this.right=n}get value(){return Yd(this.left.value,this.right.value)}onStart(t,n,r,s){this.left.onStart(t,n,r,s),this.right.onStart(t,n,r,s)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new gu(this,l(this.value,Ut(t)))}zip(t){return new du(this,t)}}const iy=e=>W(e,mu)&&sf(e,"Zip");class M4{effect;[mu]=Cl;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,s){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new gu(this,l(this.value,Ut(t)))}zip(t){return new du(this,t)}onRun(t,n){return t()}}const N4=e=>new M4(e),bu=Z("effect/Supervisor/none",()=>N4(ke)),D4=ds,ay="Empty",oy="AddSupervisor",uy="RemoveSupervisor",cy="AndThen",zs={_tag:ay},Ja=(e,t)=>({_tag:cy,first:e,second:t}),R4=(e,t)=>P4(t,re(e)),P4=(e,t)=>{let n=e,r=t;for(;Kr(r);){const s=Jr(r);switch(s._tag){case ay:{r=Gn(r);break}case oy:{n=n.zip(s.supervisor),r=Gn(r);break}case uy:{n=Sc(n,s.supervisor),r=Gn(r);break}case cy:{r=Ce(s.first)(Ce(s.second)(Gn(r)));break}}}return n},Sc=(e,t)=>q(e,t)?bu:iy(e)?Sc(e.left,t).zip(Sc(e.right,t)):e,Io=e=>q(e,bu)?wn():iy(e)?l(Io(e.left),ei(Io(e.right))):Uf(e),j4=(e,t)=>{if(q(e,t))return zs;const n=Io(e),r=Io(t),s=l(r,Jh(n),po(zs,(o,u)=>Ja(o,{_tag:oy,supervisor:u}))),i=l(n,Jh(r),po(zs,(o,u)=>Ja(o,{_tag:uy,supervisor:u})));return Ja(s,i)},L4=D4({empty:zs,patch:R4,combine:Ja,diff:j4}),U4=pu("effect_fiber_started",{incremental:!0}),Px=pu("effect_fiber_active"),V4=pu("effect_fiber_successes",{incremental:!0}),q4=pu("effect_fiber_failures",{incremental:!0}),W4=v4(k4("effect_fiber_lifetimes",_v({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Ns="Continue",z4="Done",jx="Yield",G4={_E:e=>e,_A:e=>e},ga=e=>{throw new Error(`BUG: FiberRuntime - ${Ur(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},We=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),ze=Z("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Ds={[oo]:(e,t,n)=>Vt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>wt(wt(n)),[uo]:(e,t,n)=>Vt(()=>t.effect_instruction_i2(n)),[ff]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),mn(e.currentRuntimeFlags)&&e.isInterrupted()?ut(e.getInterruptedCause()):wt(n)),[co]:(e,t,n)=>(Vt(()=>t.effect_instruction_i2(n)),Vt(()=>t.effect_instruction_i0())?(e.pushStack(t),Vt(()=>t.effect_instruction_i1())):ke),[Ua]:(e,t,n)=>{const r=Vt(()=>t.effect_instruction_i0.next(n));return r.done?wt(r.value):(e.pushStack(t),d3(r.value))}},H4={[yl]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),mn(t)?ut(r.cause):n),[Fl]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Sl]:(e,t,n,r)=>(r.onFiber(e,$b(t)),n),[Al]:(e,t,n,r)=>R(il(),()=>n)},K4=e=>au(JE(e),t=>Qn(cC(t),([n,r])=>{const s=new Map,i=[];for(const u of r){i.push(Yn(u));for(const c of u)s.set(c.request,c)}const o=i.flat();return cu(l5(n.runAll(i),o,()=>o.forEach(u=>{u.listeners.interrupted=!0})),Vb,s)},!1,!1)),J4=lf();class fy extends nk{[cv]=fv;[hv]=G4;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,tx(r)){const s=this.getFiberRef(nc);U4.unsafeUpdate(1,s),Px.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return qb(this)}id(){return this._fiberId}resume(t){this.tell(Er(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>Ck(n)?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return ov(this)}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(pa)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return Ct(()=>{const n=C6(this._fiberId);return this.tell(Ka((r,s)=>{cb(n,P(()=>t(r,s)))})),ub(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return oi(t=>{const n=r=>t(it(r));return this.tell(Ka((r,s)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),P(()=>this.tell(Ka((r,s)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return se((t,n)=>{const r=t.id(),s=t.getFiberRefs(),i=n.runtimeFlags,o=this.getFiberRefs(),u=NI(s,r,o);t.setFiberRefs(u);const c=t.getFiberRef(Wx),f=l(Ga(i,c),nx(bs),nx(tc));return KC(f)})}get poll(){return P(()=>Go(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return P(()=>this.tell(Qu(Ke(t))))}unsafeInterruptAsFork(t){this.tell(Qu(Ke(t)))}addObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(Wx,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=Ab(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=sc(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Fo),this.currentTracer=this.currentDefaultServices.unsafeMap.get(yb.key),this.currentSupervisor=this.getFiberRef(f5),this.currentScheduler=this.getFiberRef(Ub),this.currentContext=this.getFiberRef(qi),this.currentSpan=this.currentContext.unsafeMap.get(Sb.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,n!==null&&n.size>0)for(const r of n)r._exitValue===null&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=Ns;const r=globalThis[Pn];globalThis[Pn]=this;try{for(;n===Ns;)n=this._queue.length===0?z4:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Pn]=r}this._queue.length>0&&!this._running?(this._running=!0,n===jx?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(fu))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];r=H4[s._tag](this,t,r,s)}return r}isInterrupted(){return!xC(this.getFiberRef(pa))}addInterruptedCause(t){const n=this.getFiberRef(pa);this.setFiberRef(pa,ee(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(const n of this._children)n.tell(Qu(Ke(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return sl({while:()=>!n,body:()=>{const s=t.next();return s.done?P(()=>{n=!0}):Vi(s.value.await)},step:()=>{}})}return null}reportExitValue(t){if(tx(this.currentRuntimeFlags)){const n=this.getFiberRef(nc),r=this.id().startTimeMillis,s=Date.now();switch(W4.unsafeUpdate(s-r,n),Px.unsafeUpdate(-1,n),t._tag){case Fe:{V4.unsafeUpdate(1,n);break}case Se:{q4.unsafeUpdate(1,n);break}}}if(t._tag==="Failure"){const n=this.getFiberRef(p6);!Yf(t.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(t5)}log(t,n,r){const s=ne(r)?r.value:this.getFiberRef(c6),i=this.getFiberRef(Y4);if(ZI(i,s))return;const o=this.getFiberRef(f6),u=this.getFiberRef(u6),c=this.getLoggers(),f=this.getFiberRefs();if(Vf(c)>0){const h=Dg(this.getFiberRef(Fo),ll),x=new Date(h.unsafeCurrentTimeMillis());A3(f,()=>{for(const g of c)g.log({fiberId:this.id(),logLevel:s,message:t,cause:n,context:f,spans:o,annotations:u,date:x})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case Al:return jx;case yl:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(ut(t.cause)),this._asyncInterruptor=null),Ns;case Fl:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),Ns;case Sl:return t.onFiber(this,this._exitValue!==null?_k:Ek(this.currentRuntimeFlags,this._asyncBlockingOn)),Ns;default:return ga(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=mn(this.currentRuntimeFlags)&&this.isInterrupted()?ut(this.getInterruptedCause()):t;for(;n!==null;){const r=n,s=this.runLoop(r);if(s===We){const i=ze.currentOp;ze.currentOp=null,i._op===Va?WE(this.currentRuntimeFlags)?(this.tell(rv()),this.tell(Er(Hn)),n=null):n=Hn:i._op===qs&&(n=null)}else{this.currentRuntimeFlags=l(this.currentRuntimeFlags,zE(tc));const i=this.interruptAllChildren();i!==null?n=R(i,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Er(s)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(Er(t));else{this._running=!0;const n=globalThis[Pn];globalThis[Pn]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Pn]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(Er(t))}patchRuntimeFlags(t,n){const r=Ha(t,n);return globalThis[Pn]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const s=i=>{r||(r=!0,this.tell(Er(i)))};mn(t)&&(this._asyncInterruptor=s);try{n(s)}catch(i){s(Ie(we(i)))}}pushStack(t){this._stack.push(t),t._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return t._op==="OnStep"&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==Wu)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==oo&&t._op!==co&&t._op!==Ua)return t;t=this.popStack()}}[_3](t){return P(()=>Rg(this.currentContext,t))}Left(t){return Dt(t.left)}None(t){return Dt(new ab)}Right(t){return wt(t.right)}Some(t){return wt(t.value)}Micro(t){return yo(n=>{let r=n;const s=tv(Hk(t,this.currentContext));return s.addObserver(i=>{if(i._tag==="Success")return r(wt(i.value));switch(i.cause._tag){case"Interrupt":return r(ut(Ke(Xr)));case"Fail":return r(Dt(i.cause.error));case"Die":return r(ux(i.cause.defect))}}),yo(i=>{r=o=>{i(ke)},s.unsafeInterrupt()})})}[rg](t){const n=Vt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in Ds||ga(r),Ds[r._op](this,r,n)):(ze.currentOp=wt(n),We)}[Fe](t){const n=t,r=this.getNextSuccessCont();return r!==void 0?(r._op in Ds||ga(r),Ds[r._op](this,r,n.effect_instruction_i0)):(ze.currentOp=n,We)}[Se](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case Wu:case uo:return mn(this.currentRuntimeFlags)&&this.isInterrupted()?ut(rx(n)):Vt(()=>r.effect_instruction_i1(n));case"OnStep":return mn(this.currentRuntimeFlags)&&this.isInterrupted()?ut(rx(n)):wt(ut(n));case ff:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),mn(this.currentRuntimeFlags)&&this.isInterrupted()?ut(ee(n,this.getInterruptedCause())):ut(n);default:ga(r)}else return ze.currentOp=ut(n),We}[sg](t){return Vt(()=>t.effect_instruction_i0(this,$b(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],i=this._steps[this._steps.length-1];let o=this.popStack();for(;o&&o._op!=="OnStep";)s.push(o),o=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;const u=pk(i.refs,n),c=Ga(i.flags,r);return wt(Pd(t.effect_instruction_i0,se(f=>{for(;s.length>0;)f.pushStack(s.pop());return f.setFiberRefs(mk(f.id(),f.getFiberRefs())(u)),f.currentRuntimeFlags=Ha(c)(f.currentRuntimeFlags),t.effect_instruction_i1})))}return ou(s=>R(ly(RC(t.effect_instruction_i0)),()=>s(t.effect_instruction_i1)))}RunBlocked(t){return K4(t.effect_instruction_i0)}[Ci](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,s=Ha(r,n);if(mn(s)&&this.isInterrupted())return ut(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const i=Ga(s,r);return this.pushStack(new PC(i,t)),Vt(()=>t.effect_instruction_i1(r))}else return Hn}[oo](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[Wu](t){return this.pushStack(t),t.effect_instruction_i0}[uo](t){return this.pushStack(t),t.effect_instruction_i0}[qs](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),ze.currentOp=t,We}[Va](t){return this._isYielding=!1,ze.currentOp=t,We}[co](t){const n=t.effect_instruction_i0,r=t.effect_instruction_i1;return n()?(this.pushStack(t),r()):Hn}[Ua](t){return Ds[Ua](this,t,void 0)}[Wo](t){return Vt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&qE)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;const s=n;n=R(il({priority:r}),()=>s)}}try{if(n=this.currentTracer.context(()=>{if(J4!==n[is]._V){const r=this.getFiberRef(m6);if(r._tag==="Some"){const s=n[is]._V;this.log(`Executing an Effect versioned ${s} with a Runtime of version ${lf()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,rr,r)}}return this[n._op](n)},this),n===We){const r=ze.currentOp;return r._op===Va||r._op===qs?We:(ze.currentOp=null,r._op===Fe||r._op===Se?r:ut(we(r)))}}catch(r){n!==We&&!W(n,"_op")||!(n._op in this)?n=UC(`Not a valid effect: ${Ur(n)}`):S6(r)?n=ut(ee(we(r),Ke(Xr))):n=ux(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const Y4=Z("effect/FiberRef/currentMinimumLogLevel",()=>Zt(XI("Info"))),Z4=e=>_l(t=>{const n=jI(t.context,Fo);Dg(n,bb).unsafe.log(e.log(t))}),X4=Z(Symbol.for("effect/Logger/defaultLogger"),()=>Z4(yv)),Q4=Z(Symbol.for("effect/Logger/tracerLogger"),()=>_l(({annotations:e,cause:t,context:n,fiberId:r,logLevel:s,message:i})=>{const o=Bi(ci(n,qi),Sb);if(o._tag==="None"||o.value._tag==="ExternalSpan")return;const u=Rg(ci(n,Fo),ll),c={};for(const[f,h]of e)c[f]=h;c["effect.fiberId"]=v_(r),c["effect.logLevel"]=s.label,t!==null&&t._tag!=="Empty"&&(c["effect.cause"]=ji(t,{renderErrorCause:!0})),o.value.event(Ur(Array.isArray(i)&&i.length===1?i[0]:i),u.unsafeCurrentTimeNanos(),c)})),t5=Z(Symbol.for("effect/FiberRef/currentLoggers"),()=>i6(Uf(X4,Q4))),e5=e=>{if(Array.isArray(e)||Ym(e))return[e,k()];const t=Object.keys(e),n=t.length;return[t.map(r=>e[r]),v(r=>{const s={};for(let i=0;i<n;i++)s[t[i]]=r[i];return s})]},n5=(e,t,n)=>{const r=[];for(const s of e)r.push(ui(s));return R(us(r,H,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>{const i=k(),o=s.length,u=new Array(o),c=new Array(o);let f=!1;for(let h=0;h<o;h++){const x=s[h];x._tag==="Left"?(u[h]=v(x.left),f=!0):(c[h]=x.right,u[h]=i)}return f?t._tag==="Some"?Dt(t.value(u)):Dt(u):n?.discard?ke:t._tag==="Some"?it(t.value(c)):it(c)})},r5=(e,t,n)=>{const r=[];for(const s of e)r.push(ui(s));return n?.discard?us(r,H,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):Ut(us(r,H,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>t._tag==="Some"?t.value(s):s)},s5=(e,t)=>{const[n,r]=e5(e);return t?.mode==="validate"?n5(n,r,t):t?.mode==="either"?r5(n,r,t):t?.discard!==!0&&r._tag==="Some"?Ut(us(n,H,t),r.value):us(n,H,t)},us=p(e=>Ym(e[0]),(e,t,n)=>se(r=>{const s=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(x6);return n?.discard?Bx(n.concurrency,()=>Cr(oc,n?.concurrentFinalizers)(i=>s?Qn(e,(o,u)=>i(t(o,u)),!0,!1,1):au(e,(o,u)=>i(t(o,u)))),()=>Cr(uc,n?.concurrentFinalizers)(i=>Qn(e,(o,u)=>i(t(o,u)),s,!1)),i=>Cr(cc(i),n?.concurrentFinalizers)(o=>Qn(e,(u,c)=>o(t(u,c)),s,!1,i))):Bx(n?.concurrency,()=>Cr(oc,n?.concurrentFinalizers)(i=>s?Lx(e,1,(o,u)=>i(t(o,u)),!0):dn(e,(o,u)=>i(t(o,u)))),()=>Cr(uc,n?.concurrentFinalizers)(i=>i5(e,(o,u)=>i(t(o,u)),s)),i=>Cr(cc(i),n?.concurrentFinalizers)(o=>Lx(e,i,(u,c)=>o(t(u,c)),s)))})),i5=(e,t,n)=>Ct(()=>{const r=nt(e),s=new Array(r.length);return uu(Qn(r,(o,u)=>R(t(o,u),c=>P(()=>s[u]=c)),n,!1),it(s))}),Qn=(e,t,n,r,s)=>ou(i=>HC(o=>se(u=>{let c=Array.from(e).reverse(),f=c.length;if(f===0)return ke;let h=0,x=!1;const g=s?Math.min(c.length,s):c.length,d=new Set,b=new Array,S=()=>d.forEach(w=>{w.currentScheduler.scheduleTask(()=>{w.unsafeInterruptAsFork(u.id())},0)}),m=new Array,F=new Array,A=new Array,E=()=>{const w=b.filter(({exit:Y})=>Y._tag==="Failure").sort((Y,D)=>Y.index<D.index?-1:Y.index===D.index?0:1).map(({exit:Y})=>Y);return w.length===0&&w.push(Hn),w},_=(w,Y=!1)=>{const D=Jd(o(w)),tt=o5(D,u,u.currentRuntimeFlags,wl);return u.currentScheduler.scheduleTask(()=>{Y&&tt.unsafeInterruptAsFork(u.id()),tt.resume(D)},0),tt},X=()=>{r||(f-=c.length,c=[]),x=!0,S()},a=n?WC:Vd,U=_(oi(w=>{const Y=(tt,me)=>{tt._op==="Blocked"?A.push(tt):(b.push({index:me,exit:tt}),tt._op==="Failure"&&!x&&X())},D=()=>{if(c.length>0){const tt=c.pop();let me=h++;const Rn=()=>{const zt=c.pop();return me=h++,R(il(),()=>R(a(i(t(zt,me))),Bt))},Bt=zt=>c.length>0&&(Y(zt,me),c.length>0)?Rn():it(zt),Be=R(a(i(t(tt,me))),Bt),ue=_(Be);m.push(ue),d.add(ue),x&&ue.currentScheduler.scheduleTask(()=>{ue.unsafeInterruptAsFork(u.id())},0),ue.addObserver(zt=>{let vs;if(zt._op==="Failure"?vs=zt:vs=zt.effect_instruction_i0,F.push(ue),d.delete(ue),Y(vs,me),b.length===f)w(it(Pe(xx(E(),{parallel:!0}),()=>Hn)));else if(A.length+b.length===f){const jh=E(),GF=A.map(Ts=>Ts.effect_instruction_i0).reduce(vd);w(it(Pd(GF,Qn([Pe(xx(jh,{parallel:!0}),()=>Hn),...A.map(Ts=>Ts.effect_instruction_i1)],Ts=>Ts,n,!0,s))))}else D()})}};for(let tt=0;tt<g;tt++)D()}));return Vi(rl(zd(i(qb(U))),ob({onFailure:w=>{X();const Y=A.length+1,D=Math.min(typeof s=="number"?s:A.length,A.length),tt=Array.from(A);return oi(me=>{let Rn=0,Bt=0;const Be=(zt,vs)=>jh=>{Rn++,Rn===Y&&me(wt(ut(w))),tt.length>0&&vs&&ue()},ue=()=>{_(tt.pop(),!0).addObserver(Be(Bt,!0)),Bt++};U.addObserver(Be(Bt,!1)),Bt++;for(let zt=0;zt<D;zt++)ue()})},onSuccess:()=>dn(F,w=>w.inheritAll)})))}))),Lx=(e,t,n,r)=>Ct(()=>{const s=nt(e),i=new Array(s.length);return uu(Qn(s,(u,c)=>Ut(n(u,c),f=>i[c]=f),r,!1,t),it(i))}),ly=e=>u5(e,wl),a5=(e,t,n,r=null)=>{const s=hy(e,t,n,r);return s.resume(e),s},o5=(e,t,n,r=null)=>hy(e,t,n,r),hy=(e,t,n,r=null)=>{const s=pd(),i=t.getFiberRefs(),o=DI(i,s),u=new fy(s,o,n),c=ci(o,qi),f=u.currentSupervisor;return f.onStart(c,e,v(t),u),u.addObserver(x=>f.onEnd(x,u)),(r!==null?r:l(t.getFiberRef(rc),Pe(()=>t.scope()))).add(n,u),u},u5=(e,t)=>se((n,r)=>it(a5(e,n,r.runtimeFlags,t))),Ux=e=>Wi(t=>ie(Bi(t,Ki),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return R(lu(n,uc),r=>Il(e,r))}}})),Vx=e=>t=>Wi(n=>ie(Bi(n,Ki),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:R(lu(r,cc(e)),s=>Il(t,s))})),Cr=(e,t)=>n=>Wi(r=>ie(Bi(r,Ki),{onNone:()=>n(H),onSome:s=>{if(t===!0){const i=e._tag==="Parallel"?Ux:e._tag==="Sequential"?qx:Vx(e.parallelism);switch(s.strategy._tag){case"Parallel":return i(n(Ux));case"Sequential":return i(n(qx));case"ParallelN":return i(n(Vx(s.strategy.parallelism)))}}else return n(H)}})),qx=e=>Wi(t=>ie(Bi(t,Ki),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return R(lu(n,oc),r=>Il(e,r))}}})),Ki=dr("effect/Scope"),Il=p(2,(e,t)=>$6(e,Pg(pw(Ki,t)))),c5=e=>As(e,{differ:L4,fork:zs}),Wx=o6(GE),f5=c5(bu),l5=(e,t,n)=>Wd(r=>R(R(ly(Gd(e)),s=>oi(i=>{const o=t.map(f=>f.listeners.count),u=()=>{o.every(f=>f===0)&&t.every(f=>f.result.state.current._tag==="Pending"?!0:!!(f.result.state.current._tag==="Done"&&ul(f.result.state.current.effect)&&f.result.state.current.effect._tag==="Failure"&&pC(f.result.state.current.effect.cause)))&&(c.forEach(f=>f()),n?.(),i(JC(s)))};s.addObserver(f=>{c.forEach(h=>h()),i(f)});const c=t.map((f,h)=>{const x=g=>{o[h]=g,u()};return f.listeners.addObserver(x),()=>f.listeners.removeObserver(x)});return u(),P(()=>{c.forEach(f=>f())})})),()=>Ct(()=>{const s=t.flatMap(i=>i.state.completed?[]:[i]);return au(s,i=>O4(i.request,w6(r)))}))),h5=AC,x5=d6,p5=lu,kl=e=>function(){if(arguments.length===1){const t=arguments[0];return(n,...r)=>e(t,n,...r)}return e.apply(this,arguments)},m5=kl((e,t,n)=>{const r=pd(),s=[[qi,[[r,e.context]]]];n?.scheduler&&s.push([Ub,[[r,n.scheduler]]]);let i=LI(e.fiberRefs,{entries:s,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));const o=new fy(r,i,e.runtimeFlags);let u=t;n?.scope&&(u=R(p5(n.scope,Tb),f=>uu(g6(f,Wd(h=>q(h,o.id())?ke:Xd(o,h))),rl(t,h=>x5(f,h)))));const c=o.currentSupervisor;return c!==bu&&(c.onStart(e.context,u,k(),o),o.addObserver(f=>c.onEnd(f,o))),wl.add(e.runtimeFlags,o),n?.immediate===!1?o.resume(u):o.start(u),o}),g5=kl((e,t)=>{const n=A5(e)(t);if(n._tag==="Failure")throw S5(n.effect_instruction_i0);return n.effect_instruction_i0});class d5 extends Error{fiber;_tag="AsyncFiberException";constructor(t){super(`Fiber #${t.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=t,this.name=this._tag,this.stack=this.message}}const b5=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new d5(e);return Error.stackTraceLimit=t,n},t0=Symbol.for("effect/Runtime/FiberFailure"),da=Symbol.for("effect/Runtime/FiberFailure/Cause");class y5 extends Error{[t0];[da];constructor(t){const n=Dd(t)[0];super(n?.message||"An error has occurred"),this[t0]=t0,this[da]=t,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[da].toJSON()}}toString(){return"(FiberFailure) "+ji(this[da],{renderErrorCause:!0})}[xt](){return this.toString()}}const S5=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new y5(e);return Error.stackTraceLimit=t,n},F5=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return px(t.left);case"Right":return wt(t.right);case"Some":return wt(t.value);case"None":return px(ab())}},A5=kl((e,t)=>{const n=F5(t);if(n)return n;const r=new nv,s=m5(e)(t,{scheduler:r});r.flush();const i=s.unsafePoll();return i||A6(tl(b5(s),cl(s)))});class w5{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return j(this,arguments)}}const _5=e=>new w5(e.context,e.runtimeFlags,e.fiberRefs),E5=Id(bs,Ed,_d),C5=_5({context:$f(),runtimeFlags:E5,fiberRefs:UI()}),I5=g5(C5),k5=G_,v5=e=>t=>{const n=t===void 0?Object.create(ki):k5(t);return n._tag=e,n},vl=()=>new Proxy({},{get(e,t,n){return t==="$is"?sf:t==="$match"?T5:v5(t)}});function T5(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const e=arguments[0];return arguments[1][e._tag](e)}const Fc=Symbol.for("effect/DateTime/TimeZone"),$5={[Fc]:Fc,[xt](){return this.toString()}},O5={...$5,_tag:"Offset",[V](){return ht(this,St(`Offset:${this.offset}`))},[L](e){return B5(e)&&e._tag==="Offset"&&this.offset===e.offset},toString(){return`TimeZone.Offset(${N5(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},B5=e=>W(e,Fc),M5=e=>{const t=Object.create(O5);return t.offset=e,t},N5=e=>{const t=Math.abs(e);let n=Math.floor(t/(3600*1e3)),r=Math.round(t%(3600*1e3)/(60*1e3));return r===60&&(n+=1,r=0),`${e<0?"-":"+"}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`},ar=YF,D5=q3,Tl=p(2,(e,t)=>e+t),R5=e=>e.trimEnd(),P5=e=>e.length,_s=e=>t=>t.repeat(e),j5=(e,t)=>n=>n.replaceAll(e,t),yu=s5,cs=us,xy=Dt,xe=it,br=Ct,_e=Ut,rn=R,Nn=I5,L5=M5,U5=p(e=>wi(e[0]),(e,...t)=>{const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}),py=e=>{const[t,n,...r]=e;return n===void 0?l(t,C(Ht)):l(r,mr(Xs(t,n),(s,i)=>Ho(s,i,(o,u)=>Fn(o,u))))},my=e=>Yt(e)?py(e):[];my.nonEmpty=py;const gy=e=>Yt(e)?dy(e):[],dy=([e,...t])=>Yt(t)?l(V5([e,...t]),my.nonEmpty):l(e,C(T(v,Ht)));gy.nonEmpty=dy;const V5=e=>{const t=l(e,C(Ag),Ef(ot),q5);return l(e,C(r=>[...C(r,v),...t([...r])]))},q5=e=>t=>e===t.length?[]:cn(k(),e-t.length),by=Object.assign(Fn,{flip:e=>t=>Fn(e,t)}),yy=Object.assign(je,{flip:e=>t=>je(e,t)}),W5=Object.assign(Wr,{flip:e=>t=>Wr(e,t)}),z5=Object.assign(Ys,{flip:e=>t=>Ys(e,t)}),Sy=e=>[$i(e),_f(e)],G5=([e,...t])=>[e,t];function H5(e,t){return n=>{const[r,s]=G5(n);return[e(r),...l(s,C(t))]}}function K5(e,t){return n=>{const[r,s]=Sy(n);return l(s,C(e),Fn(t(r)))}}const J5=e=>Ef(ot)([0,...l(e,C(t=>Ag(t)))]),Y5=e=>t=>n=>e(n)(t),Es=e=>()=>e,Fy=(e,t)=>{const n=BigInt(t);let r=e/n;const s=[Number(e%n)];for(;r>0;)s.unshift(Number(r%n)),r=r/n;return s},Ay=(e,t)=>{const n=BigInt(t);let r=0n,s=0n;for(const i of j0(e))s+=BigInt(i)*n**r++;return s},Su=(e,t)=>[Math.floor(e/t),e%t],$l=e=>Su(e,2),Z5=e=>e>0,X5=e=>e!==0,Q5=e=>e===0,t9=e=>e%2===0,e9=e=>e%2!==0,n9=e=>e<0,r9=e=>t=>e===t,wy=e=>{const[t,n]=$l(e);return[t+n,t]},_y=e=>{const[t,n]=$l(e);return[t,t+n]};var s9=Object.freeze({__proto__:null,Equivalence:$g,Order:ot,between:UA,clamp:VA,decrement:vf,divide:NA,floorMod:Su,floorMod2:$l,fromRadix:Ay,greaterThan:jA,greaterThanOrEqualTo:LA,halfToFirst:wy,halfToSecond:_y,increment:kf,isEqual:r9,isEven:t9,isNegative:n9,isNonZero:X5,isNumber:$A,isOdd:e9,isPositive:Z5,isZero:Q5,lessThan:RA,lessThanOrEqualTo:PA,max:WA,min:qA,multiply:Tg,multiplyAll:MA,negate:OA,nextPow2:HA,parse:KA,remainder:GA,round:JA,sign:zA,subtract:vg,sum:If,sumAll:BA,toRadix:Fy,unsafeDivide:DA});const Ol=e=>(t,n)=>mf(e)(t,n)&&!zo(e)(t,n);Ol.curried=e=>t=>n=>mf(e)(n,t)&&!zo(e)(n,t);const Ji=(e,t)=>n=>[e(n),t(n)],or=(e,t)=>[e,t];or.withFirst=Object.assign(e=>t=>[e,t],{removeReadonly:e=>t=>[e,t]});const i9=e=>t=>[t,e];or.withSecond=i9;const En=e=>[e,e];En.mapFirst=e=>t=>l(t,En,bf(e));En.mapSecond=e=>t=>l(t,En,yf(e));const a9=([e,t])=>t(e),Ac=e=>l(e,cA(i3)),Re=e=>(...t)=>{const n={};for(const r of t)n[r]=e;return n};var e0={},ba={},ya={},Sa={},zx;function Bl(){if(zx)return Sa;zx=1,Object.defineProperty(Sa,"__esModule",{value:!0});const e="(?:(?:\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]|(?:\\x1b\\x5d|\\x9d)[\\S\\s]*?(?:\\x1b\\x5c|[\\x07\\x9c])|(?:\\x1b[\\x50\\x58\\x5e\\x5f]|[\\x90\\x98\\x9e\\x9f])[\\S\\s]*?(?:\\x1b\\x5c|\\x9c)|\\x1b[\\x20-\\x2f]*[\\x30-\\x7e])";function t({global:n=!0}={}){return new RegExp(e,n?"g":void 0)}return Sa.default=t,Sa}var Gx;function Ml(){if(Gx)return ya;Gx=1,Object.defineProperty(ya,"__esModule",{value:!0});const t=(0,Bl().default)();function n(r){return typeof r=="string"?r.replace(t,""):String(r)}return ya.default=n,ya}var Fa={},Hx;function Nl(){if(Hx)return Fa;Hx=1,Object.defineProperty(Fa,"__esModule",{value:!0});function e(t){return t<880?(t<=159?t<=31||t>=127:t>=768||t===173)?0:1:t<2816?(t<1425?t>=1155&&t<=1161:t<1552?t<=1474&&t!==1470&&t!==1472||t>=1476&&t<=1479&&t!==1478:t<1774?t<=1564&&t!==1563||t>=1611&&t<=1631||t===1648||t>=1750&&t<=1756||t>=1759&&t<=1764||t>=1767&&t!==1769:t<1867?t===1809||t>=1840:t<2070?t>=1958&&t<=1968||t>=2027&&t<=2035||t===2045:t<2094?t<=2083&&t!==2074||t>=2085&&t!==2088:t<2307?t>=2137&&t<=2139||t>=2199&&t<=2207||t>=2250&&t!==2274:t<2404?t>=2362&&t<=2364&&t!==2363||t>=2369&&t<=2376||t===2381||t>=2385&&t<=2391||t>=2402:t<2561?t===2433||t===2492||t>=2497&&t<=2500||t===2509||t>=2530&&t<=2531||t===2558:t<2689?t<=2562||t===2620||t>=2625&&t<=2626||t>=2631&&t<=2632||t>=2635&&t<=2637||t===2641||t>=2672&&t<=2673||t===2677:t<=2690||t===2748||t>=2753&&t<=2760&&t!==2758||t===2765||t>=2786&&t<=2787||t>=2810)?0:1:t<4256?(t<2916?t===2817||t===2876||t>=2879&&t<=2884&&t!==2880||t===2893||t>=2901&&t<=2902||t>=2914:t<3072?t===2946||t===3008||t===3021:t<3172?t===3072||t===3076||t===3132||t>=3134&&t<=3136||t>=3142&&t<=3149&&t!==3145||t>=3157&&t<=3158||t>=3170:t<3328?t===3201||t===3260||t===3263||t===3270||t>=3276&&t<=3277||t>=3298&&t<=3299:t<3428?t<=3329||t>=3387&&t<=3388||t>=3393&&t<=3396||t===3405||t>=3426:t<3543?t===3457||t===3530||t>=3538&&t!==3541:t<3663?t===3633||t>=3636&&t<=3642||t>=3655:t<3864?t===3761||t>=3764&&t<=3772||t>=3784&&t<=3790:t<4141?t<=3865||t===3893||t===3895||t===3897||t>=3953&&t<=3975&&t!==3967&&t!==3973||t>=3981&&t<=4028&&t!==3992||t===4038:t<=4154&&t!==4145&&t!==4152||t>=4157&&t<=4158||t>=4184&&t<=4185||t>=4190&&t<=4192||t>=4209&&t<=4212||t===4226||t>=4229&&t<=4230||t===4237||t===4253)?0:1:t<6832?t<5906?t<=4448?t>=4447?0:t>=4352?2:1:t>=4957&&t<=4959?0:1:(t<6068?t<=5908||t>=5938&&t<=5939||t>=5970&&t<=5971||t>=6002&&t<=6003:t<6155?t<=6077&&t!==6070||t===6086||t>=6089&&t<=6099||t===6109:t<6432?t<=6159||t>=6277&&t<=6278||t===6313:t<6460?t<=6434||t>=6439&&t<=6440||t===6450||t>=6457:t<6742?t>=6679&&t<=6680||t===6683:t<=6750&&t!==6743||t===6752||t===6754||t>=6757&&t<=6764||t>=6771&&t<=6780||t===6783)?0:1:t<8203?(t<6912?t<=6862:t<7040?t<=6915||t>=6964&&t<=6970&&t!==6965||t===6972||t===6978||t>=7019&&t<=7027:t<7086?t<=7041||t>=7074&&t<=7077||t>=7080&&t!==7082:t<7154?t>=7142&&t<=7145&&t!==7143||t>=7149&&t!==7150:t<7376?t>=7212&&t<=7219||t>=7222&&t<=7223:t<7418?t<=7392&&t!==7379||t>=7394&&t<=7400||t===7405||t===7412||t>=7416:t>=7616&&t<=7679)?0:1:t<11776?t<8986?t<=8432&&(t<=8207||t>=8234&&t<=8238||t>=8288&&t<=8303||t>=8400)?0:1:t<9748?(t<9204?t<=8987||t>=9001&&t<=9002||t>=9193&&t<=9196||t===9200||t===9203:t>=9725&&t<=9726)?2:1:t<9984?(t<=9925?t<=9749||t>=9776&&t<=9783||t>=9800&&t<=9811||t===9855||t>=9866&&t<=9871||t===9875||t===9889||t>=9898&&t<=9899||t>=9917&&t<=9918||t>=9924:t===9934||t===9940||t===9962||t>=9970&&t<=9973&&t!==9972||t===9978||t===9981)?2:1:t<10176?(t<10067?t===9989||t>=9994&&t<=9995||t===10024||t===10060||t===10062:t<=10071&&t!==10070||t>=10133&&t<=10135||t===10160||t===10175)?2:1:t<11503?t>=11035&&(t<=11036||t===11088||t===11093)?2:1:t<=11505||t===11647||t>=11744?0:1:t<43392?t<12272?t>=11904&&(t<=12019&&t!==11930||t>=12032&&t<=12245)?2:1:t<12544?t<=12350?t>=12330&&t<=12333?0:2:t>=12353&&t<=12438||t>=12443?2:t>=12441?0:1:t<42607?t<=12773?t===12644?0:t>=12549&&t!==12592&&t!==12687?2:1:(t<12880?t>=12783&&t<=12871&&t!==12831:t<=42124||t<=42182&&t>=42128)?2:1:t<43204?(t<43008?t<=42621&&t!==42611||t>=42654&&t<=42655||t>=42736&&t<=42737:t===43010||t===43014||t===43019||t>=43045&&t<=43046||t===43052)?0:1:t<=43345?t<=43205||t>=43232&&t<=43249||t===43263||t>=43302&&t<=43309||t>=43335?0:1:t>=43360&&t<=43388?2:1:t<65536?t<44032?(t<43561?t<=43394||t===43443||t>=43446&&t<=43449||t>=43452&&t<=43453||t===43493:t<43696?t<=43566||t>=43569&&t<=43570||t>=43573&&t<=43574||t===43587||t===43596||t===43644:t<43714?t<=43700&&t!==43697||t>=43703&&t<=43704||t>=43710&&t!==43712:t<43968?t>=43756&&t<=43757||t===43766:t===44005||t===44008||t===44013)?0:1:t<65024?t<=64217?t<=55203||t>=63744&&t<=64109||t>=64112?2:1:t===64286?0:1:t<65132?t<65072?t<=65039||t>=65056?0:t<=65049?2:1:t<=65126&&t!==65107||t>=65128?2:1:t<65281?t===65279?0:1:t<=65510?t<=65376||t>=65504?2:t===65440?0:1:t>=65520&&t<=65528?0:1:t<70400?(t<68097?t===66045||t===66272||t>=66422&&t<=66426:t<68325?t<=68102&&t!==68100||t>=68108&&t<=68111||t>=68152&&t<=68154||t===68159:t<68904?t<=68326||t>=68900:t<69457?t>=68969&&t<=68973||t>=69291&&t<=69292||t>=69372&&t<=69375||t>=69446:t<69759?t>=69506&&t<=69509||t===69633||t>=69688&&t<=69702||t===69744||t>=69747&&t<=69748:t<69888?t<=69761||t>=69811&&t<=69814||t>=69817&&t<=69818||t===69826:t<70016?t<=69890||t>=69927&&t<=69940&&t!==69932||t===70003:t<70191?t<=70017||t>=70070&&t<=70078||t>=70089&&t<=70092||t===70095:t<70272?t<=70193||t>=70196&&t<=70199&&t!==70197||t===70206||t===70209:t===70367||t>=70371&&t<=70378)?0:1:t<92880?(t<=70626?t<70517?t<=70401||t>=70459&&t<=70460||t===70464||t>=70502&&t<=70508||t>=70512:t>=70587&&(t<=70592||t===70606||t===70608||t===70610||t>=70625):t<70852?t<=70750?t>=70712&&(t<=70719||t>=70722&&t<=70726&&t!==70725||t===70750):t>=70835&&(t<=70842&&t!==70841||t>=70847&&t!==70849):t<71233?t<71134?t>=71090&&(t<=71093||t>=71100&&t<=71104&&t!==71102||t>=71132):t>=71219&&(t<=71226||t>=71229&&t!==71230):t<71468?t<71352?t>=71339&&(t<=71341&&t!==71340||t>=71344&&t!==71350):t>=71453&&(t<=71455&&t!==71454||t>=71458&&t!==71462):t<72148?t<=71738?t>=71727&&t!==71736:t>=71995&&(t<=71998&&t!==71997||t===72003):t<72193?t<=72151||t>=72154&&t<=72155||t===72160:t<72273?t<=72202||t>=72243&&t<=72248||t>=72251&&t<=72254||t===72263:t<72850?t<=72345?t<=72278||t>=72281&&t<=72283||t>=72330&&t!==72343:t>=72752&&t<=72767&&t!==72759&&t!==72766:t<72887?t<=72871||t>=72874&&t<=72880||t>=72882&&t!==72884:t<73032?t>=73009&&t<=73014||t>=73018&&t<=73021&&t!==73019||t>=73023&&t!==73030:t<73472?t<=73460&&t>=73104&&(t<=73105||t===73109||t===73111||t>=73459):t<=73562?t<=73473||t>=73526&&t<=73530||t===73536||t===73538||t===73562:t<=78933?t===78912||t>=78919:t>=90398&&t<=90409||t>=90413&&t<=90415)?0:1:t<126976?t<94208?t<94099?t>=92912&&t<=92916||t>=92976&&t<=92982||t===94031||t>=94095?0:1:t>=94176&&t<=94193?t<=94179||t>=94192?2:t===94180?0:1:1:t<111356?(t<=101640?t<=100343||t>=100352&&t<=101589||t>=101631:t<=110882?t>=110576&&t!==110580&&t!==110588&&t!==110591:t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960)?2:1:t<119365?(t<119143?t>=113821&&t<=113827&&t!==113823||t>=118528&&t<=118573||t>=118576&&t<=118598:t<=119145||t>=119155&&t<=119170||t>=119173&&t<=119179||t>=119210&&t<=119213||t>=119362)?0:1:t<121344?t<=119670&&(t>=119552&&t<=119638||t>=119648)?2:1:(t<122880?t<=121398||t>=121403&&t<=121452||t===121461||t===121476||t>=121499&&t<=121519&&t!==121504:t<122923?t<=122904&&t!==122887||t>=122907&&t<=122913||t>=122915&&t!==122917:t<=125258&&(t===123023||t>=123184&&t<=123190||t===123566||t>=123628&&t<=123631||t>=124140&&t<=124143||t>=124398&&t<=124399||t>=125136&&t<=125142||t>=125252))?0:1:t<=205743?(t<127488?t===126980||t===127183||t===127374||t>=127377&&t<=127386:t<127744?t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t>=127568&&t<=127569||t>=127584&&t<=127589:t<128592?t<127992?t<=127776||t>=127789&&t<=127891&&t!==127798&&t!==127869||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988:t<=128252&&t!==128063&&t!==128065||t>=128255&&t<=128317||t>=128331&&t<=128359&&t!==128335||t===128378||t>=128405&&t<=128406||t===128420||t>=128507:t<128765?t>=128640&&(t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||t>=128747&&t<=128748||t>=128756):t<129536?t>=128992&&t<=129003||t===129008||t>=129292&&t!==129339&&t!==129350:t<=129784?t>=129648&&(t<=129734?t<=129660||t>=129664&&t<=129673||t>=129679:t>=129742&&t<=129756||t>=129759&&t<=129769||t>=129776):t>=131072&&(t<=183969?t<=173791||t>=173824&&t<=177977||t>=177984&&t<=178205||t>=178208:t>=183984&&t<=191456||t>=191472&&t<=192093||t>=194560&&t<=195101||t>=196608&&t<=201546||t>=201552))?2:1:t>=917504&&t<=921599?0:1}return Fa.default=e,Fa}var n0={},Kx;function Fu(){return Kx||(Kx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shouldBreak=e.isGraphemeBase=e.graphemeBreakProperty=e.InCBProps=e.Emoji_Modifier=e.GBProps=void 0;const t=0,n=1,r=2,s=3,i=4,o=5,u=6,c=7,f=8,h=9,x=10,g=11,d=12,b=13,S=14;e.GBProps={None:t,CR:n,LF:r,Control:s,Extend:i,ZWJ:o,RI:u,Prepend:c,SpacingMark:f,L:h,V:x,T:g,LV:d,LVT:b,ExtendedPictographic:S};const m=16,F=32,A=64;e.Emoji_Modifier=128,e.InCBProps={Extend:m,Linker:F,Consonant:A};function E(a){return a<127?a>31?t:a===13?n:a===10?r:s:a<880?a<=174?a<=159||a===173?s:a===169||a===174?S:t:a>=768?i|m:t:a<4352?a<1536?(a<1425?a>=1155&&a<=1161:a<=1469||a>=1471&&a<=1474&&a!==1472||a>=1476&&a<=1479&&a!==1478)?i|m:t:a<1792?a<1750?a<=1541?c:a===1564?s:a>=1552&&a<=1562||a>=1611&&a<=1631||a===1648?i|m:t:a===1757?c:a<=1764&&a!==1758||a>=1767&&a<=1773&&a!==1769?i|m:t:a<2048?a<=1866?a>=1840||a===1809?i|m:a===1807?c:t:(a<2027?a>=1958&&a<=1968:a<=2035||a===2045)?i|m:t:a<2307?a<=2139?a>=2070&&a<=2083&&a!==2074||a>=2085&&a<=2093&&a!==2088||a>=2137?i|m:t:a<2250?a>=2192&&a<=2193?c:a>=2199&&a<=2207?i|m:t:a===2274?c:i|m:a<2433?a<2366?a===2307||a===2363?f:a<2362?a>=2325?A:t:a<=2364?i|m:t:a<=2383?a>=2369&&a<=2376?i|m:a===2381?i|F:f:a<=2399?a<2392?a>=2385?i|m:t:A:a>=2402&&a<=2403?i|m:a>=2424&&a<=2431?A:t:a<2561?a<=2489?a<2453?a<=2435?a===2433?i|m:f:t:a<=2480&&a!==2473||a>=2486||a===2482?A:t:a<=2508?a<=2500?a<2494?a===2492?i|m:t:a<=2496&&a>=2495?f:i|m:a>=2507||a>=2503&&a<=2504?f:t:a<2530?a<2524?a===2509?i|F:a===2519?i|m:t:a<=2525||a===2527?A:t:a<=2545?a<=2531?i|m:a>=2544?A:t:a===2558?i|m:t:a<2689?a<2625?a===2563||a>=2622?f:a<=2562||a===2620?i|m:t:(a<=2637?a<=2626||a>=2631&&a<=2632||a>=2635:a===2641||a>=2672&&a<=2673||a===2677)?i|m:t:a<2816?a<=2745?a<2709?a<=2690?i|m:a===2691?f:t:a!==2729&&a!==2737&&a!==2740?A:t:a<=2760?a>=2750&&a<=2752?f:a>=2753&&a!==2758||a===2748?i|m:t:a<2786?a<=2764?a!==2762?f:t:a===2765?i|F:t:a>=2810||a<=2787?i|m:a===2809?A:t:a<2944?a<=2873?a<2837?a>=2818&&a<=2819?f:a===2817?i|m:t:a<=2864&&a!==2857||a>=2866&&a!==2868?A:t:a<=2892?a<=2884?a===2880?f:a>=2878||a===2876?i|m:t:a>=2887&&a<=2888||a>=2891?f:t:a<2908?a<2901?a===2893?i|F:t:a<=2903?i|m:t:a<2914?a<=2909||a===2911?A:t:a<=2915?i|m:a===2929?A:t:a<3072?a<3009?a===3007?f:a===2946||a>=3006?i|m:t:a<=3020?a<=3010||a>=3014&&a<=3016||a>=3018?f:t:a===3021||a===3031?i|m:t:a<3172?a<3134?a<=3076?a>=3073&&a<=3075?f:i|m:a>=3093&&a<=3129&&a!==3113?A:a===3132?i|m:t:a<=3148?a<=3140&&a>=3137?f:a<=3136||a>=3142&&a!==3145?i|m:t:a<=3162?a===3149?i|F:a>=3157&&a<=3158?i|m:a>=3160?A:t:a>=3170?i|m:t:a<3328?a<=3268?a<3260?a>=3202&&a<=3203?f:a===3201?i|m:t:a<3265?a===3262?f:a!==3261?i|m:t:a===3266?i|m:f:a<=3299?a>=3270&&a<=3272||a>=3274&&a<=3277||a>=3285&&a<=3286||a>=3298?i|m:t:a===3315?f:t:a<3428?a<=3396?a<3387?a>=3349?A:a<=3329?i|m:a<=3331?f:t:a>=3391&&a<=3392?f:a!==3389?i|m:t:a<=3404?a>=3398&&a!==3401?f:t:a===3405?i|F:a===3415||a>=3426?i|m:a===3406?c:t:a<3572?a<=3540?a>=3458&&a<=3459||a>=3536&&a<=3537?f:a===3457||a===3530||a>=3535?i|m:t:a===3542||a===3551?i|m:a>=3544&&a<=3550||a>=3570?f:t:a<3864?a<=3662?a===3635?f:a>=3633&&a<=3642&&a!==3634||a>=3655?i|m:t:a===3763?f:a>=3761&&a<=3772&&a!==3762||a>=3784&&a<=3790?i|m:t:a<4141?a<3953?a<=3897?a<=3865||a>=3893&&a!==3894&&a!==3896?i|m:t:a<=3903&&a>=3902?f:t:a<=3975?a===3967?f:a!==3973?i|m:t:a>=3981&&a<=4028&&a!==3992||a===4038?i|m:t:a<=4158?a===4145||a>=4155&&a<=4156?f:a!==4152?i|m:t:a<4229?a>=4182&&a<=4183||a===4228?f:a>=4184&&a<=4185||a>=4190&&a<=4192||a>=4209&&a<=4212||a===4226?i|m:t:a<=4230||a===4237||a===4253?i|m:t:a<7424?a<4608?a<4448?h:a<4520?x:g:a<6004?(a<=5909?a>=4957&&a<=4959||a>=5906:a>=5938&&a<=5940||a>=5970&&a<=5971||a>=6002)?i|m:t:a<6155?a>=6068&&a<=6099?a===6070||a>=6078&&a<=6085||a>=6087&&a<=6088?f:i|m:a===6109?i|m:t:a<6432?a===6158?s:a<=6159||a>=6277&&a<=6278||a===6313?i|m:t:a<6741?a<=6459?a<=6443?a<=6434||a>=6439&&a<=6440?i|m:f:a>=6448?a>=6457||a===6450?i|m:f:t:a>=6679&&a<=6683?a>=6681&&a<=6682?f:i|m:t:a<6912?a<6757?a<=6750?a>=6744||a===6742?i|m:f:a===6752||a===6754?i|m:t:a<=6780?a<=6764||a>=6771?i|m:f:a===6783||a>=6832&&a<=6862?i|m:t:a<7040?a<6964?a<=6915?i|m:a===6916?f:t:a<=6980?a<=6973||a>=6978?i|m:f:a>=7019&&a<=7027?i|m:t:a<7142?a<7074?a<=7041?i|m:a===7042||a===7073?f:t:a<=7085?a<=7077||a>=7080?i|m:f:t:a<7376?a<=7155?a>=7146&&a<=7148||a===7143||a===7150?f:i|m:a>=7204&&a<=7223?a<=7211||a>=7220&&a<=7221?f:i|m:t:a===7393||a===7415?f:a<=7378||a>=7380&&a<=7400||a===7405||a===7412||a>=7416&&a<=7417?i|m:t:a<8448?a<8203?a>=7616&&a<=7679?i|m:t:a===8205?o|m:a<=8303?a===8204?i:a<=8207||a>=8232&&a<=8238||a>=8288?s:a===8252||a===8265?S:t:a>=8400&&a<=8432?i|m:t:a<11264?(a<8986?a<8596?a===8482||a===8505:a<=8618&&(a<=8601||a>=8617):a<9211?a<=8987||a===9e3||a===9096||a===9167||a>=9193&&a<=9203||a>=9208:a<9728?a<9642?a===9410:a<=9726&&(a<=9643||a===9654||a===9664||a>=9723):a<10176?a<=10006?a<=9861&&a!==9734&&a!==9747||a>=9872&&a<=9989||a>=9992&&a!==10003&&a!==10005:a<=10036?a===10013||a===10017||a===10024||a>=10035:a<=10071?a===10052||a===10055||a===10060||a===10062||a>=10067&&a!==10070:a>=10083&&a<=10087||a>=10133&&a<=10135||a===10145||a===10160||a===10175:a>=10548&&a<=10549||a>=11013&&(a<=11015||a>=11035&&a<=11036||a===11088||a===11093))?S:t:a<44032?a<12330?a<=11775&&a>=11503&&(a<=11505||a===11647||a>=11744)?i|m:t:a<13056?a<=12442?a<=12335||a>=12441?i|m:a===12336||a===12349?S:t:a===12951||a===12953?S:t:a<43008?a>=42607&&a<=42737&&(a<=42621&&a!==42611||a>=42654&&a<=42655||a>=42736)?i|m:t:a<43136?a<43043?a===43010||a===43014||a===43019?i|m:t:a<=43047?a>=43045&&a<=43046?i|m:f:a===43052?i|m:t:a<43264?a<43204?a<=43137||a>=43188?f:t:a<=43205||a>=43232&&a<=43249||a===43263?i|m:t:a<43392?a<43335?a>=43302&&a<=43309?i|m:t:a<=43347?a===43346?f:i|m:a>=43360&&a<=43388?h:t:a<43561?a<43444?a<=43394||a===43443?i|m:a===43395?f:t:a<43456?a<=43445||a>=43450&&a<=43451||a>=43454?f:i|m:a===43456||a===43493?i|m:t:a<43648?a<=43574?a<=43566||a>=43569&&a<=43570||a>=43573?i|m:f:a===43587||a===43596||a===43644?i|m:a===43597?f:t:a<43776?a<43755?a>=43696&&a<=43700&&a!==43697||a>=43703&&a<=43704||a>=43710&&a<=43713&&a!==43712?i|m:t:a<=43759?a>=43756&&a<=43757?i|m:f:a===43765?f:a===43766?i|m:t:a>=44003?a<=44010?a===44005||a===44008?i|m:f:a===44012?f:a===44013?i|m:t:t:a<65536?a<=55203?(a-44032)%28?b:d:a<=55291?a>=55243?g:a>=55216&&a<=55238?x:t:a<=65071?(a<65024?a===64286:a<=65039||a>=65056)?i|m:t:a===65279||a>=65520&&a<=65531?s:a>=65438&&a<=65439?i|m:t:a<70784?a<69632?(a<68097?a<=66426&&(a===66045||a===66272||a>=66422):a<68325?a<=68102&&a!==68100||a>=68108&&a<=68111||a>=68152&&a<=68154||a===68159:a<69372?a<=68326||a>=68900&&a<=68903||a>=68969&&a<=68973||a>=69291&&a<=69292:a<=69375||a>=69446&&a<=69456||a>=69506&&a<=69509)?i|m:t:a<69762?a<=69634?a===69633?i|m:f:(a<69747?a>=69688&&a<=69702||a===69744:a<=69748||a>=69759)?i|m:t:a<69888?a<=69818?a<69808?a===69762?f:t:a<=69810||a>=69815&&a<=69816?f:i|m:a===69821||a===69837?c:a===69826?i|m:t:a<70016?a<=69940?a===69932?f:a<=69890||a>=69927?i|m:t:a<=69958?a>=69957?f:t:a===70003?i|m:t:a<70188?a<=70080?a<70070?a<=70017?i|m:a===70018||a>=70067?f:t:a===70079?f:i|m:a<=70092?a>=70089?i|m:a<=70083&&a>=70082?c:t:a===70094?f:a===70095?i|m:t:a<70400?a<=70199?a<=70190||a>=70194&&a<=70195?f:i|m:a<70367?a===70206||a===70209?i|m:t:a<=70378?a>=70368&&a<=70370?f:i|m:t:a<70517?a<70465?a<70459?a<=70403?a<=70401?i|m:f:t:a===70463?f:a!==70461?i|m:t:a<70477?a<=70468||a>=70471&&a<=70472||a>=70475?f:t:a<=70499?a>=70498?f:a===70477||a===70487?i|m:t:a>=70502&&a<=70508||a>=70512?i|m:t:a<70627?a<=70594?a>=70584?a>=70585&&a<=70586?f:a!==70593?i|m:t:t:a<=70601?a===70597||a>=70599?i|m:t:a<70606?a!==70603?f:t:a===70609?c:a<=70610||a>=70625?i|m:t:a<=70724?a>=70709?a<=70711||a>=70720&&a<=70721?f:i|m:t:a===70725?f:a===70726||a===70750?i|m:t:a<72704?a<71087?a>=70832&&a<=70851?a>=70833&&a<=70834||a===70841||a>=70843&&a<=70844||a===70846||a===70849?f:i|m:t:a<71216?a<=71099?a>=71088&&a<=71089||a>=71096?f:a<=71093?i|m:t:a<=71104?a===71102?f:i|m:a>=71132&&a<=71133?i|m:t:a<71339?a<=71232?a<=71218||a>=71227&&a<=71228||a===71230?f:i|m:t:a<71453?a<=71351?a===71340||a>=71342&&a<=71343?f:i|m:t:a<71984?a<=71467?a===71454||a===71462?f:a<=71455||a>=71458?i|m:t:a>=71724&&a<=71738?a<=71726||a===71736?f:i|m:t:a<72145?a<71995?a===71984?i|m:a<=71992&&a!==71990?f:t:a<=72003?a<=71998||a===72003?i|m:a===71999||a===72001?c:f:t:a<72193?a<=72151?a<=72147?f:i|m:a>=72154&&a<=72160?a>=72156&&a<=72159?f:i|m:a===72164?f:t:a<72273?a<72243?a<=72202?i|m:t:a<=72254?a<=72248||a>=72251?i|m:a===72249?f:c:a===72263?i|m:t:a<=72283?a>=72279&&a<=72280?f:i|m:a>=72324&&a<=72345?a<=72329?c:a===72343?f:i|m:t:a<126976?a<73009?a<=72767?a>=72751?a===72751||a===72766?f:a!==72759?i|m:t:t:a>=72850&&a<=72886?a===72873||a===72881||a===72884?f:a!==72872?i|m:t:t:a<73098?a<73020?a<=73014||a===73018?i|m:t:a<=73031&&a!==73022?a===73030?c:i|m:t:a<73459?a<=73108?a<=73102||a>=73107?f:a>=73104&&a<=73105?i|m:t:a<=73111?a===73110?f:i|m:t:a<78896?a<=73538?a<73472?a<=73462?a<=73460?i|m:f:t:a<73524?a<=73475?a<=73473?i|m:a===73474?c:f:t:a<73534?a<=73525?f:a<=73530?i|m:t:a<=73535?f:i|m:a===73562?i|m:t:a<94031?a<90398?a<=78933?a<=78911?s:a>=78919||a===78912?i|m:t:t:a<=92982?a<=90415?a<=90409||a>=90413?i|m:f:a>=92912&&a<=92982&&(a<=92916||a>=92976)?i|m:t:a===93539||a>=93543&&a<=93546?x:t:a<119141?a<=94098?a>=94033&&a<=94087?f:a===94031||a>=94095?i|m:t:a<=94193?a===94180||a>=94192?i|m:t:a>=113821&&a<=113827?a<=113822?i|m:a>=113824?s:t:a>=118528&&a<=118598&&(a<=118573||a>=118576)?i|m:t:a<121520?a<119163?a<119155?a<=119145||a>=119149?i|m:t:s:(a<=119364?a<=119170||a>=119173&&a<=119179||a>=119210&&a<=119213||a>=119362:a>=121344&&(a<=121398||a>=121403&&a<=121452||a===121461||a===121476||a>=121499&&a!==121504))?i|m:t:(a<=122922?a>=122880&&(a<=122904&&a!==122887||a>=122907&&a!==122914&&a!==122917):a<=124143?a<=123190?a===123023||a>=123184:a===123566||a>=123628&&a<=123631||a>=124140:a<125136?a>=124398&&a<=124399:a<=125258&&(a<=125142||a>=125252))?i|m:t:a<131070?a<127488?a<127405?(a<=127345?a<=127231||a>=127245&&a<=127247||a===127279||a>=127340:a>=127358&&a<=127386&&(a<=127359||a===127374||a>=127377))?S:t:a<=127461?S:u:a<127561?a>=127489&&a<=127551&&(a<=127503||a===127514||a===127535||a>=127538&&a!==127547)?S:t:a<128318?a>=127995&&a<=127999?i|m|e.Emoji_Modifier:S:(a<=129023?a>=128326&&(a<=128591||a>=128640&&a<=128767||a>=128884&&a<=128895||a>=128981):a<129198?a>=129036&&a<=129167&&(a<=129039||a>=129096&&a<=129103||a>=129114&&a<=129119||a>=129160):a<=129279||a>=129292&&a<=129791&&a!==129339&&a!==129350||a>=130048)?S:t:a>=917504?a>921599?t:a>=918e3||a<=917535||a>=917632&&a<=917759?s:i|m:t}e.graphemeBreakProperty=E;function _(a,U){return(U&15)===i?!!(U&e.Emoji_Modifier):a<1536?!(a<=159?a<=31||a>=127:a===173):a<2304?!(a<1872?a<=1541||a===1564||a===1757||a===1807:a>=2192&&(a<=2193||a===2274)):a<8304?!(a<8203?a===6158:a<=8207||a>=8232&&a<=8238||a>=8288):a<=65531?!(a===65279||a>=65519):a<=119162?!(a<78896?a===69821||a===69837:a<113824?a<=78911:a<=113827||a>=119155):!(a>=205744&&a<=983039&&(a<=917535||a>=918e3||a>=917632&&a<=917759))}e.isGraphemeBase=_;function X(a,U,w){var Y;if(U===n&&w===r)return!1;if(U===s||U===n||U===r||w===s||w===n||w===r)return!0;if(U===h&&(w===h||w===x||w===d||w===b)||(U===d||U===x)&&(w===x||w===g)||(U===b||U===g)&&w===g||(w&15)===i||(w&15)===o||w===f||U===c)return!1;if(w&A&&U&48){let D=!!(U&F);for(let tt=a.length-1;tt>=0;tt-=1){if(a[tt]&A){if(D)return!1;break}if(a[tt]&48){D||(D=!!(a[tt]&F));continue}break}}if((U&15)===o&&w===S){let D=a.length-1;for(;(((Y=a[D])!==null&&Y!==void 0?Y:0)&15)===i;)D-=1;return a[D]!==S}if(U===u&&w===u){let D=a.length-1;for(;a[D]===u;)D-=1;return(a.length-1-D)%2===1}return!0}e.shouldBreak=X})(n0)),n0}var ge={},Jx;function Ey(){if(Jx)return ge;Jx=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.isEmojiModifierBase=ge.isEmojiModifierSequence=ge.isEmojiZwjSequence=ge.emojiProps=void 0;function e(i){return i<11264?i<8986?i>=8482&&(i<8596?i===8482||i===8505:i<=8601||i>=8617&&i<=8618)?1:0:i<9211?i<9193?i<=8987?3:i===9e3||i===9167?1:0:i<=9203?i<=9196||i===9200||i===9203?3:1:i>=9208?1:0:i<9728?i<9723?(i<=9643?i===9410||i>=9642:i===9654||i===9664)?1:0:i<=9726?i<=9724?1:3:0:i<9760?i<9748?i<=9732||i===9742||i===9745?1:0:i<=9749?3:i===9752?1:i===9757?5:0:i<9800?(i<=9775?i<=9763&&i!==9761||i===9766||i===9770||i>=9774:i>=9784&&(i<=9786||i===9792||i===9794))?1:0:i<9876?i<=9832?i>=9823&&(i<=9824||i>=9827&&i!==9828&&i!==9831)?1:i<=9811?3:0:i===9851||i===9854||i===9874?1:i===9855||i===9875?3:0:i<9926?i<9898?i===9889?3:i<=9884&&i!==9880&&i!==9882||i===9888||i===9895?1:0:i<=9905?i<=9899?3:i>=9904?1:0:i>=9917&&i<=9925&&(i<=9918||i>=9924)?3:0:i<9984?i<9968?i<=9937?i===9928||i===9935||i===9937?1:i===9934?3:0:i===9939||i===9961?1:i===9940||i===9962?3:0:i<=9976?i<=9973?i<=9969||i===9972?1:3:i>=9975?1:0:i===9978||i===9981?3:i===9977?5:0:i<9998?i<9992?i===9986?1:i===9989?3:0:i>=9996?5:i>=9994?7:1:i<10035?i<=10017?i===9999||i===10002||i===10004||i===10006||i===10013||i===10017?1:0:i===10024?3:0:i<10072?i<10060?i<=10036||i===10052||i===10055?1:0:i<=10062&&i!==10061||i>=10067&&i!==10070?3:0:i<10176?i<=10135?i>=10133?3:i>=10083&&i<=10084?1:0:i===10160||i===10175?3:i===10145?1:0:i<=11015?i>=10548&&(i<=10549||i>=11013)?1:0:i>=11035&&(i<=11036||i===11088||i===11093)?3:0:i<128640?i<127344?i<=12953?i===12336||i===12349||i>=12951&&i!==12952?1:0:i===126980||i===127183?3:0:i<127387?i<=127359?i<=127345||i>=127358?1:0:i===127374||i>=127377?3:0:i<127744?i<127538?i===127489||i===127514||i===127535?3:i===127490?1:0:i<=127569?i===127543?1:i<=127546||i>=127568?3:0:0:i<127904?i<127780?i<=127776?3:i===127777?1:0:i<127870?i<=127788||i===127798||i===127869?1:3:i<=127891?i===127877?7:3:i>=127894&&(i<=127899&&i!==127896||i>=127902)?1:0:i<127992?i<127947?i>=127938&&i<=127940||i===127943||i===127946?7:3:i<127951?i<=127948?5:1:i<=127984?i<=127955||i>=127968?3:1:i===127988?3:i>=127987&&i!==127990?1:0:i<128254?i<=128062?i>=127995&&i<=127999?27:3:i<128066?i===128064?3:1:i<128102?i>=128068&&i<=128069||i>=128081?3:7:i<128129?i<=128120||i===128124?7:3:i<128136?i===128132?3:7:i<=128252?i===128143||i===128145||i===128170?7:3:1:i<128378?i<=128330?i>=128255&&i<=128317?3:i>=128329?1:0:i<128367?i<=128359&&i!==128335?3:0:i>=128372&&i<=128373?5:i<=128368||i>=128371?1:0:i<128421?i<=128397?i>=128394||i===128391?1:i===128378?7:0:i<128405?i===128400?5:0:i<=128406?7:i===128420?3:0:i<128507?(i<=128452?i===128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452:i<=128483?i>=128465&&i<=128467||i>=128476&&i<=128478||i>=128481&&i!==128482:i===128488||i===128495||i===128499||i===128506)?1:0:i<=128591?i<=128580||i>=128584&&i<=128586?3:7:0:i<128720?i<128692?i===128675?7:3:i<=128709?i<=128694||i===128704?7:3:i>=128715?i===128716?7:1:0:i<128765?i<128736?i<=128722||i>=128732||i>=128725&&i<=128727?3:0:i<128747?i<=128741||i===128745?1:0:i<=128748||i>=128756?3:i===128752||i===128755?1:0:i<129343?i<129292?i>=128992&&i<=129003||i===129008?3:0:i<=129311?i>=129304||i===129292||i===129295?7:3:i<=129327?i===129318?7:3:i===129338?3:i!==129339?7:0:i<129456?i===129399?7:i!==129350?3:0:i<=129535?i<=129465?i<=129459?19:i===129460||i===129463?3:7:i<=129484?i===129467?7:3:i===129488||i>=129502?3:7:i<=129730?i>=129648&&i<=129660||i>=129664&&i<=129673||i>=129679?3:0:i<=129784?i<=129733||i>=129776?7:i>=129759&&i<=129769||i>=129742&&i<=129756||i===129734?3:0:0}ge.emojiProps=e;function t(i,o){const u=i.indexOf(8205,o);return u<0?i.length:u}function n(i){let o=0,u=t(i,o),c=i.slice(o,u);if(c.length>2)return!1;let[f,h]=c,x=e(f),g=!1;if(h===void 0){if(!(x&2))return!1}else if(h===65039){if((x&3)!==1)return!1;g=!0}else{const d=e(h);if(!(x&4&&d&8))return!1}for(o=u+1;o<i.length;o=u+1){if(u=t(i,o),c=i.slice(o,u),c.length>2)return!1;if([f,h]=c,x=e(f),h===void 0){if((x&1)===0)return!1}else if(h===65039){if(!(g?(x&3)===1:x&1))return!1}else{const d=e(h);if(!(x&4&&d&8))return!1}}return!0}ge.isEmojiZwjSequence=n;function r(i,o){const u=e(i),c=e(o);return!!(u&4&&c&8)}ge.isEmojiModifierSequence=r;function s(i){return!!(e(i)&4)}return ge.isEmojiModifierBase=s,ge}var Yx;function Dl(){if(Yx)return ba;Yx=1,Object.defineProperty(ba,"__esModule",{value:!0});const e=Ml(),t=Nl(),n=Fu(),r=Ey(),{RI:s,ExtendedPictographic:i,Extend:o,V:u,T:c}=n.GBProps;function f(h){if(typeof h!="string")return 0;const x=(0,e.default)(h);if(x.length===0)return 0;let g=0,d=x.codePointAt(0),b=[d],S=[],m=(0,t.default)(d),F=m,A=d===8205,E=(0,n.graphemeBreakProperty)(d),_=!1,X=0;for(let a=d>65535?2:1,U=x.length;a<U;a+=1){const w=x.codePointAt(a),Y=(0,n.graphemeBreakProperty)(w);if((0,n.shouldBreak)(S,E,Y))g+=A&&S[0]===i&&(0,r.isEmojiZwjSequence)(b)?m:F,S=[],b=[w],m=(0,t.default)(w),F=m,A=w===8205,_=!1,X=0;else{b.push(w),S.push(E);let D=!1;if((Y&15)!==o)D=E===s&&Y===s||Y===u||Y===c;else if(Y&n.Emoji_Modifier)D=E===i&&(0,r.isEmojiModifierBase)(d),_||(_=!0);else{for(;!_&&X<S.length;X+=1)_=(0,n.isGraphemeBase)(b[X],S[X]);D=_}D||(F+=(0,t.default)(w)),w===8205&&(A=!0)}d=w,d>65535&&(a+=1),E=Y}return g+=A&&S[0]===i&&(0,r.isEmojiZwjSequence)(b)?m:F,g}return ba.default=f,ba}var Aa={},Zx;function Rl(){if(Zx)return Aa;Zx=1,Object.defineProperty(Aa,"__esModule",{value:!0});const e=Ml(),t=Fu();function n(r){if(typeof r!="string")return 0;const s=(0,e.default)(r);if(s.length===0)return 0;let i=1,o=[],u=s.codePointAt(0),c=(0,t.graphemeBreakProperty)(u);for(let f=u>65535?2:1,h=s.length;f<h;f+=1){u=s.codePointAt(f);const x=(0,t.graphemeBreakProperty)(u);(0,t.shouldBreak)(o,c,x)?(i+=1,o=[]):o.push(c),u>65535&&(f+=1),c=x}return i}return Aa.default=n,Aa}var wa={},Xx;function Pl(){if(Xx)return wa;Xx=1,Object.defineProperty(wa,"__esModule",{value:!0});const e=Fu();function*t(n){if(typeof n!="string"||n.length===0)return;let r=0,s=[],i=n.codePointAt(0),o=(0,e.graphemeBreakProperty)(i);for(let u=i>65535?2:1,c=n.length;u<c;u+=1){i=n.codePointAt(u);const f=(0,e.graphemeBreakProperty)(i);(0,e.shouldBreak)(s,o,f)?(yield n.slice(r,u),s=[],r=u):s.push(o),i>65535&&(u+=1),o=f}yield n.slice(r)}return wa.default=t,wa}var _a={},Qx;function jl(){if(Qx)return _a;Qx=1,Object.defineProperty(_a,"__esModule",{value:!0});const e=Nl(),t=Fu(),n=Ey(),{RI:r,ExtendedPictographic:s,Extend:i,V:o,T:u}=t.GBProps;function*c(f){if(typeof f!="string"||f.length===0)return;let h=0,x=f.codePointAt(0),g=[x],d=[],b=(0,e.default)(x),S=b,m=x===8205,F=(0,t.graphemeBreakProperty)(x),A=!1,E=0;for(let _=x>65535?2:1,X=f.length;_<X;_+=1){const a=f.codePointAt(_),U=(0,t.graphemeBreakProperty)(a);if((0,t.shouldBreak)(d,F,U))yield[f.slice(h,_),m&&d[0]===s&&(0,n.isEmojiZwjSequence)(g)?b:S],d=[],g=[a],b=(0,e.default)(a),S=b,h=_,m=a===8205,A=!1,E=0;else{g.push(a),d.push(F);let w=!1;if((U&15)!==i)w=F===r&&U===r||U===o||U===u;else if(U&t.Emoji_Modifier)w=F===s&&(0,n.isEmojiModifierBase)(x),A||(A=!0);else{for(;!A&&E<d.length;E+=1)A=(0,t.isGraphemeBase)(g[E],d[E]);w=A}w||(S+=(0,e.default)(a)),a===8205&&(m=!0)}x=a,x>65535&&(_+=1),F=U}yield[f.slice(h),m&&d[0]===s&&(0,n.isEmojiZwjSequence)(g)?b:S]}return _a.default=c,_a}var Ea={},de={},jn={},t1;function o9(){return t1||(t1=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.closingCodes=jn.styleCodes=void 0,jn.styleCodes=new Map([["1","22"],["2","22"],["3","23"],["4","24"],["4:","4:0"],["5","25"],["6","25"],["7","27"],["8","28"],["9","29"],["20","23"],["21","24"],["26","50"],["30","39"],["31","39"],["32","39"],["33","39"],["34","39"],["35","39"],["36","39"],["37","39"],["38","39"],["90","39"],["91","39"],["92","39"],["93","39"],["94","39"],["95","39"],["96","39"],["97","39"],["40","49"],["41","49"],["42","49"],["43","49"],["44","49"],["45","49"],["46","49"],["47","49"],["48","49"],["51","54"],["52","54"],["53","55"],["58","59"],["60","65"],["61","65"],["62","65"],["63","65"],["64","65"],["73","75"],["74","75"],["100","49"],["101","49"],["102","49"],["103","49"],["104","49"],["105","49"],["106","49"],["107","49"]]),jn.closingCodes=["0","4:0","22","23","24","25","27","28","29","39","49","50","54","55","59","65","75"]),jn}var e1;function Au(){if(e1)return de;e1=1,Object.defineProperty(de,"__esModule",{value:!0}),de.closeEscapes=de.openEscapes=de.parseEscape=de.parseAnsi=void 0;const e=Bl(),t=o9();function*n(f){let h=0;for(let x=(0,e.default)(),g=x.exec(f);g;g=x.exec(f)){const{0:d,index:b}=g;b>h&&(yield[f.slice(h,b),!1]),yield[d,!0],h=b+d.length}h<f.length&&(yield[f.slice(h),!1])}de.parseAnsi=n;function*r(f){let h=!1,x={value:-1};const g=[x];for(let d=0;d<f.length;d+=1){const b=f.charCodeAt(d);switch(b){case 59:h=!1,x={value:-1},g.push(x);break;case 58:h=!0,x.subparams?x.subparams.push(-1):x.subparams=[-1];break;default:{const S=b-48;if(h){const m=x.subparams,F=m[m.length-1];m[m.length-1]=~F?F*10+S:S}else x.value=~x.value?x.value*10+S:S;break}}}for(let d=0;d<g.length;d+=1){const b=g[d],S=Math.max(b.value,0);if(S===38||S===48||S===58){if(b.subparams){yield{code:S,params:b};continue}const m=d;d+=1;let F=g[d];const A=F?.value===2?3:F?.value===5?1:0;for(let _=0;F&&!F.subparams&&_<A;_+=1,d+=1,F=g[d]);const E=Math.min(d+1,g.length)-m;yield{code:S,params:E===1?b:g.slice(m,m+E),incomplete:!F?.subparams&&E<A+2};continue}yield{code:S,params:b}}}function s(f){return f.subparams?[f.value,...f.subparams].map(h=>~h?String(h):"").join(":"):~f.value?String(f.value):""}const i=/(?:(?:\x1b\x5b|\x9b)([\x30-\x3b]*m)|(?:\x1b\x5d|\x9d)8;(.*?)(?:\x1b\x5c|[\x07\x9c]))/;function o(f,h,x){var g,d;const[,b,S]=(g=i.exec(h))!==null&&g!==void 0?g:[],m=[];if(b)for(const{code:A,params:E,incomplete:_}of r(b.slice(0,-1))){let X=String(A);if(A===4&&E.subparams&&(X+=E.subparams[0]===0?":0":":"),t.closingCodes.includes(X)){const U=X==="4:0"||X==="24"?["4:0","24"]:null;for(let w=f.length-1;w>=0;w-=1){const[,Y,D]=f[w];Y===1||m.includes(w)||X!=="0"&&(U?!U.includes(D):X!==D)||(X==="0"&&(f[w][2]="0"),m.push(w))}continue}const a=Array.isArray(E)?E.map(s).join(";"):s(E);f.push([a,_?2:0,(d=t.styleCodes.get(X))!==null&&d!==void 0?d:"0",x])}else if(S!==void 0){const A=S.replace(/^[^;]*;/,"");if(S===A)return null;if(A==="")for(let E=f.length-1;E>=0;E-=1){const[,_]=f[E];_!==1||m.includes(E)||(f[E][2]=h,m.push(E))}else{const E=h.replace(/((?:\x1b\x5d|\x9d)8;).*?(\x1b\x5c|[\x07\x9c])/,"$1;$2");f.push([h,1,E,x])}}else return null;const F=[];if(m.length)for(const A of m.sort((E,_)=>_-E))F.unshift(f[A]),f.splice(A,1);return F}de.parseEscape=o;function u(f){let h="",x=[];for(const[g,d]of f){if(d===1){x.length&&(h+=`\x1B[${x.join(";")}m`,x=[]),h+=g;continue}x.push(g),d===2&&(h+=`\x1B[${x.join(";")}m`,x=[])}return h+(x.length?`\x1B[${x.join(";")}m`:"")}de.openEscapes=u;function c(f){const h=[];let x="";for(const[,g,d]of f){if(g===1){x=d;continue}if(!h.includes(d)){if(d==="4:0"){h.includes("24")||h.unshift(d);continue}if(d==="24"){const b=h.indexOf("4:0");b<0?h.unshift(d):h[b]=d;continue}h.unshift(d)}}return x+(h.length?h.includes("0")?"\x1B[0m":`\x1B[${h.join(";")}m`:"")}return de.closeEscapes=c,de}var n1;function u9(){if(n1)return Ea;n1=1,Object.defineProperty(Ea,"__esModule",{value:!0});const e=Au();function t(n){const r=[],s=[],i=String(n).split(/\r?\n/g);for(let o=0,u=i.length;o<u;o+=1){let c="",f=-1;for(const[h,x]of(0,e.parseAnsi)(i[o])){if(x){const g=(0,e.parseEscape)(r,h,[o,f]);g&&f>=0?c+=(0,e.closeEscapes)(g.filter(([,,,[d,b]])=>d<o||d===o&&b<f)):g===null&&(c+=h);continue}c+=(0,e.openEscapes)(f<0?r:r.filter(([,,,[g,d]])=>g===o&&d===f)),c+=h,f+=1}f>=0&&(c+=(0,e.closeEscapes)(r.filter(([,,,[h,x]])=>h<o||h===o&&x<f))),s.push(c)}return s}return Ea.default=t,Ea}var Ln={},r1;function c9(){if(r1)return Ln;r1=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.sliceColumns=Ln.sliceChars=void 0;const e=Au(),t=Pl(),n=jl(),r=Rl(),s=Dl();function i(o,u){return(c,f=0,h=1/0)=>{if(typeof c!="string"&&(c=String(c)),f<0||h<0){const m=u(c);f<0&&(f=m+f),h<0&&(h=m+h)}if(f>=h)return"";const x=[];let g="",d=0,b=-1,S=[];for(const[m,F]of(0,e.parseAnsi)(c)){if(F){const E=(0,e.parseEscape)(x,m,d);E?.length&&S.unshift(...E);continue}S.length&&(g+=(0,e.closeEscapes)(S.filter(([,,,E])=>E<=b)),S=[]);const A=d;for(const[E,_]of o(m))if((f<d||f===d&&_>0)&&d+_<=h&&(b<A&&(g+=(0,e.openEscapes)(x.filter(([,,,X])=>X>b)),b=A),g+=E),d+=_,d>=h)return g+(0,e.closeEscapes)(x.filter(([,,,X])=>X<=b))}return g+(0,e.closeEscapes)([...S,...x].filter(([,,,m])=>m<=b))}}return Ln.sliceChars=i(function*(u){for(const c of(0,t.default)(u))yield[c,1]},r.default),Ln.sliceColumns=i(n.default,s.default),Ln}var Ca={},s1;function f9(){if(s1)return Ca;s1=1,Object.defineProperty(Ca,"__esModule",{value:!0});const e=Au(),t=Pl(),n=Rl();function r(s,i,o,u=""){const c=Math.max(i<0?i+(0,n.default)(s):i,0),f=c+o,h=[];let x="",g=0,d=0,b=!1,S=!1;for(const[m,F]of(0,e.parseAnsi)(String(s))){if(F){const A=(0,e.parseEscape)(h,m,[g,b]);A===null||!b&&(g<c||u)?x+=m:A.length&&(x+=(0,e.closeEscapes)(A.filter(([,,,[E,_]])=>!_&&(E<c||u)))),d+=m.length;continue}if(S)return x+(0,e.openEscapes)(h.filter(([,,,[A,E]])=>E||A===c&&!u))+s.slice(d);for(const A of(0,t.default)(m)){if(g<c)x+=A;else if(g===c&&!b&&(x+=u,b=!0),g===f)return x+(0,e.openEscapes)(h.filter(([,,,[E,_]])=>_||E===c&&!u))+s.slice(d);g+=1,d+=A.length}g===c&&!b&&(x+=u,b=!0),g===f&&(S=!0)}return b?x:x+u}return Ca.default=r,Ca}var Ia={},i1;function l9(){if(i1)return Ia;i1=1,Object.defineProperty(Ia,"__esModule",{value:!0});const e=Au(),t=jl(),n=Dl();function r(o,u,c){return o.filter(([,,,[f,h]])=>f<u||f===u&&h<=c)}function s(o,u,c,f,h){if(u.trim()==="")return"";const x=[];let g="",d=0,b=-1/0,S=0,m="",F=-1/0,A="";const E=u.split(" ").map(_=>[_,(0,n.default)(_)]);for(const[_,[X,a]]of E.entries()){if(_>0&&((d>0||!h&&b<0)&&(d+=1),m+=(0,e.openEscapes)(o.filter(([,,,[w,Y]])=>w>F||w===F&&Y>S)),F=_,m+=" "),f&&(a>c||!h&&b<0&&d+a>c&&d<c)){const w=c-d;Math.floor((a-1)/c)<1+Math.floor((a-w-1)/c)&&!(!h&&b<0)&&(x.push(g+A+(0,e.closeEscapes)(r(o,b,S))),[d,g]=[0,""],[m,A]=["",""]);let D=0;for(const[tt,me]of(0,e.parseAnsi)(X)){if(me){const Bt=(0,e.parseEscape)(o,tt,[_,D]);Bt?.length&&(b<_?(A+=(0,e.closeEscapes)(r(Bt,b,S)),m+=(0,e.closeEscapes)(Bt.filter(([,,,[Be]])=>Be<F))):d&&(g+=(0,e.closeEscapes)(r(Bt,b,S))));continue}const Rn=D;b<_&&(!h&&b<0&&d===c&&(x.push(g+m+(0,e.closeEscapes)(r(o,_,-1))),[d,g]=[0,""]),g+=d?m+(0,e.openEscapes)(o.filter(([,,,[Bt]])=>Bt===_)):(0,e.openEscapes)(o),[b,S]=[_,0],[F,m]=[_,""],A="");for(const[Bt,Be]of(0,t.default)(tt))d+Be>c&&(x.push(g+(0,e.closeEscapes)(r(o,b,S))),[d,g]=[0,(0,e.openEscapes)(o)]),S<Rn&&(d&&(g+=(0,e.openEscapes)(o.filter(([,,,[ue,zt]])=>ue===b&&S<zt))),S=Rn),g+=Bt,d+=Be,D+=Be}continue}let U=0;for(const[w,Y]of(0,e.parseAnsi)(X)){if(Y){const D=(0,e.parseEscape)(o,w,[_,U]);D?.length&&(b<_?(A+=(0,e.closeEscapes)(r(D,b,S)),m+=(0,e.closeEscapes)(D.filter(([,,,[tt]])=>tt<F))):d&&(g+=(0,e.closeEscapes)(r(D,b,S))));continue}b<_&&((!h&&b<0?d===c:d+a>c&&d>0)&&(x.push(!h&&b<0?g+m+(0,e.closeEscapes)(r(o,_,-1)):g+A+(0,e.closeEscapes)(r(o,b,S))),[d,g]=[0,""]),g+=d?m+(0,e.openEscapes)(o.filter(([,,,[D]])=>D===_)):(0,e.openEscapes)(o),d+=a,[b,S]=[_,0],[F,m]=[_,""],A=""),S<U&&(g+=(0,e.openEscapes)(o.filter(([,,,[D,tt]])=>D===b&&S<tt)),S=U),g+=w,U+=w.length}!h&&b<0&&d===c&&(x.push(g+m+(0,e.closeEscapes)(r(o,_,-1))),[d,g]=[0,""],m=(0,e.openEscapes)(r(o,F,S)),A="")}d>0&&x.push(g+A+(0,e.closeEscapes)(r(o,b,S)));for(const _ of o)_[3]=[-1,0];return b>=0?x.join(`
`):""}function i(o,u,{hard:c=!1,trimLeft:f=!0}={}){const h=[];return String(o).split(/\r?\n/g).map(x=>s(h,x,u,c,f)).join(`
`)}return Ia.default=i,Ia}var a1;function h9(){return a1||(a1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wordWrap=e.spliceChars=e.sliceColumns=e.sliceChars=e.splitLines=e.codePointWidth=e.stripAnsi=e.ansiRegex=e.charWidths=e.splitChars=e.stringLength=e.stringWidth=void 0;var t=Dl();Object.defineProperty(e,"stringWidth",{enumerable:!0,get:function(){return t.default}});var n=Rl();Object.defineProperty(e,"stringLength",{enumerable:!0,get:function(){return n.default}});var r=Pl();Object.defineProperty(e,"splitChars",{enumerable:!0,get:function(){return r.default}});var s=jl();Object.defineProperty(e,"charWidths",{enumerable:!0,get:function(){return s.default}});var i=Bl();Object.defineProperty(e,"ansiRegex",{enumerable:!0,get:function(){return i.default}});var o=Ml();Object.defineProperty(e,"stripAnsi",{enumerable:!0,get:function(){return o.default}});var u=Nl();Object.defineProperty(e,"codePointWidth",{enumerable:!0,get:function(){return u.default}});var c=u9();Object.defineProperty(e,"splitLines",{enumerable:!0,get:function(){return c.default}});var f=c9();Object.defineProperty(e,"sliceChars",{enumerable:!0,get:function(){return f.sliceChars}}),Object.defineProperty(e,"sliceColumns",{enumerable:!0,get:function(){return f.sliceColumns}});var h=f9();Object.defineProperty(e,"spliceChars",{enumerable:!0,get:function(){return h.default}});var x=l9();Object.defineProperty(e,"wordWrap",{enumerable:!0,get:function(){return x.default}})})(e0)),e0}var Cy=h9();const Iy=new Intl.Segmenter,pt=([e,t])=>n=>`${e}${n}${t}`;pt.rest=(e,t)=>pt([e,t]);pt.parentheses=pt(["(",")"]);pt.squareBrackets=pt(["[","]"]);pt.curlyBrackets=pt(["{","}"]);pt.angledBrackets=pt(["<",">"]);pt.quote=Object.assign(pt(["'","'"]),{double:pt(['"','"']),fancy:pt(["“","”"]),parentheses:pt(["(",")"]),squareBrackets:pt(["[","]"]),curlyBrackets:pt(["{","}"]),angledBrackets:pt(["<",">"])});const fs=e=>e.join(`
`);fs.double=e=>e.join(`

`);fs.rest=(...e)=>fs(e);const et=e=>e.join("");et.rest=(...e)=>et(e);et.pipeline=e=>l(e,$e(" | "));et.slash=e=>l(e,$e(" | "));et.spaced=Object.assign(e=>e.join(" "),{rest:(...e)=>e.join(" "),literal:(...e)=>e.join(" ")});et.comma=Object.assign(e=>e.join(", "),{rest:(...e)=>e.join(", ")});et.quote=Object.assign(e=>l(e,C(pt.quote),et.comma),{double:e=>l(e,C(pt.quote.double),et.comma),fancy:e=>l(e,C(pt.quote.fancy),et.comma)});const wc=e=>t=>Tl(e,t),x9=Tl,wu=e=>e.toString(),p9=e=>t=>e===t,ur=Cy.stringWidth,m9=C(ur),g9=e=>l(" ",_s(e));function _c(e){return t=>{const n=ur(t);if(e===0)return"";if(e-n<=0)return l(t,ko(0,e),et);const[s,i]=Su(e,n);return l(t,Ji(_s(s),T(ko(0,i),et)),et)}}_c.flipped=e=>t=>_c(t)(e);function d9(e){return t=>{if(e===0)return[];const n=Yt(t)?t:[""],r=n.length;if(e-r<=0)return n.slice(0,e);const[i,o]=Su(e,r);return[...l(n,cn(i),Oi),...n.slice(0,o)]}}const b9=e=>Ef(ot)([0,...m9(e)]),y9=e=>t=>{let n=0;for(;e(t[n])&&n<ur(t);)n++;return t.slice(0,n)},_u=e=>[...Iy.segment(e)].map(t=>t.segment),ko=(e,t)=>n=>[...Iy.segment(n)].map(r=>r.segment).slice(e,t??-1);class pe extends Error{constructor(t=!1){super(),this.interruptExecution=t,this.footprint=pe.SharedFootPrint}static isFailure(t){return t!=null&&t.footprint===pe.SharedFootPrint}}pe.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");function S9(e){if(!e)throw new pe}class Ec{[Symbol.iterator](){return this}next(t){return{value:t,done:!0}}}Ec.nil=new Ec;function F9(){return Ec.nil}function*A9(e,t){for(const n of e)yield t(n)}function*w9(e,t){for(const n of e)yield*t(n)}function*_9(e,t){for(const n of e)t(n)&&(yield n)}function*E9(e,t){for(let n=0;n<t;++n){const r=e.next();if(r.done)break;yield r.value}}function*C9(e,t){let n=e.next();for(;!n.done&&t(n.value);)yield n.value,n=e.next()}function*I9(e,t){for(let n=e.next();!n.done;n=e.next())yield n.value;for(const n of t)for(let r=n.next();!r.done;r=n.next())yield r.value}const k9=Symbol.iterator;class N{static nil(){return new N(F9())}static of(...t){return new N(t[k9]())}constructor(t){this.g=t}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(t){return new N(A9(this.g,t))}flatMap(t){return new N(w9(this.g,t))}dropWhile(t){let n=!1;function*r(s){(n||!t(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(t){if(t<=0)return this;let n=0;function r(){return n++<t}return this.dropWhile(r)}takeWhile(t){return new N(C9(this.g,t))}take(t){return new N(E9(this.g,t))}filter(t){return new N(_9(this.g,t))}every(t){for(const n of this.g)if(!t(n))return!1;return!0}has(t){for(const n of this.g)if(t(n))return[!0,n];return[!1,null]}join(...t){return new N(I9(this.g,t))}getNthOrLast(t){let n=t,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function Cn(e){return new N(e)}const Ot=Symbol.for("fast-check/cloneMethod");function yr(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&Ot in e&&typeof e[Ot]=="function"}function Mr(e){return yr(e)?e[Ot]():e}const v9=Object.defineProperty;class O{constructor(t,n,r=void 0){this.value_=t,this.context=n,this.hasToBeCloned=r!==void 0||yr(t),this.readOnce=!1,this.hasToBeCloned?v9(this,"value",{get:r!==void 0?r:this.getValue}):this.value=t}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[Ot]():(this.readOnce=!0,this.value_):this.value_}}class lt{filter(t){return new O9(this,t)}map(t,n){return new $9(this,t,n)}chain(t){return new T9(this,t)}}class T9 extends lt{constructor(t,n){super(),this.arb=t,this.chainer=n}generate(t,n){const r=t.clone(),s=this.arb.generate(t,n);return this.valueChainer(s,t,r,n)}canShrinkWithoutContext(t){return!1}shrink(t,n){return this.isSafeContext(n)?(n.stoppedForOriginal?N.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(t,n.chainedContext).map(r=>{const s={...n,chainedContext:r.context,stoppedForOriginal:!0};return new O(r.value_,s)})):N.nil()}valueChainer(t,n,r,s){const i=this.chainer(t.value_),o=i.generate(n,s),u={originalBias:s,originalValue:t.value_,originalContext:t.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:o.context,clonedMrng:r};return new O(o.value_,u)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalBias"in t&&"originalValue"in t&&"originalContext"in t&&"stoppedForOriginal"in t&&"chainedArbitrary"in t&&"chainedContext"in t&&"clonedMrng"in t}}class $9 extends lt{constructor(t,n,r){super(),this.arb=t,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(t,n){const r=this.arb.generate(t,n);return this.valueMapper(r)}canShrinkWithoutContext(t){if(this.unmapper!==void 0)try{const n=this.unmapper(t);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(t,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(t);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return N.nil()}mapperWithCloneIfNeeded(t){const n=t.value,r=this.mapper(n);return t.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!yr(r)&&Object.defineProperty(r,Ot,{get:()=>()=>this.mapperWithCloneIfNeeded(t)[0]}),[r,n]}valueMapper(t){const[n,r]=this.mapperWithCloneIfNeeded(t),s={originalValue:r,originalContext:t.context};return new O(n,s)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalValue"in t&&"originalContext"in t}}class O9 extends lt{constructor(t,n){super(),this.arb=t,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(t,n){for(;;){const r=this.arb.generate(t,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)&&this.refinement(t)}shrink(t,n){return this.arb.shrink(t,n).filter(this.bindRefinementOnValue)}refinementOnValue(t){return this.refinement(t.value)}}function ky(e){return typeof e=="object"&&e!==null&&"generate"in e&&"shrink"in e&&"canShrinkWithoutContext"in e}function vy(e){if(!ky(e))throw new Error("Unexpected value received: not an instance of Arbitrary")}const Ty=Function.prototype.apply,r0=Symbol("apply");function B9(e){try{return e.apply}catch{return}}function M9(e,t,n){const r=e;r[r0]=Ty;const s=r[r0](t,n);return delete r[r0],s}function J(e,t,n){return B9(e)===Ty?e.apply(t,n):M9(e,t,n)}const $y=Array,I=BigInt,N9=BigInt64Array,D9=BigUint64Array,Oy=Boolean,vo=Date,B=Error,By=Float32Array,My=Float64Array,R9=Int8Array,P9=Int16Array,j9=Int32Array,Qe=Number,Sr=String,Eu=Set,L9=Uint8Array,U9=Uint8ClampedArray,V9=Uint16Array,q9=Uint32Array,W9=encodeURIComponent,Yi=Map,Ya=Symbol,o1=Array.prototype.forEach,u1=Array.prototype.indexOf,c1=Array.prototype.join,f1=Array.prototype.map,l1=Array.prototype.filter,h1=Array.prototype.push,x1=Array.prototype.pop,p1=Array.prototype.splice,m1=Array.prototype.slice,g1=Array.prototype.sort,d1=Array.prototype.every;function z9(e){try{return e.forEach}catch{return}}function G9(e){try{return e.indexOf}catch{return}}function H9(e){try{return e.join}catch{return}}function K9(e){try{return e.map}catch{return}}function J9(e){try{return e.filter}catch{return}}function Y9(e){try{return e.push}catch{return}}function Z9(e){try{return e.pop}catch{return}}function X9(e){try{return e.splice}catch{return}}function Q9(e){try{return e.slice}catch{return}}function t8(e){try{return e.sort}catch{return}}function e8(e){try{return e.every}catch{return}}function Ny(e,t){return z9(e)===o1?e.forEach(t):J(o1,e,[t])}function Ye(e,...t){return G9(e)===u1?e.indexOf(...t):J(u1,e,t)}function at(e,...t){return H9(e)===c1?e.join(...t):J(c1,e,t)}function Q(e,t){return K9(e)===f1?e.map(t):J(f1,e,[t])}function n8(e,t){return J9(e)===l1?e.filter(t):J(l1,e,[t])}function M(e,...t){return Y9(e)===h1?e.push(...t):J(h1,e,t)}function Dy(e){return Z9(e)===x1?e.pop():J(x1,e,[])}function Ry(e,...t){return X9(e)===p1?e.splice(...t):J(p1,e,t)}function Mt(e,...t){return Q9(e)===m1?e.slice(...t):J(m1,e,t)}function Py(e,...t){return t8(e)===g1?e.sort(...t):J(g1,e,t)}function jy(e,...t){return e8(e)===d1?e.every(...t):J(d1,e,t)}const b1=Date.prototype.getTime,y1=Date.prototype.toISOString;function r8(e){try{return e.getTime}catch{return}}function s8(e){try{return e.toISOString}catch{return}}function To(e){return r8(e)===b1?e.getTime():J(b1,e,[])}function i8(e){return s8(e)===y1?e.toISOString():J(y1,e,[])}const S1=Set.prototype.add,F1=Set.prototype.has;function a8(e){try{return e.add}catch{return}}function o8(e){try{return e.has}catch{return}}function Ll(e,t){return a8(e)===S1?e.add(t):J(S1,e,[t])}function A1(e,t){return o8(e)===F1?e.has(t):J(F1,e,[t])}const w1=WeakMap.prototype.set,_1=WeakMap.prototype.get;function u8(e){try{return e.set}catch{return}}function c8(e){try{return e.get}catch{return}}function f8(e,t,n){return u8(e)===w1?e.set(t,n):J(w1,e,[t,n])}function l8(e,t){return c8(e)===_1?e.get(t):J(_1,e,[t])}const E1=Map.prototype.set,C1=Map.prototype.get;function h8(e){try{return e.set}catch{return}}function x8(e){try{return e.get}catch{return}}function cr(e,t,n){return h8(e)===E1?e.set(t,n):J(E1,e,[t,n])}function In(e,t){return x8(e)===C1?e.get(t):J(C1,e,[t])}const I1=String.prototype.split,k1=String.prototype.startsWith,v1=String.prototype.endsWith,T1=String.prototype.substring,$1=String.prototype.toLowerCase,O1=String.prototype.toUpperCase,B1=String.prototype.padStart,M1=String.prototype.charCodeAt,N1=String.prototype.normalize,D1=String.prototype.replace;function p8(e){try{return e.split}catch{return}}function m8(e){try{return e.startsWith}catch{return}}function g8(e){try{return e.endsWith}catch{return}}function d8(e){try{return e.substring}catch{return}}function b8(e){try{return e.toLowerCase}catch{return}}function y8(e){try{return e.toUpperCase}catch{return}}function S8(e){try{return e.padStart}catch{return}}function F8(e){try{return e.charCodeAt}catch{return}}function A8(e){try{return e.normalize}catch{return}}function w8(e){try{return e.replace}catch{return}}function Wt(e,...t){return p8(e)===I1?e.split(...t):J(I1,e,t)}function _8(e,...t){return m8(e)===k1?e.startsWith(...t):J(k1,e,t)}function E8(e,...t){return g8(e)===v1?e.endsWith(...t):J(v1,e,t)}function ft(e,...t){return d8(e)===T1?e.substring(...t):J(T1,e,t)}function Cc(e){return b8(e)===$1?e.toLowerCase():J($1,e,[])}function Ul(e){return y8(e)===O1?e.toUpperCase():J(O1,e,[])}function C8(e,...t){return S8(e)===B1?e.padStart(...t):J(B1,e,t)}function ls(e,t){return F8(e)===M1?e.charCodeAt(t):J(M1,e,[t])}function I8(e,t){return A8(e)===N1?e.normalize(t):J(N1,e,[t])}function k8(e,t,n){return w8(e)===D1?e.replace(t,n):J(D1,e,[t,n])}const R1=Number.prototype.toString;function v8(e){try{return e.toString}catch{return}}function fi(e,...t){return v8(e)===R1?e.toString(...t):J(R1,e,t)}const T8=Object.prototype.hasOwnProperty,$8=Object.prototype.toString;function $o(e,t){return J(T8,e,[t])}function Ic(e){return J($8,e,[])}const O8=Error.prototype.toString;function B8(e){return J(O8,e,[])}class M8{constructor(t){this.producer=t}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function yn(e){return new M8(e)}const Ly=Array.isArray,N8=Object.defineProperty;function Uy(e,t){return N8(e,Ot,{value:()=>{const n=[];for(let r=0;r!==t.length;++r)M(n,t[r].value);return Uy(n,t),n}})}function Vy(e){let t=!1;const n=[],r=[];for(let s=0;s!==e.length;++s){const i=e[s];t=t||i.hasToBeCloned,M(n,i.value),M(r,i.context)}return t&&Uy(n,e),new O(n,r)}function qy(e,t,n){const r=[],s=Ly(n)?n:[];for(let i=0;i!==e.length;++i)M(r,yn(()=>e[i].shrink(t[i],s[i]).map(o=>{const u=Q(t,(c,f)=>new O(Mr(c),s[f]));return[...Mt(u,0,i),o,...Mt(u,i+1)]}).map(Vy)));return N.nil().join(...r)}class D8 extends lt{constructor(t){super(),this.arbs=t;for(let n=0;n!==t.length;++n){const r=t[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(t,n){const r=[];for(let s=0;s!==this.arbs.length;++s)M(r,this.arbs[s].generate(t,n));return Vy(r)}canShrinkWithoutContext(t){if(!Ly(t)||t.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(t[n]))return!1;return!0}shrink(t,n){return qy(this.arbs,t,n)}}function z(...e){return new D8(e)}const R8=Math.log;function Wy(e){return 2+~~(R8(e+1)*.4342944819032518)}let Vl={};function P8(e){Vl=e}function ve(){return Vl}function j8(){Vl={}}const li=Symbol("UndefinedContextPlaceholder");function hs(e){return e.context!==void 0?e:e.hasToBeCloned?new O(e.value_,li,()=>e.value):new O(e.value_,li)}class hi{constructor(t,n){this.arb=t,this.predicate=n;const{asyncBeforeEach:r,asyncAfterEach:s,beforeEach:i,afterEach:o}=ve()||{};if(r!==void 0&&i!==void 0)throw B(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(s!==void 0&&o!==void 0)throw B(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=r||i||hi.dummyHook,this.afterEachHook=s||o||hi.dummyHook}isAsync(){return!0}generate(t,n){const r=this.arb.generate(t,n!=null?Wy(n):void 0);return hs(r)}shrink(t){if(t.context===void 0&&!this.arb.canShrinkWithoutContext(t.value_))return N.nil();const n=t.context!==li?t.context:void 0;return this.arb.shrink(t.value_,n).map(hs)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(t){try{const n=await this.predicate(t);return n===void 0||n===!0?null:{error:new B("Property failed by returning false")}}catch(n){return pe.isFailure(n)?n:{error:n}}}beforeEach(t){const n=this.beforeEachHook;return this.beforeEachHook=()=>t(n),this}afterEach(t){const n=this.afterEachHook;return this.afterEachHook=()=>t(n),this}}hi.dummyHook=()=>{};class zy extends lt{constructor(t){super(),this.arb=t}generate(t,n){const r=this.arb.generate(t,n);return hs(r)}canShrinkWithoutContext(t){return!0}shrink(t,n){if(n===void 0&&!this.arb.canShrinkWithoutContext(t))return N.nil();const r=n!==li?n:void 0;return this.arb.shrink(t,r).map(hs)}}function L8(...e){if(e.length<2)throw new Error("asyncProperty expects at least two parameters");const t=Mt(e,0,e.length-1),n=e[e.length-1];Ny(t,vy);const r=Q(t,s=>new zy(s));return new hi(z(...r),s=>n(...s))}class xs{constructor(t,n){this.arb=t,this.predicate=n;const{beforeEach:r=xs.dummyHook,afterEach:s=xs.dummyHook,asyncBeforeEach:i,asyncAfterEach:o}=ve()||{};if(i!==void 0)throw B(`"asyncBeforeEach" can't be set when running synchronous properties`);if(o!==void 0)throw B(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(t,n){const r=this.arb.generate(t,n!=null?Wy(n):void 0);return hs(r)}shrink(t){if(t.context===void 0&&!this.arb.canShrinkWithoutContext(t.value_))return N.nil();const n=t.context!==li?t.context:void 0;return this.arb.shrink(t.value_,n).map(hs)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(t){try{const n=this.predicate(t);return n===void 0||n===!0?null:{error:new B("Property failed by returning false")}}catch(n){return pe.isFailure(n)?n:{error:n}}}beforeEach(t){const n=this.beforeEachHook;return this.beforeEachHook=()=>t(n),this}afterEach(t){const n=this.afterEachHook;return this.afterEachHook=()=>t(n),this}}xs.dummyHook=()=>{};function U8(...e){if(e.length<2)throw new Error("property expects at least two parameters");const t=Mt(e,0,e.length-1),n=e[e.length-1];Ny(t,vy);const r=Q(t,s=>new zy(s));return new xs(z(...r),s=>n(...s))}var V8=214013,q8=2531011,W8=4294967295,z8=(1<<31)-1,s0=function(e){return e*V8+q8&W8},i0=function(e){return(e&z8)>>16},Gy=(function(){function e(t){this.seed=t}return e.prototype.clone=function(){return new e(this.seed)},e.prototype.next=function(){var t=new e(this.seed),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=s0(this.seed),n=i0(t),r=s0(t),s=i0(r);this.seed=s0(r);var i=i0(this.seed),o=i+(s+(n<<15)<<15);return o|0},e.prototype.getState=function(){return[this.seed]},e})();function G8(e){var t=e.length===1;if(!t)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new Gy(e[0])}var H8=Object.assign(function(e){return new Gy(e)},{fromState:G8}),K8=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){o={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},J8=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Hy=(function(){function e(t,n){this.states=t,this.index=n}return e.twist=function(t){for(var n=t.slice(),r=0;r!==e.N-e.M;++r){var s=(n[r]&e.MASK_UPPER)+(n[r+1]&e.MASK_LOWER);n[r]=n[r+e.M]^s>>>1^-(s&1)&e.A}for(var r=e.N-e.M;r!==e.N-1;++r){var i=(n[r]&e.MASK_UPPER)+(n[r+1]&e.MASK_LOWER);n[r]=n[r+e.M-e.N]^i>>>1^-(i&1)&e.A}var o=(n[e.N-1]&e.MASK_UPPER)+(n[0]&e.MASK_LOWER);return n[e.N-1]=n[e.M-1]^o>>>1^-(o&1)&e.A,n},e.seeded=function(t){var n=Array(e.N);n[0]=t;for(var r=1;r!==e.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(e.F,s)+r|0}return n},e.from=function(t){return new e(e.twist(e.seeded(t)),0)},e.prototype.clone=function(){return new e(this.states,this.index)},e.prototype.next=function(){var t=new e(this.states,this.index),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.states[this.index];return t^=this.states[this.index]>>>e.U,t^=t<<e.S&e.B,t^=t<<e.T&e.C,t^=t>>>e.L,++this.index>=e.N&&(this.states=e.twist(this.states),this.index=0),t},e.prototype.getState=function(){return J8([this.index],K8(this.states),!1)},e.fromState=function(t){var n=t.length===e.N+1&&t[0]>=0&&t[0]<e.N;if(!n)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new e(t.slice(1),t[0])},e.N=624,e.M=397,e.R=31,e.A=2567483615,e.F=1812433253,e.U=11,e.S=7,e.B=2636928640,e.T=15,e.C=4022730752,e.L=18,e.MASK_LOWER=Math.pow(2,e.R)-1,e.MASK_UPPER=Math.pow(2,e.R),e})();function Y8(e){return Hy.fromState(e)}var Z8=Object.assign(function(e){return Hy.from(e)},{fromState:Y8}),Ky=(function(){function e(t,n,r,s){this.s01=t,this.s00=n,this.s11=r,this.s10=s}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=t^this.s10^(t>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var t=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],o=0;o!==4;++o)for(var u=1;u;u<<=1)i[o]&u&&(t^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=t,this.s00=n,this.s11=r,this.s10=s},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e})();function X8(e){var t=e.length===4;if(!t)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new Ky(e[0],e[1],e[2],e[3])}var Q8=Object.assign(function(e){return new Ky(-1,~e,e|0,0)},{fromState:X8}),Jy=(function(){function e(t,n,r,s){this.s01=t,this.s00=n,this.s11=r,this.s10=s}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10),n=t.unsafeNext();return[n,t]},e.prototype.unsafeNext=function(){var t=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,t},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var t=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],o=0;o!==4;++o)for(var u=1;u;u<<=1)i[o]&u&&(t^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=t,this.s00=n,this.s11=r,this.s10=s},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e})();function tT(e){var t=e.length===4;if(!t)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new Jy(e[0],e[1],e[2],e[3])}var eT=Object.assign(function(e){return new Jy(-1,~e,e|0,0)},{fromState:tT});function Yy(e,t){if(e.sign!==t.sign)return ql(e,{sign:-t.sign,data:t.data});for(var n=[],r=0,s=e.data,i=t.data,o=s.length-1,u=i.length-1;o>=0||u>=0;--o,--u){var c=o>=0?s[o]:0,f=u>=0?i[u]:0,h=c+f+r;n.push(h>>>0),r=~~(h/4294967296)}return r!==0&&n.push(r),{sign:e.sign,data:n.reverse()}}function nT(e){e.sign=1;for(var t=e.data,n=t.length-1;n>=0;--n)if(t[n]===4294967295)t[n]=0;else return t[n]+=1,e;return t.unshift(1),e}function rT(e,t){for(var n=Math.max(e.length,t.length),r=0;r<n;++r){var s=r+e.length-n,i=r+t.length-n,o=s>=0?e[s]:0,u=i>=0?t[i]:0;if(o<u)return!0;if(o>u)return!1}return!1}function ql(e,t){if(e.sign!==t.sign)return Yy(e,{sign:-t.sign,data:t.data});var n=e.data,r=t.data;if(rT(n,r)){var s=ql(t,e);return s.sign=-s.sign,s}for(var i=[],o=0,u=n.length-1,c=r.length-1;u>=0||c>=0;--u,--c){var f=u>=0?n[u]:0,h=c>=0?r[c]:0,x=f-h-o;i.push(x>>>0),o=x<0?1:0}return{sign:e.sign,data:i.reverse()}}function P1(e){for(var t=e.data,n=0;n!==t.length&&t[n]===0;++n);return n===t.length?(e.sign=1,e.data=[0],e):(t.splice(0,n),e)}function Zy(e,t){for(var n=e>2?~~(4294967296/e)*e:4294967296,r=t.unsafeNext()+2147483648;r>=n;)r=t.unsafeNext()+2147483648;return r%e}function Xy(e,t,n){for(var r=t.length;;){for(var s=0;s!==r;++s){var i=s===0?t[0]+1:4294967296,o=Zy(i,n);e[s]=o}for(var s=0;s!==r;++s){var u=e[s],c=t[s];if(u<c)return e;if(u>c)break}}}function kc(e,t,n){var r=P1(nT(ql(t,e))),s=r.data.slice(0),i=Xy(s,r.data,n);return P1(Yy({sign:1,data:i},e))}function sT(e,t,n){if(n!=null){var r=n.clone();return[kc(e,t,r),r]}return function(s){var i=s.clone();return[kc(e,t,i),i]}}var j1=typeof BigInt<"u"?BigInt:void 0,iT=typeof BigInt<"u"?BigInt(1):void 0,Qy=typeof BigInt<"u"?BigInt(32):void 0,aT=typeof BigInt<"u"?BigInt(4294967296):void 0;function Oo(e,t,n){for(var r=t-e+iT,s=aT,i=1;s<r;)s<<=Qy,++i;var o=L1(i,n);if(o<r)return o+e;if(o+r<s)return o%r+e;for(var u=s-s%r;o>=u;)o=L1(i,n);return o%r+e}function L1(e,t){for(var n=j1(t.unsafeNext()+2147483648),r=1;r<e;++r){var s=t.unsafeNext();n=(n<<Qy)+j1(s+2147483648)}return n}function oT(e,t,n){if(n!=null){var r=n.clone();return[Oo(e,t,r),r]}return function(s){var i=s.clone();return[Oo(e,t,i),i]}}function a0(e,t){if(t<0){var n=-t;e.sign=-1,e.data[0]=~~(n/4294967296),e.data[1]=n>>>0}else e.sign=1,e.data[0]=~~(t/4294967296),e.data[1]=t>>>0;return e}function uT(e,t,n){var r=t.data[1],s=t.data[0],i=t.sign,o=n.data[1],u=n.data[0],c=n.sign;if(e.sign=1,i===1&&c===-1){var f=r+o,h=s+u+(f>4294967295?1:0);return e.data[0]=h>>>0,e.data[1]=f>>>0,e}var x=r,g=s,d=o,b=u;i===-1&&(x=o,g=u,d=r,b=s);var S=0,m=x-d;return m<0&&(S=1,m=m>>>0),e.data[0]=g-b-S,e.data[1]=m,e}var cT=Number.MAX_SAFE_INTEGER,fT={sign:1,data:[0,0]},lT={sign:1,data:[0,0]},U1={sign:1,data:[0,0]},o0=[0,0];function hT(e,t,n,r){var s=n<=cT?a0(U1,n):uT(U1,a0(fT,t),a0(lT,e));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,Xy(o0,s.data,r),o0[0]*4294967296+o0[1]+e}function jr(e,t,n){var r=t-e;if(r<=4294967295){var s=Zy(r+1,n);return s+e}return hT(e,t,r,n)}function xT(e,t,n){if(n!=null){var r=n.clone();return[jr(e,t,r),r]}return function(s){var i=s.clone();return[jr(e,t,i),i]}}function Wl(e,t){for(var n=0;n!=t;++n)e.unsafeNext()}function t2(e,t){var n=e.clone();return Wl(n,t),n}function e2(e,t){for(var n=[],r=0;r!=t;++r)n.push(e.unsafeNext());return n}function pT(e,t){var n=e.clone(),r=e2(n,t);return[r,n]}var mT="module",gT="7.0.1",dT="2248506b66d969d1a8b477a4dde8e24cbac33e6a",Rs=Object.freeze({__proto__:null,__commitHash:dT,__type:mT,__version:gT,congruential32:H8,generateN:pT,mersenne:Z8,skipN:t2,uniformArrayIntDistribution:sT,uniformBigIntDistribution:oT,uniformIntDistribution:xT,unsafeGenerateN:e2,unsafeSkipN:Wl,unsafeUniformArrayIntDistribution:kc,unsafeUniformBigIntDistribution:Oo,unsafeUniformIntDistribution:jr,xoroshiro128plus:eT,xorshift128plus:Q8}),Rt;(function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.VeryVerbose=2]="VeryVerbose"})(Rt||(Rt={}));const bT=Date.now,yT=Math.min,ST=Math.random;class bt{constructor(t){const n=t||{};this.seed=bt.readSeed(n),this.randomType=bt.readRandomType(n),this.numRuns=bt.readNumRuns(n),this.verbose=bt.readVerbose(n),this.maxSkipsPerRun=n.maxSkipsPerRun!==void 0?n.maxSkipsPerRun:100,this.timeout=bt.safeTimeout(n.timeout),this.skipAllAfterTimeLimit=bt.safeTimeout(n.skipAllAfterTimeLimit),this.interruptAfterTimeLimit=bt.safeTimeout(n.interruptAfterTimeLimit),this.markInterruptAsFailure=n.markInterruptAsFailure===!0,this.skipEqualValues=n.skipEqualValues===!0,this.ignoreEqualValues=n.ignoreEqualValues===!0,this.logger=n.logger!==void 0?n.logger:r=>{console.log(r)},this.path=n.path!==void 0?n.path:"",this.unbiased=n.unbiased===!0,this.examples=n.examples!==void 0?n.examples:[],this.endOnFailure=n.endOnFailure===!0,this.reporter=n.reporter,this.asyncReporter=n.asyncReporter,this.includeErrorInReport=n.includeErrorInReport===!0}toParameters(){return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:this.timeout,skipAllAfterTimeLimit:this.skipAllAfterTimeLimit,interruptAfterTimeLimit:this.interruptAfterTimeLimit,markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:this.reporter,asyncReporter:this.asyncReporter,includeErrorInReport:this.includeErrorInReport}}static read(t){return new bt(t)}}bt.createQualifiedRandomGenerator=e=>t=>{const n=e(t);return n.unsafeJump===void 0&&(n.unsafeJump=()=>Wl(n,42)),n};bt.readSeed=e=>{if(e.seed===void 0)return bT()^ST()*4294967296;const t=e.seed|0;if(e.seed===t)return t;const n=e.seed-t;return t^n*4294967296};bt.readRandomType=e=>{if(e.randomType===void 0)return Rs.xorshift128plus;if(typeof e.randomType=="string")switch(e.randomType){case"mersenne":return bt.createQualifiedRandomGenerator(Rs.mersenne);case"congruential":case"congruential32":return bt.createQualifiedRandomGenerator(Rs.congruential32);case"xorshift128plus":return Rs.xorshift128plus;case"xoroshiro128plus":return Rs.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${e.randomType}'`)}const t=e.randomType(0);if("min"in t&&t.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(t.min)}`);if("max"in t&&t.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(t.max)}`);return"unsafeJump"in t?e.randomType:bt.createQualifiedRandomGenerator(e.randomType)};bt.readNumRuns=e=>e.numRuns!==void 0?e.numRuns:e.num_runs!==void 0?e.num_runs:100;bt.readVerbose=e=>e.verbose===void 0?Rt.None:typeof e.verbose=="boolean"?e.verbose===!0?Rt.Verbose:Rt.None:e.verbose<=Rt.None?Rt.None:e.verbose>=Rt.VeryVerbose?Rt.VeryVerbose:e.verbose|0;bt.safeTimeout=e=>{if(e!==void 0)return yT(e,2147483647)};function FT(e,t,n){let r=null;const s=new Promise(i=>{r=t(()=>{const o=new pe(!0);i(o)},e)});return{clear:()=>n(r),promise:s}}class V1{constructor(t,n,r,s,i,o){this.property=t,this.getTime=n,this.interruptExecution=s,this.setTimeoutSafe=i,this.clearTimeoutSafe=o,this.skipAfterTime=this.getTime()+r}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}run(t){const n=this.skipAfterTime-this.getTime();if(n<=0){const r=new pe(this.interruptExecution);return this.isAsync()?Promise.resolve(r):r}if(this.interruptExecution&&this.isAsync()){const r=FT(n,this.setTimeoutSafe,this.clearTimeoutSafe),s=Promise.race([this.property.run(t),r.promise]);return s.then(r.clear,r.clear),s}return this.property.run(t)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const AT=(e,t,n)=>{let r=null;const s=new Promise(i=>{r=t(()=>{i({error:new B(`Property timeout: exceeded limit of ${e} milliseconds`)})},e)});return{clear:()=>n(r),promise:s}};class wT{constructor(t,n,r,s){this.property=t,this.timeMs=n,this.setTimeoutSafe=r,this.clearTimeoutSafe=s}isAsync(){return!0}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}async run(t){const n=AT(this.timeMs,this.setTimeoutSafe,this.clearTimeoutSafe),r=Promise.race([this.property.run(t),n.promise]);return r.then(n.clear,n.clear),r}runBeforeEach(){return Promise.resolve(this.property.runBeforeEach())}runAfterEach(){return Promise.resolve(this.property.runAfterEach())}}class n2{constructor(t){this.property=t}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,void 0)}shrink(t){return this.property.shrink(t)}run(t){return this.property.run(t)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const q1=Array.from,W1=typeof Buffer<"u"?Buffer.isBuffer:void 0,Ir=JSON.stringify,z1=Number.isNaN,_T=Object.keys,ET=Object.getOwnPropertySymbols,CT=Object.getOwnPropertyDescriptor,G1=Object.getPrototypeOf,H1=Number.NEGATIVE_INFINITY,IT=Number.POSITIVE_INFINITY,sn=Symbol.for("fast-check/toStringMethod");function zl(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&sn in e&&typeof e[sn]=="function"}const an=Symbol.for("fast-check/asyncToStringMethod");function Gl(e){return e!==null&&(typeof e=="object"||typeof e=="function")&&an in e&&typeof e[an]=="function"}const kT=/^Symbol\((.*)\)$/;function vT(e){if(e.description!==void 0)return e.description;const t=kT.exec(Sr(e));return t&&t[1].length?t[1]:null}function K1(e){switch(e){case 0:return 1/e===H1?"-0":"0";case H1:return"Number.NEGATIVE_INFINITY";case IT:return"Number.POSITIVE_INFINITY";default:return e===e?Sr(e):"Number.NaN"}}function TT(e){let t=-1;for(const n in e){const r=Number(n);if(r!==t+1)return!0;t=r}return t+1!==e.length}function Qt(e,t,n){const r=[...t,e];if(typeof e=="object"&&Ye(t,e)!==-1)return"[cyclic]";if(Gl(e)){const s=n(e);if(s.state==="fulfilled")return s.value}if(zl(e))try{return e[sn]()}catch{}switch(Ic(e)){case"[object Array]":{const s=e;if(s.length>=50&&TT(s)){const o=[];for(const u in s)z1(Number(u))||M(o,`${u}:${Qt(s[u],r,n)}`);return o.length!==0?`Object.assign(Array(${s.length}),{${at(o,",")}})`:`Array(${s.length})`}const i=at(Q(s,o=>Qt(o,r,n)),",");return s.length===0||s.length-1 in s?`[${i}]`:`[${i},]`}case"[object BigInt]":return`${e}n`;case"[object Boolean]":{const s=e==!0?"true":"false";return typeof e=="boolean"?s:`new Boolean(${s})`}case"[object Date]":{const s=e;return z1(To(s))?"new Date(NaN)":`new Date(${Ir(i8(s))})`}case"[object Map]":return`new Map(${Qt(Array.from(e),r,n)})`;case"[object Null]":return"null";case"[object Number]":return typeof e=="number"?K1(e):`new Number(${K1(Number(e))})`;case"[object Object]":{try{const o=e.toString;if(typeof o=="function"&&o!==Object.prototype.toString)return e.toString()}catch{return"[object Object]"}const s=o=>`${o==="__proto__"?'["__proto__"]':typeof o=="symbol"?`[${Qt(o,r,n)}]`:Ir(o)}:${Qt(e[o],r,n)}`,i=[...G1(e)===null?["__proto__:null"]:[],...Q(_T(e),s),...Q(n8(ET(e),o=>{const u=CT(e,o);return u&&u.enumerable}),s)];return"{"+at(i,",")+"}"}case"[object Set]":return`new Set(${Qt(Array.from(e),r,n)})`;case"[object String]":return typeof e=="string"?Ir(e):`new String(${Ir(e)})`;case"[object Symbol]":{const s=e;if(Ya.keyFor(s)!==void 0)return`Symbol.for(${Ir(Ya.keyFor(s))})`;const i=vT(s);if(i===null)return"Symbol()";const o=i.startsWith("Symbol.")&&Ya[i.substring(7)];return s===o?i:`Symbol(${Ir(i)})`}case"[object Promise]":{const s=n(e);switch(s.state){case"fulfilled":return`Promise.resolve(${Qt(s.value,r,n)})`;case"rejected":return`Promise.reject(${Qt(s.value,r,n)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(e instanceof Error)return`new Error(${Qt(e.message,r,n)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof W1=="function"&&W1(e))return`Buffer.from(${Qt(q1(e.values()),r,n)})`;const s=G1(e),i=s&&s.constructor&&s.constructor.name;if(typeof i=="string"){const u=e.values();return`${i}.from(${Qt(q1(u),r,n)})`}break}}try{return e.toString()}catch{return Ic(e)}}function At(e){return Qt(e,[],()=>({state:"unknown",value:void 0}))}function r2(e){const t=Ya(),n=[],r=new Yi;function s(){let c=null;const f=()=>{c!==null&&clearTimeout(c)};return{delay:new Promise(x=>{c=setTimeout(()=>{c=null,x(t)},0)}),cancel:f}}const i={state:"unknown",value:void 0},o=function(f){const h=f;if(r.has(h))return r.get(h);const x=s(),g=an in f?Promise.resolve().then(()=>f[an]()):f;return g.catch(()=>{}),n.push(Promise.race([g,x.delay]).then(d=>{d===t?r.set(h,{state:"pending",value:void 0}):r.set(h,{state:"fulfilled",value:d}),x.cancel()},d=>{r.set(h,{state:"rejected",value:d}),x.cancel()})),r.set(h,i),i};function u(){const c=Qt(e,[],o);return n.length===0?c:Promise.all(n.splice(0)).then(u)}return u()}async function Hl(e){return Promise.resolve(r2(e))}function J1(e){return e===null?new pe:e}function $T(...e){return e[1]?e[0].then(J1):J1(e[0])}function OT(e,t){return $T(e,t)}class Y1{constructor(t,n){this.property=t,this.skipRuns=n,this.coveredCases=new Map}isAsync(){return this.property.isAsync()}generate(t,n){return this.property.generate(t,n)}shrink(t){return this.property.shrink(t)}run(t){const n=At(t);if(this.coveredCases.has(n)){const s=this.coveredCases.get(n);return this.skipRuns?OT(s,this.property.isAsync()):s}const r=this.property.run(t);return this.coveredCases.set(n,r),r}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const Z1=Date.now,u0=setTimeout,c0=clearTimeout;function BT(e,t){let n=e;return e.isAsync()&&t.timeout!==void 0&&(n=new wT(n,t.timeout,u0,c0)),t.unbiased&&(n=new n2(n)),t.skipAllAfterTimeLimit!==void 0&&(n=new V1(n,Z1,t.skipAllAfterTimeLimit,!1,u0,c0)),t.interruptAfterTimeLimit!==void 0&&(n=new V1(n,Z1,t.interruptAfterTimeLimit,!0,u0,c0)),t.skipEqualValues&&(n=new Y1(n,!0)),t.ignoreEqualValues&&(n=new Y1(n,!1)),n}var Ze;(function(e){e[e.Success=0]="Success",e[e.Skipped=-1]="Skipped",e[e.Failure=1]="Failure"})(Ze||(Ze={}));class Cu{constructor(t,n){this.verbosity=t,this.interruptedAsFailure=n,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+Wt(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?Wt(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(t,n){const r={status:t,value:n,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(t,n,r){if(this.verbosity>=Rt.Verbose){const s=this.appendExecutionTree(Ze.Failure,t);this.currentLevelExecutionTrees=s.children}this.pathToFailure==null?this.pathToFailure=`${n}`:this.pathToFailure+=`:${n}`,this.value=t,this.failure=r}skip(t){this.verbosity>=Rt.VeryVerbose&&this.appendExecutionTree(Ze.Skipped,t),this.pathToFailure==null&&++this.numSkips}success(t){this.verbosity>=Rt.VeryVerbose&&this.appendExecutionTree(Ze.Success,t),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];const t=[];let n=this.rootExecutionTrees;for(;n.length>0&&n[n.length-1].status===Ze.Failure;){const r=n[n.length-1];t.push(r.value),n=r.children}return t}toRunDetails(t,n,r,s){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:t,counterexample:this.value,counterexamplePath:Cu.mergePaths(n,this.pathToFailure),errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()};const i=this.interruptedAsFailure||this.numSuccesses===0;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:t,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()}}}Cu.mergePaths=(e,t)=>{if(e.length===0)return t;const n=e.split(":"),r=t.split(":"),s=+n[n.length-1]+ +r[0];return[...n.slice(0,n.length-1),`${s}`,...r.slice(1)].join(":")};class s2{constructor(t,n,r,s){this.sourceValues=t,this.shrink=n,this.runExecution=new Cu(r,s),this.currentIdx=-1,this.nextValues=t}[Symbol.iterator](){return this}next(){const t=this.nextValues.next();return t.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentValue=t.value,++this.currentIdx,{done:!1,value:t.value.value_})}handleResult(t){t!=null&&typeof t=="object"&&!pe.isFailure(t)?(this.runExecution.fail(this.currentValue.value_,this.currentIdx,t),this.currentIdx=-1,this.nextValues=this.shrink(this.currentValue)):t!=null?t.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentValue.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentValue.value_)}}class MT{constructor(t,n,r){this.initialValues=t,this.maxInitialIterations=n,this.remainingSkips=r}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){const t=this.initialValues.next();if(!t.done)return{value:t.value,done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}class te{constructor(t){this.internalRng=t.clone()}clone(){return new te(this.internalRng)}next(t){return jr(0,(1<<t)-1,this.internalRng)}nextBoolean(){return jr(0,1,this.internalRng)==1}nextInt(t,n){return jr(t??te.MIN_INT,n??te.MAX_INT,this.internalRng)}nextBigInt(t,n){return Oo(t,n,this.internalRng)}nextDouble(){const t=this.next(26),n=this.next(27);return(t*te.DBL_FACTOR+n)*te.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&typeof this.internalRng.getState=="function")return this.internalRng.getState()}}te.MIN_INT=-2147483648;te.MAX_INT=2147483647;te.DBL_FACTOR=Math.pow(2,27);te.DBL_DIVISOR=Math.pow(2,-53);function NT(e,t,n){return t.unsafeJump(),e.generate(new te(t),n)}function*i2(e,t,n,r){for(let s=0;s!==r.length;++s)yield new O(r[s],void 0);for(let s=0,i=n(t);;++s)yield NT(e,i,s)}function DT(e,t,n){return()=>e.generate(new te(t),n)}function*a2(e,t,n,r){yield*Q(r,o=>()=>new O(o,void 0));let s=0,i=n(t);for(;;)i=i.jump?i.jump():t2(i,42),yield DT(e,i,s++)}function X1(e){return e()}function o2(e,t,n){const r=t,s=e.split(":").map(o=>+o);if(s.length===0)return r.map(X1);if(!s.every(o=>!Number.isNaN(o)))throw new Error(`Unable to replay, got invalid path=${e}`);let i=r.drop(s[0]).map(X1);for(const o of s.slice(1)){const u=i.getNthOrLast(0);if(u===null)throw new Error(`Unable to replay, got wrong path=${e}`);i=n(u).drop(o)}return i}const RT=Object.assign;function PT(e){return e.length===1?`Hint: ${e[0]}`:e.map((t,n)=>`Hint (${n+1}): ${t}`).join(`
`)}function jT(e,t){return`Encountered failures were:
- ${e.map(t).join(`
- `)}`}function Kl(e,t){const n=[],r=[];for(const s of e.slice().reverse())r.push({depth:1,tree:s});for(;r.length!==0;){const s=r.pop(),i=s.tree,o=s.depth,u=i.status===Ze.Success?"\x1B[32m√\x1B[0m":i.status===Ze.Failure?"\x1B[31m×\x1B[0m":"\x1B[33m!\x1B[0m",c=Array(o).join(". ");n.push(`${c}${u} ${t(i.value)}`);for(const f of i.children.slice().reverse())r.push({depth:o+1,tree:f})}return`Execution summary:
${n.join(`
`)}`}function LT(e,t){const n=`Failed to run property, too many pre-condition failures encountered
{ seed: ${e.seed} }

Ran ${e.numRuns} time(s)
Skipped ${e.numSkips} time(s)`;let r=null;const s=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return e.verbose>=Rt.VeryVerbose?r=Kl(e.executionSummary,t):M(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function UT(e){if(e instanceof B&&e.stack!==void 0)return e.stack;try{return Sr(e)}catch{}if(e instanceof B)try{return B8(e)}catch{}if(e!==null&&typeof e=="object")try{return Ic(e)}catch{}return"Failed to serialize errorInstance"}function VT(e,t){const r=e.runConfiguration.includeErrorInReport?`
Got ${k8(UT(e.errorInstance),/^Error: /,"error: ")}`:"",s=`Property failed after ${e.numRuns} tests
{ seed: ${e.seed}, path: "${e.counterexamplePath}", endOnFailure: true }
Counterexample: ${t(e.counterexample)}
Shrunk ${e.numShrinks} time(s)${r}`;let i=null;const o=[];return e.verbose>=Rt.VeryVerbose?i=Kl(e.executionSummary,t):e.verbose===Rt.Verbose?i=jT(e.failures,t):M(o,"Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:s,details:i,hints:o}}function qT(e,t){const n=`Property interrupted after ${e.numRuns} tests
{ seed: ${e.seed} }`;let r=null;const s=[];return e.verbose>=Rt.VeryVerbose?r=Kl(e.executionSummary,t):M(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function vc(e,t){if(!e.failed)return;const{message:n,details:r,hints:s}=e.counterexamplePath===null?e.interrupted?qT(e,t):LT(e,t):VT(e,t);let i=n;return r!=null&&(i+=`

${r}`),s.length>0&&(i+=`

${PT(s)}`),i}function u2(e){return vc(e,At)}async function c2(e){const t=[];function n(o){const u=r2(o);return typeof u=="string"?u:(t.push(Promise.all([o,u])),"…")}const r=vc(e,n);if(t.length===0)return r;const s=new Yi(await Promise.all(t));function i(o){const u=In(s,o);return u!==void 0?u:At(o)}return vc(e,i)}function f2(e,t){if(t.runConfiguration.includeErrorInReport)throw new B(e);const n=B,r=new n(e,{cause:t.errorInstance});return"cause"in r||RT(r,{cause:t.errorInstance}),r}function WT(e){if(e.failed)throw f2(u2(e),e)}async function zT(e){if(e.failed)throw f2(await c2(e),e)}function GT(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):WT(e)}async function HT(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):zT(e)}function KT(e,t,n,r,s){const i=new s2(n,t,r,s);for(const o of i){e.runBeforeEach();const u=e.run(o);e.runAfterEach(),i.handleResult(u)}return i.runExecution}async function JT(e,t,n,r,s){const i=new s2(n,t,r,s);for(const o of i){await e.runBeforeEach();const u=await e.run(o);await e.runAfterEach(),i.handleResult(u)}return i.runExecution}function l2(e,t){if(e==null||e.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(e.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");const n=bt.read({...ve(),...t});if(n.reporter!==void 0&&n.asyncReporter!==void 0)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(n.asyncReporter!==void 0&&!e.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");const r=BT(e,n),s=n.path.length===0||n.path.indexOf(":")===-1?n.numRuns:-1,i=n.numRuns*n.maxSkipsPerRun,o=(...h)=>r.shrink(...h),u=n.path.length===0?i2(r,n.seed,n.randomType,n.examples):o2(n.path,Cn(a2(r,n.seed,n.randomType,n.examples)),o),c=new MT(u,s,i),f=n.endOnFailure?N.nil:o;return r.isAsync()?JT(r,f,c,n.verbose,n.markInterruptAsFailure).then(h=>h.toRunDetails(n.seed,n.path,i,n)):KT(r,f,c,n.verbose,n.markInterruptAsFailure).toRunDetails(n.seed,n.path,i,n)}function YT(e,t){const n=l2(e,t);if(e.isAsync())return n.then(HT);GT(n)}function ZT(e,t){const n=Object.prototype.hasOwnProperty.call(e,"isAsync")?e:new xs(e,()=>!0);return t.unbiased===!0?new n2(n):n}function h2(e,t){const n=typeof t=="number"?{...ve(),numRuns:t}:{...ve(),...t},r=bt.read(n),s=ZT(e,r),i=s.shrink.bind(s);return(r.path.length===0?Cn(i2(s,r.seed,r.randomType,r.examples)):o2(r.path,Cn(a2(s,r.seed,r.randomType,r.examples)),i)).take(r.numRuns).map(u=>u.value_)}function XT(e,t){return[...h2(e,t)]}function QT(e){return(Math.round(e*100)/100).toFixed(2)}function t7(e,t,n){const r=typeof n=="number"?{...ve(),numRuns:n}:{...ve(),...n},s=bt.read(r),i={};for(const f of h2(e,n)){const h=t(f),x=Array.isArray(h)?h:[h];for(const g of x)i[g]=(i[g]||0)+1}const o=Object.entries(i).sort((f,h)=>h[1]-f[1]).map(f=>[f[0],`${QT(f[1]*100/s.numRuns)}%`]),u=o.map(f=>f[0].length).reduce((f,h)=>Math.max(f,h),0),c=o.map(f=>f[1].length).reduce((f,h)=>Math.max(f,h),0);for(const f of o)s.logger(`${f[0].padEnd(u,".")}..${f[1].padStart(c,".")}`)}const e7=Object.assign;function Tc(e,t,n,r){const s=n();let i=e.clone();const o={mrng:e.clone(),biasFactor:t,history:[]},u=x=>{const g=s[o.history.length];if(g!==void 0&&g.arb===x){const b=g.value;return M(o.history,{arb:x,value:b,context:g.context,mrng:g.mrng}),i=g.mrng.clone(),b}const d=x.generate(i,t);return M(o.history,{arb:x,value:d.value_,context:d.context,mrng:i.clone()}),d.value},c=(x,...g)=>u(r(x,g)),f={values(){return Q(o.history,x=>x.value)},[Ot](){return Tc(e,t,n,r).value},[sn](){return At(Q(o.history,x=>x.value))}},h=e7(c,f);return new O(h,o)}const f0=Array.isArray,Q1=Object.keys,n7=Object.is;function r7(e){const t=new Yi;return function(r,s){const i=In(t,r);if(i===void 0){const c=r(...s);return cr(t,r,[{args:s,value:c}]),c}const o=i;for(const c of o)if(e(s,c.args))return c.value;const u=r(...s);return M(o,{args:s,value:u}),u}}function x2(e,t){if(e!==null&&typeof e=="object"&&t!==null&&typeof t=="object"){if(f0(e)){if(!f0(t)||e.length!==t.length)return!1}else if(f0(t))return!1;if(Q1(e).length!==Q1(t).length)return!1;for(const n in e)if(!(n in t)||!x2(e[n],t[n]))return!1;return!0}else return n7(e,t)}class s7 extends lt{constructor(){super(...arguments),this.arbitraryCache=r7(x2)}generate(t,n){return Tc(t,n,()=>[],this.arbitraryCache)}canShrinkWithoutContext(t){return!1}shrink(t,n){if(n===void 0)return N.nil();const r=n,s=r.mrng,i=r.biasFactor,o=r.history;return qy(o.map(u=>u.arb),o.map(u=>u.value),o.map(u=>u.context)).map(u=>{function c(){const f=u.value,h=u.context;return Q(o,(x,g)=>({arb:x.arb,value:f[g],context:h[g],mrng:x.mrng}))}return Tc(s,i,c,this.arbitraryCache)})}}function i7(){return new s7}const a7=Math.floor,tp=Math.log;function o7(e){return a7(tp(e)/tp(2))}function u7(e){return e===I(0)?I(0):I(Sr(e).length)}function p2(e,t,n){if(e===t)return[{min:e,max:t}];if(e<0&&t>0){const o=n(-e),u=n(t);return[{min:-o,max:u},{min:t-u,max:t},{min:e,max:e+o}]}const r=n(t-e),s={min:e,max:e+r},i={min:t-r,max:t};return e<0?[i,s]:[s,i]}const c7=Math.ceil,f7=Math.floor;function ep(e){return f7(e/2)}function np(e){return c7(e/2)}function rp(e,t,n){const r=e-t;function*s(){let o=n?void 0:t;const u=n?r:ep(r);for(let c=u;c>0;c=ep(c)){const f=c===r?t:e-c;yield new O(f,o),o=f}}function*i(){let o=n?void 0:t;const u=n?r:np(r);for(let c=u;c<0;c=np(c)){const f=c===r?t:e-c;yield new O(f,o),o=f}}return r>0?Cn(s()):Cn(i())}const sp=Math.sign,l7=Number.isInteger,h7=Object.is;class kn extends lt{constructor(t,n){super(),this.min=t,this.max=n}generate(t,n){const r=this.computeGenerateRange(t,n);return new O(t.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(t){return typeof t=="number"&&l7(t)&&!h7(t,-0)&&this.min<=t&&t<=this.max}shrink(t,n){if(!kn.isValidContext(t,n)){const r=this.defaultTarget();return rp(t,r,!0)}return this.isLastChanceTry(t,n)?N.of(new O(n,void 0)):rp(t,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(t,n){if(n===void 0||t.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=p2(this.min,this.max,o7);if(r.length===1)return r[0];const s=t.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(t,n){return t>0?t===n+1&&t>this.min:t<0?t===n-1&&t<this.max:!1}static isValidContext(t,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&sp(t)!==sp(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const ip=Number.isInteger;function x7(e){const t=e.min!==void 0?e.min:-2147483648,n=e.max!==void 0?e.max:2147483647;return{min:t,max:n}}function rt(e={}){const t=x7(e);if(t.min>t.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!ip(t.min))throw new Error("fc.integer minimum value should be an integer");if(!ip(t.max))throw new Error("fc.integer maximum value should be an integer");return new kn(t.min,t.max)}const ap=new Map;function Jl(e){if(e===void 0)return{depth:0};if(typeof e!="string")return e;const t=In(ap,e);if(t!==void 0)return t;const n={depth:0};return cr(ap,e,n),n}function m2(){return{depth:0}}class p7{constructor(t,n,r){this.arb=t,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const m7=Math.min,g7=Math.max;class d7{constructor(t,n,r,s){this.arb=t,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(t){if(t!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===t&&M(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=t-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new O(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const t=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=t.length-1,new O(t[0],void 0);const n=this.mrng.nextInt(0,t.length-1),r=this.mrng.nextInt(0,t.length-1);return this.nextIndexInSlice=m7(n,r),this.lastIndexInSlice=g7(n,r),new O(t[this.nextIndexInSlice++],void 0)}}function op(e,t,n,r){return r===void 0||n.length===0||t.nextInt(1,r)!==1?new p7(e,t,r):new d7(e,t,n,r)}const b7=Math.floor,up=Math.log,cp=Math.max,y7=Array.isArray;function l0(e,t){return e===t?e:e+b7(up(t-e)/up(2))}class Iu extends lt{constructor(t,n,r,s,i,o,u){super(),this.arb=t,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=o,this.customSlices=u,this.lengthArb=rt({min:n,max:r}),this.depthContext=Jl(i)}preFilter(t){if(this.setBuilder===void 0)return t;const n=this.setBuilder();for(let r=0;r!==t.length;++r)n.tryAdd(t[r]);return n.getData()}static makeItCloneable(t,n){return t[Ot]=()=>{const r=[];for(let s=0;s!==n.length;++s)M(r,n[s].value);return this.makeItCloneable(r,n),r},t}generateNItemsNoDuplicates(t,n,r,s){let i=0;const o=t(),u=op(this.arb,r,this.customSlices,s);for(;o.size()<n&&i<this.maxGeneratedLength;){const c=u.next();o.tryAdd(c)?i=0:i+=1}return o.getData()}safeGenerateNItemsNoDuplicates(t,n,r,s){const i=cp(0,n-l0(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(t,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(t,n,r){const s=[],i=op(this.arb,n,this.customSlices,r);i.attemptExact(t);for(let o=0;o!==t;++o){const u=i.next();M(s,u)}return s}safeGenerateNItems(t,n,r){const s=cp(0,t-l0(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(t,n,r)}finally{this.depthContext.depth-=s}}wrapper(t,n,r,s){const i=n?this.preFilter(t):t;let o=!1;const u=[],c=[];for(let h=0;h!==i.length;++h){const x=i[h];o=o||x.hasToBeCloned,M(u,x.value),M(c,x.context)}o&&Iu.makeItCloneable(u,i);const f={shrunkOnce:n,lengthContext:t.length===i.length&&r!==void 0?r:void 0,itemsContexts:c,startIndex:s};return new O(u,f)}generate(t,n){const r=this.applyBias(t,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,t,r.biasFactorItems):this.safeGenerateNItems(s,t,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(t,n){if(n===void 0)return{size:this.lengthArb.generate(t,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(t,void 0).value,biasFactorItems:n};if(t.nextInt(1,n)!==1)return{size:this.lengthArb.generate(t,void 0).value};if(t.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(t,void 0).value,biasFactorItems:n};const r=l0(this.minLength,this.maxGeneratedLength);return{size:rt({min:this.minLength,max:r}).generate(t,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(t){if(!y7(t)||this.minLength>t.length||t.length>this.maxLength)return!1;for(let r=0;r!==t.length;++r)if(!(r in t)||!this.arb.canShrinkWithoutContext(t[r]))return!1;return this.preFilter(Q(t,r=>new O(r,void 0))).length===t.length}shrinkItemByItem(t,n,r){const s=[];for(let i=n.startIndex;i<r;++i)M(s,yn(()=>this.arb.shrink(t[i],n.itemsContexts[i]).map(o=>{const u=Q(Mt(t,0,i),(f,h)=>new O(Mr(f),n.itemsContexts[h])),c=Q(Mt(t,i+1),(f,h)=>new O(Mr(f),n.itemsContexts[h+i+1]));return[[...u,o,...c],void 0,i]})));return N.nil().join(...s)}shrinkImpl(t,n){if(t.length===0)return N.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(t.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&t.length>this.minLength+1?1:0).map(s=>{const i=t.length-s.value;return[Q(Mt(t,i),(o,u)=>new O(Mr(o),r.itemsContexts[u+i])),s.context,0]}).join(yn(()=>t.length>this.minLength?this.shrinkItemByItem(t,r,1):this.shrinkItemByItem(t,r,t.length))).join(t.length>this.minLength?yn(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:Mt(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(Mt(t,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new O(Mr(t[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):N.nil())}shrink(t,n){return this.shrinkImpl(t,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const S7=Math.floor,F7=Math.min,Fr=2147483647,kr=["xsmall","small","medium","large","xlarge"],A7=["-4","-3","-2","-1","=","+1","+2","+3","+4"],Yl="small";function w7(e,t){switch(t){case"xsmall":return S7(1.1*e)+1;case"small":return 2*e+10;case"medium":return 11*e+100;case"large":return 101*e+1e3;case"xlarge":return 1001*e+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${t}`)}}function Zi(e,t){const n=Ye(A7,e);if(n===-1)return e;const r=Ye(kr,t);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${t}`);const s=r+n-4;return s<0?kr[0]:s>=kr.length?kr[kr.length-1]:kr[s]}function xi(e,t,n,r){const{baseSize:s=Yl,defaultSizeToMaxWhenMaxSpecified:i}=ve()||{},o=e!==void 0?e:r&&i?"max":s;if(o==="max")return n;const u=Zi(o,s);return F7(w7(t,u),n)}function _7(e,t){if(typeof e=="number")return 1/e;const{baseSize:n=Yl,defaultSizeToMaxWhenMaxSpecified:r}=ve()||{},s=e!==void 0?e:t&&r?"max":n;if(s==="max")return 0;switch(Zi(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function Zl(e){const{baseSize:t=Yl}=ve()||{};return e===void 0?t:Zi(e,t)}function st(e,t={}){const n=t.size,r=t.minLength||0,s=t.maxLength,i=t.depthIdentifier,o=s!==void 0?s:Fr,c=xi(n,r,o,s!==void 0),f=t.experimentalCustomSlices||[];return new Iu(e,r,c,o,i,void 0,f)}function ka(e){return e/I(2)}function fp(e,t,n){const r=e-t;function*s(){let o=n?void 0:t;const u=n?r:ka(r);for(let c=u;c>0;c=ka(c)){const f=e-c;yield new O(f,o),o=f}}function*i(){let o=n?void 0:t;const u=n?r:ka(r);for(let c=u;c<0;c=ka(c)){const f=e-c;yield new O(f,o),o=f}}return r>0?Cn(s()):Cn(i())}class Xl extends lt{constructor(t,n){super(),this.min=t,this.max=n}generate(t,n){const r=this.computeGenerateRange(t,n);return new O(t.nextBigInt(r.min,r.max),void 0)}computeGenerateRange(t,n){if(n===void 0||t.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=p2(this.min,this.max,u7);if(r.length===1)return r[0];const s=t.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}canShrinkWithoutContext(t){return typeof t=="bigint"&&this.min<=t&&t<=this.max}shrink(t,n){if(!Xl.isValidContext(t,n)){const r=this.defaultTarget();return fp(t,r,!0)}return this.isLastChanceTry(t,n)?N.of(new O(n,void 0)):fp(t,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?I(0):this.min<0?this.max:this.min}isLastChanceTry(t,n){return t>0?t===n+I(1)&&t>this.min:t<0?t===n-I(1)&&t<this.max:!1}static isValidContext(t,n){if(n===void 0)return!1;if(typeof n!="bigint")throw new Error("Invalid context type passed to BigIntArbitrary (#1)");const r=t>0&&n<0||t<0&&n>0;if(n!==I(0)&&r)throw new Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}}function E7(e){const n=I(-1)<<I(255),r=(I(1)<<I(255))-I(1),s=e.min,i=e.max;return{min:s!==void 0?s:n-(i!==void 0&&i<I(0)?i*i:I(0)),max:i!==void 0?i:r+(s!==void 0&&s>I(0)?s*s:I(0))}}function C7(e){return e[0]===void 0?{}:e[1]===void 0?e[0]:{min:e[0],max:e[1]}}function vn(...e){const t=E7(C7(e));if(t.min>t.max)throw new Error("fc.bigInt expects max to be greater than or equal to min");return new Xl(t.min,t.max)}const I7=Object.getPrototypeOf;class Ps extends lt{constructor(t){super(),this.arb=t}generate(t,n){return this.arb.generate(t,void 0)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return this.arb.shrink(t,n)}}function g2(e){return I7(e)===Ps.prototype&&e.generate===Ps.prototype.generate&&e.canShrinkWithoutContext===Ps.prototype.canShrinkWithoutContext&&e.shrink===Ps.prototype.shrink?e:new Ps(e)}function k7(e){return e===1}function v7(e){if(typeof e!="boolean")throw new Error("Unsupported input type");return e===!0?1:0}function Xi(){return g2(rt({min:0,max:1}).map(k7,v7))}const Gs=Object.is;class T7{constructor(t){this.values=t,this.fastValues=new Eu(this.values);let n=!1,r=!1;if(A1(this.fastValues,0))for(let s=0;s!==this.values.length;++s){const i=this.values[s];n=n||Gs(i,-0),r=r||Gs(i,0)}this.hasMinusZero=n,this.hasPlusZero=r}has(t){return t===0?Gs(t,0)?this.hasPlusZero:this.hasMinusZero:A1(this.fastValues,t)}}class d2 extends lt{constructor(t){super(),this.values=t}generate(t,n){const r=this.values.length===1?0:t.nextInt(0,this.values.length-1),s=this.values[r];return yr(s)?new O(s,r,()=>s[Ot]()):new O(s,r)}canShrinkWithoutContext(t){return this.values.length===1?Gs(this.values[0],t):(this.fastValues===void 0&&(this.fastValues=new T7(this.values)),this.fastValues.has(t))}shrink(t,n){return n===0||Gs(t,this.values[0])?N.nil():N.of(new O(this.values[0],0))}}function De(...e){if(e.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new d2(e)}function $7(e){return!e||!e.withBigInt?De(!1,null,void 0,0,"",NaN):De(!1,null,void 0,0,"",NaN,I(0))}function kt(e){return new d2([e])}class Ql{constructor(){this.receivedLogs=[]}log(t){this.receivedLogs.push(t)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[Ot](){return new Ql}}function O7(){return kt(new Ql)}const B7=Number.NaN,M7=Number.isNaN;function b2(e){return new vo(e)}function y2(e){if(!(e instanceof vo)||e.constructor!==vo)throw new B("Not a valid value for date unmapper");return To(e)}function N7(e){return t=>t===e?new vo(B7):b2(t)}function D7(e){return t=>{const n=y2(t);return M7(n)?e:n}}const lp=Number.isNaN;function S2(e={}){const t=e.min!==void 0?To(e.min):-864e13,n=e.max!==void 0?To(e.max):864e13,r=e.noInvalidDate;if(lp(t))throw new Error("fc.date min must be valid instance of Date");if(lp(n))throw new Error("fc.date max must be valid instance of Date");if(t>n)throw new Error("fc.date max must be greater or equal to min");if(r)return rt({min:t,max:n}).map(b2,y2);const s=n+1;return rt({min:t,max:n+1}).map(N7(s),D7(s))}const R7=Symbol.iterator,P7=Array.isArray,j7=Object.is;class th extends lt{constructor(t,n){super(),this.arb=t,this.numValues=n}generate(t,n){const r=[];if(this.numValues<=0)return this.wrapper(r);for(let s=0;s!==this.numValues-1;++s)M(r,this.arb.generate(t.clone(),n));return M(r,this.arb.generate(t,n)),this.wrapper(r)}canShrinkWithoutContext(t){if(!P7(t)||t.length!==this.numValues)return!1;if(t.length===0)return!0;for(let n=1;n<t.length;++n)if(!j7(t[0],t[n]))return!1;return this.arb.canShrinkWithoutContext(t[0])}shrink(t,n){return t.length===0?N.nil():new N(this.shrinkImpl(t,n!==void 0?n:[])).map(r=>this.wrapper(r))}*shrinkImpl(t,n){const r=Q(t,(i,o)=>this.arb.shrink(i,n[o])[R7]());let s=Q(r,i=>i.next());for(;!s[0].done;)yield Q(s,i=>i.value),s=Q(r,i=>i.next())}static makeItCloneable(t,n){return t[Ot]=()=>{const r=[];for(let s=0;s!==n.length;++s)M(r,n[s].value);return this.makeItCloneable(r,n),r},t}wrapper(t){let n=!1;const r=[],s=[];for(let i=0;i!==t.length;++i){const o=t[i];n=n||o.hasToBeCloned,M(r,o.value),M(s,o.context)}return n&&th.makeItCloneable(r,t),new O(r,s)}}function L7(e,t){return new th(e,t)}class hp{constructor(t){this.isEqual=t,this.data=[]}tryAdd(t){for(let n=0;n!==this.data.length;++n)if(this.isEqual(this.data[n],t))return!1;return M(this.data,t),!0}size(){return this.data.length}getData(){return this.data}}const U7=Number.isNaN;class V7{constructor(t){this.selector=t,this.selectedItemsExceptNaN=new Eu,this.data=[]}tryAdd(t){const n=this.selector(t);if(U7(n))return M(this.data,t),!0;const r=this.selectedItemsExceptNaN.size;return Ll(this.selectedItemsExceptNaN,n),r!==this.selectedItemsExceptNaN.size?(M(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}const q7=Object.is;class W7{constructor(t){this.selector=t,this.selectedItemsExceptMinusZero=new Eu,this.data=[],this.hasMinusZero=!1}tryAdd(t){const n=this.selector(t);if(q7(n,-0))return this.hasMinusZero?!1:(M(this.data,t),this.hasMinusZero=!0,!0);const r=this.selectedItemsExceptMinusZero.size;return Ll(this.selectedItemsExceptMinusZero,n),r!==this.selectedItemsExceptMinusZero.size?(M(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}class z7{constructor(t){this.selector=t,this.selectedItems=new Eu,this.data=[]}tryAdd(t){const n=this.selector(t),r=this.selectedItems.size;return Ll(this.selectedItems,n),r!==this.selectedItems.size?(M(this.data,t),!0):!1}size(){return this.data.length}getData(){return this.data}}function G7(e){if(typeof e.comparator=="function"){if(e.selector===void 0){const u=e.comparator,c=(f,h)=>u(f.value_,h.value_);return()=>new hp(c)}const r=e.comparator,s=e.selector,i=u=>s(u.value_),o=(u,c)=>r(i(u),i(c));return()=>new hp(o)}const t=e.selector||(r=>r),n=r=>t(r.value_);switch(e.comparator){case"IsStrictlyEqual":return()=>new V7(n);case"SameValueZero":return()=>new z7(n);case"SameValue":case void 0:return()=>new W7(n)}}function Qi(e,t={}){const n=t.minLength!==void 0?t.minLength:0,r=t.maxLength!==void 0?t.maxLength:Fr,s=xi(t.size,n,r,t.maxLength!==void 0),i=t.depthIdentifier,o=G7(t),u=new Iu(e,n,s,r,i,o,[]);return n===0?u:u.filter(c=>c.length>=n)}const H7=Object.create,K7=Object.defineProperty,J7=Object.getOwnPropertyDescriptor,Y7=Object.getPrototypeOf,Z7=Object.getOwnPropertySymbols,X7=Object.getOwnPropertyNames,Q7=Object.entries;function t$(e){const t=e[1]?H7(null):{};for(const n of e[0])K7(t,n[0],{enumerable:!0,configurable:!0,writable:!0,value:n[1]});return t}function e$(e){return function(n){const r=J7(e,n);return r!==void 0&&!!r.configurable&&!!r.enumerable&&!!r.writable&&r.get===void 0&&r.set===void 0}}function n$(e){if(typeof e!="object"||e===null)throw new B("Incompatible instance received: should be a non-null object");const t=Y7(e)===null,n="constructor"in e&&e.constructor===Object;if(!t&&!n)throw new B("Incompatible instance received: should be of exact type Object");if(Z7(e).length>0)throw new B("Incompatible instance received: should contain symbols");if(!jy(X7(e),e$(e)))throw new B("Incompatible instance received: should contain only c/e/w properties without get/set");return[Q7(e),t]}function r$(e){return e[0]}function eh(e,t,n={}){const r=!!n.noNullPrototype;return z(Qi(z(e,t),{minLength:n.minKeys,maxLength:n.maxKeys,size:n.size,selector:r$,depthIdentifier:n.depthIdentifier}),r?kt(!1):Xi()).map(t$,n$)}const s$=Number.POSITIVE_INFINITY,i$=Number.MAX_SAFE_INTEGER,a$=Number.isInteger,o$=Math.floor,u$=Math.pow,c$=Math.min;class pi extends lt{static from(t,n,r){if(t.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let o=0;o!==t.length;++o){if(t[o].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const c=t[o].weight;if(s+=c,!a$(c))throw new Error(`${r} expects weights to be integer values`);if(c<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:_7(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:s$,withCrossShrink:!!n.withCrossShrink};return new pi(t,i,Jl(n.depthIdentifier))}constructor(t,n,r){super(),this.warbs=t,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==t.length;++i)s+=t[i].weight,M(this.cumulatedWeights,s);this.totalWeight=s}generate(t,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(t,0,n);const r=t.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(t,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(t){return this.canShrinkWithoutContextIndex(t)!==-1}shrink(t,n){if(n!==void 0){const s=n,i=s.selectedIndex,o=s.originalBias,c=this.warbs[i].arbitrary.shrink(t,s.originalContext).map(f=>this.mapIntoValue(i,f,null,o));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,o));const f=s.cachedGeneratedForFirst;return N.of(f).join(c)}return c}const r=this.canShrinkWithoutContextIndex(t);return r===-1?N.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(t,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(t){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(t)||this.warbs[0].fallbackValue===void 0)return N.nil()}finally{--this.context.depth}const n=new O(this.warbs[0].fallbackValue.default,void 0);return N.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(t){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(t)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(t))return n}return-1}finally{--this.context.depth}}mapIntoValue(t,n,r,s){const i={selectedIndex:t,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new O(n.value,i)}safeGenerateForIndex(t,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(t,r),i=this.mustFallbackToFirstInShrink(n)?t.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(t){return t!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const t=this.constraints.depthBias;if(t<=0||this.warbs[0].weight===0)return 0;const n=o$(u$(1+t,this.context.depth))-1;return-c$(this.totalWeight*n,i$)||0}}function f$(e){return e!=null&&typeof e=="object"&&!("generate"in e)&&!("arbitrary"in e)&&!("weight"in e)}function xp(e){return ky(e)?{arbitrary:e,weight:1}:e}function Tt(...e){const t=e[0];if(f$(t)){const r=Q(Mt(e,1),xp);return pi.from(r,t,"fc.oneof")}const n=Q(e,xp);return pi.from(n,{},"fc.oneof")}const l$=Number.isInteger;function bn(e){const t=typeof e=="number"?e:e&&e.max!==void 0?e.max:2147483647;if(t<0)throw new Error("fc.nat value should be greater than or equal to 0");if(!l$(t))throw new Error("fc.nat maximum value should be an integer");return new kn(0,t)}const h$=Object.is;function x$(e){let t=0;const n=[];for(const r of e){const s=t;t=s+r.num;const i=t-1;n.push({from:s,to:i,entry:r})}return n}function p$(e,t){let n=0,r=e.length;for(;r-n>1;){const s=~~((n+r)/2);t<e[s].from?r=s:n=s}return e[n]}function m$(e){const t=x$(e);return function(r){const s=p$(t,r);return s.entry.build(r-s.from)}}function g$(e){const t={mapping:new Yi,negativeZeroIndex:void 0};let n=0;for(let r=0;r!==e.length;++r){const s=e[r];for(let i=0;i!==s.num;++i){const o=s.build(i);o===0&&1/o===Qe.NEGATIVE_INFINITY?t.negativeZeroIndex=n:cr(t.mapping,o,n),++n}}return t}function d$(e){let t=null;return function(r){t===null&&(t=g$(e));const s=h$(r,-0)?t.negativeZeroIndex:In(t.mapping,r);if(s===void 0)throw new B("Unknown value encountered cannot be built using this mapToConstant");return s}}function b$(e){if(e.length===0)throw new B("fc.mapToConstant expects at least one option");let t=0;for(let n=0;n!==e.length;++n){if(e[n].num<0)throw new B("fc.mapToConstant expects all options to have a number of entries greater or equal to zero");t+=e[n].num}if(t===0)throw new B("fc.mapToConstant expects at least one choice among options");return t}function ta(...e){const t=b$(e);return bn({max:t-1}).map(m$(e),d$(e))}function F2(e,t,n,r){if(t.length===0)return n>0?void 0:[];if(r<=0)return;const s=[{endIndexChunks:0,nextStartIndex:1,chunks:[]}];for(;s.length>0;){const i=Dy(s);for(let o=i.nextStartIndex;o<=t.length;++o){const u=ft(t,i.endIndexChunks,o);if(e.canShrinkWithoutContext(u)){const c=[...i.chunks,u];if(o===t.length){if(c.length<n)break;return c}M(s,{endIndexChunks:i.endIndexChunks,nextStartIndex:o+1,chunks:i.chunks}),c.length<r&&M(s,{endIndexChunks:o,nextStartIndex:o+1,chunks:c});break}}}}function y$(e){return at(e,"")}function A2(e){return e.minLength!==void 0?e.minLength:0}function w2(e){return e.maxLength!==void 0?e.maxLength:Fr}function S$(e,t){return A2(t)<=e.length&&e.length<=w2(t)}function F$(e,t){return function(r){if(typeof r!="string")throw new B("Unsupported value");const s=F2(e,r,A2(t),w2(t));if(s===void 0)throw new B("Unable to unmap received string");return s}}const _2=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function A$(e,t,n){let r;try{r=n(e)}catch{return}for(const s of r)if(!t.canShrinkWithoutContext(s))return;return r}function w$(e,t){const n=[];for(const r of _2){const s=A$(r,e,t);s!==void 0&&M(n,s)}return n}const pp=new WeakMap;function _$(e){const t=[];for(const n of _2){const r=F2(e,n,0,Fr);r!==void 0&&M(t,r)}return t}function E$(e,t){let n=l8(pp,e);n===void 0&&(n=_$(e),f8(pp,e,n));const r=[];for(const s of n)S$(s,t)&&M(r,s);return r}const C$=[[0,127]],I$=[[0,55295],[57344,1114111]],k$=[[32,126],[160,172],[174,767],[880,887],[890,895],[900,906],[908],[910,929],[931,1154],[1162,1327],[1329,1366],[1369,1418],[1421,1423],[1470],[1472],[1475],[1478],[1488,1514],[1519,1524],[1542,1551],[1563],[1565,1610],[1632,1647],[1649,1749],[1758],[1765,1766],[1769],[1774,1805],[1808],[1810,1839],[1869,1957],[1969],[1984,2026],[2036,2042],[2046,2069],[2074],[2084],[2088],[2096,2110],[2112,2136],[2142],[2144,2154],[2160,2190],[2208,2249],[2308,2361],[2365],[2384],[2392,2401],[2404,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482],[2486,2489],[2493],[2510],[2524,2525],[2527,2529],[2534,2557],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2654],[2662,2671],[2674,2676],[2678],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749],[2768],[2784,2785],[2790,2801],[2809],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877],[2908,2909],[2911,2913],[2918,2935],[2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024],[3046,3066],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133],[3160,3162],[3165],[3168,3169],[3174,3183],[3191,3200],[3204,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261],[3293,3294],[3296,3297],[3302,3311],[3313,3314],[3332,3340],[3342,3344],[3346,3386],[3389],[3407],[3412,3414],[3416,3425],[3430,3455],[3461,3478],[3482,3505],[3507,3515],[3517],[3520,3526],[3558,3567],[3572],[3585,3632],[3634],[3647,3654],[3663,3675],[3713,3714],[3716],[3718,3722],[3724,3747],[3749],[3751,3760],[3762],[3773],[3776,3780],[3782],[3792,3801],[3804,3807],[3840,3863],[3866,3892],[3894],[3896],[3898,3901],[3904,3911],[3913,3948],[3973],[3976,3980],[4030,4037],[4039,4044],[4046,4058],[4096,4138],[4159,4181],[4186,4189],[4193],[4197,4198],[4206,4208],[4213,4225],[4238],[4240,4249],[4254,4293],[4295],[4301],[4304,4351],[4608,4680],[4682,4685],[4688,4694],[4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4960,4988],[4992,5017],[5024,5109],[5112,5117],[5120,5788],[5792,5880],[5888,5905],[5919,5937],[5941,5942],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6100,6108],[6112,6121],[6128,6137],[6144,6154],[6160,6169],[6176,6264],[6272,6276],[6279,6312],[6314],[6320,6389],[6400,6430],[6464],[6468,6509],[6512,6516],[6528,6571],[6576,6601],[6608,6618],[6622,6678],[6686,6740],[6784,6793],[6800,6809],[6816,6829],[6917,6963],[6981,6988],[6992,7018],[7028,7038],[7043,7072],[7086,7141],[7164,7203],[7227,7241],[7245,7304],[7312,7354],[7357,7367],[7379],[7401,7404],[7406,7411],[7413,7414],[7418],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[8192,8202],[8208,8233],[8239,8287],[8304,8305],[8308,8334],[8336,8348],[8352,8384],[8448,8587],[8592,9254],[9280,9290],[9312,11123],[11126,11157],[11159,11502],[11506,11507],[11513,11557],[11559],[11565],[11568,11623],[11631,11632],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11776,11869],[11904,11929],[11931,12019],[12032,12245],[12272,12329],[12336,12351],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12771],[12783,12830],[12832,13312],[19903,19968],[40959,42124],[42128,42182],[42192,42539],[42560,42606],[42611],[42622,42653],[42656,42735],[42738,42743],[42752,42954],[42960,42961],[42963],[42965,42969],[42994,43009],[43011,43013],[43015,43018],[43020,43042],[43048,43051],[43056,43065],[43072,43127],[43138,43187],[43214,43225],[43250,43262],[43264,43301],[43310,43334],[43359],[43396,43442],[43457,43469],[43471,43481],[43486,43492],[43494,43518],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43612,43642],[43646,43695],[43697],[43701,43702],[43705,43709],[43712],[43714],[43739,43754],[43760,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43883],[43888,44002],[44011],[44016,44025],[44032],[55203],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285],[64287,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64450],[64467,64911],[64914,64967],[64975],[65008,65023],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65136,65140],[65142,65276],[65281,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65504,65510],[65512,65518],[65532,65533],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65792,65794],[65799,65843],[65847,65934],[65936,65948],[65952],[66e3,66044],[66176,66204],[66208,66256],[66273,66299],[66304,66339],[66349,66378],[66384,66421],[66432,66461],[66463,66499],[66504,66517],[66560,66717],[66720,66729],[66736,66771],[66776,66811],[66816,66855],[66864,66915],[66927,66938],[66940,66954],[66956,66962],[66964,66965],[66967,66977],[66979,66993],[66995,67001],[67003,67004],[67072,67382],[67392,67413],[67424,67431],[67456,67461],[67463,67504],[67506,67514],[67584,67589],[67592],[67594,67637],[67639,67640],[67644],[67647,67669],[67671,67742],[67751,67759],[67808,67826],[67828,67829],[67835,67867],[67871,67897],[67903],[67968,68023],[68028,68047],[68050,68096],[68112,68115],[68117,68119],[68121,68149],[68160,68168],[68176,68184],[68192,68255],[68288,68324],[68331,68342],[68352,68405],[68409,68437],[68440,68466],[68472,68497],[68505,68508],[68521,68527],[68608,68680],[68736,68786],[68800,68850],[68858,68899],[68912,68921],[69216,69246],[69248,69289],[69293],[69296,69297],[69376,69415],[69424,69445],[69457,69465],[69488,69505],[69510,69513],[69552,69579],[69600,69622],[69635,69687],[69703,69709],[69714,69743],[69745,69746],[69749],[69763,69807],[69819,69820],[69822,69825],[69840,69864],[69872,69881],[69891,69926],[69942,69956],[69959],[69968,70002],[70004,70006],[70019,70066],[70081],[70084,70088],[70093],[70096,70111],[70113,70132],[70144,70161],[70163,70187],[70200,70205],[70207,70208],[70272,70278],[70280],[70282,70285],[70287,70301],[70303,70313],[70320,70366],[70384,70393],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70461],[70480],[70493,70497],[70656,70708],[70727,70747],[70749],[70751,70753],[70784,70831],[70852,70855],[70864,70873],[71040,71086],[71105,71131],[71168,71215],[71233,71236],[71248,71257],[71264,71276],[71296,71338],[71352,71353],[71360,71369],[71424,71450],[71472,71494],[71680,71723],[71739],[71840,71922],[71935,71942],[71945],[71948,71955],[71957,71958],[71960,71983],[72004,72006],[72016,72025],[72096,72103],[72106,72144],[72161,72163],[72192],[72203,72242],[72255,72262],[72272],[72284,72323],[72346,72354],[72368,72440],[72448,72457],[72704,72712],[72714,72750],[72768,72773],[72784,72812],[72816,72847],[72960,72966],[72968,72969],[72971,73008],[73040,73049],[73056,73061],[73063,73064],[73066,73097],[73112],[73120,73129],[73440,73458],[73463,73464],[73476,73488],[73490,73523],[73539,73561],[73648],[73664,73713],[73727,74649],[74752,74862],[74864,74868],[74880,75075],[77712,77810],[77824,78895],[78913,78918],[82944,83526],[92160,92728],[92736,92766],[92768,92777],[92782,92862],[92864,92873],[92880,92909],[92917],[92928,92975],[92983,92997],[93008,93017],[93019,93025],[93027,93047],[93053,93071],[93760,93850],[93952,94026],[94032],[94099,94111],[94176,94179],[94208],[100343],[100352,101589],[101632],[101640],[110576,110579],[110581,110587],[110589,110590],[110592,110882],[110898],[110928,110930],[110933],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[113820],[113823],[118608,118723],[118784,119029],[119040,119078],[119081,119140],[119146,119148],[119171,119172],[119180,119209],[119214,119274],[119296,119361],[119365],[119488,119507],[119520,119539],[119552,119638],[119648,119672],[119808,119892],[119894,119964],[119966,119967],[119970],[119973,119974],[119977,119980],[119982,119993],[119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],[120134],[120138,120144],[120146,120485],[120488,120779],[120782,121343],[121399,121402],[121453,121460],[121462,121475],[121477,121483],[122624,122654],[122661,122666],[122928,122989],[123136,123180],[123191,123197],[123200,123209],[123214,123215],[123536,123565],[123584,123627],[123632,123641],[123647],[124112,124139],[124144,124153],[124896,124902],[124904,124907],[124909,124910],[124912,124926],[124928,125124],[125127,125135],[125184,125251],[125259],[125264,125273],[125278,125279],[126065,126132],[126209,126269],[126464,126467],[126469,126495],[126497,126498],[126500],[126503],[126505,126514],[126516,126519],[126521],[126523],[126530],[126535],[126537],[126539],[126541,126543],[126545,126546],[126548],[126551],[126553],[126555],[126557],[126559],[126561,126562],[126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[126704,126705],[126976,127019],[127024,127123],[127136,127150],[127153,127167],[127169,127183],[127185,127221],[127232,127405],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127994],[128e3,128727],[128732,128748],[128752,128764],[128768,128886],[128891,128985],[128992,129003],[129008],[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],[129200,129201],[129280,129619],[129632,129645],[129648,129660],[129664,129672],[129680,129725],[129727,129733],[129742,129755],[129760,129768],[129776,129784],[129792,129938],[129940,129994],[130032,130041],[131072],[173791],[173824],[177977],[177984],[178205],[178208],[183969],[183984],[191456],[191472],[192093],[194560,195101],[196608],[201546],[201552],[205743]],v$=[[192,197],[199,207],[209,214],[217,221],[224,229],[231,239],[241,246],[249,253],[255,271],[274,293],[296,304],[308,311],[313,318],[323,328],[332,337],[340,357],[360,382],[416,417],[431,432],[461,476],[478,483],[486,496],[500,501],[504,539],[542,543],[550,563],[901,902],[904,906],[908],[910,912],[938,944],[970,974],[979,980],[1024,1025],[1027],[1031],[1036,1038],[1049],[1081],[1104,1105],[1107],[1111],[1116,1118],[1142,1143],[1217,1218],[1232,1235],[1238,1239],[1242,1247],[1250,1255],[1258,1269],[1272,1273],[1570,1574],[1728],[1730],[1747],[2345],[2353],[2356],[2392,2399],[2524,2525],[2527],[2611],[2614],[2649,2651],[2654],[2908,2909],[2964],[3907],[3917],[3922],[3927],[3932],[3945],[4134],[6918],[6920],[6922],[6924],[6926],[6930],[7680,7833],[7835],[7840,7929],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8048],[8050],[8052],[8054],[8056],[8058],[8060],[8064,8116],[8118,8122],[8124],[8129,8132],[8134,8136],[8138],[8140,8146],[8150,8154],[8157,8162],[8164,8170],[8172,8173],[8178,8180],[8182,8184],[8186],[8188],[8602,8603],[8622],[8653,8655],[8708],[8713],[8716],[8740],[8742],[8769],[8772],[8775],[8777],[8800],[8802],[8813,8817],[8820,8821],[8824,8825],[8832,8833],[8836,8837],[8840,8841],[8876,8879],[8928,8931],[8938,8941],[10972],[12364],[12366],[12368],[12370],[12372],[12374],[12376],[12378],[12380],[12382],[12384],[12386],[12389],[12391],[12393],[12400,12401],[12403,12404],[12406,12407],[12409,12410],[12412,12413],[12436],[12446],[12460],[12462],[12464],[12466],[12468],[12470],[12472],[12474],[12476],[12478],[12480],[12482],[12485],[12487],[12489],[12496,12497],[12499,12500],[12502,12503],[12505,12506],[12508,12509],[12532],[12535,12538],[12542],[44032],[55203],[64285],[64287],[64298,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64334],[69786],[69788],[69803],[119134,119140],[119227,119232]],mp=String.fromCodePoint,T$=Math.min,$$=Math.max;function gp(e){if(e.length===1){const n=mp(e[0]);return{num:1,build:()=>n}}const t=e[0];return{num:e[1]-e[0]+1,build:n=>mp(t+n)}}function dp(e,t){const n=[];let r=0,s=0;for(;r<e.length&&s<t.length;){const i=e[r],o=i[0],u=i.length===1?i[0]:i[1],c=t[s],f=c[0],h=c.length===1?c[0]:c[1];if(u<f)r+=1;else if(h<o)s+=1;else{let x=$$(o,f);const g=T$(u,h);if(n.length>=1){const d=n[n.length-1];(d.length===1?d[0]:d[1])+1===x&&(x=d[0],Dy(n))}M(n,x===g?[x]:[x,g]),u<=g&&(r+=1),h<=g&&(s+=1)}}return n}const bp=Object.create(null);function O$(e){switch(e){case"full":return I$;case"ascii":return C$}}function B$(e,t){const n=`${e}:${t}`,r=bp[n];if(r!==void 0)return r;const s=O$(t),i=e==="binary"?s:dp(s,k$),o=[];for(const c of i)M(o,gp(c));if(e==="grapheme"){const c=dp(s,v$);for(const f of c){const h=gp(f);M(o,{num:h.num,build:x=>I8(h.build(x),"NFD")})}}const u=ta(...o);return bp[n]=u,u}function js(e,t){return B$(e,t)}function M$(e){if(typeof e.unit=="object")return e.unit;switch(e.unit){case"grapheme":return js("grapheme","full");case"grapheme-composite":return js("composite","full");case"grapheme-ascii":case void 0:return js("grapheme","ascii");case"binary":return js("binary","full");case"binary-ascii":return js("binary","ascii")}}function Ft(e={}){const t=M$(e),n=F$(t,e),r=E$(t,e),s={...e,experimentalCustomSlices:r};return st(t,s).map(y$,n)}const E2=Map,nh=String.fromCharCode,rh={num:26,build:e=>nh(e+97)},N$={num:26,build:e=>nh(e+65)},C2={num:10,build:e=>nh(e+48)};function D$(e){const t=W9(e);return e!==t?t:`%${fi(ls(e,0),16)}`}function R$(e){if(typeof e!="string")throw new Error("Unsupported");return decodeURIComponent(e)}const P$=()=>Ft({unit:"binary",minLength:1,maxLength:1}).map(D$,R$);let h0;function j$(){return h0===void 0&&(h0=ta(rh)),h0}let va;function $c(e){va===void 0&&(va=new E2);let t=In(va,e);return t===void 0&&(t=ta(rh,C2,{num:e.length,build:n=>e[n]}),cr(va,e,t)),t}function L$(e){return ta(rh,N$,C2,{num:e.length,build:t=>e[t]})}let Ta;function sh(e){Ta===void 0&&(Ta=new E2);let t=In(Ta,e);return t===void 0&&(t=Tt({weight:10,arbitrary:L$(e)},{weight:1,arbitrary:P$()}),cr(Ta,e,t)),t}function fr(e,t={}){const n=t.freq==null?6:t.freq,r=$o(t,"nil")?t.nil:null,i=[{arbitrary:kt(r),weight:1,fallbackValue:{default:r}},{arbitrary:e,weight:n-1}],o={withCrossShrink:!0,depthSize:t.depthSize,maxDepth:t.maxDepth,depthIdentifier:t.depthIdentifier};return pi.from(i,o,"fc.option")}function U$(e){return e.length>63?!1:e.length<4||e[0]!=="x"||e[1]!=="n"||e[2]!=="-"||e[3]!=="-"}const I2=Symbol("adapted-value");function V$(e,t){const n=t(e.value_);return n.adapted?new O(n.value,I2):e}class q$ extends lt{constructor(t,n){super(),this.sourceArb=t,this.adapter=n,this.adaptValue=r=>V$(r,n)}generate(t,n){const r=this.sourceArb.generate(t,n);return this.adaptValue(r)}canShrinkWithoutContext(t){return this.sourceArb.canShrinkWithoutContext(t)&&!this.adapter(t).adapted}shrink(t,n){return n===I2?this.sourceArb.canShrinkWithoutContext(t)?this.sourceArb.shrink(t,void 0).map(this.adaptValue):N.nil():this.sourceArb.shrink(t,n).map(this.adaptValue)}}function k2(e,t){return new q$(e,t)}function W$([e,t]){return t===null?e:`${e}${t[0]}${t[1]}`}function z$(e){if(typeof e!="string"||e.length===0)throw new Error("Unsupported");return e.length===1?[e[0],null]:[e[0],[ft(e,1,e.length-1),e[e.length-1]]]}function G$(e){const t=$c(""),n=$c("-");return z(t,fr(z(Ft({unit:n,size:e,maxLength:61}),t))).map(W$,z$).filter(U$)}function H$(e){return`${at(e[0],".")}.${e[1]}`}function K$(e){if(typeof e!="string")throw new Error("Unsupported type");const t=e.lastIndexOf(".");return[Wt(ft(e,0,t),"."),ft(e,t+1)]}function J$(e){const[t,n]=e;let r=n.length;for(let s=0;s!==t.length;++s)if(r+=1+t[s].length,r>255)return{adapted:!0,value:[Mt(t,0,s),n]};return{adapted:!1,value:e}}function ih(e={}){const t=Zl(e.size),n=Zi("-1",t),r=j$(),s=Ft({unit:r,minLength:2,maxLength:63,size:n});return k2(z(st(G$(t),{size:n,minLength:1,maxLength:127}),s),J$).map(H$,K$)}function Y$(e){let t=e[0].length;for(let n=1;n!==e.length;++n)if(t+=1+e[n].length,t>64)return{adapted:!0,value:Mt(e,0,n)};return{adapted:!1,value:e}}function Z$(e){return at(e,".")}function X$(e){if(typeof e!="string")throw new Error("Unsupported");return Wt(e,".")}function Q$(e){return`${e[0]}@${e[1]}`}function tO(e){if(typeof e!="string")throw new Error("Unsupported");return Wt(e,"@",2)}function eO(e={}){const t=$c("!#$%&'*+-/=?^_`{|}~"),n=k2(st(Ft({unit:t,minLength:1,maxLength:64,size:e.size}),{minLength:1,maxLength:32,size:e.size}),Y$).map(Z$,X$);return z(n,ih({size:e.size})).map(Q$,tO)}const nO=Qe.NEGATIVE_INFINITY,Oc=Qe.POSITIVE_INFINITY,v2=Qe.EPSILON,ah=I(2146435072)*I(4294967296),rO=-ah-I(1),yp=4503599627370496,sO=I(0xfffffffffffff),Sp=I("9007199254740992"),Bc=new Float64Array(1),Fp=new Uint32Array(Bc.buffer,Bc.byteOffset);function iO(e){return Bc[0]=e,[Fp[1],Fp[0]]}function aO(e){const{0:t,1:n}=iO(e),r=t>>>31,s=t>>>20&2047,i=(t&1048575)*4294967296+n,o=s===0?-1022:s-1023;let u=s===0?0:1;return u+=i*v2,u*=r===0?1:-1,{exponent:o,significand:u}}function Ap(e,t){if(e===-1022)return I(t*yp);const n=I((t-1)*yp),r=I(e+1023)<<I(52);return n+r}function oh(e){if(e===Oc)return ah;if(e===nO)return rO;const t=aO(e),n=t.exponent,r=t.significand;return e>0||e===0&&1/e===Oc?Ap(n,r):-Ap(n,-r)-I(1)}function Mc(e){if(e<0)return-Mc(-e-I(1));if(e===ah)return Oc;if(e<Sp)return Qe(e)*2**-1074;const t=e-Sp,n=-1021+Qe(t>>I(52));return(1+Qe(t&sO)*v2)*2**n}const wp=Number.isInteger,_p=Object.is,x0=Number.NEGATIVE_INFINITY,p0=Number.POSITIVE_INFINITY;function T2(e,t,n,r){const{noDefaultInfinity:s=!1,minExcluded:i=!1,maxExcluded:o=!1,min:u=s?-t:x0,max:c=s?t:p0}=e,f=i?u<-n?-r:Math.max(u,-n):u===x0?Math.max(u,-r):Math.max(u,-n),h=o?c>n?r:Math.min(c,n):c===p0?Math.min(c,r):Math.min(c,n);return{noDefaultInfinity:!1,minExcluded:i||(u!==x0||i)&&wp(f),maxExcluded:o||(c!==p0||o)&&wp(h),min:_p(f,-0)?0:f,max:_p(h,0)?-0:h,noNaN:e.noNaN||!1}}const $2=Number.NEGATIVE_INFINITY,O2=Number.POSITIVE_INFINITY,oO=Number.MAX_VALUE,uO=45035996273704955e-1,mi=4503599627370496;function cO(e){return T2(e,oO,uO,mi)}function fO(e){return e===mi?O2:e===-mi?$2:e}function lO(e){if(typeof e!="number")throw new Error("Unsupported type");return e===O2?mi:e===$2?-mi:e}const hO=Number.isInteger,B2=Number.isNaN,xO=Number.NEGATIVE_INFINITY,pO=Number.POSITIVE_INFINITY,Ep=Number.MAX_VALUE,mO=Number.NaN;function Cp(e,t){if(B2(e))throw new Error("fc.double constraints."+t+" must be a 64-bit float");return oh(e)}function gO(e){if(typeof e!="number")throw new Error("Unsupported type");return oh(e)}function dO(e){return!hO(e)}function Ip(e){const{noDefaultInfinity:t=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=t?-Ep:xO,max:o=t?Ep:pO}=e,u=Cp(i,"min"),c=r?u+I(1):u,f=Cp(o,"max"),h=s?f-I(1):f;if(h<c)throw new Error("fc.double constraints.min must be smaller or equal to constraints.max");if(n)return vn({min:c,max:h}).map(Mc,gO);const x=h>I(0),g=x?c:c-I(1),d=x?h+I(1):h;return vn({min:g,max:d}).map(b=>h<b||b<c?mO:Mc(b),b=>{if(typeof b!="number")throw new Error("Unsupported type");return B2(b)?h!==d?d:g:oh(b)})}function ku(e={}){return e.noInteger?Ip(cO(e)).map(fO,lO).filter(dO):Ip(e)}const bO=Number.NEGATIVE_INFINITY,Nc=Number.POSITIVE_INFINITY,Dc=2**127*(1+(2**23-1)/2**23),M2=2139095040,yO=-2139095041,Rc=new Float32Array(1),SO=new Uint32Array(Rc.buffer,Rc.byteOffset);function FO(e){return Rc[0]=e,SO[0]}function AO(e){const t=FO(e),n=t>>>31,r=t>>>23&255,s=t&8388607,i=r===0?-126:r-127;let o=r===0?0:1;return o+=s/2**23,o*=n===0?1:-1,{exponent:i,significand:o}}function kp(e,t){return e===-126?t*8388608:(e+127)*8388608+(t-1)*8388608}function uh(e){if(e===Nc)return M2;if(e===bO)return yO;const t=AO(e),n=t.exponent,r=t.significand;return e>0||e===0&&1/e===Nc?kp(n,r):-kp(n,-r)-1}function Pc(e){if(e<0)return-Pc(-e-1);if(e===M2)return Nc;if(e<16777216)return e*2**-149;const t=e-16777216,n=-125+(t>>23);return(1+(t&8388607)/8388608)*2**n}const N2=Number.NEGATIVE_INFINITY,D2=Number.POSITIVE_INFINITY,wO=Dc,_O=83886075e-1,gi=8388608;function EO(e){return T2(e,wO,_O,gi)}function CO(e){return e===gi?D2:e===-gi?N2:e}function IO(e){if(typeof e!="number")throw new Error("Unsupported type");return e===D2?gi:e===N2?-gi:e}const kO=Number.isInteger,R2=Number.isNaN,vO=Math.fround,TO=Number.NEGATIVE_INFINITY,$O=Number.POSITIVE_INFINITY,OO=Number.NaN;function vp(e,t){const r="fc.float constraints."+t+" must be a 32-bit float - "+"you can convert any double to a 32-bit float by using `Math.fround(myDouble)`";if(R2(e)||vO(e)!==e)throw new Error(r);return uh(e)}function BO(e){if(typeof e!="number")throw new Error("Unsupported type");return uh(e)}function MO(e){return!kO(e)}function Tp(e){const{noDefaultInfinity:t=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=t?-Dc:TO,max:o=t?Dc:$O}=e,u=vp(i,"min"),c=r?u+1:u,f=vp(o,"max"),h=s?f-1:f;if(c>h)throw new Error("fc.float constraints.min must be smaller or equal to constraints.max");if(n)return rt({min:c,max:h}).map(Pc,BO);const x=h>0?c:c-1,g=h>0?h+1:h;return rt({min:x,max:g}).map(d=>d>h||d<c?OO:Pc(d),d=>{if(typeof d!="number")throw new Error("Unsupported type");return R2(d)?h!==g?g:x:uh(d)})}function P2(e={}){return e.noInteger?Tp(EO(e)).map(CO,IO).filter(MO):Tp(e)}function NO(e){return e.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}function j2(e){return e.replace(/\*\//g,"*\\/")}const Xt=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function Bo(e){let t=4294967295;for(let n=0;n<e.length;++n){const r=ls(e,n);if(r<128)t=Xt[t&255^r]^t>>8;else if(r<2048)t=Xt[t&255^(192|r>>6&31)]^t>>8,t=Xt[t&255^(128|r&63)]^t>>8;else if(r>=55296&&r<57344){const s=ls(e,++n);if(r>=56320||s<56320||s>57343||Number.isNaN(s))n-=1,t=Xt[t&255^239]^t>>8,t=Xt[t&255^191]^t>>8,t=Xt[t&255^189]^t>>8;else{const i=(r&1023)+64,o=s&1023;t=Xt[t&255^(240|i>>8&7)]^t>>8,t=Xt[t&255^(128|i>>2&63)]^t>>8,t=Xt[t&255^(128|o>>6&15|(i&3)<<4)]^t>>8,t=Xt[t&255^(128|o&63)]^t>>8}}else t=Xt[t&255^(224|r>>12&15)]^t>>8,t=Xt[t&255^(128|r>>6&63)]^t>>8,t=Xt[t&255^(128|r&63)]^t>>8}return(t|0)+2147483648}const DO=Object.getPrototypeOf;class Ls extends lt{constructor(t){super(),this.arb=t}generate(t,n){return this.arb.generate(t,n)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return N.nil()}}function Mo(e){return DO(e)===Ls.prototype&&e.generate===Ls.prototype.generate&&e.canShrinkWithoutContext===Ls.prototype.canShrinkWithoutContext&&e.shrink===Ls.prototype.shrink?e:new Ls(e)}const RO=Object.assign,PO=Object.keys;function L2(e){return z(Mo(rt()),Mo(rt({min:1,max:4294967295}))).map(([t,n])=>{const r=()=>{const s={};return RO((o,u)=>{const c=At(o),f=At(u),h=Bo(`${t}${c}`)%n,x=Bo(`${t}${f}`)%n,g=e(h,x);return s[`[${c},${f}]`]=g,g},{toString:()=>{const o=PO(s).sort().map(u=>`${u} => ${At(s[u])}`).map(u=>`/* ${j2(u)} */`);return`function(a, b) {
  // With hash and stringify coming from fast-check${o.length!==0?`
  ${at(o,`
  `)}`:""}
  const cmp = ${e};
  const hA = hash('${t}' + stringify(a)) % ${n};
  const hB = hash('${t}' + stringify(b)) % ${n};
  return cmp(hA, hB);
}`},[Ot]:r})};return r()})}const jO=Object.assign;function LO(){return L2(jO((e,t)=>e<t,{toString(){return"(hA, hB) => hA < hB"}}))}const UO=Object.assign;function VO(){return L2(UO((e,t)=>e-t,{toString(){return"(hA, hB) => hA - hB"}}))}const qO=Object.defineProperties,WO=Object.keys;function zO(e){return z(st(e,{minLength:1}),Mo(rt())).map(([t,n])=>{const r=()=>{const s={},i=(...u)=>{const c=At(u),f=t[Bo(`${n}${c}`)%t.length];return s[c]=f,yr(f)?f[Ot]():f};function o(u){const c=Q(Q(Py(WO(s)),f=>`${f} => ${At(s[f])}`),f=>`/* ${j2(f)} */`);return`function(...args) {
  // With hash and stringify coming from fast-check${c.length!==0?`
  ${c.join(`
  `)}`:""}
  const outs = ${u};
  return outs[hash('${n}' + stringify(args)) % outs.length];
}`}return qO(i,{toString:{value:()=>o(At(t))},[sn]:{value:()=>o(At(t))},[an]:{value:async()=>o(await Hl(t))},[Ot]:{value:r,configurable:!0}})};return r()})}const GO=Number.MIN_SAFE_INTEGER,HO=Number.MAX_SAFE_INTEGER;function U2(){return new kn(GO,HO)}const KO=Number.MAX_SAFE_INTEGER;function JO(){return new kn(0,KO)}const YO=Number.parseInt;function ZO(e){const[t,n]=e;switch(t){case"oct":return`0${fi(n,8)}`;case"hex":return`0x${fi(n,16)}`;case"dec":default:return`${n}`}}function Za(e,t){const n=YO(e,t);if(fi(n,t)!==e)throw new Error("Invalid value");return n}function XO(e){if(typeof e!="string")throw new Error("Invalid type");return e.length>=2&&e[0]==="0"?e[1]==="x"?["hex",Za(ft(e,2),16)]:["oct",Za(ft(e,1),8)]:["dec",Za(e,10)]}function QO(e){return at(e,".")}function tB(e){if(typeof e!="string")throw new Error("Invalid type");return Q(Wt(e,"."),t=>Za(t,10))}function ch(){return z(bn(255),bn(255),bn(255),bn(255)).map(QO,tB)}function Me(e){return z(De("dec","oct","hex"),bn(e)).map(ZO,XO)}function m0(e){return at(e,".")}function g0(e){if(typeof e!="string")throw new Error("Invalid type");return Wt(e,".")}function V2(){return Tt(z(Me(255),Me(255),Me(255),Me(255)).map(m0,g0),z(Me(255),Me(255),Me(65535)).map(m0,g0),z(Me(255),Me(16777215)).map(m0,g0),Me(4294967295))}function fh(e){return e.length===0?[]:Wt(e,":")}function lh(e){const t=Wt(e,":");return t.length>=2&&t[t.length-1].length<=4?[Mt(t,0,t.length-2),`${t[t.length-2]}:${t[t.length-1]}`]:[Mt(t,0,t.length-1),t[t.length-1]]}function eB(e){return`${at(e[0],":")}:${e[1]}`}function nB(e){if(typeof e!="string")throw new Error("Invalid type");return lh(e)}function rB(e){return`::${at(e[0],":")}:${e[1]}`}function sB(e){if(typeof e!="string")throw new Error("Invalid type");if(!_8(e,"::"))throw new Error("Invalid value");return lh(ft(e,2))}function Xa(e){return`${at(e[0],":")}::${at(e[1],":")}:${e[2]}`}function Qa(e){if(typeof e!="string")throw new Error("Invalid type");const[t,n]=Wt(e,"::",2),[r,s]=lh(n);return[fh(t),r,s]}function iB(e){return Xa([e[0],[e[1]],e[2]])}function aB(e){const t=Qa(e);return[t[0],at(t[1],":"),t[2]]}function $p(e){return`${at(e[0],":")}::${e[1]}`}function Op(e){if(typeof e!="string")throw new Error("Invalid type");const[t,n]=Wt(e,"::",2);return[fh(t),n]}function oB(e){return`${at(e[0],":")}::`}function uB(e){if(typeof e!="string")throw new Error("Invalid type");if(!E8(e,"::"))throw new Error("Invalid value");return[fh(ft(e,0,e.length-2))]}function cB([e,t]){return`${e}:${t}`}function fB(e){if(typeof e!="string")throw new B("Invalid type");if(!e.includes(":"))throw new B("Invalid value");return e.split(":",2)}const lB="0123456789abcdef";let d0;function hB(){return d0===void 0&&(d0=rt({min:0,max:15}).map(e=>lB[e],e=>{if(typeof e!="string")throw new B("Not a string");if(e.length!==1)throw new B("Invalid length");const t=ls(e,0);if(t<=57)return t-48;if(t<97)throw new B("Invalid character");return t-87})),d0}function q2(){const e=Ft({unit:hB(),minLength:1,maxLength:4,size:"max"}),t=Tt(z(e,e).map(cB,fB),ch());return Tt(z(st(e,{minLength:6,maxLength:6,size:"max"}),t).map(eB,nB),z(st(e,{minLength:5,maxLength:5,size:"max"}),t).map(rB,sB),z(st(e,{minLength:0,maxLength:1,size:"max"}),st(e,{minLength:4,maxLength:4,size:"max"}),t).map(Xa,Qa),z(st(e,{minLength:0,maxLength:2,size:"max"}),st(e,{minLength:3,maxLength:3,size:"max"}),t).map(Xa,Qa),z(st(e,{minLength:0,maxLength:3,size:"max"}),st(e,{minLength:2,maxLength:2,size:"max"}),t).map(Xa,Qa),z(st(e,{minLength:0,maxLength:4,size:"max"}),e,t).map(iB,aB),z(st(e,{minLength:0,maxLength:5,size:"max"}),t).map($p,Op),z(st(e,{minLength:0,maxLength:6,size:"max"}),e).map($p,Op),z(st(e,{minLength:0,maxLength:7,size:"max"})).map(oB,uB))}class Bp extends lt{constructor(t){super(),this.name=t,this.underlying=null}generate(t,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(t,n)}canShrinkWithoutContext(t){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(t)}shrink(t,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(t,n)}}const xB=Object.create;function W2(e){const t=xB(null),r=e(s=>($o(t,s)||(t[s]=new Bp(String(s))),t[s]));for(const s in r){if(!$o(r,s))continue;const i=t[s],o=i!==void 0?i:new Bp(s);o.underlying=r[s],t[s]=o}return r}function pB(e){return at(Q(e,t=>t[t.length-1]===","?ft(t,0,t.length-1):t)," ")}function mB(e){return function(n){if(typeof n!="string")throw new Error("Unsupported type");const r=[];for(const s of Wt(n," "))if(e.canShrinkWithoutContext(s))M(r,s);else if(e.canShrinkWithoutContext(s+","))M(r,s+",");else throw new Error("Unsupported word");return r}}function gB(e){let t=at(e," ");return t[t.length-1]===","&&(t=ft(t,0,t.length-1)),Ul(t[0])+ft(t,1)+"."}function dB(e){return function(n){if(typeof n!="string")throw new Error("Unsupported type");if(n.length<2||n[n.length-1]!=="."||n[n.length-2]===","||Ul(Cc(n[0]))!==n[0])throw new Error("Unsupported value");const r=Cc(n[0])+ft(n,1,n.length-1),s=[],i=Wt(r," ");for(let o=0;o!==i.length;++o){const u=i[o];if(e.canShrinkWithoutContext(u))M(s,u);else if(o===i.length-1&&e.canShrinkWithoutContext(u+","))M(s,u+",");else throw new Error("Unsupported word")}return s}}function bB(e){return at(e," ")}function yB(e){if(typeof e!="string")throw new Error("Unsupported type");const t=Wt(e,". ");for(let n=0;n<t.length-1;++n)t[n]+=".";return t}const y=(e,t)=>({arbitrary:kt(e),weight:t});function SB(){return Tt(y("non",6),y("adipiscing",5),y("ligula",5),y("enim",5),y("pellentesque",5),y("in",5),y("augue",5),y("et",5),y("nulla",5),y("lorem",4),y("sit",4),y("sed",4),y("diam",4),y("fermentum",4),y("ut",4),y("eu",4),y("aliquam",4),y("mauris",4),y("vitae",4),y("felis",4),y("ipsum",3),y("dolor",3),y("amet,",3),y("elit",3),y("euismod",3),y("mi",3),y("orci",3),y("erat",3),y("praesent",3),y("egestas",3),y("leo",3),y("vel",3),y("sapien",3),y("integer",3),y("curabitur",3),y("convallis",3),y("purus",3),y("risus",2),y("suspendisse",2),y("lectus",2),y("nec,",2),y("ultricies",2),y("sed,",2),y("cras",2),y("elementum",2),y("ultrices",2),y("maecenas",2),y("massa,",2),y("varius",2),y("a,",2),y("semper",2),y("proin",2),y("nec",2),y("nisl",2),y("amet",2),y("duis",2),y("congue",2),y("libero",2),y("vestibulum",2),y("pede",2),y("blandit",2),y("sodales",2),y("ante",2),y("nibh",2),y("ac",2),y("aenean",2),y("massa",2),y("suscipit",2),y("sollicitudin",2),y("fusce",2),y("tempus",2),y("aliquam,",2),y("nunc",2),y("ullamcorper",2),y("rhoncus",2),y("metus",2),y("faucibus,",2),y("justo",2),y("magna",2),y("at",2),y("tincidunt",2),y("consectetur",1),y("tortor,",1),y("dignissim",1),y("congue,",1),y("non,",1),y("porttitor,",1),y("nonummy",1),y("molestie,",1),y("est",1),y("eleifend",1),y("mi,",1),y("arcu",1),y("scelerisque",1),y("vitae,",1),y("consequat",1),y("in,",1),y("pretium",1),y("volutpat",1),y("pharetra",1),y("tempor",1),y("bibendum",1),y("odio",1),y("dui",1),y("primis",1),y("faucibus",1),y("luctus",1),y("posuere",1),y("cubilia",1),y("curae,",1),y("hendrerit",1),y("velit",1),y("mauris,",1),y("gravida",1),y("ornare",1),y("ut,",1),y("pulvinar",1),y("varius,",1),y("turpis",1),y("nibh,",1),y("eros",1),y("id",1),y("aliquet",1),y("quis",1),y("lobortis",1),y("consectetuer",1),y("morbi",1),y("vehicula",1),y("tortor",1),y("tellus,",1),y("id,",1),y("eu,",1),y("quam",1),y("feugiat,",1),y("posuere,",1),y("iaculis",1),y("lectus,",1),y("tristique",1),y("mollis,",1),y("nisl,",1),y("vulputate",1),y("sem",1),y("vivamus",1),y("placerat",1),y("imperdiet",1),y("cursus",1),y("rutrum",1),y("iaculis,",1),y("augue,",1),y("lacus",1))}function FB(e={}){const{maxCount:t,mode:n="words",size:r}=e;if(t!==void 0&&t<1)throw new Error("lorem has to produce at least one word/sentence");const s=SB();if(n==="sentences"){const i=st(s,{minLength:1,size:"small"}).map(gB,dB(s));return st(i,{minLength:1,maxLength:t,size:r}).map(bB,yB)}else return st(s,{minLength:1,maxLength:t,size:r}).map(pB,mB(s))}let $a=10;function AB(e){const t={};return(n=>{const r=n!==void 0?n:$a;if(!$o(t,r)){const s=$a;$a=r-1,t[r]=e(r),$a=s}return t[r]})}function wB(e){let t=0;for(;e>I(0);)e&I(1)&&++t,e>>=I(1);return t}function _B(e,t){const n=(I(1)<<I(t))-I(1),r=e&n;let s=wB(e-r),i=r;for(let o=I(1);o<=n&&s!==0;o<<=I(1))i&o||(i|=o,--s);return i}function Oa(e,t){const n=[];for(let r=e.length-1;r!==-1;--r)t(e[r])!==e[r]&&M(n,r);return n}function EB(e,t,n){let r=I(0);for(let s=0,i=I(1);s!==n.length;++s,i<<=I(1))e[n[s]]!==t[n[s]]&&(r|=i);return r}function b0(e,t,n,r){for(let s=0,i=I(1);s!==n.length;++s,i<<=I(1))t&i&&(e[n[s]]=r(e[n[s]]))}class CB extends lt{constructor(t,n,r){super(),this.stringArb=t,this.toggleCase=n,this.untoggleAll=r}buildContextFor(t,n){return{rawString:t.value,rawStringContext:t.context,flags:n.value,flagsContext:n.context}}generate(t,n){const r=this.stringArb.generate(t,n),s=[...r.value],i=Oa(s,this.toggleCase),u=vn(I(0),(I(1)<<I(i.length))-I(1)).generate(t,void 0);return b0(s,u.value,i,this.toggleCase),new O(at(s,""),this.buildContextFor(r,u))}canShrinkWithoutContext(t){return typeof t!="string"?!1:this.untoggleAll!==void 0?this.stringArb.canShrinkWithoutContext(this.untoggleAll(t)):this.stringArb.canShrinkWithoutContext(t)}shrink(t,n){let r;if(n!==void 0)r=n;else if(this.untoggleAll!==void 0){const o=this.untoggleAll(t),u=[...t],c=[...o],f=Oa(c,this.toggleCase);r={rawString:o,rawStringContext:void 0,flags:EB(c,u,f),flagsContext:void 0}}else r={rawString:t,rawStringContext:void 0,flags:I(0),flagsContext:void 0};const s=r.rawString,i=r.flags;return this.stringArb.shrink(s,r.rawStringContext).map(o=>{const u=[...o.value],c=Oa(u,this.toggleCase),f=_B(i,c.length);return b0(u,f,c,this.toggleCase),new O(at(u,""),this.buildContextFor(o,new O(f,void 0)))}).join(yn(()=>{const o=[...s],u=Oa(o,this.toggleCase);return vn(I(0),(I(1)<<I(u.length))-I(1)).shrink(i,r.flagsContext).map(c=>{const f=Mt(o);return b0(f,c.value,u,this.toggleCase),new O(at(f,""),this.buildContextFor(new O(s,r.rawStringContext),c))})}))}}function IB(e){const t=Ul(e);return t!==e?t:Cc(e)}function kB(e,t){const n=t&&t.toggleCase||IB,r=t&&t.untoggleAll;return new CB(e,n,r)}function vB(e){return By.from(e)}function TB(e){if(!(e instanceof By))throw new Error("Unexpected type");return[...e]}function z2(e={}){return st(P2(e),e).map(vB,TB)}function $B(e){return My.from(e)}function OB(e){if(!(e instanceof My))throw new Error("Unexpected type");return[...e]}function G2(e={}){return st(ku(e),e).map($B,OB)}function fn(e,t,n,r,s){const i=r.name,{min:o=t,max:u=n,...c}=e;if(o>u)throw new Error(`Invalid range passed to ${i}: min must be lower than or equal to max`);if(o<t)throw new Error(`Invalid min value passed to ${i}: min must be greater than or equal to ${t}`);if(u>n)throw new Error(`Invalid max value passed to ${i}: max must be lower than or equal to ${n}`);return st(s({min:o,max:u}),c).map(f=>r.from(f),f=>{if(!(f instanceof r))throw new Error("Invalid type");return[...f]})}function H2(e={}){return fn(e,-32768,32767,P9,rt)}function K2(e={}){return fn(e,-2147483648,2147483647,j9,rt)}function J2(e={}){return fn(e,-128,127,R9,rt)}function Y2(e={}){return fn(e,0,65535,V9,rt)}function Z2(e={}){return fn(e,0,4294967295,q9,rt)}function X2(e={}){return fn(e,0,255,L9,rt)}function Q2(e={}){return fn(e,0,255,U9,rt)}function BB(e){return e!==void 0}function Mp(e){return e.hasToBeCloned?new O(e.value_,{generatorContext:e.context},()=>e.value):new O(e.value_,{generatorContext:e.context})}function Np(e){return e.hasToBeCloned?new O(e.value_,{shrinkerContext:e.context},()=>e.value):new O(e.value_,{shrinkerContext:e.context})}class MB extends lt{constructor(t,n){super(),this.generatorArbitrary=t,this.shrinkerArbitrary=n}generate(t,n){return Mp(this.generatorArbitrary.generate(t,n))}canShrinkWithoutContext(t){return this.shrinkerArbitrary.canShrinkWithoutContext(t)}shrink(t,n){return BB(n)?"generatorContext"in n?this.generatorArbitrary.shrink(t,n.generatorContext).map(Mp):this.shrinkerArbitrary.shrink(t,n.shrinkerContext).map(Np):this.shrinkerArbitrary.shrink(t,void 0).map(Np)}}function jc(e,t,n){const r=rt({min:e,max:t});if(t===n)return r;const s=rt({min:e,max:n});return new MB(r,s)}const NB=Math.min,Lc=Math.max,Dp=$y.isArray,DB=Object.entries;function RB(e){let t=-1;for(let n=0;n!==e.length;++n)t=Lc(t,e[n][0]);return t}function PB(e,t){const n=$y(e);for(let r=0;r!==t.length;++r){const s=t[r];s[0]<e&&(n[s[0]]=s[1])}return n}function tS(e,t={}){const{size:n,minNumElements:r=0,maxLength:s=Fr,maxNumElements:i=s,noTrailingHole:o,depthIdentifier:u}=t,c=xi(n,r,i,t.maxNumElements!==void 0),f=xi(n,c,s,t.maxLength!==void 0);if(r>s)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(r>i)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");const h=NB(i,s),x=t.maxNumElements!==void 0||n!==void 0?n:"=",g=Lc(f-1,0),d=Lc(s-1,0),b=Qi(z(jc(0,g,d),e),{size:x,minLength:r,maxLength:h,selector:S=>S[0],depthIdentifier:u}).map(S=>{const m=RB(S);return PB(m+1,S)},S=>{if(!Dp(S))throw new Error("Not supported entry type");if(o&&S.length!==0&&!(S.length-1 in S))throw new Error("No trailing hole");return Q(DB(S),m=>[Number(m[0]),m[1]])});return o||s===r?b:z(b,jc(r,f,s)).map(S=>{const m=S[0],F=S[1];if(m.length>=F)return m;const A=Mt(m);return A.length=F,A},S=>{if(!Dp(S))throw new Error("Not supported entry type");return[S,S.length]})}function jB(e){return new Map(e)}function LB(e){if(typeof e!="object"||e===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Map)throw new Error("Incompatible instance received: should be of exact type Map");return Array.from(e)}function UB(e){return new Set(e)}function VB(e){if(typeof e!="object"||e===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Set)throw new Error("Incompatible instance received: should be of exact type Set");return Array.from(e)}function Rp(e,t,n,r,s){return Qi(z(e,t),{maxLength:n,size:r,comparator:"SameValueZero",selector:i=>i[0],depthIdentifier:s}).map(jB,LB)}function qB(e,t,n,r,s,i){return eh(e,t,{maxKeys:n,noNullPrototype:!i,size:r,depthIdentifier:s})}function WB(e,t,n,r){return Qi(e,{maxLength:t,size:n,comparator:"SameValueZero",depthIdentifier:r}).map(UB,VB)}function zB(e){return Tt(J2(e),X2(e),Q2(e),H2(e),Y2(e),K2(e),Z2(e),z2(e),G2(e))}function eS(e){const t=e.values,n=e.depthSize,r=m2(),s=e.maxDepth,i=e.maxKeys,o=e.size,u=Tt(...t,...e.withBigInt?[vn()]:[],...e.withDate?[S2()]:[]);return W2(c=>({anything:Tt({maxDepth:s,depthSize:n,depthIdentifier:r},u,c("array"),c("object"),...e.withMap?[c("map")]:[],...e.withSet?[c("set")]:[],...e.withObjectString?[c("anything").map(f=>At(f))]:[],...e.withTypedArray?[zB({maxLength:i,size:o})]:[],...e.withSparseArray?[tS(c("anything"),{maxNumElements:i,size:o,depthIdentifier:r})]:[]),keys:e.withObjectString?Tt({arbitrary:e.key,weight:10},{arbitrary:c("anything").map(f=>At(f)),weight:1}):e.key,array:st(c("anything"),{maxLength:i,size:o,depthIdentifier:r}),set:WB(c("anything"),i,o,r),map:Tt(Rp(c("keys"),c("anything"),i,o,r),Rp(c("anything"),c("anything"),i,o,r)),object:qB(c("keys"),c("anything"),i,o,r,e.withNullPrototype)})).anything}function GB(e){switch(typeof e){case"boolean":return new Oy(e);case"number":return new Qe(e);case"string":return new Sr(e);default:return e}}function HB(e){return typeof e!="object"||e===null||!("constructor"in e)?e:e.constructor===Oy||e.constructor===Qe||e.constructor===Sr?e.valueOf():e}function KB(e){return e.map(GB,HB)}function JB(e,t){return[Xi(),U2(),ku(),t(e),Tt(t(e),kt(null),kt(void 0))]}function YB(e){return e.map(t=>KB(t))}function ZB(e,t){return t?YB(e).concat(e):e}function nS(e={}){const t={size:e.size,unit:"stringUnit"in e?e.stringUnit:e.withUnicodeString?"binary":void 0};return{key:e.key!==void 0?e.key:Ft(t),values:ZB(e.values!==void 0?e.values:JB(t,Ft),e.withBoxedValues===!0),depthSize:e.depthSize,maxDepth:e.maxDepth,maxKeys:e.maxKeys,size:e.size,withSet:e.withSet===!0,withMap:e.withMap===!0,withObjectString:e.withObjectString===!0,withNullPrototype:e.withNullPrototype===!0,withBigInt:e.withBigInt===!0,withDate:e.withDate===!0,withTypedArray:e.withTypedArray===!0,withSparseArray:e.withSparseArray===!0}}function XB(e){return eh(e.key,eS(e),{maxKeys:e.maxKeys,noNullPrototype:!e.withNullPrototype,size:e.size})}function QB(e){return XB(nS(e))}function tM(e,t){const{depthSize:n,maxDepth:r}=t,s=e,i=[Xi(),ku({noDefaultInfinity:!0,noNaN:!0}),e,kt(null)];return{key:s,values:i,depthSize:n,maxDepth:r}}function rS(e){return eS(nS(e))}function sS(e={}){const t=e.noUnicodeString===void 0||e.noUnicodeString===!0,n="stringUnit"in e?Ft({unit:e.stringUnit}):t?Ft():Ft({unit:"binary"});return rS(tM(n,e))}const eM=JSON.stringify;function nM(e={}){return sS(e).map(eM)}const rM=Object.keys,sM=Object.getOwnPropertySymbols,iM=Object.getOwnPropertyDescriptor;function aM(e){const t=rM(e),n=sM(e);for(let r=0;r!==n.length;++r){const s=n[r],i=iM(e,s);i&&i.enumerable&&t.push(s)}return t}const oM=Object.create,uM=Object.defineProperty,cM=Object.getOwnPropertyDescriptor,fM=Object.getOwnPropertyNames,lM=Object.getOwnPropertySymbols;function hM(e,t){return function(r){const s=r[1]?oM(null):{};for(let i=0;i!==e.length;++i){const o=r[0][i];o!==t&&uM(s,e[i],{value:o,configurable:!0,enumerable:!0,writable:!0})}return s}}function xM(e,t){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");const s=Object.getPrototypeOf(r)===null,i="constructor"in r&&r.constructor===Object;if(!s&&!i)throw new Error("Incompatible instance received: should be of exact type Object");let o=0;const u=[];for(let h=0;h!==e.length;++h){const x=cM(r,e[h]);if(x!==void 0){if(!x.configurable||!x.enumerable||!x.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(x.get!==void 0||x.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++o,M(u,x.value)}else M(u,t)}const c=fM(r).length,f=lM(r).length;if(o!==c+f)throw new Error("Incompatible instance received: should not contain extra properties");return[u,s]}}const y0=Symbol("no-key");function S0(e,t,n){const r=aM(e),s=[];for(let i=0;i!==r.length;++i){const o=r[i],u=e[o];t===void 0||Ye(t,o)!==-1?M(s,u):M(s,fr(u,{nil:y0}))}return z(z(...s),n?kt(!1):Xi()).map(hM(r,y0),xM(r,y0))}function pM(e,t){const n=t!==void 0&&!!t.noNullPrototype;if(t==null||!("requiredKeys"in t&&t.requiredKeys!==void 0))return S0(e,void 0,n);const s=("requiredKeys"in t?t.requiredKeys:void 0)||[];for(let i=0;i!==s.length;++i){const o=Object.getOwnPropertyDescriptor(e,s[i]);if(o===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!o.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return S0(e,s,n)}const mM=Object.defineProperties;function F0(e,t){return`Stream(${t!==void 0?`${at(t,",")}…`:`${e} emitted`})`}class gM extends lt{constructor(t,n){super(),this.arb=t,this.history=n}generate(t,n){const r=n!==void 0&&t.nextInt(1,n)===1?n:void 0,s=()=>{const i=this.history?[]:null;let o=0;const u=function*(f,h){for(;;){const x=f.generate(h,r).value;o++,i!==null&&M(i,x),yield x}},c=new N(u(this.arb,t.clone()));return mM(c,{toString:{value:()=>F0(o,i!==null?i.map(At):void 0)},[sn]:{value:()=>F0(o,i!==null?i.map(At):void 0)},[an]:{value:async()=>F0(o,i!==null?await Promise.all(i.map(Hl)):void 0)},[Ot]:{value:s,enumerable:!0}})};return new O(s(),void 0)}canShrinkWithoutContext(t){return!1}shrink(t,n){return N.nil()}}function dM(e,t){const n=t!==void 0&&typeof t=="object"&&"noHistory"in t?!t.noHistory:!0;return new gM(e,n)}function bM(e){return at(e,"")}function Pp(e){if(typeof e!="string")throw new Error("Cannot unmap the passed value");return[...e]}function yM(e){switch(e.length%4){case 0:return e;case 3:return`${e}=`;case 2:return`${e}==`;default:return ft(e,1)}}function SM(e){if(typeof e!="string"||e.length%4!==0)throw new Error("Invalid string received");const t=e.indexOf("=");if(t===-1)return e;if(e.length-t>2)throw new Error("Cannot unmap the passed value");return ft(e,0,t)}const A0=String.fromCharCode;function FM(e){return e<26?A0(e+65):e<52?A0(e+97-26):e<62?A0(e+48-52):e===62?"+":"/"}function AM(e){if(typeof e!="string"||e.length!==1)throw new B("Invalid entry");const t=ls(e,0);return t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:t>=48&&t<=57?t-48+52:t===43?62:t===47?63:-1}function wM(){return rt({min:0,max:63}).map(FM,AM)}function _M(e={}){const{minLength:t=0,maxLength:n=Fr,size:r}=e,s=t+3-(t+3)%4,i=n-n%4,o=e.maxLength===void 0&&r===void 0?"=":r;if(s>i)throw new B("Minimal length should be inferior or equal to maximal length");if(s%4!==0)throw new B("Minimal length of base64 strings must be a multiple of 4");if(i%4!==0)throw new B("Maximal length of base64 strings must be a multiple of 4");const u=wM(),c=w$(u,Pp);return st(u,{minLength:s,maxLength:i,size:o,experimentalCustomSlices:c}).map(bM,Pp).map(yM,SM)}const jp=Object.is;function EM(e,t){const n=new Yi;let r=0;for(const s of e)if(jp(s,-0))++r;else{const i=In(n,s)||0;cr(n,s,i+1)}for(let s=0;s!==t.length;++s){if(!(s in t))return!1;const i=t[s];if(jp(i,-0)){if(r===0)return!1;--r}else{const o=In(n,i)||0;if(o===0)return!1;cr(n,i,o-1)}}return!0}const CM=Math.floor,Lp=Math.log,IM=Array.isArray;class iS extends lt{constructor(t,n,r,s){if(super(),this.originalArray=t,this.isOrdered=n,this.minLength=r,this.maxLength=s,r<0||r>t.length)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be between 0 and the size of the original array");if(s<0||s>t.length)throw new Error("fc.*{s|S}ubarrayOf expects the maximal length to be between 0 and the size of the original array");if(r>s)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be inferior or equal to the maximal length");this.lengthArb=new kn(r,s),this.biasedLengthArb=r!==s?new kn(r,r+CM(Lp(s-r)/Lp(2))):this.lengthArb}generate(t,n){const s=(n!==void 0&&t.nextInt(1,n)===1?this.biasedLengthArb:this.lengthArb).generate(t,void 0),i=s.value,o=Q(this.originalArray,(c,f)=>f),u=[];for(let c=0;c!==i;++c){const f=t.nextInt(0,o.length-1);M(u,o[f]),Ry(o,f,1)}return this.isOrdered&&Py(u,(c,f)=>c-f),new O(Q(u,c=>this.originalArray[c]),s.context)}canShrinkWithoutContext(t){return!IM(t)||!this.lengthArb.canShrinkWithoutContext(t.length)?!1:EM(this.originalArray,t)}shrink(t,n){return t.length===0?N.nil():this.lengthArb.shrink(t.length,n).map(r=>new O(Mt(t,t.length-r.value),r.context)).join(t.length>this.minLength?yn(()=>this.shrink(Mt(t,1),void 0).filter(r=>this.minLength<=r.value.length+1).map(r=>new O([t[0],...r.value],void 0))):N.nil())}}function kM(e,t={}){const{minLength:n=0,maxLength:r=e.length}=t;return new iS(e,!0,n,r)}function vM(e,t={}){const{minLength:n=0,maxLength:r=e.length}=t;return new iS(e,!1,n,r)}const TM={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"},$M={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,J:18,K:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,V:27,W:28,X:29,Y:30,Z:31};function OM(e){return e<10?Sr(e):TM[e]}function Up(e,t){let n="";for(;e.length+n.length<t;)n+="0";return n+e}function Vp(e){let t="";for(let n=e;n!==0;){const r=n>>5,s=n-(r<<5);t=OM(s)+t,n=r}return t}function BM(e,t){const n=~~(e/1073741824),r=e&1073741823;return Up(Vp(n),t-6)+Up(Vp(r),6)}function aS(e){return function(n){return BM(n,e)}}function w0(e){if(typeof e!="string")throw new B("Unsupported type");let t=0,n=1;for(let r=e.length-1;r>=0;--r){const s=e[r],i=$M[s];if(i===void 0)throw new B("Unsupported type");t+=i*n,n*=32}return t}const MM=aS(10),qp=aS(8);function NM(e){return MM(e[0])+qp(e[1])+qp(e[2])}function DM(e){if(typeof e!="string"||e.length!==26)throw new Error("Unsupported type");return[w0(e.slice(0,10)),w0(e.slice(10,18)),w0(e.slice(18))]}function RM(){const e=rt({min:0,max:0xffffffffffff}),t=rt({min:0,max:0xffffffffff}),n=rt({min:0,max:0xffffffffff});return z(e,t,n).map(NM,DM)}function oS(e){return C8(fi(e,16),8,"0")}function PM(e){if(typeof e!="string")throw new Error("Unsupported type");if(e.length!==8)throw new Error("Unsupported value: invalid length");const t=parseInt(e,16);if(e!==oS(t))throw new Error("Unsupported value: invalid content");return t}function _0(e,t){return rt({min:e,max:t}).map(oS,PM)}function jM(e){return`${e[0]}-${ft(e[1],4)}-${ft(e[1],0,4)}-${ft(e[2],0,4)}-${ft(e[2],4)}${e[3]}`}const LM=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function UM(e){if(typeof e!="string")throw new Error("Unsupported type");const t=LM.exec(e);if(t===null)throw new Error("Unsupported type");return[t[1],t[3]+t[2],t[4]+ft(t[5],0,4),ft(t[5],4)]}const Wp="0123456789abcdef";function VM(e){const t={},n={};for(let i=0;i!==e.length;++i){const o=Wp[i],u=Wp[e[i]];t[o]=u,n[u]=o}function r(i){return t[i[0]]+ft(i,1)}function s(i){if(typeof i!="string")throw new B("Cannot produce non-string values");const o=n[i[0]];if(o===void 0)throw new B("Cannot produce strings not starting by the version in hexa code");return o+ft(i,1)}return{versionsApplierMapper:r,versionsApplierUnmapper:s}}function qM(e){const t={};for(const n of e){if(t[n])throw new B(`Version ${n} has been requested at least twice for uuid`);if(t[n]=!0,n<1||n>15)throw new B(`Version must be a value in [1-15] for uuid, but received ${n}`);if(~~n!==n)throw new B(`Version must be an integer value for uuid, but received ${n}`)}if(e.length===0)throw new B("Must provide at least one version for uuid")}function WM(e={}){const t=_0(0,4294967295),n=e.version!==void 0?typeof e.version=="number"?[e.version]:e.version:[1,2,3,4,5,6,7,8];qM(n);const{versionsApplierMapper:r,versionsApplierUnmapper:s}=VM(n),i=_0(0,268435456*n.length-1).map(r,s),o=_0(2147483648,3221225471);return z(t,i,o,t).map(jM,UM)}function zM(e){return Ft({unit:sh("-._~!$&'()*+,;=:"),size:e})}function GM([e,t,n]){return(e===null?"":`${e}@`)+t+(n===null?"":`:${n}`)}function HM(e){if(typeof e!="string")throw new Error("Unsupported");const t=e.indexOf("@"),n=t!==-1?e.substring(0,t):null,s=/:(\d+)$/.exec(e),i=s!==null?Number(s[1]):null,o=s!==null?e.substring(t+1,e.length-s[1].length-1):e.substring(t+1);return[n,o,i]}function KM(e){return`[${e}]`}function JM(e){if(typeof e!="string"||e[0]!=="["||e[e.length-1]!=="]")throw new Error("Unsupported");return e.substring(1,e.length-1)}function uS(e){const t=e||{},n=t.size,r=[ih({size:n}),...t.withIPv4===!0?[ch()]:[],...t.withIPv6===!0?[q2().map(KM,JM)]:[],...t.withIPv4Extended===!0?[V2()]:[]];return z(t.withUserInfo===!0?fr(zM(n)):kt(null),Tt(...r),t.withPort===!0?fr(bn(65535)):kt(null)).map(GM,HM)}function cS(e){return Ft({unit:sh("-._~!$&'()*+,;=:@/?"),size:e})}function fS(e={}){return cS(e.size)}function lS(e={}){return Ft({unit:sh("-._~!$&'()*+,;=:@"),size:e.size})}function YM(e){return at(Q(e,t=>`/${t}`),"")}function ZM(e){if(typeof e!="string")throw new Error("Incompatible value received: type");if(e.length!==0&&e[0]!=="/")throw new Error("Incompatible value received: start");return Ry(Wt(e,"/"),1)}function XM(e){switch(e){case"xsmall":return["xsmall","xsmall"];case"small":return["small","xsmall"];case"medium":return["small","small"];case"large":return["medium","small"];case"xlarge":return["medium","medium"]}}function E0(e,t){return st(lS({size:e}),{size:t}).map(YM,ZM)}function QM(e){const[t,n]=XM(e);return t===n?E0(t,n):Tt(E0(t,n),E0(n,t))}function hS(e){const n=Zl((e||{}).size);return QM(n)}function xS(e={}){return cS(e.size)}function tN(e){const[t,n,r]=e,s=e[3]===null?"":`?${e[3]}`,i=e[4]===null?"":`#${e[4]}`;return`${t}://${n}${r}${s}${i}`}const eN=/^([[A-Za-z][A-Za-z0-9+.-]*):\/\/([^/?#]*)([^?#]*)(\?[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?(#[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?$/;function nN(e){if(typeof e!="string")throw new Error("Incompatible value received: type");const t=eN.exec(e);if(t===null)throw new Error("Incompatible value received");const n=t[1],r=t[2],s=t[3],i=t[4],o=t[5];return[n,r,s,i!==void 0?i.substring(1):null,o!==void 0?o.substring(1):null]}function rN(e){const t=e||{},n=Zl(t.size),r=t.authoritySettings!==void 0&&t.authoritySettings.size!==void 0?Zi(t.authoritySettings.size,n):n,s={...t.authoritySettings,size:r},i=t.validSchemes||["http","https"],o=De(...i),u=uS(s);return z(o,u,hS({size:n}),t.withQueryParameters===!0?fr(xS({size:n})):kt(null),t.withFragments===!0?fr(fS({size:n})):kt(null)).map(tN,nN)}class hh{constructor(t,n){this.commands=t,this.metadataForReplay=n,this[Ot]=function(){return new hh(this.commands.map(r=>r.clone()),this.metadataForReplay)}}[Symbol.iterator](){return this.commands[Symbol.iterator]()}toString(){const t=this.commands.filter(r=>r.hasRan).map(r=>r.toString()).join(","),n=this.metadataForReplay();return n.length!==0?`${t} /*${n}*/`:t}}class No{constructor(t){if(this.cmd=t,this.hasRan=!1,zl(t)){const n=t[sn];this[sn]=function(){return n.call(t)}}if(Gl(t)){const n=t[an];this[an]=function(){return n.call(t)}}}check(t){return this.cmd.check(t)}run(t,n){return this.hasRan=!0,this.cmd.run(t,n)}clone(){return yr(this.cmd)?new No(this.cmd[Ot]()):new No(this.cmd)}toString(){return this.cmd.toString()}}class zp{static parse(t){const[n,r]=t.split(":"),s=this.parseCounts(n),i=this.parseChanges(r);return this.parseOccurences(s,i)}static stringify(t){const n=this.countOccurences(t),r=this.stringifyCounts(n),s=this.stringifyChanges(n);return`${r}:${s}`}static intToB64(t){return t<26?String.fromCharCode(t+65):t<52?String.fromCharCode(t+97-26):t<62?String.fromCharCode(t+48-52):String.fromCharCode(t===62?43:47)}static b64ToInt(t){return t>="a"?t.charCodeAt(0)-97+26:t>="A"?t.charCodeAt(0)-65:t>="0"?t.charCodeAt(0)-48+52:t==="+"?62:63}static countOccurences(t){return t.reduce((n,r)=>(n.length===0||n[n.length-1].count===64||n[n.length-1].value!==r?n.push({value:r,count:1}):n[n.length-1].count+=1,n),[])}static parseOccurences(t,n){const r=[];for(let s=0;s!==t.length;++s){const i=t[s],o=n[s];for(let u=0;u!==i;++u)r.push(o)}return r}static stringifyChanges(t){let n="";for(let r=0;r<t.length;r+=6){const s=t.slice(r,r+6).reduceRight((i,o)=>i*2+(o.value?1:0),0);n+=this.intToB64(s)}return n}static parseChanges(t){const n=t.split("").map(s=>this.b64ToInt(s)),r=[];for(let s=0;s!==n.length;++s){let i=n[s];for(let o=0;o!==6;++o,i>>=1)r.push(i%2===1)}return r}static stringifyCounts(t){return t.map(({count:n})=>this.intToB64(n-1)).join("")}static parseCounts(t){return t.split("").map(n=>this.b64ToInt(n)+1)}}class sN extends lt{constructor(t,n,r,s,i){super(),this.sourceReplayPath=s,this.disableReplayLog=i,this.oneCommandArb=Tt(...t).map(o=>new No(o)),this.lengthArb=jc(0,n,r),this.replayPath=[],this.replayPathPosition=0}metadataForReplay(){return this.disableReplayLog?"":`replayPath=${JSON.stringify(zp.stringify(this.replayPath))}`}buildValueFor(t,n){const r=t.map(i=>i.value_),s={shrunkOnce:n,items:t};return new O(new hh(r,()=>this.metadataForReplay()),s)}generate(t){const r=this.lengthArb.generate(t,void 0).value,s=Array(r);for(let i=0;i!==r;++i){const o=this.oneCommandArb.generate(t,void 0);s[i]=o}return this.replayPathPosition=0,this.buildValueFor(s,!1)}canShrinkWithoutContext(t){return!1}filterOnExecution(t){const n=[];for(const r of t)r.value_.hasRan?(this.replayPath.push(!0),n.push(r)):this.replayPath.push(!1);return n}filterOnReplay(t){return t.filter((n,r)=>{const s=this.replayPath[this.replayPathPosition+r];if(s===void 0)throw new Error("Too short replayPath");if(!s&&n.value_.hasRan)throw new Error("Mismatch between replayPath and real execution");return s})}filterForShrinkImpl(t){this.replayPathPosition===0&&(this.replayPath=this.sourceReplayPath!==null?zp.parse(this.sourceReplayPath):[]);const n=this.replayPathPosition<this.replayPath.length?this.filterOnReplay(t):this.filterOnExecution(t);return this.replayPathPosition+=t.length,n}shrink(t,n){if(n===void 0)return N.nil();const r=n,s=r.shrunkOnce,i=r.items,o=this.filterForShrinkImpl(i);if(o.length===0)return N.nil();const u=s?N.nil():new N([[]][Symbol.iterator]()),c=[];for(let f=0;f!==o.length;++f)c.push(yn(()=>{const h=o.slice(0,f);return this.lengthArb.shrink(o.length-1-f,void 0).map(x=>h.concat(o.slice(o.length-(x.value+1))))}));for(let f=0;f!==o.length;++f)c.push(yn(()=>this.oneCommandArb.shrink(o[f].value_,o[f].context).map(h=>o.slice(0,f).concat([h],o.slice(f+1)))));return u.join(...c).map(f=>this.buildValueFor(f.map(h=>new O(h.value_.clone(),h.context)),!0))}}function iN(e,t={}){const{size:n,maxCommands:r=Fr,disableReplayLog:s=!1,replayPath:i=null}=t,o=t.maxCommands!==void 0,u=xi(n,0,r,o);return new sN(e,u,r,i,s)}class aN{constructor(t,n){this.s=t,this.cmd=n}async check(t){let n=null,r=!1;if((await this.s.scheduleSequence([{label:`check@${this.cmd.toString()}`,builder:async()=>{try{r=await Promise.resolve(this.cmd.check(t))}catch(i){throw n=i,i}}}]).task).faulty)throw n;return r}async run(t,n){let r=null;if((await this.s.scheduleSequence([{label:`run@${this.cmd.toString()}`,builder:async()=>{try{await this.cmd.run(t,n)}catch(i){throw r=i,i}}}]).task).faulty)throw r}}const oN=function*(e,t){for(const n of t)yield new aN(e,n)},pS=(e,t,n,r,s)=>e.then(i=>{const{model:o,real:u}=i;let c=n;for(const f of t)c=s(c,()=>r(f,o,u));return c}),uN=(e,t)=>pS({then:i=>{i(e())}},t,void 0,(i,o,u)=>{i.check(o)&&i.run(o,u)},(i,o)=>o()),cN=e=>typeof e.then=="function",mS=async(e,t,n=Promise.resolve())=>await pS({then:o=>{const u=e();return cN(u)?u.then(o):o(u)}},t,n,async(o,u,c)=>{await o.check(u)&&await o.run(u,c)},(o,u)=>o.then(u));function fN(e,t){uN(e,t)}async function lN(e,t){await mS(e,t)}async function hN(e,t,n){const r=oN(e,n),s=mS(t,r,e.schedule(Promise.resolve(),"startModel"));await e.waitFor(s),await e.waitAll()}const Ba=e=>e(),C0=50;class di{constructor(t,n){this.act=t,this.taskSelector=n,this.lastTaskId=0,this.sourceTaskSelector=n.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[],this[Ot]=function(){return new di(this.act,this.sourceTaskSelector)}}static buildLog(t){return`[task\${${t.taskId}}] ${t.label.length!==0?`${t.schedulingType}::${t.label}`:t.schedulingType} ${t.status}${t.outputValue!==void 0?` with value ${NO(t.outputValue)}`:""}`}log(t,n,r,s,i,o){this.triggeredTasks.push({status:i,schedulingType:t,taskId:n,label:r,metadata:s,outputValue:o!==void 0?At(o):void 0})}scheduleInternal(t,n,r,s,i,o){const u=++this.lastTaskId;let c;const f=new Promise((h,x)=>{c=()=>{const g=Promise.resolve(o!==void 0?r.then(()=>o()):r);return g.then(d=>{this.log(t,u,n,s,"resolved",d),h(d)},d=>{this.log(t,u,n,s,"rejected",d),x(d)}),g}});return this.scheduledTasks.push({original:r,trigger:c,schedulingType:t,taskId:u,label:n,metadata:s,customAct:i}),this.scheduledWatchers.length!==0&&this.scheduledWatchers[0](),f}schedule(t,n,r,s){return this.scheduleInternal("promise",n||"",t,r,s||Ba)}scheduleFunction(t,n){return(...r)=>this.scheduleInternal("function",`${t.name}(${r.map(At).join(",")})`,t(...r),void 0,n||Ba)}scheduleSequence(t,n){const r={done:!1,faulty:!1},s={then:h=>h()};let i=()=>{};const o=new Promise(h=>{i=()=>h({done:r.done,faulty:r.faulty})}),u=()=>{r.faulty=!0,i()},c=()=>{r.done=!0,i()},f=(h,x)=>{if(h>=t.length){x.then(c,u);return}x.then(()=>{const g=t[h],[d,b,S]=typeof g=="function"?[g,g.name,void 0]:[g.builder,g.label,g.metadata],m=this.scheduleInternal("sequence",b,s,S,n||Ba,()=>d());f(h+1,m)},u)};return f(0,s),Object.assign(r,{task:o})}count(){return this.scheduledTasks.length}internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");const t=this.taskSelector.nextTaskIndex(this.scheduledTasks),[n]=this.scheduledTasks.splice(t,1);return n.customAct(()=>n.trigger().catch(s=>{}))}waitOne(t){const n=t||Ba;return this.act(()=>n(()=>this.internalWaitOne()))}async waitAll(t){for(;this.scheduledTasks.length>0;)await this.waitOne(t)}async internalWaitFor(t,n){let r=!1;const s=n.customAct,i=n.onWaitStart,o=n.onWaitIdle,u=n.launchAwaiterOnInit;let c,f,h=0,x=null,g=null;const d=async()=>{for(h=C0,h=C0;!r&&h>0;--h)await Promise.resolve();if(!r&&this.scheduledTasks.length>0)return i!==void 0&&i(),g=this.waitOne(s),g.then(()=>(g=null,d()),F=>{throw g=null,r=!0,f(F),F});!r&&o!==void 0&&o(),x=null},b=()=>{if(x!==null){h=C0+1;return}x=d().catch(()=>{})},S=()=>{const F=this.scheduledWatchers.indexOf(b);F!==-1&&this.scheduledWatchers.splice(F,1),F===0&&this.scheduledWatchers.length!==0&&this.scheduledWatchers[0]()},m=new Promise((F,A)=>{c=E=>{S(),F(E)},f=E=>{S(),A(E)}});return t.then(F=>{r=!0,g===null?c(F):g.then(()=>c(F),A=>f(A))},F=>{r=!0,g===null?f(F):g.then(()=>f(F),()=>f(F))}),(this.scheduledTasks.length>0||u)&&this.scheduledWatchers.length===0&&b(),this.scheduledWatchers.push(b),m}waitNext(t,n){let r,s=t;const i=s<=0?Promise.resolve():new Promise(o=>{r=()=>{--s<=0&&o()}});return this.internalWaitFor(i,{customAct:n,onWaitStart:r,onWaitIdle:void 0,launchAwaiterOnInit:!1})}waitIdle(t){let n;const r=new Promise(s=>n=s);return this.internalWaitFor(r,{customAct:t,onWaitStart:void 0,onWaitIdle:n,launchAwaiterOnInit:!0})}waitFor(t,n){return this.internalWaitFor(t,{customAct:n,onWaitStart:void 0,onWaitIdle:void 0,launchAwaiterOnInit:!1})}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(t=>({status:"pending",schedulingType:t.schedulingType,taskId:t.taskId,label:t.label,metadata:t.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(di.buildLog).map(t=>`-> ${t}`).join(`
`)+"`"}}function gS(e){let t=0;return{clone:()=>gS(e),nextTaskIndex:n=>{if(e.length<=t)throw new Error("Invalid schedulerFor defined: too many tasks have been scheduled");const r=n.findIndex(s=>s.taskId===e[t]);if(r===-1)throw new Error("Invalid schedulerFor defined: unable to find next task");return++t,r}}}function Gp(e,t){return new di(e,gS(t))}function dS(e){const t=e.clone();return{clone:()=>dS(t),nextTaskIndex:n=>e.nextInt(0,n.length-1)}}class xN extends lt{constructor(t){super(),this.act=t}generate(t,n){return new O(new di(this.act,dS(t.clone())),void 0)}canShrinkWithoutContext(t){return!1}shrink(t,n){return N.nil()}}function pN(e){const{act:t=n=>n()}=e||{};return new xN(t)}function mN(e,t){const{act:n=r=>r()}=Array.isArray(e)?t||{}:e||{};return Array.isArray(e)?Gp(n,e):function(r,...s){return Gp(n,s)}}function gN(e={}){return fn(e,I("-9223372036854775808"),I("9223372036854775807"),N9,vn)}function dN(e={}){return fn(e,I(0),I("18446744073709551615"),D9,vn)}function bN(e){return new Error(`Unsupported AST node! Received: ${At(e)}`)}function to(e,t,n){if(!t&&!n)return e;const r={hasStart:!1,hasEnd:!1},s=bS(e,t,n,r),i=t&&!r.hasStart,o=n&&!r.hasEnd;if(!i&&!o)return s;const u=[];return i&&(u.push({type:"Assertion",kind:"^"}),u.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}})),u.push(s),o&&(u.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}}),u.push({type:"Assertion",kind:"$"})),{type:"Group",capturing:!1,expression:{type:"Alternative",expressions:u}}}function bS(e,t,n,r){switch(e.type){case"Char":return e;case"Repetition":return e;case"Quantifier":throw new Error("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return r.hasStart=!0,r.hasEnd=!0,{...e,expressions:e.expressions.map((s,i)=>to(s,t&&i===0,n&&i===e.expressions.length-1))};case"CharacterClass":return e;case"ClassRange":return e;case"Group":return{...e,expression:bS(e.expression,t,n,r)};case"Disjunction":return r.hasStart=!0,r.hasEnd=!0,{...e,left:e.left!==null?to(e.left,t,n):null,right:e.right!==null?to(e.right,t,n):null};case"Assertion":{if(e.kind==="^"||e.kind==="Lookahead")return r.hasStart=!0,e;if(e.kind==="$"||e.kind==="Lookbehind")return r.hasEnd=!0,e;throw new Error(`Assertions of kind ${e.kind} not implemented yet!`)}case"Backreference":return e;default:throw bN(e)}}function yN(e){return to(e,!0,!0)}function Hp(e,t){return e[t]>="\uD800"&&e[t]<="\uDBFF"&&e[t+1]>="\uDC00"&&e[t+1]<="\uDFFF"?2:1}function mt(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function Uc(e){return e>="0"&&e<="9"}function yS(e,t){for(let n=t;n!==e.length;++n){const r=e[n];if(r==="\\")n+=1;else if(r==="]")return n}throw new Error("Missing closing ']'")}function SN(e,t){let n=0;for(let r=t;r!==e.length;++r){const s=e[r];if(s==="\\")r+=1;else if(s===")"){if(n===0)return r;n-=1}else s==="["?r=yS(e,r):s==="("&&(n+=1)}throw new Error("Missing closing ')'")}function FN(e,t){let n=!1;for(let r=t;r!==e.length;++r){const s=e[r];if(!Uc(s)){if(t===r)return-1;if(s===","){if(n)return-1;n=!0}else return s==="}"?r:-1}}return-1}var Xe;(function(e){e[e.Full=0]="Full",e[e.Character=1]="Character"})(Xe||(Xe={}));function AN(e,t,n,r){switch(e[t]){case"[":return r===Xe.Character?t+1:yS(e,t+1)+1;case"{":{if(r===Xe.Character)return t+1;const s=FN(e,t+1);return s===-1?t+1:s+1}case"(":return r===Xe.Character?t+1:SN(e,t+1)+1;case"]":case"}":case")":return t+1;case"\\":{const s=e[t+1];switch(s){case"x":if(mt(e[t+2])&&mt(e[t+3]))return t+4;throw new Error(`Unexpected token '${e.substring(t,t+4)}' found`);case"u":if(e[t+2]==="{"){if(!n)return t+2;if(e[t+4]==="}"){if(mt(e[t+3]))return t+5;throw new Error(`Unexpected token '${e.substring(t,t+5)}' found`)}if(e[t+5]==="}"){if(mt(e[t+3])&&mt(e[t+4]))return t+6;throw new Error(`Unexpected token '${e.substring(t,t+6)}' found`)}if(e[t+6]==="}"){if(mt(e[t+3])&&mt(e[t+4])&&mt(e[t+5]))return t+7;throw new Error(`Unexpected token '${e.substring(t,t+7)}' found`)}if(e[t+7]==="}"){if(mt(e[t+3])&&mt(e[t+4])&&mt(e[t+5])&&mt(e[t+6]))return t+8;throw new Error(`Unexpected token '${e.substring(t,t+8)}' found`)}if(e[t+8]==="}"&&mt(e[t+3])&&mt(e[t+4])&&mt(e[t+5])&&mt(e[t+6])&&mt(e[t+7]))return t+9;throw new Error(`Unexpected token '${e.substring(t,t+9)}' found`)}if(mt(e[t+2])&&mt(e[t+3])&&mt(e[t+4])&&mt(e[t+5]))return t+6;throw new Error(`Unexpected token '${e.substring(t,t+6)}' found`);case"p":case"P":{if(!n)return t+2;let i=t+2;for(;i<e.length&&e[i]!=="}";i+=e[i]==="\\"?2:1);if(e[i]!=="}")throw new Error("Invalid \\P definition");return i+1}case"k":{let i=t+2;for(;i<e.length&&e[i]!==">";++i);if(e[i]!==">"){if(!n)return t+2;throw new Error("Invalid \\k definition")}return i+1}default:{if(Uc(s)){const o=n?e.length:Math.min(t+4,e.length);let u=t+2;for(;u<o&&Uc(e[u]);++u);return u}const i=n?Hp(e,t+1):1;return t+i+1}}}default:{const s=n?Hp(e,t):1;return t+s}}}function Ma(e,t,n,r){const s=AN(e,t,n,r);return e.substring(t,s)}const I0=String.fromCodePoint;function k0(e){const t=e.pop();if(t===void 0)throw new Error("Unable to extract token preceeding the currently parsed one");return t}function SS(e){return e>="0"&&e<="9"}function eo(e,t){return{type:"Char",kind:"simple",symbol:e,value:e,codePoint:e.codePointAt(0)||-1,escaped:t}}function vr(e,t){return{type:"Char",kind:"meta",symbol:t,value:e,codePoint:t.codePointAt(0)||-1}}function xn(e,t){if(e.length>1)return{type:"Alternative",expressions:e};if(!t&&e.length===0)throw new Error("Unsupported no token");return e[0]}function v0(e){if(e[0]==="\\"){const t=e[1];switch(t){case"x":{const n=e.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"hex",symbol:I0(r),value:e,codePoint:r}}case"u":{if(e==="\\u")return eo("u",!0);const n=e[2]==="{"?e.substring(3,e.length-1):e.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"unicode",symbol:I0(r),value:e,codePoint:r}}case"0":return vr(e,"\0");case"n":return vr(e,`
`);case"f":return vr(e,"\f");case"r":return vr(e,"\r");case"t":return vr(e,"	");case"v":return vr(e,"\v");case"w":case"W":case"d":case"D":case"s":case"S":case"b":case"B":return{type:"Char",kind:"meta",symbol:void 0,value:e,codePoint:Number.NaN};default:{if(SS(t)){const r=e.substring(1),s=Number(r);return{type:"Char",kind:"decimal",symbol:I0(s),value:e,codePoint:s}}if(e.length>2&&(t==="p"||t==="P"))throw new Error("UnicodeProperty not implemented yet!");const n=e.substring(1);return eo(n,!0)}}}return eo(e)}function Or(e,t,n,r){let s=null;for(let i=0,o=Ma(t,i,n,Xe.Full);i!==t.length;i+=o.length,o=Ma(t,i,n,Xe.Full)){const u=o[0];switch(u){case"|":{s===null&&(s=[]),s.push(xn(e.splice(0),!0)||null);break}case".":{e.push({type:"Char",kind:"meta",symbol:o,value:o,codePoint:Number.NaN});break}case"*":case"+":{const c=k0(e);e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:u,greedy:!0}});break}case"?":{const c=k0(e);c.type==="Repetition"?(c.quantifier.greedy=!1,e.push(c)):e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:u,greedy:!0}});break}case"{":{if(o==="{"){e.push(eo(o));break}const c=k0(e),h=o.substring(1,o.length-1).split(","),x=Number(h[0]),g=h.length===1?x:h[1].length!==0?Number(h[1]):void 0;e.push({type:"Repetition",expression:c,quantifier:{type:"Quantifier",kind:"Range",greedy:!0,from:x,to:g}});break}case"[":{const c=o.substring(1,o.length-1),f=[];let h,x=!1;for(let g=0,d=Ma(c,g,n,Xe.Character);g!==c.length;g+=d.length,d=Ma(c,g,n,Xe.Character)){if(g===0&&d==="^"){h=!0;continue}const b=v0(d);if(d==="-")f.push(b),x=!0;else{const S=f.length>=2?f[f.length-2]:void 0;x&&S!==void 0&&S.type==="Char"?(f.pop(),f.pop(),f.push({type:"ClassRange",from:S,to:b})):f.push(b),x=!1}}e.push({type:"CharacterClass",expressions:f,negative:h});break}case"(":{const c=o.substring(1,o.length-1),f=[];if(c[0]==="?")if(c[1]===":")Or(f,c.substring(2),n,r),e.push({type:"Group",capturing:!1,expression:xn(f)});else if(c[1]==="="||c[1]==="!")Or(f,c.substring(2),n,r),e.push({type:"Assertion",kind:"Lookahead",negative:c[1]==="!"?!0:void 0,assertion:xn(f)});else if(c[1]==="<"&&(c[2]==="="||c[2]==="!"))Or(f,c.substring(3),n,r),e.push({type:"Assertion",kind:"Lookbehind",negative:c[2]==="!"?!0:void 0,assertion:xn(f)});else{const h=c.split(">");if(h.length<2||h[0][1]!=="<")throw new Error(`Unsupported regex content found at ${JSON.stringify(o)}`);const x=++r.lastIndex,g=h[0].substring(2);r.named.set(g,x),Or(f,h.slice(1).join(">"),n,r),e.push({type:"Group",capturing:!0,nameRaw:g,name:g,number:x,expression:xn(f)})}else{const h=++r.lastIndex;Or(f,c,n,r),e.push({type:"Group",capturing:!0,number:h,expression:xn(f)})}break}default:{if(o==="^")e.push({type:"Assertion",kind:o});else if(o==="$")e.push({type:"Assertion",kind:o});else if(o[0]==="\\"&&SS(o[1])){const c=Number(o.substring(1));n||c<=r.lastIndex?e.push({type:"Backreference",kind:"number",number:c,reference:c}):e.push(v0(o))}else if(o[0]==="\\"&&o[1]==="k"&&o.length!==2){const c=o.substring(3,o.length-1);e.push({type:"Backreference",kind:"name",number:r.named.get(c)||0,referenceRaw:c,reference:c})}else e.push(v0(o));break}}}if(s!==null){s.push(xn(e.splice(0),!0)||null);let i={type:"Disjunction",left:s[0],right:s[1]};for(let o=2;o<s.length;++o)i={type:"Disjunction",left:i,right:s[o]};e.push(i)}}function wN(e){const t=Ye([...e.flags],"u")!==-1,n=e.source,r=[];return Or(r,n,t,{lastIndex:0,named:new Map}),xn(r)}const _N=String.fromCodePoint,Kp=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],Jp=[..."0123456789"],Yp=[...` 	\r
\v\f`],Vc=[...`\r
`],FS=[...""],EN=[...Vc,...FS],Un=()=>Ft({unit:"grapheme-ascii",minLength:1,maxLength:1});function Zp(e){return new B(`Unsupported AST node! Received: ${At(e)}`)}function pn(e,t,n){switch(e.type){case"Char":{if(e.kind==="meta")switch(e.value){case"\\w":return De(...Kp);case"\\W":return Un().filter(r=>Ye(Kp,r)===-1);case"\\d":return De(...Jp);case"\\D":return Un().filter(r=>Ye(Jp,r)===-1);case"\\s":return De(...Yp);case"\\S":return Un().filter(r=>Ye(Yp,r)===-1);case"\\b":case"\\B":throw new B(`Meta character ${e.value} not implemented yet!`);case".":{const r=n.dotAll?FS:EN;return Un().filter(s=>Ye(r,s)===-1)}}if(e.symbol===void 0)throw new B(`Unexpected undefined symbol received for non-meta Char! Received: ${At(e)}`);return kt(e.symbol)}case"Repetition":{const r=pn(e.expression,t,n);switch(e.quantifier.kind){case"*":return Ft({...t,unit:r});case"+":return Ft({...t,minLength:1,unit:r});case"?":return Ft({...t,minLength:0,maxLength:1,unit:r});case"Range":return Ft({...t,minLength:e.quantifier.from,maxLength:e.quantifier.to,unit:r});default:throw Zp(e.quantifier)}}case"Quantifier":throw new B("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return z(...Q(e.expressions,r=>pn(r,t,n))).map(r=>at(r,""));case"CharacterClass":if(e.negative){const r=Q(e.expressions,s=>pn(s,t,n));return Un().filter(s=>jy(r,i=>!i.canShrinkWithoutContext(s)))}return Tt(...Q(e.expressions,r=>pn(r,t,n)));case"ClassRange":{const r=e.from.codePoint,s=e.to.codePoint;return rt({min:r,max:s}).map(i=>_N(i),i=>{if(typeof i!="string")throw new B("Invalid type");if([...i].length!==1)throw new B("Invalid length");return ls(i,0)})}case"Group":return pn(e.expression,t,n);case"Disjunction":{const r=e.left!==null?pn(e.left,t,n):kt(""),s=e.right!==null?pn(e.right,t,n):kt("");return Tt(r,s)}case"Assertion":{if(e.kind==="^"||e.kind==="$")return n.multiline?e.kind==="^"?Tt(kt(""),z(Ft({unit:Un()}),De(...Vc)).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new B("Invalid type");return[ft(r,0,r.length-1),r[r.length-1]]})):Tt(kt(""),z(De(...Vc),Ft({unit:Un()})).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new B("Invalid type");return[r[0],ft(r,1)]})):kt("");throw new B(`Assertions of kind ${e.kind} not implemented yet!`)}case"Backreference":throw new B("Backreference nodes not implemented yet!");default:throw Zp(e)}}function CN(e,t={}){for(const i of e.flags)if(i!=="d"&&i!=="g"&&i!=="m"&&i!=="s"&&i!=="u")throw new B(`Unable to use "stringMatching" against a regex using the flag ${i}`);const n={size:t.size},r={multiline:e.multiline,dotAll:e.dotAll},s=yN(wN(e));return pn(s,n,r)}function IN(e){const t=[];for(let n=0;n!==e.length;++n)t.push(e[n].next());return t}function kN(e,t){for(let n=0;n!==e.length;++n)t[n]=e[n].next()}function vN(e){for(let t=0;t!==e.length;++t)if(e[t].done)return!0;return!1}function*TN(...e){const t=IN(e);for(;!vN(t);)yield t.map(n=>n.value),kN(e,t)}function*$N(e){let t=e;for(;;)yield t,++t}class ON extends lt{constructor(t,n){super(),this.arb=t,this.maxShrinks=n}generate(t,n){const r=this.arb.generate(t,n);return this.valueMapper(r,0)}canShrinkWithoutContext(t){return this.arb.canShrinkWithoutContext(t)}shrink(t,n){return this.isSafeContext(n)?this.safeShrink(t,n.originalContext,n.length):this.safeShrink(t,void 0,0)}safeShrink(t,n,r){const s=this.maxShrinks-r;return s<=0?N.nil():new N(TN(this.arb.shrink(t,n),$N(r+1))).take(s).map(i=>this.valueMapper(i[0],i[1]))}valueMapper(t,n){const r={originalContext:t.context,length:n};return new O(t.value,r)}isSafeContext(t){return t!=null&&typeof t=="object"&&"originalContext"in t&&"length"in t}}function BN(e,t){return new ON(e,t)}const MN="module",NN="4.3.0",DN="fc3afba040ebfb5e6d276359f55ff2752618bc45";var G=Object.freeze({__proto__:null,Arbitrary:lt,get ExecutionStatus(){return Ze},PreconditionFailure:pe,Random:te,Stream:N,Value:O,get VerbosityLevel(){return Rt},__commitHash:DN,__type:MN,__version:NN,anything:rS,array:st,assert:YT,asyncDefaultReportMessage:c2,asyncModelRun:lN,asyncProperty:L8,asyncStringify:Hl,asyncToStringMethod:an,base64String:_M,bigInt:vn,bigInt64Array:gN,bigUint64Array:dN,boolean:Xi,check:l2,clone:L7,cloneIfNeeded:Mr,cloneMethod:Ot,commands:iN,compareBooleanFunc:LO,compareFunc:VO,configureGlobal:P8,constant:kt,constantFrom:De,context:O7,createDepthIdentifier:m2,date:S2,defaultReportMessage:u2,dictionary:eh,domain:ih,double:ku,emailAddress:eO,falsy:$7,float:P2,float32Array:z2,float64Array:G2,func:zO,gen:i7,getDepthContextFor:Jl,hasAsyncToStringMethod:Gl,hasCloneMethod:yr,hasToStringMethod:zl,hash:Bo,infiniteStream:dM,int16Array:H2,int32Array:K2,int8Array:J2,integer:rt,ipV4:ch,ipV4Extended:V2,ipV6:q2,json:nM,jsonValue:sS,letrec:W2,limitShrink:BN,lorem:FB,mapToConstant:ta,maxSafeInteger:U2,maxSafeNat:JO,memo:AB,mixedCase:kB,modelRun:fN,nat:bn,noBias:g2,noShrink:Mo,object:QB,oneof:Tt,option:fr,pre:S9,property:U8,readConfigureGlobal:ve,record:pM,resetConfigureGlobal:j8,sample:XT,scheduledModelRun:hN,scheduler:pN,schedulerFor:mN,shuffledSubarray:vM,sparseArray:tS,statistics:t7,stream:Cn,string:Ft,stringMatching:CN,stringify:At,subarray:kM,toStringMethod:sn,tuple:z,uint16Array:Y2,uint32Array:Z2,uint8Array:X2,uint8ClampedArray:Q2,ulid:RM,uniqueArray:Qi,uuid:WM,webAuthority:uS,webFragments:fS,webPath:hS,webQueryParameters:xS,webSegment:lS,webUrl:rN});function RN(e,t){return function(n){if(Array.isArray(n))return n.reduce(t,e);let r=e;for(const s of n)r=t(r,s);return r}}function PN(e){return function(t){return Array.isArray(t)?t.map(e):(function*(){for(const n of t)yield e(n)})()}}const jN=e=>t=>{const n=Object.keys(t);return e.imap(e.productAll(n.map(r=>t[r])),r=>{const s={};for(let i=0;i<r.length;i++)s[n[i]]=r[i];return s},r=>n.map(s=>r[s]))},ae=(e,t=(n,r)=>RN(n,e)(r))=>({combine:e,combineMany:t}),LN=e=>ae((t,n)=>e(t,n)===-1?t:n),UN=e=>ae(()=>e,()=>e),VN=p(3,(e,t,n)=>ae((r,s)=>t(e.combine(n(r),n(s))),(r,s)=>t(e.combineMany(n(r),PN(n)(s))))),qN=(e,t)=>ae(([n,r],[s,i])=>[e.combine(n,s),t.combine(r,i)]),AS=e=>ae((t,n)=>{const r=Math.min(t.length,n.length),s=[];let i=0;for(const o of e){if(i>=r)break;s.push(o.combine(t[i],n[i])),i++}return s}),WN=(e,t)=>{const n=AS(t);return ae((r,s)=>[e.combine(r[0],s[0]),...n.combine(r.slice(1),s.slice(1))])},zN=UN,GN={of:zN,imap:VN,product:qN,productMany:WN,productAll:AS},wS=jN(GN),Dn=(e,t)=>({combine:e.combine,combineMany:e.combineMany,empty:t,combineAll:n=>e.combineMany(t,n)}),HN=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n].empty);return Dn(wS(e),t)},KN=e=>p(3,(t,n,r)=>e.map(e.product(t,n),([s,i])=>r(s,i))),_S=e=>t=>p(2,(n,r)=>KN(e)(n,r,t)),ES=e=>p(2,(t,n)=>e.bimap(t,n,H)),CS=e=>p(2,(t,n)=>e.bimap(t,H,n)),JN=e=>p(3,(t,n,r)=>e(t,r)),Ar=e=>p(3,(t,n,r)=>e(t,n)),YN=e=>p(2,(t,n)=>e.map(n,r=>r(t))),xh=e=>t=>n=>e.traverse(t)(n,H),Xp=p(2,(e,t)=>e.map(n=>t(n))),ZN=p(2,(e,t)=>e.chain(n=>t(n))),ph={map:Xp,imap:Ar(Xp),flatMap:ZN},{map:IS,flatMap:XN}=ph,QN=e=>G.oneof(l(e,IS(v)),G.constant(k())),He=G.integer({min:-100,max:100}),tD=G.string({minLength:0,maxLength:3});IS(e=>new Error(e));const eD=e=>l(nD,XN(T(C(t=>[t,e]),Object.fromEntries,G.record))),nD=G.uniqueArray(G.string({minLength:1,maxLength:5}),{minLength:1,maxLength:5,comparator:ar}),{map:rD}=ph;rD(e=>xy(new Error(e)));const sD=e=>t=>e(t),iD=()=>e=>G.func(e).map(sD),kS=()=>iD()(G.boolean()),{flatMap:aD,map:vS}=ph;G.oneof(He.map(e=>Zn(e)),He.map(e=>Kg(e)),He.map(e=>Jg(e)),He.map(e=>Yg(e)),He.map(e=>Zg(e)),He.map(e=>Xg(e)));l(G.tuple(He,He),aD(([e,t])=>{const[n,r]=e<t?[e,t]:[t,e],s=G.constant({compare:Bw,maxBound:Zn(n),minBound:Zn(r)});return G.tuple(l({min:n,max:r},G.integer,vS(Zn),G.constant),s)}));l({min:-14,max:14},G.integer,vS(e=>L5(e)));const oD=(e="",...t)=>({name:e,laws:t,sets:[]}),uD=(...e)=>oD("",...e);uD();const cD=e=>p(2,(t,n)=>e.productAll(nt(t).map(n))),mh={traverse:cD};Ar(h5);const fD=p(2,(e,t)=>n=>l(n,t,e));JN(fD);Ar(q_);const lD=e=>Dn(ae((t,n)=>ct(t)?n:ct(n)?t:v(e.combine(t.value,n.value))),k());p(3,(e,t,n)=>l(e,ie({onNone:Ai(t),onSome:r=>n(t,r)})));const hD=ae((e,t)=>e+t),qc=Dn(hD,0),xD=QN(He);eD(xD);kS();const pD=gg($g);lA(pD);lD(qc);kS();Dn(wS({x:LN(ot),y:ae(p(2,Tl))}),{x:0,y:""});const{$is:T0,$match:mD,Left:gD,Right:dD,Both:bD}=vl(),ea=({Left:e,Right:t,Both:n})=>r=>l(r,mD({Left:s=>e(s),Right:s=>t(s),Both:s=>n(s)})),[na,ra,Tn]=[Object.assign(gD,{from:e=>na({left:e})}),Object.assign(dD,{from:e=>ra({right:e})}),Object.assign(bD,{from:(e,t)=>Tn({left:t,right:e})})];T0("Left"),T0("Right"),T0("Both");p(2,(e,t)=>l(e,ea({Left:()=>na.from(t),Right:({right:n})=>Tn.from(n,t),Both:({right:n})=>Tn.from(n,t)})));p(2,(e,t)=>l(e,ea({Left:({left:n})=>Tn.from(t,n),Right:()=>ra.from(t),Both:({left:n})=>Tn.from(t,n)})));const yD=e=>l(e,ea({Left:({left:t})=>[k(),v(t)],Right:({right:t})=>[v(t),k()],Both:({left:t,right:n})=>[v(n),v(t)]})),TS=(e,t,n)=>{const r=t.length-e.length;return[...Ho(e,t,T(Tn.from,n)),...r===0?[]:r>0?l(t,fo(r),C(T(na.from,n))):l(e,fo(-1*r),C(T(ra.from,n)))]};p(2,(e,t)=>TS(e,t,H));const SD=e=>l(e,C(yD),Ji(T(lo(([t])=>ne(t)),C(([t])=>t.value)),T(lo(([,t])=>ne(t)),C(([,t])=>t.value)))),Wc=p(3,(e,t,n)=>l(e,ea({Right:({right:r})=>l(r,t,ra.from),Left:({left:r})=>l(r,n,na.from),Both:({left:r,right:s})=>Tn({left:n(r),right:t(s)})}))),Qp={bimap:Wc};ES(Qp),CS(Qp);Object.assign(P0,{removeReadOnly:P0});const oe=e=>({node:e}),Ee=Object.assign(p(2,(e,t)=>({node:e,forest:t})),{tupled:([e,t])=>({node:e,forest:t}),flipped:p(2,(e,t)=>({node:t,forest:e}))}),$n=Object.assign(p(2,(e,t)=>_t(t)?Ee(e,t):oe(e)),{flipped:p(2,(e,t)=>$n(t,e)),tupled:([e,t])=>$n(e,t)}),$S=e=>!("forest"in e),FD=e=>!$S(e),Lt=({onLeaf:e,onBranch:t})=>n=>FD(n)?t(n.node,n.forest):e(n.node),AD=Lt({onLeaf:()=>0,onBranch:(e,t)=>t.length}),vu=({node:e})=>e,wD=({forest:e})=>e,_D=p(2,(e,t)=>l(t,Lt({onLeaf:()=>oe(e),onBranch:(n,r)=>Ee(e,r)})));p(2,(e,t)=>l(t,Lt({onLeaf:n=>$n(n,e),onBranch:n=>$n(n,e)})));p(2,(e,t)=>l(e,vu,t,_D(e)));const OS=p(2,(e,t)=>l(e,Lt({onLeaf:oe,onBranch:(n,r)=>({node:n,forest:C(r,t)})})));Ar(OS);p(2,(e,t)=>l(e,OS(t),Lt({onLeaf:oe,onBranch:Ee})));const ED=e=>p(2,(t,n)=>l(t,Lt({onLeaf:T(oe,e.of),onBranch:(r,s)=>CD(e)(r,C(s,n))}))),sa={traverse:ED},CD=e=>(t,n)=>l(t,e.of,_S(e)($n)(xh(mh)(e)(n))),Tu=e=>({unfixed:e}),gh=e=>e.unfixed,ID=xe,BS=_e,kD=Ar(BS),vD=e=>(t,n)=>yu([t,n],e),TD=e=>(t,n)=>yu([t,...n],e),$D=e=>t=>yu(t,e),OD=e=>({imap:kD,of:ID,map:BS,product:vD(e),productMany:TD(e),productAll:$D(e)}),bi=e=>t=>l(t,e,xe),MS=e=>(t,n)=>{const r=e.traverse(OD()),s=i=>l(i,t,rn(o=>br(()=>l(o,r(s)))),rn(n));return s},NS=e=>(t,n)=>r=>l(r,MS(e)(bi(t),bi(n)),Nn),DS=e=>t=>MS(e)(n=>l(n,gh,xe),t),dh=e=>t=>T(l(t,bi,DS(e)),Nn),BD=e=>t=>NS(e)(t,Tu),[RS,MD]=[Tu,gh],no=Tu,ND=gh,Te=T(oe,RS),on=Object.assign(p(2,(e,t)=>no(Ee(e,t))),{flipped:e=>t=>no(Ee(e,t)),tupled:([e,t])=>no(Ee(e,t))}),Na=(e,t=[])=>_t(t)?on(e,t):Te(e),On=Object.assign(Na,{curried:e=>t=>Na(t,e),flipped:e=>t=>Na(e,t),tupled:([e,t])=>Na(e,t)}),Ve=e=>$S(e.unfixed),DD=e=>!Ve(e),Kt=T(MD,vu),Cs=T(ND,wD),Pt=({onLeaf:e,onBranch:t})=>n=>DD(n)?t(...l(n,Ji(Kt,Cs))):l(n,Kt,e),RD=(e,t)=>l(e,Pt({onLeaf:T(t,_e(Te)),onBranch:(n,r)=>br(()=>l(r,cs(lr(t)),rn(s=>l(n,t,_e(on(s))))))})),PD=e=>Pt({onLeaf:T(e,_e(Te)),onBranch:(t,n)=>br(()=>rn(e(t),r=>l(n,cs(lr.pre(e)),_e(On.flipped(r)))))}),lr=Object.assign(p(2,RD),{pre:PD}),qe=p(2,(e,t)=>l(e,lr.pre(T(t,xe)),Nn)),jD=Ar(qe),PS={map:qe,imap:jD};YN(PS);const jS=e=>l(e,Lt({onLeaf:H,onBranch:(t,n)=>on(Kt(t),n)}));dh(sa)(jS);const tm=DS(sa)(T(jS,xe)),LD=Object.assign(p(2,(e,t)=>l(e,lr(t),rn(tm))),{pre:e=>t=>l(t,lr.pre(e),rn(tm))}),UD=p(2,(e,t)=>l(e,LD(T(t,xe)),Nn)),VD=Te;({...PS});p(2,(e,t)=>l(e,UD(n=>l(t,qe(or.withFirst(n))))));const Do=Pt({onLeaf:()=>0,onBranch:(e,t)=>t.length}),qD=e=>l(e,Pt({onLeaf:()=>[],onBranch:(t,n)=>n})),WD=p(2,(e,t)=>({unfixed:l(e,Pt({onLeaf:()=>oe(t),onBranch:(n,r)=>Ee(t,r)}))})),em=(e,t)=>l(e,Kt,Ee(t),no),bh=Object.assign(p(2,em),{flip:e=>t=>em(e,t)});p(2,(e,t)=>Ve(e)?e:t(e));p(2,(e,t)=>WD(e,l(e,Kt,t)));const yh=p(2,(e,t)=>l(e,Ji(Kt,T(qD,t)),On.tupled)),LS=e=>t=>bh(t,l(t,Cs,e)),nm=(e,t)=>l(t,Pt({onLeaf:Es(k()),onBranch:(n,r)=>Eg(r,e+(e<0?r.length:0))})),rm=Object.assign(p(2,(e,t)=>nm(e,t)),{flip:e=>t=>nm(e,t)}),zD=(e,t)=>{const[n,...r]=e;if(n===void 0)return k();let s=rm(n,t);if(ct(s))return k();for(const i of r)if(s=rm(i,s.value),ct(s))return k();return s},GD=Object.assign(p(2,zD),{flip:e=>t=>GD(e,t)}),$0=(e,t,n)=>l(e,Pt({onLeaf:r=>[],onBranch:(r,s)=>s.slice(t,n)}));Object.assign($0,{curry:(e,t)=>n=>$0(n,e,t),flip:e=>(t,n)=>$0(e,t,n)});const HD=ae((e,t)=>e&&t,(e,t)=>{if(e===!1)return!1;for(const n of t)if(n===!1)return!1;return!0}),KD=ae((e,t)=>e||t,(e,t)=>{if(e===!0)return!0;for(const n of t)if(n===!0)return!0;return!1}),JD=ae((e,t)=>e!==t),YD=ae((e,t)=>e===t),ZD=Dn(HD,!0),XD=Dn(KD,!1),QD=Dn(JD,!1),tR=Dn(YD,!0),ln=dh(sa);p(3,(e,t,n)=>l(t,US(n,e),Nn));const US=(e,t)=>n=>l(t,Pt({onLeaf:r=>xe(e(n,r)),onBranch:(r,s)=>mr(s,xe(e(n,r)),(i,o)=>br(()=>l(i,rn(US(e,o)))))})),$u=e=>ln(VS(e)),VS=e=>t=>l(t,Lt({onLeaf:n=>e.combine(e.empty,n),onBranch:(n,r)=>mr(r,e.combine(e.empty,n),e.combine)}));$u(ZD);$u(XD);$u(QD);$u(tR);const sm=e=>t=>n=>r=>{const s=eR(t),i=Pt({onLeaf:T(n,_e(t.map(Te))),onBranch:(o,u)=>br(()=>e==="post"?l(u,cs(i),rn(c=>_e(n(o),s(c)))):l(o,n,rn(c=>l(u,cs(i),_e(f=>s(c,f))))))});return i(r)};Object.assign(sm("pre"),{post:sm("post")});const eR=e=>p(2,(t,n)=>_S(e)((r,s)=>On(r,s))(t,l(n,xh(mh)(e)))),ia=BD(sa),nR=e=>T(Ji(e,$n.flipped),a9),rR=NS(sa),sR=p(3,(e,t,n)=>{const r=t+(t<0?Do(e):0);return l(e,Pt({onLeaf:on(n),onBranch:(s,i)=>{const o=r>=i.length?[...i,...n]:i.toSpliced(r,0,...n);return on(s,o)}}))});p(3,(e,t,n)=>sR(e,n,[t]));const iR=p(2,(e,t)=>Ve(e)?l(e,Kt,on([t])):l(e,LS(by(t)))),aR=p(2,(e,t)=>Ve(e)?l(e,Kt,on([t])):l(e,LS(yy(t))));p(2,(e,t)=>Yt(t)?Ve(e)?l(e,bh(t)):l(e,yh(W5(t))):e);p(2,(e,t)=>Yt(t)?Ve(e)?l(e,bh(t)):l(e,yh(z5(t))):e);const im=(e,t)=>n=>{const r=e+(e<0?Do(n):0);return l(n,yh(s=>r>=s.length?[...s]:s.toSpliced(r,t)))},qS=Object.assign(p(2,(e,t)=>im(e,1)(t)),{flip:e=>im(e,1)});qS.flip(0);qS.flip(-1);const oR=({depth:e,degree:t=()=>1})=>nR(n=>n>=e?[]:cn(n+1,t(n))),uR=([e,t])=>{const n=t+1;return l(e,Pt({onLeaf:T(or.withSecond(n),oe),onBranch:(r,s)=>Ee([r,n],l(s,C(or.withSecond(n))))}))},cR=e=>(t=1)=>l(e,oR,ia)(t),zc=({degree:e,depth:t})=>cR({depth:t,degree:Es(e)})(1);zc.string=T(zc,qe(wu));const am=e=>zc({degree:2,depth:e});am.string=T(am,qe(wu));const fR=Lt({onLeaf:e=>[e],onBranch:(e,t)=>l(t,Oi,je(e))}),lR=Lt({onLeaf:()=>1,onBranch:(e,t)=>Math.max(...t)+1}),hR=Lt({onLeaf:()=>0,onBranch:(e,t)=>Math.max(t.length,...t)}),xR=e=>l(e,ln(lR)),pR=e=>l(e,ln(hR)),WS=e=>(t,n)=>{const r=Km(WS(e)),s=e(Kt(t),Kt(n)),i=()=>l(s,Te,xe);return l(t,Pt({onLeaf:i,onBranch:(o,u)=>l(n,Pt({onLeaf:i,onBranch:(c,f)=>br(()=>l(u,Xs(f),cs(r),_e(On.flipped(s))))}))}))},mR=(e,t,n)=>Nn(WS(n)(e,t));p(2,(e,t)=>mR(e,t,(n,r)=>[n,r]));const gR=e=>Lt({onLeaf:or.withSecond(k()),onBranch:(t,n)=>l(n,vA(dR(e)),yf(Z3(()=>v(t))))});function dR(e){return l(e,xf(dg))}const bR=e=>t=>{const[n,r]=l(e,gR,ln)(t);return[(ct(r)?H:l(n,Ol.curried(e),u3,yR))(t),n,r]},yR=e=>l(e,FR,ln),SR=e=>Lt({onLeaf:Te,onBranch:(t,n)=>On(t,l(n,lo(e)))}),FR=e=>SR(({unfixed:t})=>AD(t)!==0||l(t,vu,e)),om=(e,t=2)=>l([e,0],rR(uR,fR),C(([n,r])=>l((r-1)*t,g9,x9(n)))),zS=Object.assign(om,{curried:e=>t=>om(t,e)}),GS=e=>{const[t,n]=e;if(n===void 0)return RS(oe(t));const r=um(n),s=o=>um(o)/r,i=l(e,C(o=>[o.trimStart(),s(o)]));return l(i,ia(HS))},HS=([[e,t],n,...r])=>{if(n===void 0)return oe(e);const s=[[n]];for(const[i,o]of r)o>t+1?s.at(-1).push([i,o]):s.push([[i,o]]);return Ee(e,s)},um=e=>l(e,y9(p9(" ")),P5);var AR=Object.freeze({__proto__:null,decode:GS,decodeIndentedUnfold:HS,encode:zS});const KS=e=>Sg(e)?$n(...e):oe(e),wR=ia(KS),JS=e=>{if(Sg(vu(e)))throw new Error("Cannot encode a tree of arrays as an array tree.");return l(e,Lt({onLeaf:H,onBranch:(t,n)=>[t,n]}))},_R=e=>l(e,ln(JS));var ER=Object.freeze({__proto__:null,decode:wR,decodeUnfold:KS,encode:_R,unsafeEncodeFold:JS});const Sh=e=>l(e,mr($R(),CR)),CR=(e,t)=>l([t,e],IR,kR,vR,iA),IR=([[e,t],{roots:n,...r}])=>[[e,t],{...r,roots:l(n,l(t,ie({onNone:()=>Rr,onSome:()=>qf}))(e))}],kR=([[e,t],{toParent:n,...r}])=>[[e,t],{...r,toParent:l(n,l(t,ie({onNone:()=>H,onSome:s=>Gf(e,s)})))}],vR=([[e,t],{toChildren:n,...r}])=>[[e,t],{...r,toChildren:l(t,ie({onNone:()=>n,onSome:TR(n,e)}))}],TR=(e,t)=>n=>l(e,gd(n,T(ie({onNone:()=>[t],onSome:Fn(t)}),v))),$R=()=>({roots:wn(),toParent:ri(),toChildren:ri()}),Gc=e=>[e,k()],YS=e=>([t])=>[t,v(e)],ZS=({roots:e,toChildren:t})=>{const[n]=F_(e);if(n===void 0)throw new Error("Edge map |roots|=0");if(Vf(e)!==1)throw new Error("Edge map |roots|≠1");return[n,l(t,zf(n),Pe(()=>[]))]},XS=e=>t=>({...e,roots:cd([t])}),QS=e=>P0(e,gg(e)),OR=e=>l(e,QS,gr),BR=C(yf(Pe(()=>0))),tF=e=>{const[t,n]=ZS(e);return l(n,pA({onEmpty:()=>oe(t),onNonEmpty:T(C(XS(e)),$n.flipped(t))}))},eF=e=>l(e,ia(tF)),Fh=T(Sh,eF),nF=Lt({onLeaf:e=>[Gc(e)],onBranch:(e,t)=>l(t,Ig(FA(YS(e))),je(Gc(e)))}),Ah=ln(nF),MR=T(Ah,Sh);var NR=Object.freeze({__proto__:null,decode:Fh,decodeMap:eF,decodeUnfold:tF,encode:Ah,encodeFold:nF,getEdgeEquivalence:QS,getEdgeListEquivalence:OR,getMapChildren:ZS,index:MR,indexParents:Sh,numeric:BR,rootTreeEdge:Gc,setMapRoot:XS,setParent:YS});const rF=e=>l(e,Lt({onLeaf:t=>[[t]],onBranch:(t,n)=>l(n,Oi,C(r=>[t,...r]))})),sF=e=>t=>{const n=l(e,xf($t)),r=Ol(n),s=t[0][0],i=l(t,C(tn),lo(_t));return _t(i)?Ee(s,IA(l(i,SA(n)),r)):oe(s)},iF=ln(rF),ps=e=>t=>l(t,ia(sF(e)));ps.number=ps(ot);ps.string=ps(D5);const DR=e=>t=>{const n=new Map,r=new Set,s=t[0][0];for(const i of t){const[o,u]=[$t(i),$i(i)];if(!e(o,s)||r.has(u))return!1;r.add(u);const c=l(tn(i),Xs(_f(i)));if(Fg(c))return t.length===1;for(const[f,h]of c){const x=n.get(f);if(x===void 0)n.set(f,h);else if(!e(x,h))return!1}}return!0};var RR=Object.freeze({__proto__:null,decode:ps,encode:iF,isValidPathList:DR,pathListFold:rF,pathListUnfold:sF});const hn=e=>Yt(e)?l(e,aF,Fh):on(1,[Te(2)]),aF=e=>{const t=[],n=[-1,2,...l(1,cn(e.length+1))];for(const s of e)n[s]++;let r=n.indexOf(1);for(const s of e)t.push([r,v(s)]),n[r]--,r=--n[s]===1&&s<r?s:n.indexOf(1,r);return[[1,k()],[r,v(1)],...t]},wr=e=>t=>{const[n,...r]=Cs(t);if(r.length===0&&Ve(n))return[];const s=bR(e),i=o=>{const[u,,c]=s(o);return l(c,ie({onNone:()=>xe([]),onSome:f=>l(br(()=>i(u)),_e(yy(f)))}))};return l(l(t,i,Nn),_f)},oF=e=>BigInt(e)**(BigInt(e)-2n),Oe=e=>e.length+2,wh=e=>e-2,yi=(e,t)=>{if(t<3)return[];const n=C(Fy(e-1n,t),kf),r=t-n.length-2;return l(n,Ys(r===0?[]:cn(1,r)))},_h=e=>{if(e.length===0)return[1n,2];const[t,n]=l(e,C(vf),En.mapSecond(Oe));return[Ay(t,n)+1n,n]},PR=(e,t)=>l(yi(e,t),hn),jR=e=>l(e,wr(ot),_h),uF=e=>{const t=oF(e);return e>=36?[yi(1n,e)]:l(hA(1,Number(t)),C(n=>yi(BigInt(n),e)))},LR=e=>e<2?[]:e===2?[on(1,[VD(2)])]:l(e,uF,C(hn)),aa=e=>e<3?[]:l(e,wh,t=>cn(1,t)),UR=e=>l(e,Oe,aa),VR=e=>l(e,Oe,kf,aa),oa=e=>e<3?[]:l(e,wh,t=>cn(e,t)),qR=e=>l(e,Oe,oa),WR=e=>l(e,Oe,vf,oa),Eh=e=>Yt(e)?kg(e,t=>t===1):!0,Ch=e=>{if(Yt(e)){const t=Oe(e);return l(e,kg(n=>n===t))}else return!0},Ih=e=>Yt(e)?Eh(e)?e.length===1?[]:oa(Oe(e)-1):l(e,lF(bf(t=>t-1n))):[],kh=e=>Ch(e)?aa(Oe(e)+1):l(e,lF(bf(t=>t+1n))),cF=e=>Yt(e)?Eh(e)?l(e,Oe,oa):Ih(e):[],fF=e=>Ch(e)?l(e,Oe,aa):kh(e),zR=e=>l(e,wr(ot),Ih,hn),GR=e=>l(e,wr(ot),kh,hn),HR=e=>l(e,wr(ot),cF,hn),KR=e=>l(e,wr(ot),fF,hn),lF=e=>t=>{const[n,r]=l(t,_h,e);return yi(n,r)};var JR=Object.freeze({__proto__:null,allCodesAt:uF,allTreesAt:LR,codeCount:wh,computeNodeCount:Oe,decode:hn,encode:wr,fromOrdinal:yi,getFirstCode:UR,getFirstCodeFor:aa,getLastCode:qR,getLastCodeFor:oa,getNextFirstCode:VR,getNthTree:PR,getPreviousLastCode:WR,isFirstCode:Eh,isLastCode:Ch,labeledTreeCount:oF,nextCode:kh,nextCodeWrap:fF,nextTree:GR,nextTreeWrap:KR,previousCode:Ih,previousCodeWrap:cF,previousTree:zR,previousTreeWrap:HR,toEdges:aF,toOrdinal:_h,treeToOrdinal:jR});const YR=()=>({to:Ah,from:Fh}),ZR=e=>({to:iF,from:ps(e)}),XR={to:wr(ot),from:hn},QR=e=>({to:zS.curried(e),from:GS});var tP=Object.freeze({__proto__:null,Arrays:ER,ArraysIsomorphism:ZR,EdgeListIsomorphism:YR,Edges:NR,Indented:AR,IndentedIsomorphism:QR,Paths:RR,Prufer:JR,PruferIsomorphism:XR});C(([e,t])=>l(e,Go,mg(or.withSecond(t))));const eP=HN({numerator:qc,denominator:qc}),nP=e=>l(e,VS(eP)),rP=({numerator:e,denominator:t})=>t===0?0:e/t,sP=e=>({numerator:e,denominator:1});T(qe(sP),ln(nP),rP);const hF=e=>{const[t,n]=[lr(bi(T(ra.from,e))),lr(bi(T(na.from,e)))],r=i=>_e(On.flipped(i)),s=i=>o=>u=>l(u,cs(o),r(i));return(i,o)=>{const u=e(Tn.from(Kt(i),Kt(o)));return l(i,Pt({onLeaf:()=>l(o,Pt({onLeaf:()=>l(u,Te,xe),onBranch:(c,f)=>s(u)(n)(f)})),onBranch:(c,f)=>l(o,Pt({onLeaf:()=>s(u)(t)(f),onBranch:(h,x)=>l(TS(x,f,ea({Left:({left:g})=>t(g),Right:({right:g})=>n(g),Both:({left:g,right:d})=>hF(e)(g,d)})),yu,r(u))}))}))}};Lt({onLeaf:Wc(Te,Te),onBranch:(e,t)=>{const[n,r]=SD(t);return l(e,Wc(On.curried(r),On.curried(n)))}});const iP=e=>T(hF(e),Nn);p(2,(e,t)=>iP(H)(e,t));const xF=(e,t)=>G.integer({min:e,max:t}).map(n=>String.fromCodePoint(n)),aP=xF(65,90),oP=xF(97,122),pF=G.boolean().chain(e=>e?aP:oP),Hc=G.array(pF,{minLength:0,maxLength:3}),cm=Hc.map(et),vh=G.array(pF,{minLength:1,maxLength:3});vh.map(et);const uP=["topLeft","topRight"],cP=["bottomRight","bottomLeft"],fm=[...uP,...cP],Lr=["top","right","bottom","left"],lm=(e,t,n)=>Sf(e,t,Es(n)),hm=Object.assign(p(3,lm),{named:(e,t)=>n=>lm(Bn(n),e,t)}),fP={ascii:ce("..''"),diagonal:{topLeft:"╱",topRight:"╲",bottomLeft:"╲",bottomRight:"╱"},double:ce("╔╗╚╝"),hDouble:ce("╒╕╘╛"),hThick:ce("┍┑┕┙"),round:ce("╭╮╰╯"),solid:Re("█")(...fm),space:Re(" ")(...fm),thick:ce("┏┓┗┛"),thin:ce("┌┐└┘"),vDouble:ce("╓╖╙╜"),vThick:ce("┎┒┖┚"),halfSolid:ce("▞▚▚▞"),halfSolidNear:ce("▗▖▝▘"),halfSolidFar:ce("▛▜▙▟")},Bn=e=>fP[e];function ce(e){const[t,n,r,s]=_u(e);return{topLeft:t,topRight:n,bottomRight:s,bottomLeft:r}}const xm=(e,t,n)=>Sf(e,t,Es(n)),pm=Object.assign(p(3,xm),{named:(e,t)=>n=>xm(he(n),e,t)}),lP={ascii:Gt("-|"),dashed:Gt("┄┆"),dashedWide:Gt("╌╎"),dotted:Gt("┈┊"),double:Gt("═║"),halfSolid:Da("▀▐▄▌"),halfSolidNear:Da("▄▌▀▐"),halfSolidFar:Da("▀▐▄▌"),hDouble:Gt("═│"),hThick:Gt("━│"),near:Da("▁▏▔▕"),solid:Re("█")(...Lr),space:Re(" ")(...Lr),thick:Gt("━┃"),thickDashed:Gt("┅┇"),thickDashedWide:Gt("╍╏"),thickDotted:Gt("┉┋"),thin:Gt("─│"),vDouble:Gt("─║"),vThick:Gt("─┃")},he=e=>lP[e];function Gt(e){const[t,n]=_u(e);return{top:t,right:n,bottom:t,left:n}}function Da(e){const[t,n,r,s]=_u(e);return{top:t,right:n,bottom:r,left:s}}Object.assign(p(3,({lines:e,...t},n,r)=>({...t,lines:pm(e,n,r)})),{named:(e,t)=>({lines:n,...r})=>({...r,lines:pm(n,e,Th(t).lines[e])})});Object.assign(p(3,({elbows:e,...t},n,r)=>({...t,elbows:hm(e,n,r)})),{named:(e,t)=>({elbows:n,...r})=>({...r,elbows:hm(n,e,Bn(t)[e])})});const hP={ascii:gt("ascii","ascii"),thin:gt("thin","thin"),dashed:gt("dashed","thin"),dashedWide:gt("dashedWide","thin"),dotted:gt("dotted","thin"),thick:gt("thick","thick"),hThick:gt("hThick","hThick"),vThick:gt("vThick","vThick"),thickDashed:gt("thickDashed","thick"),thickDashedWide:gt("dashedWide","thick"),thickDotted:gt("thickDotted","thick"),double:gt("double","double"),hDouble:gt("hDouble","hDouble"),vDouble:gt("vDouble","vDouble"),solid:gt("solid","solid"),space:gt("space","space"),near:gt("near","space"),halfSolid:gt("halfSolid","halfSolid"),halfSolidNear:gt("halfSolidNear","halfSolidNear"),halfSolidFar:gt("halfSolidFar","halfSolidFar"),beveled:gt("near","diagonal")},Th=e=>hP[e];function gt(e,t){return{lines:he(e),elbows:Bn(t)}}const mm=(e,t,n)=>Sf(e,t,Es(n));Object.assign(p(3,mm),{named:(e,t)=>n=>mm(ms(n),e,t)});const xP={ascii:Re("+")(...Lr),double:Ge("╩╠╦╣"),hDouble:Ge("╧╞╤╡"),hThick:Ge("┷┝┯┥"),solid:Re("█")(...Lr),space:Re(" ")(...Lr),thick:Ge("┻┣┳┫"),thin:Ge("┴├┬┤"),vDouble:Ge("╨╟╥╢"),vThick:Ge("┸┠┰┨"),vThickTop:Ge("┴┞┰┦"),vThickBottom:Ge("┸┟┬┧")},ms=e=>xP[e];function Ge(e){const[t,n,r,s]=_u(e);return{top:t,right:n,bottom:r,left:s}}const Jt=(e=[" "],t="",n="")=>({axis:"horizontal",prefix:t,body:e,suffix:n}),Le=(e=[""],t=[],n=[])=>({axis:"vertical",prefix:t,body:e,suffix:n}),Ro=(e,t=e)=>({left:e,right:t}),Po=(e,t=e)=>({top:e,bottom:t});Jt.space=Jt([" "]);Le.empty=Le([""]);Ro.space=Ro(Jt.space);Po.empty=Po(Le.empty);const Si=Jt.space,Kc=Le.empty,pP={top:Kc,right:Si,bottom:Kc,left:Si},mF=e=>({...pP,...Ac(e??{})});Jt.fill=({prefix:e,body:t,suffix:n})=>r=>{if(r===0)return"";const s=r-ur(e)-ur(n);if(s>=0)return e+l(t,et,_c(s))+n;const i=Math.floor(r/2),o=r-i;return et([...ko(0,o)(e),...ko(0,i)(n)])};Le.fill=({prefix:e,body:t,suffix:n})=>r=>{if(r===0)return[];const s=r-e.length-n.length;if(s>=0)return[...e,...d9(s)(t),...n];const i=Math.floor(r/2),o=r-i;return[...e.slice(0,o),...n.slice(0,i)]};Ro.fill=({left:e,right:t})=>(n,r)=>s=>Jt.fill(e)(n)+s+Jt.fill(t)(r);Po.fill=({top:e,bottom:t})=>([n,r])=>s=>[...Le.fill(e)(n),...s,...Le.fill(t)(r)];const $h=(e=Kc,t=Si,n=e,r=t)=>({top:e,right:t,bottom:n,left:r}),ro=gr(ar),Jc=Lo({prefix:ar,body:ro,suffix:ar}),Yc=Lo({prefix:ro,body:ro,suffix:ro}),gm=({prefix:e,body:t,suffix:n})=>`⊦${e}«${et.quote.fancy(t)}»${n}`,dm=({prefix:e,body:t,suffix:n})=>et.rest("⊥",et.comma(e),`«${et.quote.fancy(t)}»`,et.comma(n)),gF=({right:e,left:t})=>et.rest(`←${gm(t)}`,...Jc(t,e)?[]:[`→${gm(e)}`]),mP=({top:e,bottom:t})=>et.rest(`↑${dm(e)}`,...Yc(e,t)?[]:[`↓${dm(t)}`]),gP=({top:e,right:t,bottom:n,left:r})=>et.rest(gF({left:r,right:t}),mP({top:e,bottom:n})),dP=(e,t,n)=>r=>r==="left"?e():r==="center"?t():n(),bP=(e,t,n)=>r=>r==="top"?e():r==="middle"?t():n(),dF=e=>[e("left",0),e("center",1),e("right",2)],bF=e=>[e("top",0),e("middle",1),e("bottom",2)],Is=e=>Ti(dF((t,n)=>[t,e(t,n)])),Oh=e=>Ti(bF((t,n)=>[t,e(t,n)])),yP={left:"⮄",center:"⮂",right:"⮆",top:"⮅",middle:"⮁",bottom:"⮇"},Zc=e=>yP[e],yF=Lo({left:Jc,right:Jc,hAlign:ar}),SP=Lo({top:Yc,bottom:Yc,vAlign:ar}),FP=XF(yF,SP),SF=(e,t,n=!1)=>r=>{if(r.length<=1)return r;const s=b9(r),i=o=>s-ur(o);return l(r,C(o=>{const u=i(o);return u<=0?o:AP(e,t,u,n)(o)}))};function AP(e,t,n,r){const{left:s,right:i}=e;return o=>l(t,dP(()=>o+Jt.fill(i)(n),()=>Ro.fill(e)(...(r?wy:_y)(n))(o),()=>Jt.fill(s)(n)+o))}const Xc=(e,t,n,r=!1)=>s=>{const i=J5(s);return i===0?s:l(s,C(o=>{const u=i-o.length;return l(o,u<=0?H:wP(e,t,u,r),n)}))};Xc.useTopRound=(e,t,n)=>Xc(e,t,n,!0);function wP(e,t,n,r=!1){return l(t,bP(()=>[n,0],()=>s9[r?"halfToFirst":"halfToSecond"](n),()=>[0,n]),aA,Po.fill(e))}const ua=vl(),ca=ua.$is,FF=ua.EmptyF,AF=ua.TextF,Ou=ua.RowF,Bu=ua.ColumnF,Bh=e=>ca("EmptyF")(e),Mh=e=>ca("TextF")(e),Nh=e=>ca("RowF")(e),wF=e=>ca("ColumnF")(e),ks=(e,t,n,r)=>s=>Bh(s)?e:Mh(s)?t(s.show):Nh(s)?n(s):r(s),Mu=FF(),Nu=e=>AF({show:e}),_F=e=>t=>Ou({...e,cells:t}),EF=e=>t=>Bu({...e,cells:t}),Du=p(2,(e,t)=>l(e,ks(Mu,n=>Nu(n),({cells:n,...r})=>Ou({...r,cells:l(n,C(t))}),({cells:n,...r})=>Bu({...r,cells:l(n,C(t))})))),CF=Ar(Du),IF=e=>p(2,(t,n)=>l(t,Du(n),EP(e))),_P={map:Du,imap:CF},kF={traverse:IF},EP=e=>t=>{const n=xh(mh)(e),r=e.map;return l(t,ks(e.of(Mu),T(Nu,e.of),({cells:s,...i})=>l(s,n,r(o=>Ou({...i,cells:[...o]}))),({cells:s,...i})=>l(s,n,r(o=>Bu({...i,cells:[...o]})))))},CP=e=>(t,n)=>l(t,ks(Bh(n),r=>Mh(n)&&n.show===r,r=>Nh(n)&&IP(e)(r,n),r=>wF(n)&&kP(e)(r,n))),IP=e=>({cells:t,...n},{cells:r,...s})=>FP(n,s)&&gr(e)(t,r),kP=e=>({cells:t,...n},{cells:r,...s})=>yF(n,s)&&gr(e)(t,r),vP=xe({}),TP=xy(void 0);var $P=Object.freeze({__proto__:null,ColumnF:Bu,Covariant:_P,EmptyF:FF,RowF:Ou,TextF:AF,Traversable:kF,columnF:EF,emptyF:Mu,equalsFail:TP,equalsSuccess:vP,getEquivalence:CP,imap:CF,isColumnF:wF,isEmptyF:Bh,isPartFOf:ca,isRowF:Nh,isTextF:Mh,map:Du,matchPartF:ks,rowF:_F,textF:Nu,traverse:IF});const Ru=e=>Tu(e),OP=e=>T(_F(e),Ru),vF=e=>T(EF(e),Ru),TF=Ru(Mu),un=T(Nu,Ru),bm=(e="middle")=>(t="center")=>(n,r)=>OP({hAlign:t,vAlign:e,...mF(r)})(n),Hs=Object.assign(bm,Oh(T(bm,Is))),ym=(e="middle")=>(t="center")=>(n,r)=>s=>Hs(e)(t)([s,n],r),Sm=(e="middle")=>(t="center")=>(n,r)=>s=>Hs(e)(t)([n,s],r),BP=Object.assign(ym,Oh(e=>Is(t=>ym(e)(t)))),$F=Object.assign(Sm,Oh(e=>Is(t=>Sm(e)(t)))),Fm=(e="center")=>(t,n=Si,r=n)=>vF({hAlign:e,left:n,right:r})(t),Sn=Object.assign(Fm,Is(Fm)),Qc=(e="center")=>(t,n=Si,r=n)=>s=>vF({hAlign:e,left:n,right:r})([t,s]),Am=e=>(t,n,r)=>s=>Qc(e)(s,n,r)(t),wm=Object.assign(e=>(t,n,r)=>s=>Qc(e)(t,n,r)(s),Is(Qc)),_m=Object.assign(e=>(t,n,r)=>s=>Am(e)(t,n,r)(s),Is(Am)),tf=e=>dh(kF)(e),Em=ks([],Ht,NP,DP),MP=Object.assign(tf(Em),{unlines:e=>l(e,tf(Em),fs)});function NP({hAlign:e,vAlign:t,cells:[n,...r],...s}){if(n===void 0)return[];const{left:i,right:o,top:u,bottom:c}=mF(s),f=l([n,...r],Xc({top:u,bottom:c},t,SF({left:i,right:o},e)));return l(f,gy,C(C(Pe(Es(" ")))),C(et))}function DP({cells:e,hAlign:t,...n}){return l(e,Oi,SF(n,t))}const RP=ks("∅",pt.quote.fancy,PP,jP);tf(RP);function PP({cells:e,hAlign:t,vAlign:n,...r}){return et.rest(Zc(t),Zc(n),".",gP(r),"(",e.join(", "),")")}function jP({hAlign:e,cells:t,...n}){return et.rest(Zc(e),gF(n),"(",t.join(", "),")")}const OF=["rootBullet","branchBullet","leafBullet"],LP=["elbow","hLine","indent","rightTee","space","tee","vLine",...OF],UP=Re("")(...OF),Ks={...Re("")(...LP),...BF("space"),...UP,tee:ms("space").bottom,rightTee:ms("space").right,elbow:Bn("space").bottomLeft,space:" ",indent:" "},Cm={...Ks,hLine:he("thin").top,vLine:" "+he("thin").left,elbow:" "+Bn("thin").bottomLeft,tee:he("thin").bottom,rightTee:" "+ms("thin").right,indent:_s(2)(he("thin").top),space:"  "},VP={ascii:{...Ks,...dt("ascii"),indent:he("ascii").top},bullets:{...Ks,rootBullet:"►",branchBullet:"∘",leafBullet:"∙"},dashed:l("thin",dt,Tr("dashed")),dashedWide:l("thin",dt,Tr("dashedWide")),dotted:l("thin",dt,Tr("dotted")),double:dt("double"),hDouble:dt("hDouble"),hThick:dt("hThick"),hThickDashed:l("hThick",dt,zn("thickDashed"),Wn("dashed")),hThickDashedWide:l("hThick",dt,zn("thickDashedWide"),Wn("dashedWide")),hThickDotted:l("hThick",dt,zn("thickDotted"),Wn("dotted")),round:{...dt("thin"),elbow:Bn("round").bottomLeft},space:Ks,thick:dt("thick"),thickDashed:l("thick",dt,Tr("thickDashed")),thickDashedWide:l("thick",dt,Tr("thickDashedWide")),thickDotted:l("thick",dt,Tr("thickDotted")),thin:dt("thin"),unix:Cm,unixRound:{...Cm,elbow:" "+Bn("round").bottomLeft},vThick:dt("vThick"),vThickDashed:l("vThick",dt,zn("dashed"),Wn("thickDashed")),vThickDashedWide:l("vThick",dt,zn("dashedWide"),Wn("thickDashedWide")),vThickDotted:l("vThick",dt,zn("dotted"),Wn("thickDotted")),vDouble:dt("vDouble")},Dh=e=>VP[e];function Tr(e){return T(zn(e),Wn(e))}function Wn(e){return t=>({...t,vLine:he(e).left})}function zn(e){return t=>({...t,hLine:he(e).top})}function dt(e){return{...Ks,...BF(e),...qP(e),elbow:Bn(e).bottomLeft,indent:he(e).top}}function BF(e){return{hLine:he(e).top,vLine:he(e).left}}function qP(e){return{tee:ms(e).bottom,rightTee:ms(e).right}}const MF=["ascii","bullets","space"],NF=l(["dashed","dashedWide","dotted","double","hDouble","hThick","hThickDashed","hThickDashedWide","hThickDotted","round","thick","thickDashed","thickDashedWide","thickDotted","thin","unix","unixRound","vDouble","vThick","vThickDashed","vThickDashedWide","vThickDotted"]),WP={spacing:0,indents:0,glyphs:Dh("thin"),formatter:H},zP=[...NF,...MF],GP=[...l(NF,C(En.mapSecond(e=>Im(e,0)))),...l(MF,C(En.mapSecond(e=>Im(e,1))))],DF=Ti(GP),HP=e=>DF[e],KP=e=>l(zP,C(En.mapSecond(t=>e(DF[t],t))),Ti);function JP(e=Dh("thin"),t=0,n){return{...WP,indents:t,glyphs:e,...n}}function Im(e="thin",t=0,n){return JP(Dh(e),t,n)}const Pu=Object.assign(p(2,(e,{glyphs:t})=>t[e]),{flipped:e=>({glyphs:t})=>t[e]});p(2,(e,t)=>un(Pu(e,t)));const YP=({formatter:e})=>qe(e),ZP=e=>(t,n)=>{const r=Pu(e);return l(n,r,_s(e.indents),wc(r(t)))},RF=(e,t)=>n=>T(ZP(n),un)(e,t);function XP(e){return t=>(e+l(`
`,_s(t.spacing))).split(/\n/)}const QP=RF("rightTee","indent"),tj=RF("elbow","indent"),ej=PF("hLine","leafBullet","space"),nj=PF("tee","branchBullet","vLine");function PF(e,t,n){return r=>s=>{const i=Pu(s),[o,u,c]=[i(e),i(t),i(n)],f=o+u,h=_s(ur(f))(c)+u;return l(s,XP(r),H5(T(wc(f),un),T(wc(h),un)),Sn.left)}}const rj=jF(QP,"vLine"),sj=jF(tj,"space");function jF(e,t){return n=>{const r=Pu(n);return $F.top.left(e(n),$h(Le.empty,Jt([r("space")],r(t))))}}const LF=Object.assign(km,{flip:Y5(km)});function km(e){return t=>l(e,Pt({onLeaf:n=>ej(n)(t),onBranch:ij(t)}))}const ij=e=>(t,n)=>{const r=[nj(t),aj(n)];return l(r,oj,rf(e),Sn.left)},aj=e=>t=>{const n=T(LF,rf(t));return l(e,K5(T(n,rj(t)),T(n,sj(t))),Sn.left)};function oj(e){return t=>C(e,rf(t))}const vm=(e,t)=>l(e,YP(t),LF.flip(t)),uj=Object.assign(p(2,vm),{number:e=>t=>vm(qe(t,wu),e)}),Tm=(e,t)=>l(uj(e,t),MP),cj=Object.assign(p(2,Tm),{unlines:e=>t=>fs(Tm(t,e))}),fj=Object.assign($m("thin"),KP((e,t)=>$m(t)));function $m(e){return Object.assign(Om(e,H),{number:Om(e,wu)})}function Om(e,t){return Object.assign(Bm(e,t),{unlines:T(Bm(e,t),fs)})}function Bm(e,t){return T(qe(t),l(e,HP,cj))}const Fi=un(""),Mm=(e,t)=>l(e,$e(t??""),un),lj=Object.assign((e,t)=>Mm(e,t),{curried:e=>t=>Mm(t,e)}),O0=(e,t="center")=>l(e,C(un),Sn[t]),hj=Object.assign(O0,{curried:e=>t=>O0(t,e),rest:(...e)=>O0(e)}),Ra=p(2,(e,t)=>e===0?TF:l(t,cn(e),lj)),Pa=e=>e===0?TF:l(Fi,cn(e),Sn.center),xj=Object.assign((e=" ",t=" ")=>(n=1,r=n)=>s=>Hs.middle.center([Ra(n,e),s,Ra(r,t)]),{left:(e=" ",t=0)=>n=>Hs.middle.center([Ra(t,e),n]),right:(e=" ",t=0)=>n=>Hs.middle.center([n,Ra(t,e)])}),pj=Object.assign((e=1,t=e)=>n=>Sn.center([Pa(e),n,Pa(t)]),{top:(e,t=0)=>Sn.center([Pa(t),e]),bottom:(e,t=0)=>Sn.center([e,Pa(t)])}),Nm=p(2,(e,{top:t,right:n,bottom:r,left:s})=>l(e,pj(t,r),xj()(s,n))),Dm=Object.assign(({lines:{top:e}})=>wm.center(Fi,Jt([e])),{corners:({lines:{top:e},elbows:{topLeft:t,topRight:n}})=>wm.left(Fi,Jt([e],t,n))}),mj=({lines:{right:e}})=>t=>l(t,BP.middle.center(un(e),$h(Le([e])))),Rm=Object.assign(({lines:{bottom:e}})=>_m.center(Fi,Jt([e])),{corners:({lines:{bottom:e},elbows:{bottomLeft:t,bottomRight:n}})=>_m.right(Fi,Jt([e],t,n))}),gj=({lines:{left:e}})=>t=>l(t,$F.middle.center(un(e),$h(Le([e])))),dj=e=>t=>l(t,gj(e),mj(e)),bj=Object.assign(e=>t=>l(t,Dm(e),Rm(e)),{corners:e=>t=>l(t,Dm.corners(e),Rm.corners(e))}),Pm=(e,t)=>l(e,dj(t),bj.corners(t)),ef=Object.assign(Pm,{curried:e=>t=>Pm(t,e)}),jm=([e,...t])=>n=>l(t,mr(l(n,ef.curried(e)),ef));Object.assign(jm,{rest:(...e)=>t=>jm(e)(t)});const jo=Re(0)(...Lr),yj={padding:jo,margin:jo,border:Th("thin")},Sj=(e=yj)=>({padding:{...jo,...Ac(e.padding??{})},margin:{...jo,...Ac(e.margin??{})},border:e.border??Th("thin")}),B0=(e,t)=>{const{padding:n,margin:r,border:s}=Sj(t);return l(e,Nm(n),ef.curried(s),Nm(r))};Object.assign(B0,{curried:e=>t=>B0(t,e),lines:e=>(t,n="center")=>B0(hj(t,n),e)});const Lm=G.record({axis:G.constant("horizontal"),prefix:cm,body:vh,suffix:cm}),Um=G.record({axis:G.constant("vertical"),prefix:Hc,body:vh,suffix:Hc}),UF=G.record({right:Lm,left:Lm}),VF=G.record({top:Um,bottom:Um});G.tuple(UF,VF).map(([e,t])=>({...e,...t}));const{emptyF:Fj,textF:Aj}=$P,wj=UF.chain(({left:e,right:t})=>G.record({hAlign:G.oneof(...dF(G.constant)),left:G.constant(e),right:G.constant(t)})),_j=VF.chain(({top:e,bottom:t})=>G.record({vAlign:G.oneof(...bF(G.constant)),top:G.constant(e),bottom:G.constant(t)}));wj.chain(e=>_j.map(t=>({...e,...t})));const Ej=G.constant(Fj),Cj=tD.map(Aj);Ej.map(e=>({unfixed:e}));Cj.map(e=>({unfixed:e}));function Rh(e){return{parent:l(e.focus,Kt,v),levels:by(e.levels,U5(e,"lefts","rights","parent"))}}const fa=p(3,(e,t,n)=>{let r=e;for(let s=0;s<t;s++){const i=n(r);if(ct(i))return i;r=i.value}return v(r)});p(3,(e,t,n)=>l(e,fa(t,n),Mn));const qF=e=>{const{focus:t}=e;if(Ve(t))return k();const n=Cs(t);return v({...Rh(e),focus:$t(n),lefts:[],rights:n.slice(1)})},Ij=p(2,(e,t)=>fa(e,t,qF)),WF=e=>{const{focus:t}=e;if(Ve(t))return k();const n=Cs(t);return v({...Rh(e),focus:$i(n),lefts:n.slice(0,-1),rights:[]})},kj=p(2,(e,t)=>fa(e,t,WF)),vj=({focus:e,lefts:t,rights:n,...r})=>{if(!Yt(t))return k();const[s,i]=Sy(t);return v({...r,focus:s,lefts:i,rights:[e,...n]})},Tj=p(2,(e,t)=>fa(e,t,vj)),$j=({focus:e,lefts:t,rights:n,...r})=>{if(!Yt(n))return k();const[s,...i]=n;return v({...r,focus:s,lefts:[...t,e],rights:i})},Oj=p(2,(e,t)=>fa(e,t,$j)),Bj=p(2,(e,t)=>{const{focus:n}=e,r=Do(n),s=t+(t<0?r:0);if(Ve(n)||s>=Do(n))return k();const i=n,o=Cs(i),[u,c,f]=[o.slice(0,t),o.at(s),o.slice(t)];return v({...Rh(e),focus:c,lefts:u,rights:f,parent:l(i,Kt,v)})}),Mj=T(qF,Mn);p(2,(e,t)=>l(e,Ij(t),Mn));const Nj=T(WF,Mn);p(2,(e,t)=>l(e,kj(t),Mn));p(2,(e,t)=>l(e,Tj(t),Mn));p(2,(e,t)=>l(e,Oj(t),Mn));p(2,(e,t)=>l(Bj(e,t),Mn));p(2,({focus:e,...t},n)=>({...t,focus:n}));const Vm=({focus:e,...t},n)=>({...t,focus:aR(e,n)}),qm=({focus:e,...t},n)=>({...t,focus:iR(e,n)});Object.assign(p(2,Vm),{move:e=>t=>Mj(Vm(t,e))});Object.assign(p(2,qm),{move:e=>t=>Nj(qm(t,e))});const Dj=e=>"_tag"in e&&e._tag==="effect-tree-demo",Rj=e=>({data:t})=>{const n=t;return Dj(n)?{...n,...e(n)}:void 0};Object.assign(Fn,{flipped:e=>t=>Fn(e,t)});Object.assign(je,{flipped:e=>t=>je(e,t)});Object.assign(Wr,{flipped:e=>t=>Wr(e,t)});Object.assign(Ys,{flipped:e=>t=>Ys(e,t)});Cf(ar);const Pj=new Intl.Segmenter,yt=([e,t])=>n=>`${e}${n}${t}`;yt.rest=(e,t)=>yt([e,t]);yt.parentheses=yt(["(",")"]);yt.squareBrackets=yt(["[","]"]);yt.curlyBrackets=yt(["{","}"]);yt.angledBrackets=yt(["<",">"]);yt.quote=Object.assign(yt(["'","'"]),{double:yt(['"','"']),fancy:yt(["“","”"]),parentheses:yt(["(",")"]),squareBrackets:yt(["[","]"]),curlyBrackets:yt(["{","}"]),angledBrackets:yt(["<",">"])});const qt=e=>e.join("");qt.rest=(...e)=>qt(e);qt.pipeline=e=>l(e,$e(" | "));qt.slash=e=>l(e,$e(" | "));qt.spaced=Object.assign(e=>e.join(" "),{rest:(...e)=>e.join(" "),literal:(...e)=>e.join(" ")});qt.comma=Object.assign(e=>e.join(", "),{rest:(...e)=>e.join(", ")});qt.quote=Object.assign(e=>l(e,C(yt.quote),qt.comma),{double:e=>l(e,C(yt.quote.double),qt.comma),fancy:e=>l(e,C(yt.quote.fancy),qt.comma)});const jj=Cy.stringWidth;C(jj);const ju=e=>[...Pj.segment(e)].map(t=>t.segment),{$is:M0,$match:Lj,Left:Uj,Right:Vj,Both:qj}=vl(),Ph=({Left:e,Right:t,Both:n})=>r=>l(r,Lj({Left:s=>e(s),Right:s=>t(s),Both:s=>n(s)})),[Lu,Uu,hr]=[Object.assign(Uj,{from:e=>Lu({left:e})}),Object.assign(Vj,{from:e=>Uu({right:e})}),Object.assign(qj,{from:(e,t)=>hr({left:t,right:e})})];M0("Left"),M0("Right"),M0("Both");p(2,(e,t)=>l(e,Ph({Left:()=>Lu.from(t),Right:({right:n})=>hr.from(n,t),Both:({right:n})=>hr.from(n,t)})));p(2,(e,t)=>l(e,Ph({Left:({left:n})=>hr.from(t,n),Right:()=>Uu.from(t),Both:({left:n})=>hr.from(t,n)})));const Wj=(e,t,n)=>{const r=t.length-e.length;return[...Ho(e,t,T(hr.from,n)),...r===0?[]:r>0?l(t,fo(r),C(T(Lu.from,n))):l(e,fo(-1*r),C(T(Uu.from,n)))]};p(2,(e,t)=>Wj(e,t,H));const zj=p(3,(e,t,n)=>l(e,Ph({Right:({right:r})=>l(r,t,Uu.from),Left:({left:r})=>l(r,n,Lu.from),Both:({left:r,right:s})=>hr({left:n(r),right:t(s)})}))),Wm={bimap:zj};ES(Wm),CS(Wm);var N0={exports:{}},Us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Gj(){if(zm)return Us;zm=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return Us.Fragment=t,Us.jsx=n,Us.jsxs=n,Us}var Gm;function Hj(){return Gm||(Gm=1,N0.exports=Gj()),N0.exports}Hj();const Kj=e=>()=>e,zF=3999,Jj={decimal:{icon:"1,2,3",label:"Decimal",title:"Format labels as decimals."},lower:{icon:"ⅰ,ⅱ,ⅲ",label:"Unicode",title:"Use lowercase Unicode Roman numerals from the ‘Number Forms’ block (U+2150…U+218F)"},upper:{icon:"Ⅰ,Ⅱ,Ⅲ",label:"Unicode Caps",title:"Use uppercase Unicode Roman numerals from the ‘Number Forms’ block (U+2150…U+218F)"},lowerAscii:{icon:"i,ii,iii",label:"ASCII",title:"Use lowercase ASCII emulation of Roman numerals."},upperAscii:{icon:"I,II,III",label:"ASCII Caps",title:"Use uppercase ASCII emulation of Roman numerals."}};l(Jj,yg((e,t)=>[t,{id:t,...e}]));const Yj={upper:["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"]},ja=[["",...Yj.upper.slice(0,9)],["","Ⅹ","ⅩⅩ","ⅩⅩⅩ","ⅩⅬ","Ⅼ","ⅬⅩ","ⅬⅩⅩ","ⅬⅩⅩⅩ","ⅩⅭ"],["","Ⅽ","ⅭⅭ","ⅭⅭⅭ","ⅭⅮ","Ⅾ","ⅮⅭ","ⅮⅭⅭ","ⅮⅭⅭⅭ","ⅭⅯ"],["","Ⅿ","ⅯⅯ","ⅯⅯⅯ"]],Zj={"Ⅰ":["ⅰ","I","i"],"Ⅱ":["ⅱ","II","ii"],"Ⅲ":["ⅲ","III","iii"],"Ⅳ":["ⅳ","IV","iv"],"Ⅴ":["ⅴ","V","v"],"Ⅵ":["ⅵ","VI","vi"],"Ⅶ":["ⅶ","VII","vii"],"Ⅷ":["ⅷ","VIII","viii"],"Ⅸ":["ⅸ","IX","ix"],"Ⅹ":["ⅹ","X","x"],"Ⅺ":["ⅺ","XI","xi"],"Ⅻ":["ⅻ","XII","xii"],"Ⅽ":["ⅽ","C","c"],"Ⅼ":["ⅼ","L","l"],"Ⅾ":["ⅾ","D","d"],"Ⅿ":["ⅿ","M","m"]},Vu=e=>Zj[e],Xj=e=>Vu(e)[0],Qj=e=>Vu(e)[1],tL=e=>Vu(e)[2],eL=e=>t=>e==="upper"?t:Vu(t)[e==="lower"?0:e==="upperAscii"?1:2],xr=e=>e<1||e>zF?" ":qt.rest(ja[3]?.[Math.floor(e/1e3)]??" ",ja[2]?.[Math.floor(e%1e3/100)]??" ",ja[1]?.[Math.floor(e%100/10)]??" ",ja[0]?.[e%10]??" ");xr.lower=e=>l(e,xr,ju,C(Xj),qt);xr.upperAscii=e=>l(e,xr,ju,C(Qj),qt);xr.lowerAscii=e=>l(e,xr,ju,C(tL),qt);const nL=e=>t=>{if(e==="decimal")return t.toLocaleString();const n=eL(e);return l(t,xr,ju,C(n),qt)},rL={dashed:"╴",dashedWide:"╴",dotted:"╴",double:" ",hDouble:" ",hThick:"╸",hThickDashed:"╸",hThickDashedWide:"╸",hThickDotted:"╸",round:"╴",thick:"╸",thickDashed:"╸",thickDashedWide:"╸",thickDotted:"╸",thin:"╴",unix:"",unixRound:"",space:"",bullets:" ",ascii:" ",vDouble:"╴",vThick:"╴",vThickDashed:"╴",vThickDashedWide:"╴",vThickDotted:"╴"},sL=(e,t,n)=>l(e,qe(r=>rL[n]+(r>zF?r.toLocaleString():nL(t)(r))),fj[n],C(T(R5,j5(" "," ")))),{Prufer:La}=tP,iL=300,aL=l([$r("nodeCount","node count","Number of nodes.")(T(La.computeNodeCount,BigInt)),$r("treeCount","Trees","Number of labeled sorted trees at this node count.")(T(La.computeNodeCount,La.labeledTreeCount)),$r("treeIndex","Ordinal","Index of current tree in ordered set of all trees in this node count.")(T(La.toOrdinal,dg)),$r("maxNodes","Max Nodes","Maximum node count limit.")(Kj(BigInt(iL))),$r("maxDepth","max depth","Maximum hops from a leaf node to root.")((e,t)=>BigInt(xR(t))),$r("maxDegree","max degree","Size of the  largest forest.")((e,t)=>BigInt(pR(t)))],C(e=>[e.id,e]),Ti),nf=(e,t)=>l(aL,yg(({compute:n,...r},s)=>[s,{...r,value:n(e,t)}]));nf.tupled=Km(nf);function $r(e,t,n){return r=>({id:e,label:t,title:n,compute:r})}globalThis.global=globalThis;globalThis.window=globalThis;window.__vite_plugin_react_preamble_installed__=!0;globalThis.onmessage=e=>{const t=Rj(n=>{const{code:r,format:s,theme:i}=n,o=hn(r),u=sL(o,s,i),c=nf(r,o);return{...n,stats:c,code:r,tree:o,lines:u}})(e);t!==void 0&&globalThis.postMessage(t)};
