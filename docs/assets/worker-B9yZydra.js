const C_=t=>typeof t=="function",m=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,r){return arguments.length>=2?e(n,r):function(s){return e(s,n)}};case 3:return function(n,r,s){return arguments.length>=3?e(n,r,s):function(i){return e(i,n,r)}};case 4:return function(n,r,s,i){return arguments.length>=4?e(n,r,s,i):function(a){return e(a,n,r,s)}};case 5:return function(n,r,s,i,a){return arguments.length>=5?e(n,r,s,i,a):function(c){return e(c,n,r,s,i)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(r){return e(r,...n)}}}},Sl=(...t)=>e=>e(...t),Z=t=>t,oo=t=>()=>t,f1=oo(!0),z0=oo(!1),Og=oo(void 0),I_=Og,$g=t=>e=>t(...e);function h(t,e,n,r,s,i,a,c,f){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return s(r(n(e(t))));case 6:return i(s(r(n(e(t)))));case 7:return a(i(s(r(n(e(t))))));case 8:return c(a(i(s(r(n(e(t)))))));case 9:return f(c(a(i(s(r(n(e(t))))))));default:{let u=arguments[0];for(let l=1;l<arguments.length;l++)u=arguments[l](u);return u}}}function M(t,e,n,r,s,i,a,c,f){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return s(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return i(s(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return a(i(s(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return c(a(i(s(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return f(c(a(i(s(r(n(e(t.apply(this,arguments)))))))))}}}const Vr=t=>(e,n)=>e===n||t(e,n),k_=(t,e)=>t===e,Bg=()=>k_,v_=Bg(),T_=Bg(),O_=m(2,(t,e)=>Vr((n,r)=>t(n,r)&&e(n,r))),$_=m(2,(t,e)=>Vr((n,r)=>t(e(n),e(r)))),B_=t=>Vr((e,n)=>{const r=Math.min(e.length,n.length);let s=0;for(const i of t){if(s>=r)break;if(!i(e[s],n[s]))return!1;s++}return!0}),M_=(...t)=>B_(t),N_=t=>Vr((e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}),Ou=t=>{const e=Object.keys(t);return Vr((n,r)=>{for(const s of e)if(!t[s](n[s],r[s]))return!1;return!0})},l1="effect/GlobalValue";let xi;const Q=(t,e)=>(xi||(globalThis[l1]??=new Map,xi=globalThis[l1]),xi.has(t)||xi.set(t,e()),xi.get(t)),vn=t=>typeof t=="string",Yn=t=>typeof t=="number",wl=t=>typeof t=="boolean",$u=t=>typeof t=="bigint",K0=t=>typeof t=="symbol",ao=C_,D_=t=>t===void 0,R_=t=>t!==void 0,P_=t=>!1,Al=t=>typeof t=="object"&&t!==null,Dn=t=>Al(t)||ao(t),K=m(2,(t,e)=>Dn(t)&&e in t),Fl=m(2,(t,e)=>K(t,"_tag")&&t._tag===e),es=t=>t==null,j_=t=>t!=null,L_=t=>t instanceof Date,Mg=t=>typeof t=="string"||K(t,Symbol.iterator),U_=t=>Al(t)&&!Array.isArray(t),q_=t=>K(t,"then")&&ao(t.then),V_=t=>e=>!t(e),Bu=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;let Ng=class Dg{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new Dg(this.self)}};const W_=335903614,z_=4150755663,K_=1481765933,G_=1284865837,J_=9007199254740992,H_=134217728;class Y_{_state;constructor(e,n,r,s){return es(n)&&es(e)?(n=Math.random()*4294967295>>>0,e=0):es(n)&&(n=e,e=0),es(s)&&es(r)?(s=this._state?this._state[3]:z_,r=this._state?this._state[2]:W_):es(s)&&(s=r,r=0),this._state=new Int32Array([0,0,r>>>0,((s||0)|1)>>>0]),this._next(),h1(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*H_+n)/J_}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;Z_(this._state,e,n,K_,G_),h1(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=e>>>18,s=(n>>>18|e<<14)>>>0;r=(r^e)>>>0,s=(s^n)>>>0;const i=(s>>>27|r<<5)>>>0,a=e>>>27,c=(-a>>>0&31)>>>0;return(i>>>a|i<<c)>>>0}}function Z_(t,e,n,r,s){let i=(n>>>16)*(s&65535)>>>0,a=(n&65535)*(s>>>16)>>>0,c=(n&65535)*(s&65535)>>>0,f=(n>>>16)*(s>>>16)+((a>>>16)+(i>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(f=f+1>>>0),i=i<<16>>>0,c=c+i>>>0,c>>>0<i>>>0&&(f=f+1>>>0),f=f+Math.imul(n,r)>>>0,f=f+Math.imul(e,s)>>>0,t[0]=f,t[1]=c}function h1(t,e,n,r,s){let i=e+r>>>0;const a=n+s>>>0;a>>>0<n>>>0&&(i=i+1|0),t[0]=i,t[1]=a}const G0=Symbol.for("effect/Utils/YieldWrap");class uo{#t;constructor(e){this.#t=e}[G0](){return this.#t}}function X_(t){if(typeof t=="object"&&t!==null&&G0 in t)return t[G0]();throw new Error(Bu("yieldWrapGet"))}const ve=Q("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Rg={effect_internal_function:t=>t()},Q_={effect_internal_function:t=>{try{return t()}finally{}}},tE=Rg.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0,ie=tE?Rg.effect_internal_function:Q_.effect_internal_function,Wc=Q(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),G=Symbol.for("effect/Hash"),B=t=>{if(ve.enabled===!0)return 0;switch(typeof t){case"number":return Mi(t);case"bigint":return yt(t.toString(10));case"boolean":return yt(String(t));case"symbol":return yt(String(t));case"string":return yt(t);case"undefined":return yt("undefined");case"function":case"object":return t===null?yt("null"):t instanceof Date?B(t.toISOString()):t instanceof URL?B(t.href):eE(t)?t[G]():_l(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},_l=t=>(Wc.has(t)||Wc.set(t,Mi(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Wc.get(t)),X=t=>e=>e*53^t,Mu=t=>t&3221225471|t>>>1&1073741824,eE=t=>K(t,G),Mi=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Mu(e)},yt=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return Mu(e)},nE=(t,e)=>{let n=12289;for(let r=0;r<e.length;r++)n^=h(yt(e[r]),X(B(t[e[r]])));return Mu(n)},Pg=t=>nE(t,Object.keys(t)),co=t=>{let e=6151;for(let n=0;n<t.length;n++)e=h(e,X(B(t[n])));return Mu(e)},St=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,G,{value(){return r},enumerable:!1}),r}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,G,{value(){return e},enumerable:!1}),e},W=Symbol.for("effect/Equal");function z(){return arguments.length===1?t=>Ha(t,arguments[0]):Ha(arguments[0],arguments[1])}function Ha(t,e){if(t===e)return!0;const n=typeof t;if(n!==typeof e)return!1;if(n==="object"||n==="function"){if(t!==null&&e!==null){if(Ya(t)&&Ya(e))return B(t)===B(e)&&t[W](e)?!0:ve.enabled&&ve.tester?ve.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString();if(t instanceof URL&&e instanceof URL)return t.href===e.href}if(ve.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,s)=>Ha(r,e[s]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),s=Object.keys(e);if(r.length===s.length){for(const i of r)if(!(i in e&&Ha(t[i],e[i])))return ve.tester?ve.tester(t,e):!1;return!0}}return ve.tester?ve.tester(t,e):!1}}return ve.enabled&&ve.tester?ve.tester(t,e):!1}const Ya=t=>K(t,W),El=()=>z,mt=Symbol.for("nodejs.util.inspect.custom"),jt=t=>{try{if(K(t,"toJSON")&&ao(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(jt)}catch{return{}}return sE(t)},Ut=t=>JSON.stringify(t,null,2),ws=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?jg(t,e):String(t)}catch{return String(t)}},jg=(t,e)=>{let n=[];const r=JSON.stringify(t,(s,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&(Ar.fiberRefs!==void 0&&Lg(i)?i[Cl](Ar.fiberRefs):i):i,e);return n=void 0,r},Cl=Symbol.for("effect/Inspectable/Redactable"),Lg=t=>typeof t=="object"&&t!==null&&Cl in t,Ar=Q("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),rE=(t,e)=>{const n=Ar.fiberRefs;Ar.fiberRefs=t;try{return e()}finally{Ar.fiberRefs=n}},sE=t=>Lg(t)&&Ar.fiberRefs!==void 0?t[Cl](Ar.fiberRefs):t,q=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let r=0,s=e.length;r<s;r++)n=e[r](n);return n}}},Ii="Async",Nu="Commit",We="Failure",zc="OnFailure",Za="OnSuccess",Xa="OnSuccessAndFailure",ze="Success",Ug="Sync",iE="Tag",fo="UpdateRuntimeFlags",Qa="While",Ta="Iterator",qg="WithRuntime",Oa="Yield",Il="RevertFlags";let oE="3.18.4";const kl=()=>oE,aE=Symbol.for("effect/Effect"),uE=Symbol.for("effect/Stream"),cE=Symbol.for("effect/Sink"),fE=Symbol.for("effect/Channel"),As={_R:t=>t,_E:t=>t,_A:t=>t,_V:kl()},lE={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},hE={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},lo={[aE]:As,[uE]:As,[cE]:lE,[fE]:hE,[W](t){return this===t},[G](){return St(this,_l(this))},[Symbol.iterator](){return new Ng(new uo(this))},pipe(){return q(this,arguments)}},ho={[G](){return St(this,Pg(this))},[W](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const r of e)if(!(r in t&&z(this[r],t[r])))return!1;return!0}},xo={...lo,_op:Nu},xE={...xo,...ho},pE=(function(){function t(){}return t.prototype=xo,t})(),Vg=Symbol.for("effect/Option"),Wg={...lo,[Vg]:{_A:t=>t},[mt](){return this.toJSON()},toString(){return Ut(this.toJSON())}},mE=Object.assign(Object.create(Wg),{_tag:"Some",_op:"Some",[W](t){return zg(t)&&Gg(t)&&z(this.value,t.value)},[G](){return St(this,X(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:jt(this.value)}}}),dE=B("None"),gE=Object.assign(Object.create(Wg),{_tag:"None",_op:"None",[W](t){return zg(t)&&Kg(t)},[G](){return dE},toJSON(){return{_id:"Option",_tag:this._tag}}}),zg=t=>K(t,Vg),Kg=t=>t._tag==="None",Gg=t=>t._tag==="Some",Ni=Object.create(gE),zn=t=>{const e=Object.create(mE);return e.value=t,e},Jg=Symbol.for("effect/Either"),Hg={...lo,[Jg]:{_R:t=>t},[mt](){return this.toJSON()},toString(){return Ut(this.toJSON())}},bE=Object.assign(Object.create(Hg),{_tag:"Right",_op:"Right",[W](t){return vl(t)&&Zg(t)&&z(this.right,t.right)},[G](){return X(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:jt(this.right)}}}),yE=Object.assign(Object.create(Hg),{_tag:"Left",_op:"Left",[W](t){return vl(t)&&Yg(t)&&z(this.left,t.left)},[G](){return X(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:jt(this.left)}}}),vl=t=>K(t,Jg),Yg=t=>t._tag==="Left",Zg=t=>t._tag==="Right",SE=t=>{const e=Object.create(yE);return e.left=t,e},wE=t=>{const e=Object.create(bE);return e.right=t,e},et=wE,J=SE,AE=vl,Kt=Yg,Fn=Zg,FE=m(2,(t,e)=>Kt(t)?J(e(t.left)):et(t.right)),_E=m(2,(t,e)=>Fn(t)?et(e(t.right)):J(t.left)),Tl=m(2,(t,{onLeft:e,onRight:n})=>Kt(t)?e(t.left):n(t.right)),EE=Tl({onLeft:Z,onRight:Z}),Xg=m(2,(t,e)=>{if(Fn(t))return t.right;throw e(t.left)}),CE=Xg(()=>new Error("getOrThrow called on a Left")),Ol=t=>t.length>0,Zs=t=>(e,n)=>e===n?0:t(e,n),IE=Zs((t,e)=>t<e?-1:1),kE=Zs((t,e)=>t<e?-1:1),vE=m(2,(t,e)=>Zs((n,r)=>{let s=t(n,r);if(s!==0)return s;for(const i of e)if(s=i(n,r),s!==0)return s;return s})),TE=()=>Zs(()=>0),OE=t=>vE(TE(),t),Du=m(2,(t,e)=>Zs((n,r)=>t(e(n),e(r)))),Ru=t=>m(2,(e,n)=>t(e,n)===-1),$l=t=>m(2,(e,n)=>t(e,n)===1),Bl=t=>m(2,(e,n)=>t(e,n)!==1),$E=t=>m(2,(e,n)=>t(e,n)!==-1),Ml=t=>m(2,(e,n)=>e===n||t(e,n)<1?e:n),Nl=t=>m(2,(e,n)=>e===n||t(e,n)>-1?e:n),BE=t=>m(2,(e,n)=>Ml(t)(n.maximum,Nl(t)(n.minimum,e))),ME=t=>m(2,(e,n)=>!Ru(t)(e,n.minimum)&&!$l(t)(e,n.maximum)),k=()=>Ni,T=zn,st=Kg,pt=Gg,zt=m(2,(t,{onNone:e,onSome:n})=>st(t)?e():n(t.value)),vt=m(2,(t,e)=>st(t)?e():t.value),In=m(2,(t,e)=>st(t)?e():t),NE=m(2,(t,e)=>st(t)?T(e()):t),po=t=>t==null?k():T(t),sn=vt(Og),DE=t=>(...e)=>{try{return T(t(...e))}catch{return k()}},RE=m(2,(t,e)=>{if(pt(t))return t.value;throw e()}),fr=RE(()=>new Error("getOrThrow called on a None")),Pu=m(2,(t,e)=>st(t)?k():T(e(t.value))),ju=m(2,(t,e)=>st(t)?k():e(t.value)),PE=m(2,(t,e)=>st(t)?k():po(e(t.value))),Qg=t=>Vr((e,n)=>st(e)?st(n):st(n)?!1:t(e.value,n.value)),jE=t=>m(2,(e,n)=>st(e)?!1:t(e.value,n)),LE=El(),UE=jE(LE),qE=m(2,(t,e)=>st(t)?!1:e(t.value)),VE=(...t)=>t,tb=t=>t[0],WE=t=>t[1],Dl=m(2,(t,e)=>[e(t[0]),t[1]]),Rl=m(2,(t,e)=>[t[0],e(t[1])]),zE=t=>[t[1],t[0]],J0=M_,KE=m(3,(t,e,n)=>{if(Array.isArray(t))return t.reduce(n,e);let r=0,s=e;for(const i of t)s=n(s,i,r++);return s}),GE=()=>({}),mo=Object.fromEntries,eb=m(2,(t,e)=>Object.prototype.hasOwnProperty.call(t,e)),Pl=m(3,(t,e,n)=>eb(t,e)?{...t,[e]:n(t[e])}:{...t}),nb=m(2,(t,e)=>{const n={};for(const r of jl(t)){const[s,i]=e(t[r],r);n[s]=i}return n}),JE=m(2,(t,e)=>{const n=GE();for(const r of jl(t))e(t[r],r)&&(n[r]=t[r]);return n}),jl=t=>Object.keys(t),HE=t=>m(2,(e,n)=>{for(const r of jl(e))if(!eb(n,r)||!t(e[r],n[r]))return!1;return!0}),YE=t=>{const e=HE(t);return(n,r)=>e(n,r)&&e(r,n)},Lu=t=>new Array(t),Ll=m(2,(t,e)=>{const n=Math.max(1,Math.floor(t)),r=new Array(n);for(let s=0;s<n;s++)r[s]=e(s);return r}),ZE=(t,e)=>t<=e?Ll(e-t+1,n=>t+n):[t],Rn=m(2,(t,e)=>Ll(e,()=>t)),it=t=>Array.isArray(t)?t:Array.from(t),XE=t=>Array.isArray(t)?t:[t],QE=m(2,(t,{onEmpty:e,onNonEmpty:n})=>gt(t)?n(t):e()),t3=m(2,(t,{onEmpty:e,onNonEmpty:n})=>gt(t)?n(Bt(t),ln(t)):e()),fn=m(2,(t,e)=>[e,...t]),Di=m(2,(t,e)=>it(e).concat(it(t))),Zn=m(2,(t,e)=>[...t,e]),Fs=m(2,(t,e)=>it(t).concat(it(e))),Ul=Array.isArray,rb=t=>t.length===0,e3=rb,Ht=Ol,gt=Ol,sb=t=>t.length,ib=(t,e)=>t<0||t>=e.length,ob=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),ab=m(2,(t,e)=>{const n=Math.floor(e);return ib(n,t)?k():T(t[n])}),ub=m(2,(t,e)=>{const n=Math.floor(e);if(ib(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),ki=ab(0),Bt=ub(0),n3=t=>gt(t)?T(go(t)):k(),go=t=>t[t.length-1],ln=t=>t.slice(1),ql=t=>t.slice(0,-1),tu=m(2,(t,e)=>{const n=it(t),r=ob(e,n);return r===0?[]:n.slice(-r)}),r3=(t,e)=>{let n=0;for(const r of t){if(!e(r,n))break;n++}return n},s3=m(2,(t,e)=>f3(t,r3(t,e))),i3=m(2,(t,e)=>{const n=it(t);return n.slice(ob(e,n),n.length)}),H0=t=>Array.from(t).reverse(),_s=m(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),o3=(...t)=>{const e=_s(OE(t));return n=>{const r=it(n);return gt(r)?e(r):[]}},Ri=m(2,(t,e)=>Uu(t,e,VE)),Uu=m(3,(t,e,n)=>{const r=it(t),s=it(e);if(gt(r)&&gt(s)){const i=[n(Bt(r),Bt(s))],a=Math.min(r.length,s.length);for(let c=1;c<a;c++)i[c]=n(r[c],s[c]);return i}return[]}),a3=m(2,(t,e)=>[e(Bt(t)),...ln(t)]),u3=El(),c3=m(2,(t,e)=>{const n=it(t);if(gt(n)){const[r,s]=e(n),i=[r];let a=s;for(;Ol(a);){const[c,f]=e(a);i.push(c),a=f}return i}return[]}),f3=m(2,(t,e)=>{const n=Array.from(t),r=Math.floor(e);return gt(n)?r>=1?l3(n,r):[[],n]:[n,[]]}),l3=m(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[Ei(t),[]]:[fn(t.slice(1,n),Bt(t)),t.slice(n)]}),Ei=t=>t.slice(),h3=m(2,(t,e)=>c3(t,n=>{const r=Bt(n),s=[r];let i=1;for(;i<n.length;i++){const a=n[i];if(e(a,r))s.push(a);else break}return[s,n.slice(i)]})),x3=m(3,(t,e,n)=>{const r=it(t),s=it(e);return gt(r)?gt(s)?zl(n)(Fs(r,s)):r:s}),$a=m(2,(t,e)=>x3(t,e,u3)),Es=()=>[],xe=t=>[t],O=m(2,(t,e)=>t.map(e)),Vl=m(2,(t,e)=>{if(e3(t))return[];const n=[];for(let r=0;r<t.length;r++){const s=e(t[r],r);for(let i=0;i<s.length;i++)n.push(s[i])}return n}),bo=Vl(Z),eu=m(2,(t,e)=>{const n=it(t),r=[];for(let s=0;s<n.length;s++)e(n[s],s)&&r.push(n[s]);return r}),Wr=m(3,(t,e,n)=>it(t).reduce((r,s,i)=>n(r,s,i),e)),cb=m(2,(t,e)=>t.every(e)),p3=m(2,(t,e)=>t.reduce(Ml(e))),Wl=m(2,(t,e)=>t.reduce(Nl(e))),x1=(t,e)=>{const n=[];let r=t,s;for(;pt(s=e(r));){const[i,a]=s.value;n.push(i),r=a}return n},zr=N_,zl=m(2,(t,e)=>{const n=it(t);if(gt(n)){const r=[Bt(n)],s=ln(n);for(const i of s)r.every(a=>!e(i,a))&&r.push(i);return r}return[]}),m3=t=>zl(t,El()),Qe=m(2,(t,e)=>it(t).join(e)),fb=(t,e)=>{switch(e._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(t);case"SymbolKeyword":return Object.getOwnPropertySymbols(t);case"Refinement":return fb(t,e.from)}},lb=t=>{let e=!1,n;return()=>(e||(n=t(),e=!0),n)},d3=t=>{try{return t.toISOString()}catch{return String(t)}},Kc="[Circular]";function Kr(t,e=0){const n=new WeakSet,r=e?typeof e=="number"?" ".repeat(e):e:"",s=u=>r.repeat(u),i=u=>{try{const l=u.toString();return typeof l=="string"?l:String(l)}catch{return"[toString threw]"}},a=(u,l)=>{const x=u?.constructor;return x&&x!==Object.prototype.constructor&&x.name?`${x.name}(${l})`:l},c=u=>{try{return Reflect.ownKeys(u)}catch{return["[ownKeys threw]"]}};function f(u,l=0){if(Array.isArray(u)){if(n.has(u))return Kc;if(n.add(u),!r||u.length<=1)return`[${u.map(d=>f(d,l)).join(",")}]`;const x=u.map(d=>f(d,l+1)).join(`,
`+s(l+1));return`[
${s(l+1)}${x}
${s(l)}]`}if(L_(u))return d3(u);if(K(u,"toString")&&ao(u.toString)&&u.toString!==Object.prototype.toString)return i(u);if(vn(u))return JSON.stringify(u);if(Yn(u)||u==null||wl(u)||K0(u))return String(u);if($u(u))return String(u)+"n";if(u instanceof Set||u instanceof Map)return n.has(u)?Kc:(n.add(u),`${u.constructor.name}(${f(Array.from(u),l)})`);if(Dn(u)){if(n.has(u))return Kc;n.add(u);const x=c(u);if(!r||x.length<=1){const g=`{${x.map(b=>`${Y0(b)}:${f(u[b],l)}`).join(",")}}`;return a(u,g)}const d=`{
${x.map(g=>`${s(l+1)}${Y0(g)}: ${f(u[g],l+1)}`).join(`,
`)}
${s(l)}}`;return a(u,d)}return String(u)}return f(t,0)}function Y0(t){return vn(t)?JSON.stringify(t):String(t)}const hb=t=>Array.isArray(t),p1=t=>`[${Y0(t)}]`,g3=t=>hb(t)?t.map(p1).join(""):p1(t),Gr=(t,e,n,r)=>{let s=t;return e!==void 0&&(s+=`
details: ${e}`),r&&(s+=`
schema (${r._tag}): ${r}`),s},b3=t=>Gr("Unsupported key schema",void 0,void 0,t),y3=t=>Gr("Unsupported literal",`literal value: ${Kr(t)}`),m1=t=>Gr("Duplicate index signature",`${t} index signature`),S3=Gr("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),w3=Gr("Invalid element","A required element cannot follow an optional element. ts(1257)"),d1=t=>Gr("Duplicate property signature transformation",`Duplicate key ${Kr(t)}`),A3=t=>Gr("Duplicate property signature",`Duplicate key ${Kr(t)}`),F3=Yn,_3=t=>pb(t,-1),Kl=m(2,(t,e)=>t+e),E3=t=>KE(t,0,Kl),xb=m(2,(t,e)=>t-e),pb=m(2,(t,e)=>t*e),C3=t=>{let e=1;for(const n of t){if(n===0)return 0;e*=n}return e},I3=m(2,(t,e)=>e===0?Ni:zn(t/e)),k3=m(2,(t,e)=>t/e),Gl=t=>Kl(t,1),Jl=t=>xb(t,1),mb=T_,at=kE,v3=Ru(at),T3=Bl(at),O3=$l(at),$3=$E(at),B3=ME(at),M3=BE(at),N3=Ml(at),D3=Nl(at),R3=t=>at(t,0),P3=m(2,(t,e)=>{const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}),j3=t=>{const e=Math.ceil(Math.log(t)/Math.log(2));return Math.max(Math.pow(2,e),2)},L3=t=>{if(t==="NaN")return zn(NaN);if(t==="Infinity")return zn(1/0);if(t==="-Infinity")return zn(-1/0);if(t.trim()==="")return Ni;const e=Number(t);return Number.isNaN(e)?Ni:zn(e)},U3=m(2,(t,e)=>{const n=Math.pow(10,e);return Math.round(t*n)/n}),nu=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),q3=Symbol.for("effect/annotation/Brand"),V3=Symbol.for("effect/annotation/SchemaId"),db=Symbol.for("effect/annotation/Message"),Hl=Symbol.for("effect/annotation/MissingMessage"),Yl=Symbol.for("effect/annotation/Identifier"),yo=Symbol.for("effect/annotation/Title"),Z0=Symbol.for("effect/annotation/AutoTitle"),gb=Symbol.for("effect/annotation/Description"),bb=Symbol.for("effect/annotation/Examples"),yb=Symbol.for("effect/annotation/Default"),Sb=Symbol.for("effect/annotation/JSONSchema"),wb=Symbol.for("effect/annotation/Arbitrary"),Ab=Symbol.for("effect/annotation/Pretty"),Fb=Symbol.for("effect/annotation/Equivalence"),W3=Symbol.for("effect/annotation/Documentation"),_b=Symbol.for("effect/annotation/Concurrency"),Eb=Symbol.for("effect/annotation/Batching"),Cb=Symbol.for("effect/annotation/ParseIssueTitle"),Ib=Symbol.for("effect/annotation/ParseOptions"),kb=Symbol.for("effect/annotation/DecodingFallback"),vb=Symbol.for("effect/annotation/Surrogate"),z3=Symbol.for("effect/annotation/StableFilter"),ue=m(2,(t,e)=>Object.prototype.hasOwnProperty.call(t.annotations,e)?T(t.annotations[e]):k()),K3=ue(q3),G3=ue(db),J3=ue(Hl),Tb=ue(yo),Ob=ue(Z0),qu=ue(Yl),$b=ue(gb),H3=ue(_b),Y3=ue(Eb),Z3=ue(Cb),X3=ue(Ib),Q3=ue(kb),Bb=ue(vb),tC=ue(z3),eC=t=>qE(tC(t),e=>e===!0),Mb=Symbol.for("effect/annotation/JSONIdentifier"),nC=ue(Mb),rC=t=>In(nC(t),()=>qu(t));class Nb{typeParameters;decodeUnknown;encodeUnknown;annotations;_tag="Declaration";constructor(e,n,r,s={}){this.typeParameters=e,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=s}toString(){return vt(hn(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:ce(this.annotations)}}}const So=t=>e=>e._tag===t;class sC{literal;annotations;_tag="Literal";constructor(e,n={}){this.literal=e,this.annotations=n}toString(){return vt(hn(this),()=>Kr(this.literal))}toJSON(){return{_tag:this._tag,literal:$u(this.literal)?String(this.literal):this.literal,annotations:ce(this.annotations)}}}const g1=So("Literal");class iC{symbol;annotations;_tag="UniqueSymbol";constructor(e,n={}){this.symbol=e,this.annotations=n}toString(){return vt(hn(this),()=>Kr(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:ce(this.annotations)}}}class oC{annotations;_tag="NeverKeyword";constructor(e={}){this.annotations=e}toString(){return th(this)}toJSON(){return{_tag:this._tag,annotations:ce(this.annotations)}}}const Db=new oC({[yo]:"never"});class aC{annotations;_tag="UnknownKeyword";constructor(e={}){this.annotations=e}toString(){return th(this)}toJSON(){return{_tag:this._tag,annotations:ce(this.annotations)}}}const uC=new aC({[yo]:"unknown"});class cC{annotations;_tag="AnyKeyword";constructor(e={}){this.annotations=e}toString(){return th(this)}toJSON(){return{_tag:this._tag,annotations:ce(this.annotations)}}}const fC=new cC({[yo]:"any"}),lC=So("StringKeyword"),hC=So("SymbolKeyword");let Vu=class{type;annotations;constructor(e,n={}){this.type=e,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:ce(this.annotations)}}toString(){return String(this.type)}};class Wu extends Vu{isOptional;constructor(e,n,r={}){super(e,r),this.isOptional=n}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:ce(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const Rb=t=>t.map(e=>e.type);class Zl{elements;rest;isReadonly;annotations;_tag="TupleType";constructor(e,n,r,s={}){this.elements=e,this.rest=n,this.isReadonly=r,this.annotations=s;let i=!1,a=!1;for(const c of e)if(c.isOptional)i=!0;else if(i){a=!0;break}if(a||i&&n.length>1)throw new Error(w3)}toString(){return vt(hn(this),()=>xC(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:ce(this.annotations)}}}const xC=t=>{const e=t.elements.map(String).join(", ");return t3(t.rest,{onEmpty:()=>`readonly [${e}]`,onNonEmpty:(n,r)=>{const s=String(n),i=s.includes(" | ")?`(${s})`:s;if(r.length>0){const a=r.map(String).join(", ");return t.elements.length>0?`readonly [${e}, ...${i}[], ${a}]`:`readonly [...${i}[], ${a}]`}else return t.elements.length>0?`readonly [${e}, ...${i}[]]`:`ReadonlyArray<${s}>`}})};class ee extends Wu{name;isReadonly;constructor(e,n,r,s,i){super(n,r,i),this.name=e,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:ce(this.annotations)}}}const Pb=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return Pb(t.from)}return!1};class zu{type;isReadonly;parameter;constructor(e,n,r){if(this.type=n,this.isReadonly=r,Pb(e))this.parameter=e;else throw new Error(S3)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Fr{annotations;_tag="TypeLiteral";propertySignatures;indexSignatures;constructor(e,n,r={}){this.annotations=r;const s={};for(let a=0;a<e.length;a++){const c=e[a].name;if(Object.prototype.hasOwnProperty.call(s,c))throw new Error(A3(c));s[c]=null}const i={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=Kb(n[a].parameter);if(lC(c)){if(i.string)throw new Error(m1("string"));i.string=!0}else if(hC(c)){if(i.symbol)throw new Error(m1("symbol"));i.symbol=!0}}this.propertySignatures=e,this.indexSignatures=n}toString(){return vt(hn(this),()=>pC(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:ce(this.annotations)}}}const b1=t=>t.map(String).join("; "),pC=t=>{if(t.propertySignatures.length>0){const e=t.propertySignatures.map(String).join("; ");return t.indexSignatures.length>0?`{ ${e}; ${b1(t.indexSignatures)} }`:`{ ${e} }`}else return t.indexSignatures.length>0?`{ ${b1(t.indexSignatures)} }`:"{}"},mC=_s(Du(at,t=>{switch(t._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),dC={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},jb=t=>Vl(t,e=>Ub(e)?jb(e.types):[e]),gC=t=>{const e=mC(t),n=[],r={},s=[];for(const i of e)switch(i._tag){case"NeverKeyword":break;case"AnyKeyword":return[fC];case"UnknownKeyword":return[uC];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[i._tag]||(r[i._tag]=i,n.push(i));break}case"Literal":{const a=typeof i.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=dC[a];!r[c]&&!s.includes(i.literal)&&(s.push(i.literal),n.push(i));break}case"object":{s.includes(i.literal)||(s.push(i.literal),n.push(i));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!s.includes(i.symbol)&&(s.push(i.symbol),n.push(i));break}case"TupleType":{r.ObjectKeyword||n.push(i);break}case"TypeLiteral":{i.propertySignatures.length===0&&i.indexSignatures.length===0?r["{}"]||(r["{}"]=i,n.push(i)):r.ObjectKeyword||n.push(i);break}default:n.push(i)}return n};let Sn=class X0{types;annotations;static make=(e,n)=>Lb(e)?new X0(e,n):e.length===1?e[0]:Db;static unify=(e,n)=>X0.make(gC(jb(e)),n);_tag="Union";constructor(e,n={}){this.types=e,this.annotations=n}toString(){return vt(hn(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:ce(this.annotations)}}};const Lb=t=>t.length>1,Ub=So("Union"),Gc=Q(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class Xl{f;annotations;_tag="Suspend";constructor(e,n={}){this.f=e,this.annotations=n,this.f=lb(e)}toString(){return hn(this).pipe(In(()=>ju(DE(this.f)(),e=>hn(e))),vt(()=>"<suspended schema>"))}toJSON(){const e=this.f();let n=Gc.get(e);return n||(Gc.set(e,{_tag:this._tag}),n={_tag:this._tag,ast:e.toJSON(),annotations:ce(this.annotations)},Gc.set(e,n),n)}}let bC=class{from;filter;annotations;_tag="Refinement";constructor(e,n,r={}){this.from=e,this.filter=n,this.annotations=r}toString(){return qu(this).pipe(vt(()=>zt(Gb(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>qb(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:ce(this.annotations)}}};const qb=So("Refinement"),Jc={};let yC=class{from;to;transformation;annotations;_tag="Transformation";constructor(e,n,r,s={}){this.from=e,this.to=n,this.transformation=r,this.annotations=s}toString(){return vt(hn(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:ce(this.annotations)}}};class SC{from;to;decode;encode;constructor(e,n,r,s){this.from=e,this.to=n,this.decode=r,this.encode=s}}class wC{propertySignatureTransformations;_tag="TypeLiteralTransformation";constructor(e){this.propertySignatureTransformations=e;const n={},r={};for(const s of e){const i=s.from;if(n[i])throw new Error(d1(i));n[i]=!0;const a=s.to;if(r[a])throw new Error(d1(a));r[a]=!0}}}const Ql=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={...t.annotations};delete r[Yl];const s={...r,...e},i=Bb(t);return pt(i)&&(s[vb]=Ql(i.value,e)),n.annotations.value=s,Object.create(Object.getPrototypeOf(t),n)},AC="[\\s\\S]*?",FC="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",Vb=(t,e)=>{switch(t._tag){case"Literal":return nu(String(t.literal));case"StringKeyword":return AC;case"NumberKeyword":return FC;case"TemplateLiteral":return Wb(t);case"Union":return t.types.map(n=>Vb(n)).join("|")}},_C=(t,e,n,r)=>Ub(t)?`(${e})`:e,Wb=(t,e,n)=>{let r="";if(t.head!==""){const s=nu(t.head);r+=s}for(const s of t.spans){const i=Vb(s.type);if(r+=_C(s.type,i),s.literal!==""){const a=nu(s.literal);r+=a}}return r},EC=t=>new RegExp(`^${Wb(t)}$`),y1=(t,e)=>{const n=[],r=[],s=i=>{switch(i._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new zu(i,e,!0));break;case"Literal":if(vn(i.literal)||Yn(i.literal))n.push(new ee(i.literal,e,!1,!0));else throw new Error(y3(i.literal));break;case"Enums":{for(const[a,c]of i.enums)n.push(new ee(c,e,!1,!0));break}case"UniqueSymbol":n.push(new ee(i.symbol,e,!1,!0));break;case"Union":i.types.forEach(s);break;default:throw new Error(b3(i))}};return s(t),{propertySignatures:n,indexSignatures:r}},zb=t=>e=>{let n;for(const r of t)Object.prototype.hasOwnProperty.call(e.annotations,r)&&(n===void 0&&(n={}),n[r]=e.annotations[r]);return n},CC=zb([bb,yb,Sb,wb,Ab,Fb]),le=t=>{switch(t._tag){case"Declaration":{const e=$e(t.typeParameters,le);return e===t.typeParameters?t:new Nb(e,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const e=$e(t.elements,s=>{const i=le(s.type);return i===s.type?s:new Wu(i,s.isOptional)}),n=Rb(t.rest),r=$e(n,le);return e===t.elements&&r===n?t:new Zl(e,r.map(s=>new Vu(s)),t.isReadonly,t.annotations)}case"TypeLiteral":{const e=$e(t.propertySignatures,r=>{const s=le(r.type);return s===r.type?r:new ee(r.name,s,r.isOptional,r.isReadonly)}),n=$e(t.indexSignatures,r=>{const s=le(r.type);return s===r.type?r:new zu(r.parameter,s,r.isReadonly)});return e===t.propertySignatures&&n===t.indexSignatures?t:new Fr(e,n,t.annotations)}case"Union":{const e=$e(t.types,le);return e===t.types?t:Sn.make(e,t.annotations)}case"Suspend":return new Xl(()=>le(t.f()),t.annotations);case"Refinement":{const e=le(t.from);return e===t.from?t:new bC(e,t.filter,t.annotations)}case"Transformation":{const e=CC(t);return le(e!==void 0?Ql(t.to,e):t.to)}}return t};function $e(t,e){let n=!1;const r=Lu(t.length);for(let s=0;s<t.length;s++){const i=t[s],a=e(i);a!==i&&(n=!0),r[s]=a}return n?r:t}const nn=(t,e)=>{switch(t._tag){case"Declaration":{const n=$e(t.typeParameters,r=>nn(r));return n===t.typeParameters?t:new Nb(n,t.decodeUnknown,t.encodeUnknown)}case"TupleType":{const n=$e(t.elements,i=>{const a=nn(i.type);return a===i.type?i:new Wu(a,i.isOptional)}),r=Rb(t.rest),s=$e(r,i=>nn(i));return n===t.elements&&s===r?t:new Zl(n,s.map(i=>new Vu(i)),t.isReadonly)}case"TypeLiteral":{const n=$e(t.propertySignatures,s=>{const i=nn(s.type);return i===s.type?s:new ee(s.name,i,s.isOptional,s.isReadonly)}),r=$e(t.indexSignatures,s=>{const i=nn(s.type);return i===s.type?s:new zu(s.parameter,i,s.isReadonly)});return n===t.propertySignatures&&r===t.indexSignatures?t:new Fr(n,r)}case"Union":{const n=$e(t.types,r=>nn(r));return n===t.types?t:Sn.make(n)}case"Suspend":{let n;const r=rC(t);return pt(r)&&(n={[Mb]:`${r.value}Encoded`}),new Xl(()=>nn(t.f()),n)}case"Refinement":return nn(t.from);case"Transformation":return nn(t.from)}return t},S1=t=>nn(t),ce=t=>{const e={};for(const n of Object.getOwnPropertySymbols(t))e[String(n)]=t[n];return e},Kb=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return t;case"Refinement":return Kb(t.from)}},th=t=>vt(hn(t),()=>t._tag);function IC(t){return zt(K3(t),{onNone:()=>"",onSome:e=>e.map(n=>` & Brand<${Kr(n)}>`).join("")})}const Gb=t=>Tb(t).pipe(In(()=>$b(t)),In(()=>Ob(t)),Pu(e=>e+IC(t))),hn=t=>In(qu(t),()=>Gb(t)),kC=Symbol.for("effect/Context/Tag"),ru=Symbol.for("effect/Context/Reference"),vC="effect/STM",TC=Symbol.for(vC),Jb={...lo,_op:"Tag",[TC]:As,[kC]:{_Service:t=>t,_Identifier:t=>t},toString(){return Ut(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[mt](){return this.toJSON()},of(t){return t},context(t){return Yb(this,t)}},OC={...Jb,[ru]:ru},$C=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const r=Object.create(Jb);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=t,r},BC=()=>(t,e)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function s(){}return Object.setPrototypeOf(s,OC),s.key=t,s.defaultValue=e.defaultValue,Object.defineProperty(s,"stack",{get(){return r.stack}}),s},Hb=Symbol.for("effect/Context"),MC={[Hb]:{_Services:t=>t},[W](t){if(DC(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!z(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[G](){return St(this,Mi(this.unsafeMap.size))},pipe(){return q(this,arguments)},toString(){return Ut(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(jt)}},[mt](){return this.toJSON()}},Cs=t=>{const e=Object.create(MC);return e.unsafeMap=t,e},NC=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(e.message=e.message+` (defined at ${r[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},DC=t=>K(t,Hb),RC=t=>K(t,ru),PC=Cs(new Map),jC=()=>PC,Yb=(t,e)=>Cs(new Map([[t.key,e]])),LC=m(3,(t,e,n)=>{const r=new Map(t.unsafeMap);return r.set(e.key,n),Cs(r)}),Hc=Q("effect/Context/defaultValueCache",()=>new Map),eh=t=>{if(Hc.has(t.key))return Hc.get(t.key);const e=t.defaultValue();return Hc.set(t.key,e),e},UC=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):eh(e),Zb=m(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(ru in e)return eh(e);throw NC(e)}return t.unsafeMap.get(e.key)}),qC=Zb,VC=m(2,(t,e)=>t.unsafeMap.has(e.key)?zn(t.unsafeMap.get(e.key)):RC(e)?zn(eh(e)):Ni),WC=m(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[r,s]of e.unsafeMap)n.set(r,s);return Cs(n)}),Jr=$C,nh=jC,zC=Yb,pi=LC,Xb=qC,Qb=Zb,wo=VC,ty=WC,ey=BC,ny=Symbol.for("effect/Chunk");function KC(t,e,n,r,s){for(let i=e;i<Math.min(t.length,e+s);i++)n[r+i-e]=t[i];return n}const ry=[],GC=t=>Vr((e,n)=>e.length===n.length&&_r(e).every((r,s)=>t(r,ms(n,s)))),JC=GC(z),HC={[ny]:{_A:t=>t},toString(){return Ut(this.toJSON())},toJSON(){return{_id:"Chunk",values:_r(this).map(jt)}},[mt](){return this.toJSON()},[W](t){return sy(t)&&JC(this,t)},[G](){return St(this,co(_r(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return ry[Symbol.iterator]();default:return _r(this)[Symbol.iterator]()}},pipe(){return q(this,arguments)}},Mt=t=>{const e=Object.create(HC);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=on,e.right=on;break}case"ISingleton":{e.length=1,e.depth=0,e.left=on,e.right=on;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=on,e.right=on;break}}return e},sy=t=>K(t,ny),on=Mt({_tag:"IEmpty"}),Tn=()=>on,Yc=(...t)=>XC(t),Fe=t=>Mt({_tag:"ISingleton",a:t}),iy=t=>sy(t)?t:Ku(it(t)),Q0=(t,e,n)=>{switch(t.backing._tag){case"IArray":{KC(t.backing.array,0,e,n,t.length);break}case"IConcat":{Q0(t.left,e,n),Q0(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let r=0,s=n;for(;r<t.length;)e[s]=ms(t,r),r+=1,s+=1;break}}},YC=t=>{switch(t.backing._tag){case"IEmpty":return ry;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return Q0(t,e,0),t.backing={_tag:"IArray",array:e},t.left=on,t.right=on,t.depth=0,e}}},_r=YC,ZC=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return Mt({_tag:"IArray",array:H0(t.backing.array)});case"IConcat":return Mt({_tag:"IConcat",left:Is(t.backing.right),right:Is(t.backing.left)});case"ISlice":return Ku(H0(_r(t)))}},Is=ZC,Ku=t=>t.length===0?Tn():t.length===1?Fe(t[0]):Mt({_tag:"IArray",array:t}),XC=t=>Ku(t),ms=m(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?ms(t.left,e):ms(t.right,e-t.left.length);case"ISlice":return ms(t.backing.chunk,e+t.backing.offset)}}),QC=m(2,(t,e)=>Ue(t,Fe(e))),He=m(2,(t,e)=>Ue(Fe(e),t)),tf=m(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return on;switch(t.backing._tag){case"ISlice":return Mt({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?tf(t.right,e-t.left.length):Mt({_tag:"IConcat",left:tf(t.left,e),right:t.right});default:return Mt({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),Ue=m(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return Mt({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const r=Ue(t.right,e);return Mt({_tag:"IConcat",left:t.left,right:r})}else{const r=Ue(t.right.right,e);if(r.depth===t.depth-3){const s=Mt({_tag:"IConcat",left:t.right.left,right:r});return Mt({_tag:"IConcat",left:t.left,right:s})}else{const s=Mt({_tag:"IConcat",left:t.left,right:t.right.left});return Mt({_tag:"IConcat",left:s,right:r})}}else if(e.right.depth>=e.left.depth){const r=Ue(t,e.left);return Mt({_tag:"IConcat",left:r,right:e.right})}else{const r=Ue(t,e.left.left);if(r.depth===e.depth-3){const s=Mt({_tag:"IConcat",left:r,right:e.left.right});return Mt({_tag:"IConcat",left:s,right:e.right})}else{const s=Mt({_tag:"IConcat",left:e.left.right,right:e.right});return Mt({_tag:"IConcat",left:r,right:s})}}}),tI=t=>t.length===0,ks=t=>t.length>0,oy=t=>ms(t,0),vs=oy,yr=t=>tf(t,1),ef=Symbol.for("effect/Duration"),ay=BigInt(0),w1=BigInt(24),Qo=BigInt(60),nf=BigInt(1e3),A1=BigInt(1e6),F1=BigInt(1e9),eI=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,On=t=>{if(uy(t))return t;if(Yn(t))return Er(t);if($u(t))return Zc(t);if(Array.isArray(t)&&t.length===2&&t.every(Yn))return t[0]===-1/0||t[1]===-1/0||Number.isNaN(t[0])||Number.isNaN(t[1])?cy:t[0]===1/0||t[1]===1/0?iI:Zc(BigInt(Math.round(t[0]*1e9))+BigInt(Math.round(t[1])));if(vn(t)){const e=eI.exec(t);if(e){const[n,r,s]=e,i=Number(r);switch(s){case"nano":case"nanos":return Zc(BigInt(r));case"micro":case"micros":return oI(BigInt(r));case"milli":case"millis":return Er(i);case"second":case"seconds":return fy(i);case"minute":case"minutes":return ly(i);case"hour":case"hours":return hy(i);case"day":case"days":return xy(i);case"week":case"weeks":return py(i)}}}throw new Error("Invalid DurationInput")},_1={_tag:"Millis",millis:0},nI={_tag:"Infinity"},rI={[ef]:ef,[G](){return St(this,Pg(this.value))},[W](t){return uy(t)&&pI(this,t)},toString(){return`Duration(${dI(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:uI(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[mt](){return this.toJSON()},pipe(){return q(this,arguments)}},pn=t=>{const e=Object.create(rI);return Yn(t)?isNaN(t)||t<=0?e.value=_1:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=nI:t<=ay?e.value=_1:e.value={_tag:"Nanos",nanos:t},e},uy=t=>K(t,ef),sI=t=>{switch(t.value._tag){case"Millis":return t.value.millis===0;case"Nanos":return t.value.nanos===ay;case"Infinity":return!1}},cy=pn(0),iI=pn(1/0),Zc=t=>pn(t),oI=t=>pn(t*nf),Er=t=>pn(t),fy=t=>pn(t*1e3),ly=t=>pn(t*6e4),hy=t=>pn(t*36e5),xy=t=>pn(t*864e5),py=t=>pn(t*6048e5),rf=t=>cI(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),aI=t=>{const e=On(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},uI=t=>{const e=On(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/F1),Number(e.value.nanos%F1)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},cI=m(2,(t,e)=>{const n=On(t);switch(n.value._tag){case"Nanos":return e.onNanos(n.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(n.value.millis)}}),Gu=m(3,(t,e,n)=>{const r=On(t),s=On(e);if(r.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(rf(r),rf(s));if(r.value._tag==="Nanos"||s.value._tag==="Nanos"){const i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(i,a)}return n.onMillis(r.value.millis,s.value.millis)}),fI=Zs((t,e)=>Gu(t,e,{onMillis:(n,r)=>n<r?-1:n>r?1:0,onNanos:(n,r)=>n<r?-1:n>r?1:0})),lI=(t,e)=>Gu(t,e,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),hI=m(2,(t,e)=>Gu(t,e,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r})),xI=m(2,(t,e)=>Gu(t,e,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),pI=m(2,(t,e)=>lI(On(t),On(e))),mI=t=>{const e=On(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=aI(e),r=n/A1,s=r/nf,i=s/Qo,a=i/Qo,c=a/w1;return{days:Number(c),hours:Number(a%w1),minutes:Number(i%Qo),seconds:Number(s%Qo),millis:Number(r%nf),nanos:Number(n%A1)}},dI=t=>{const e=On(t);if(e.value._tag==="Infinity")return"Infinity";if(sI(e))return"0";const n=mI(e),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},vr=5,rh=Math.pow(2,vr),gI=rh-1,bI=rh/2,yI=rh/4;function SI(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Ts(t,e){return e>>>t&gI}function xs(t){return 1<<t}function my(t,e){return SI(t&e-1)}const wI=(t,e)=>({value:t,previous:e});function ds(t,e,n,r){let s=r;if(!t){const i=r.length;s=new Array(i);for(let a=0;a<i;++a)s[a]=r[a]}return s[e]=n,s}function dy(t,e,n){const r=n.length-1;let s=0,i=0,a=n;if(t)s=i=e;else for(a=new Array(r);s<e;)a[i++]=n[s++];for(++s;s<=r;)a[i++]=n[s++];return t&&(a.length=r),a}function AI(t,e,n,r){const s=r.length;if(t){let f=s;for(;f>=e;)r[f--]=r[f];return r[e]=n,r}let i=0,a=0;const c=new Array(s+1);for(;i<e;)c[a++]=r[i++];for(c[e]=n;i<s;)c[++a]=r[i++];return c}class Xn{_tag="EmptyNode";modify(e,n,r,s,i,a){const c=r(k());return st(c)?new Xn:(++a.value,new Cr(e,s,i,c))}}function qe(t){return Fl(t,"EmptyNode")}function FI(t){return qe(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function Ju(t,e){return qe(t)?!1:e===t.edit}class Cr{edit;hash;key;value;_tag="LeafNode";constructor(e,n,r,s){this.edit=e,this.hash=n,this.key=r,this.value=s}modify(e,n,r,s,i,a){if(z(i,this.key)){const f=r(this.value);return f===this.value?this:st(f)?(--a.value,new Xn):Ju(this,e)?(this.value=f,this):new Cr(e,s,i,f)}const c=r(k());return st(c)?this:(++a.value,gy(e,n,this.hash,this,s,new Cr(e,s,i,c)))}}class sh{edit;hash;children;_tag="CollisionNode";constructor(e,n,r){this.edit=e,this.hash=n,this.children=r}modify(e,n,r,s,i,a){if(s===this.hash){const f=Ju(this,e),u=this.updateCollisionList(f,e,this.hash,this.children,r,i,a);return u===this.children?this:u.length>1?new sh(e,this.hash,u):u[0]}const c=r(k());return st(c)?this:(++a.value,gy(e,n,this.hash,this,s,new Cr(e,s,i,c)))}updateCollisionList(e,n,r,s,i,a,c){const f=s.length;for(let l=0;l<f;++l){const x=s[l];if("key"in x&&z(a,x.key)){const d=x.value,g=i(d);return g===d?s:st(g)?(--c.value,dy(e,l,s)):ds(e,l,new Cr(n,r,a,g),s)}}const u=i(k());return st(u)?s:(++c.value,ds(e,f,new Cr(n,r,a,u),s))}}class Os{edit;mask;children;_tag="IndexedNode";constructor(e,n,r){this.edit=e,this.mask=n,this.children=r}modify(e,n,r,s,i,a){const c=this.mask,f=this.children,u=Ts(n,s),l=xs(u),x=my(c,l),d=c&l,g=Ju(this,e);if(!d){const A=new Xn().modify(e,n+vr,r,s,i,a);return A?f.length>=bI?EI(e,u,A,c,f):new Os(e,c|l,AI(g,x,A,f)):this}const b=f[x],S=b.modify(e,n+vr,r,s,i,a);if(b===S)return this;let p=c,w;if(qe(S)){if(p&=~l,!p)return new Xn;if(f.length<=2&&FI(f[x^1]))return f[x^1];w=dy(g,x,f)}else w=ds(g,x,S,f);return g?(this.mask=p,this.children=w,this):new Os(e,p,w)}}class ih{edit;size;children;_tag="ArrayNode";constructor(e,n,r){this.edit=e,this.size=n,this.children=r}modify(e,n,r,s,i,a){let c=this.size;const f=this.children,u=Ts(n,s),l=f[u],x=(l||new Xn).modify(e,n+vr,r,s,i,a);if(l===x)return this;const d=Ju(this,e);let g;if(qe(l)&&!qe(x))++c,g=ds(d,u,x,f);else if(!qe(l)&&qe(x)){if(--c,c<=yI)return _I(e,c,u,f);g=ds(d,u,new Xn,f)}else g=ds(d,u,x,f);return d?(this.size=c,this.children=g,this):new ih(e,c,g)}}function _I(t,e,n,r){const s=new Array(e-1);let i=0,a=0;for(let c=0,f=r.length;c<f;++c)if(c!==n){const u=r[c];u&&!qe(u)&&(s[i++]=u,a|=1<<c)}return new Os(t,a,s)}function EI(t,e,n,r,s){const i=[];let a=r,c=0;for(let f=0;a;++f)a&1&&(i[f]=s[c++]),a>>>=1;return i[e]=n,new ih(t,c+1,i)}function CI(t,e,n,r,s,i){if(n===s)return new sh(t,n,[i,r]);const a=Ts(e,n),c=Ts(e,s);if(a===c)return f=>new Os(t,xs(a)|xs(c),[f]);{const f=a<c?[r,i]:[i,r];return new Os(t,xs(a)|xs(c),f)}}function gy(t,e,n,r,s,i){let a,c=e;for(;;){const f=CI(t,c,n,r,s,i);if(typeof f=="function")a=wI(f,a),c=c+vr;else{let u=f;for(;a!=null;)u=a.value(u),a=a.previous;return u}}}const by="effect/HashMap",sf=Symbol.for(by),II={[sf]:sf,[Symbol.iterator](){return new Hu(this,(t,e)=>[t,e])},[G](){let t=B(by);for(const e of this)t^=h(B(e[0]),X(B(e[1])));return St(this,t)},[W](t){if(TI(t)){if(t._size!==this._size)return!1;for(const e of this){const n=h(t,ah(e[0],B(e[0])));if(st(n))return!1;if(!z(e[1],n.value))return!1}return!0}return!1},toString(){return Ut(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(jt)}},[mt](){return this.toJSON()},pipe(){return q(this,arguments)}},oh=(t,e,n,r)=>{const s=Object.create(II);return s._editable=t,s._edit=e,s._root=n,s._size=r,s};class Hu{map;f;v;constructor(e,n){this.map=e,this.f=n,this.v=yy(this.map._root,this.f,void 0)}next(){if(st(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=su(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new Hu(this.map,this.f)}}const su=t=>t?Sy(t[0],t[1],t[2],t[3],t[4]):k(),yy=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return pt(t.value)?T({value:e(t.key,t.value.value),cont:n}):su(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=t.children;return Sy(r.length,r,0,e,n)}default:return su(n)}},Sy=(t,e,n,r,s)=>{for(;n<t;){const i=e[n++];if(i&&!qe(i))return yy(i,r,[t,e,n,r,s])}return su(s)},kI=oh(!1,0,new Xn,0),Yu=()=>kI,vI=t=>{const e=wy(Yu());for(const n of t)Pi(e,n[0],n[1]);return NI(e)},TI=t=>K(t,sf),OI=t=>t&&qe(t._root),$I=m(2,(t,e)=>ah(t,e,B(e))),ah=m(3,(t,e,n)=>{let r=t._root,s=0;for(;;)switch(r._tag){case"LeafNode":return z(e,r.key)?r.value:k();case"CollisionNode":{if(n===r.hash){const i=r.children;for(let a=0,c=i.length;a<c;++a){const f=i[a];if("key"in f&&z(e,f.key))return f.value}}return k()}case"IndexedNode":{const i=Ts(s,n),a=xs(i);if(r.mask&a){r=r.children[my(r.mask,a)],s+=vr;break}return k()}case"ArrayNode":{if(r=r.children[Ts(s,n)],r){s+=vr;break}return k()}default:return k()}}),BI=m(2,(t,e)=>pt(ah(t,e,B(e)))),Pi=m(3,(t,e,n)=>ch(t,e,()=>T(n))),MI=m(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:oh(t._editable,t._edit,e,n)),uh=t=>new Hu(t,e=>e),of=t=>t._size,wy=t=>oh(!0,t._edit+1,t._root,t._size),NI=t=>(t._editable=!1,t),ch=m(3,(t,e,n)=>DI(t,e,B(e),n)),DI=m(4,(t,e,n,r)=>{const s={value:t._size},i=t._root.modify(t._editable?t._edit:NaN,0,r,n,e,s);return h(t,MI(i,s.value))}),E1=m(2,(t,e)=>ch(t,e,k)),RI=m(2,(t,e)=>Zu(t,Yu(),(n,r,s)=>Pi(n,s,e(r,s)))),PI=m(2,(t,e)=>Zu(t,void 0,(n,r,s)=>e(r,s))),Zu=m(3,(t,e,n)=>{const r=t._root;if(r._tag==="LeafNode")return pt(r.value)?n(e,r.value.value,r.key):e;if(r._tag==="EmptyNode")return e;const s=[r.children];let i;for(;i=s.pop();)for(let a=0,c=i.length;a<c;){const f=i[a++];f&&!qe(f)&&(f._tag==="LeafNode"?pt(f.value)&&(e=n(e,f.value.value,f.key)):s.push(f.children))}return e}),Ay="effect/HashSet",af=Symbol.for(Ay),jI={[af]:af,[Symbol.iterator](){return uh(this._keyMap)},[G](){return St(this,X(B(this._keyMap))(B(Ay)))},[W](t){return LI(t)?of(this._keyMap)===of(t._keyMap)&&z(this._keyMap,t._keyMap):!1},toString(){return Ut(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(jt)}},[mt](){return this.toJSON()},pipe(){return q(this,arguments)}},Xu=t=>{const e=Object.create(jI);return e._keyMap=t,e},LI=t=>K(t,af),UI=Xu(Yu()),Qu=()=>UI,qI=t=>{const e=fh(Qu());for(const n of t)ji(e,n);return lh(e)},VI=(...t)=>{const e=fh(Qu());for(const n of t)ji(e,n);return lh(e)},WI=m(2,(t,e)=>BI(t._keyMap,e)),zI=t=>uh(t._keyMap),KI=t=>of(t._keyMap),fh=t=>Xu(wy(t._keyMap)),lh=t=>(t._keyMap._editable=!1,t),Fy=m(2,(t,e)=>{const n=fh(t);return e(n),lh(n)}),ji=m(2,(t,e)=>t._keyMap._editable?(Pi(e,!0)(t._keyMap),t):Xu(Pi(e,!0)(t._keyMap))),_y=m(2,(t,e)=>t._keyMap._editable?(E1(e)(t._keyMap),t):Xu(E1(e)(t._keyMap))),GI=m(2,(t,e)=>Fy(t,n=>{for(const r of e)_y(n,r)})),JI=m(2,(t,e)=>Fy(Qu(),n=>{HI(t,r=>ji(n,r));for(const r of e)ji(n,r)})),HI=m(2,(t,e)=>PI(t._keyMap,(n,r)=>e(r))),YI=m(3,(t,e,n)=>Zu(t._keyMap,e,(r,s,i)=>n(r,i))),Qn=Qu,Ey=qI,hh=VI,ZI=WI,XI=zI,xh=KI,gs=ji,ph=_y,C1=GI,Li=JI,iu=YI,I1=Symbol.for("effect/MutableRef"),QI={[I1]:I1,toString(){return Ut(this.toJSON())},toJSON(){return{_id:"MutableRef",current:jt(this.current)}},[mt](){return this.toJSON()},pipe(){return q(this,arguments)}},Cy=t=>{const e=Object.create(QI);return e.current=t,e},tc=t=>t.current,Iy=m(2,(t,e)=>(t.current=e,t)),mh="effect/FiberId",Ui=Symbol.for(mh),ou="None",uf="Runtime",tk="Composite",ek=yt(`${mh}-${ou}`);let nk=class{[Ui]=Ui;_tag=ou;id=-1;startTimeMillis=-1;[G](){return ek}[W](e){return ky(e)&&e._tag===ou}toString(){return Ut(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[mt](){return this.toJSON()}};class rk{id;startTimeMillis;[Ui]=Ui;_tag=uf;constructor(e,n){this.id=e,this.startTimeMillis=n}[G](){return St(this,yt(`${mh}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[W](e){return ky(e)&&e._tag===uf&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return Ut(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[mt](){return this.toJSON()}}const sk=new nk,ky=t=>K(t,Ui),cf=t=>{switch(t._tag){case ou:return Qn();case uf:return hh(t.id);case tk:return h(cf(t.left),Li(cf(t.right)))}},k1=Q(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>Cy(0)),vy=t=>Array.from(cf(t)).map(n=>`#${n}`).join(","),ik=()=>{const t=tc(k1);return h(k1,Iy(t+1)),new rk(t,Date.now())},$s=sk,ok=vy,Ty=ik,qi=Yu,ak=vI,uk=OI,dh=$I,gh=Pi,Oy=uh,$y=ch,ck=RI,By=Zu,Vi=Symbol.for("effect/List"),ff=t=>it(t),fk=t=>$_(zr(t),ff),lk=fk(z),hk={[Vi]:Vi,_tag:"Cons",toString(){return Ut(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:ff(this).map(jt)}},[mt](){return this.toJSON()},[W](t){return My(t)&&this._tag===t._tag&&lk(this,t)},[G](){return St(this,co(ff(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return q(this,arguments)}},Bs=(t,e)=>{const n=Object.create(hk);return n.head=t,n.tail=e,n},xk=yt("Nil"),pk={[Vi]:Vi,_tag:"Nil",toString(){return Ut(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[mt](){return this.toJSON()},[G](){return xk},[W](t){return My(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return q(this,arguments)}},au=Object.create(pk),My=t=>K(t,Vi),Ke=t=>t._tag==="Nil",mk=t=>t._tag==="Cons",dk=()=>au,Tr=(t,e)=>Bs(t,e),Ms=dk,bh=t=>Bs(t,au),gk=m(2,(t,e)=>yk(e,t)),bk=m(2,(t,e)=>Tr(e,t)),yk=m(2,(t,e)=>{if(Ke(t))return e;if(Ke(e))return t;{const n=Bs(e.head,t);let r=n,s=e.tail;for(;!Ke(s);){const i=Bs(s.head,t);r.tail=i,r=i,s=s.tail}return n}}),Sk=m(2,(t,e)=>{if(Ke(t))return t;{let n=0;const r=Bs(e(t.head,n++),au);let s=r,i=t.tail;for(;!Ke(i);){const a=Bs(e(i.head,n++),au);s.tail=a,s=a,i=i.tail}return r}}),wk=m(3,(t,e,n)=>{let r=e,s=t;for(;!Ke(s);)r=n(r,s.head),s=s.tail;return r}),Ak=t=>{let e=Ms(),n=t;for(;!Ke(n);)e=bk(e,n.head),n=n.tail;return e},ec=(function(){function t(e){e&&Object.assign(this,e)}return t.prototype=ho,t})(),Fk=t=>Object.assign(Object.create(ho),t),_k=Symbol.for("effect/DifferContextPatch");function v1(t){return t}const Ao={...ec.prototype,[_k]:{_Value:v1,_Patch:v1}},Ek=Object.assign(Object.create(Ao),{_tag:"Empty"}),Ck=Object.create(Ek),Ny=()=>Ck,Ik=Object.assign(Object.create(Ao),{_tag:"AndThen"}),kk=(t,e)=>{const n=Object.create(Ik);return n.first=t,n.second=e,n},vk=Object.assign(Object.create(Ao),{_tag:"AddService"}),Tk=(t,e)=>{const n=Object.create(vk);return n.key=t,n.service=e,n},Ok=Object.assign(Object.create(Ao),{_tag:"RemoveService"}),$k=t=>{const e=Object.create(Ok);return e.key=t,e},Bk=Object.assign(Object.create(Ao),{_tag:"UpdateService"}),Mk=(t,e)=>{const n=Object.create(Bk);return n.key=t,n.update=e,n},Nk=(t,e)=>{const n=new Map(t.unsafeMap);let r=Ny();for(const[s,i]of e.unsafeMap.entries())if(n.has(s)){const a=n.get(s);n.delete(s),z(a,i)||(r=Ba(Mk(s,()=>i))(r))}else n.delete(s),r=Ba(Tk(s,i))(r);for(const[s]of n.entries())r=Ba($k(s))(r);return r},Ba=m(2,(t,e)=>kk(t,e)),Dk=m(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,r=Fe(t);const s=new Map(e.unsafeMap);for(;ks(r);){const a=vs(r),c=yr(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{s.set(a.key,a.service),r=c;break}case"AndThen":{r=He(He(c,a.second),a.first);break}case"RemoveService":{s.delete(a.key),r=c;break}case"UpdateService":{s.set(a.key,a.update(s.get(a.key))),n=!0,r=c;break}}}if(!n)return Cs(s);const i=new Map;for(const[a]of e.unsafeMap)s.has(a)&&(i.set(a,s.get(a)),s.delete(a));for(const[a,c]of s)i.set(a,c);return Cs(i)}),Rk=Symbol.for("effect/DifferHashSetPatch");function Xc(t){return t}const nc={...ec.prototype,[Rk]:{_Value:Xc,_Key:Xc,_Patch:Xc}},Pk=Object.assign(Object.create(nc),{_tag:"Empty"}),jk=Object.create(Pk),Dy=()=>jk,Lk=Object.assign(Object.create(nc),{_tag:"AndThen"}),Uk=(t,e)=>{const n=Object.create(Lk);return n.first=t,n.second=e,n},qk=Object.assign(Object.create(nc),{_tag:"Add"}),Vk=t=>{const e=Object.create(qk);return e.value=t,e},Wk=Object.assign(Object.create(nc),{_tag:"Remove"}),zk=t=>{const e=Object.create(Wk);return e.value=t,e},Kk=(t,e)=>{const[n,r]=iu([t,Dy()],([s,i],a)=>ZI(a)(s)?[ph(a)(s),i]:[s,lf(Vk(a))(i)])(e);return iu(r,(s,i)=>lf(zk(i))(s))(n)},lf=m(2,(t,e)=>Uk(t,e)),Gk=m(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,r=Fe(t);for(;ks(r);){const s=vs(r),i=yr(r);switch(s._tag){case"Empty":{r=i;break}case"AndThen":{r=He(s.first)(He(s.second)(i));break}case"Add":{n=gs(s.value)(n),r=i;break}case"Remove":n=ph(s.value)(n),r=i}}return n}),Jk=Symbol.for("effect/DifferReadonlyArrayPatch");function T1(t){return t}const Fo={...ec.prototype,[Jk]:{_Value:T1,_Patch:T1}},Hk=Object.assign(Object.create(Fo),{_tag:"Empty"}),Yk=Object.create(Hk),Ry=()=>Yk,Zk=Object.assign(Object.create(Fo),{_tag:"AndThen"}),Xk=(t,e)=>{const n=Object.create(Zk);return n.first=t,n.second=e,n},Qk=Object.assign(Object.create(Fo),{_tag:"Append"}),t6=t=>{const e=Object.create(Qk);return e.values=t,e},e6=Object.assign(Object.create(Fo),{_tag:"Slice"}),n6=(t,e)=>{const n=Object.create(e6);return n.from=t,n.until=e,n},r6=Object.assign(Object.create(Fo),{_tag:"Update"}),s6=(t,e)=>{const n=Object.create(r6);return n.index=t,n.patch=e,n},i6=t=>{let e=0,n=Ry();for(;e<t.oldValue.length&&e<t.newValue.length;){const r=t.oldValue[e],s=t.newValue[e],i=t.differ.diff(r,s);z(i,t.differ.empty)||(n=Ma(n,s6(e,i))),e=e+1}return e<t.oldValue.length&&(n=Ma(n,n6(0,e))),e<t.newValue.length&&(n=Ma(n,t6(i3(e)(t.newValue)))),n},Ma=m(2,(t,e)=>Xk(t,e)),o6=m(3,(t,e,n)=>{if(t._tag==="Empty")return e;let r=e.slice(),s=xe(t);for(;Ht(s);){const i=Bt(s),a=ln(s);switch(i._tag){case"Empty":{s=a;break}case"AndThen":{a.unshift(i.first,i.second),s=a;break}case"Append":{for(const c of i.values)r.push(c);s=a;break}case"Slice":{r=r.slice(i.from,i.until),s=a;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),s=a;break}}}return r}),a6=Symbol.for("effect/Differ"),u6={[a6]:{_P:Z,_V:Z},pipe(){return q(this,arguments)}},Xs=t=>{const e=Object.create(u6);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},c6=()=>Xs({empty:Ny(),combine:(t,e)=>Ba(e)(t),diff:(t,e)=>Nk(t,e),patch:(t,e)=>Dk(e)(t)}),f6=()=>Xs({empty:Dy(),combine:(t,e)=>lf(e)(t),diff:(t,e)=>Kk(t,e),patch:(t,e)=>Gk(e)(t)}),l6=t=>Xs({empty:Ry(),combine:(e,n)=>Ma(e,n),diff:(e,n)=>i6({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>o6(e,n,t)}),Py=()=>h6((t,e)=>e),h6=t=>Xs({empty:Z,combine:(e,n)=>e===Z?n:n===Z?e:r=>n(e(r)),diff:(e,n)=>z(e,n)?Z:oo(n),patch:(e,n)=>t(n,e(n))}),Wi=255,jy=8,hf=t=>t&Wi,xf=t=>t>>jy&Wi,_o=(t,e)=>(t&Wi)+((e&t&Wi)<<jy),x6=_o(0,0),p6=t=>_o(t,t),m6=t=>_o(t,0),d6=m(2,(t,e)=>_o(hf(t)&~e,xf(t))),g6=m(2,(t,e)=>t|e),b6=t=>~t>>>0&Wi,y6=0,Qs=1,S6=2,Ly=4,pf=16,Uy=32,w6=t=>rc(t,Uy),A6=m(2,(t,e)=>t|e),Wn=t=>qy(t)&&!_6(t),qy=t=>rc(t,Qs),rc=m(2,(t,e)=>(t&e)!==0),Vy=(...t)=>t.reduce((e,n)=>e|n,0),F6=Vy(y6),O1=t=>rc(t,Ly),_6=t=>rc(t,pf),Na=m(2,(t,e)=>_o(t^e,e)),Da=m(2,(t,e)=>t&(b6(hf(e))|xf(e))|hf(e)&xf(e)),$1=Xs({empty:x6,diff:(t,e)=>Na(t,e),combine:(t,e)=>g6(e)(t),patch:(t,e)=>Da(e,t)}),E6=p6,Wy=m6,B1=d6,zy=(t,e)=>({_tag:"Par",left:t,right:e}),ta=(t,e)=>({_tag:"Seq",left:t,right:e}),C6=t=>{let e=bh(t),n=Ms();for(;;){const[r,s]=wk(e,[Ky(),Ms()],([i,a],c)=>{const[f,u]=I6(c);return[$6(i,f),gk(a,u)]});if(n=k6(n,r),Ke(s))return Ak(n);e=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},I6=t=>{let e=t,n=Ky(),r=Ms(),s=Ms();for(;;)switch(e._tag){case"Empty":{if(Ke(r))return[n,s];e=r.head,r=r.tail;break}case"Par":{r=Tr(e.right,r),e=e.left;break}case"Seq":{const i=e.left,a=e.right;switch(i._tag){case"Empty":{e=a;break}case"Par":{const c=i.left,f=i.right;e=zy(ta(c,a),ta(f,a));break}case"Seq":{const c=i.left,f=i.right;e=ta(c,ta(f,a));break}case"Single":{e=i,s=Tr(a,s);break}}break}case"Single":{if(n=O6(n,e),Ke(r))return[n,s];e=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},k6=(t,e)=>{if(Ke(t))return bh(Qc(e));if(B6(e))return t;const n=j6(t.head),r=M6(e);return n.length===1&&r.length===1&&z(n[0],r[0])?Tr(P6(t.head,Qc(e)),t.tail):Tr(Qc(e),t)},v6=Symbol.for("effect/RequestBlock/RequestBlockParallel"),T6={_R:t=>t};class yh{map;[v6]=T6;constructor(e){this.map=e}}const Ky=()=>new yh(qi()),O6=(t,e)=>new yh($y(t.map,e.dataSource,n=>NE(Pu(n,QC(e.blockedRequest)),()=>Fe(e.blockedRequest)))),$6=(t,e)=>new yh(By(t.map,e.map,(n,r,s)=>gh(n,s,zt(dh(n,s),{onNone:()=>r,onSome:i=>Ue(r,i)})))),B6=t=>uk(t.map),M6=t=>Array.from(Oy(t.map)),Qc=t=>R6(ck(t.map,e=>Fe(e))),N6=Symbol.for("effect/RequestBlock/RequestBlockSequential"),D6={_R:t=>t};class Gy{map;[N6]=D6;constructor(e){this.map=e}}const R6=t=>new Gy(t),P6=(t,e)=>new Gy(By(e.map,t.map,(n,r,s)=>gh(n,s,zt(dh(n,s),{onNone:()=>Tn(),onSome:i=>Ue(i,r)})))),j6=t=>Array.from(Oy(t.map)),L6=t=>Array.from(t.map),Eo="Die",Or="Empty",Hr="Fail",ti="Interrupt",Ns="Parallel",Ds="Sequential",Jy="effect/Cause",Hy=Symbol.for(Jy),U6={_E:t=>t},ei={[Hy]:U6,[G](){return h(B(Jy),X(B(rv(this))),St(this))},[W](t){return q6(t)&&nv(this,t)},pipe(){return q(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:jt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:jt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:jt(this.left),right:jt(this.right)}}},toString(){return ni(this)},[mt](){return this.toJSON()}},$r=(()=>{const t=Object.create(ei);return t._tag=Or,t})(),zi=t=>{const e=Object.create(ei);return e._tag=Hr,e.error=t,e},Ge=t=>{const e=Object.create(ei);return e._tag=Eo,e.defect=t,e},An=t=>{const e=Object.create(ei);return e._tag=ti,e.fiberId=t,e},Co=(t,e)=>{const n=Object.create(ei);return n._tag=Ns,n.left=t,n.right=e,n},Ae=(t,e)=>{const n=Object.create(ei);return n._tag=Ds,n.left=t,n.right=e,n},q6=t=>K(t,Hy),V6=t=>t._tag===Or,W6=t=>t._tag===Hr,z6=t=>t._tag===Or?!0:Rs(t,!0,(e,n)=>{switch(n._tag){case Or:return T(e);case Eo:case Hr:case ti:return T(!1);default:return k()}}),K6=t=>pt(X6(t)),Sh=t=>Ah(void 0,iv)(t),G6=t=>Is(Rs(t,Tn(),(e,n)=>n._tag===Hr?T(h(e,He(n.error))):k())),J6=t=>Is(Rs(t,Tn(),(e,n)=>n._tag===Eo?T(h(e,He(n.defect))):k())),H6=t=>Rs(t,Qn(),(e,n)=>n._tag===ti?T(h(e,gs(n.fiberId))):k()),Y6=t=>Yy(t,e=>e._tag===Hr?T(e.error):k()),Z6=t=>{const e=Y6(t);switch(e._tag){case"None":return et(t);case"Some":return J(e.value)}},X6=t=>Yy(t,e=>e._tag===ti?T(e.fiberId):k()),M1=t=>wh(t,{onEmpty:$r,onFail:()=>$r,onDie:Ge,onInterrupt:An,onSequential:Ae,onParallel:Co}),Q6=t=>wh(t,{onEmpty:$r,onFail:Ge,onDie:Ge,onInterrupt:An,onSequential:Ae,onParallel:Co}),tv=m(2,(t,e)=>ev(t,n=>zi(e(n)))),ev=m(2,(t,e)=>wh(t,{onEmpty:$r,onFail:n=>e(n),onDie:n=>Ge(n),onInterrupt:n=>An(n),onSequential:(n,r)=>Ae(n,r),onParallel:(n,r)=>Co(n,r)})),nv=(t,e)=>{let n=Fe(t),r=Fe(e);for(;ks(n)&&ks(r);){const[s,i]=h(vs(n),Rs([Qn(),Tn()],([f,u],l)=>{const[x,d]=mf(l);return T([h(f,Li(x)),h(u,Ue(d))])})),[a,c]=h(vs(r),Rs([Qn(),Tn()],([f,u],l)=>{const[x,d]=mf(l);return T([h(f,Li(x)),h(u,Ue(d))])}));if(!z(s,a))return!1;n=i,r=c}return!0},rv=t=>sv(Fe(t),Tn()),sv=(t,e)=>{for(;;){const[n,r]=h(t,Wr([Qn(),Tn()],([i,a],c)=>{const[f,u]=mf(c);return[h(i,Li(f)),h(a,Ue(u))]})),s=xh(n)>0?h(e,He(n)):e;if(tI(r))return Is(s);t=r,e=s}throw new Error(Bu("Cause.flattenCauseLoop"))},Yy=m(2,(t,e)=>{const n=[t];for(;n.length>0;){const r=n.pop(),s=e(r);switch(s._tag){case"None":{switch(r._tag){case Ds:case Ns:{n.push(r.right),n.push(r.left);break}}break}case"Some":return s}}return k()}),mf=t=>{let e=t;const n=[];let r=Qn(),s=Tn();for(;e!==void 0;)switch(e._tag){case Or:{if(n.length===0)return[r,s];e=n.pop();break}case Hr:{if(r=gs(r,Yc(e._tag,e.error)),n.length===0)return[r,s];e=n.pop();break}case Eo:{if(r=gs(r,Yc(e._tag,e.defect)),n.length===0)return[r,s];e=n.pop();break}case ti:{if(r=gs(r,Yc(e._tag,e.fiberId)),n.length===0)return[r,s];e=n.pop();break}case Ds:{switch(e.left._tag){case Or:{e=e.right;break}case Ds:{e=Ae(e.left.left,Ae(e.left.right,e.right));break}case Ns:{e=Co(Ae(e.left.left,e.right),Ae(e.left.right,e.right));break}default:{s=He(s,e.right),e=e.left;break}}break}case Ns:{n.push(e.right),e=e.left;break}}throw new Error(Bu("Cause.evaluateCauseLoop"))},iv={emptyCase:f1,failCase:z0,dieCase:z0,interruptCase:f1,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},N1="SequentialCase",D1="ParallelCase",wh=m(2,(t,{onDie:e,onEmpty:n,onFail:r,onInterrupt:s,onParallel:i,onSequential:a})=>Ah(t,void 0,{emptyCase:()=>n,failCase:(c,f)=>r(f),dieCase:(c,f)=>e(f),interruptCase:(c,f)=>s(f),sequentialCase:(c,f,u)=>a(f,u),parallelCase:(c,f,u)=>i(f,u)})),Rs=m(3,(t,e,n)=>{let r=e,s=t;const i=[];for(;s!==void 0;){const a=n(r,s);switch(r=pt(a)?a.value:r,s._tag){case Ds:{i.push(s.right),s=s.left;break}case Ns:{i.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&i.length>0&&(s=i.pop())}return r}),Ah=m(3,(t,e,n)=>{const r=[t],s=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case Or:{s.push(et(n.emptyCase(e)));break}case Hr:{s.push(et(n.failCase(e,a.error)));break}case Eo:{s.push(et(n.dieCase(e,a.defect)));break}case ti:{s.push(et(n.interruptCase(e,a.fiberId)));break}case Ds:{r.push(a.right),r.push(a.left),s.push(J({_tag:N1}));break}case Ns:{r.push(a.right),r.push(a.left),s.push(J({_tag:D1}));break}}}const i=[];for(;s.length>0;){const a=s.pop();switch(a._tag){case"Left":{switch(a.left._tag){case N1:{const c=i.pop(),f=i.pop(),u=n.sequentialCase(e,c,f);i.push(u);break}case D1:{const c=i.pop(),f=i.pop(),u=n.parallelCase(e,c,f);i.push(u);break}}break}case"Right":{i.push(a.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),ni=(t,e)=>Sh(t)?"All fibers interrupted without errors.":Xy(t).map(function(n){return e?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Zy(n.cause,"  ")}
}`}).join(`
`),Zy=(t,e)=>{const n=t.stack.split(`
`);let r=`${e}[cause]: ${n[0]}`;for(let s=1,i=n.length;s<i;s++)r+=`
${e}${n[s]}`;return t.cause&&(r+=` {
${Zy(t.cause,`${e}  `)}
${e}}`),r};class uu extends globalThis.Error{span=void 0;constructor(e){const n=typeof e=="object"&&e!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(ov(e),n&&"cause"in e&&typeof e.cause<"u"?{cause:new uu(e.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=e instanceof Error?e.name:"Error",n&&(Ps in e&&(this.span=e[Ps]),Object.keys(e).forEach(s=>{s in this||(this[s]=e[s])})),this.stack=cv(`${this.name}: ${this.message}`,e instanceof Error&&e.stack?e.stack:"",this.span)}}const ov=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(K(t,"toString")&&ao(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return jg(t)},av=/\((.*)\)/g,uv=Q("effect/Tracer/spanToTrace",()=>new WeakMap),cv=(t,e,n)=>{const r=[t],s=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let i=1;i<s.length;i++){if(s[i].includes(" at new BaseEffectError")||s[i].includes(" at new YieldableError")){i++;continue}if(s[i].includes("Generator.next")||s[i].includes("effect_internal_function"))break;r.push(s[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,a=0;for(;i&&i._tag==="Span"&&a<10;){const c=uv.get(i);if(typeof c=="function"){const f=c();if(typeof f=="string"){const u=f.matchAll(av);let l=!1;for(const[,x]of u)l=!0,r.push(`    at ${i.name} (${x})`);l||r.push(`    at ${i.name} (${f.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=sn(i.parent),a++}}return r.join(`
`)},Ps=Symbol.for("effect/SpanAnnotation"),Xy=t=>Ah(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[new uu(n)],failCase:(e,n)=>[new uu(n)],interruptCase:()=>[],parallelCase:(e,n,r)=>[...n,...r],sequentialCase:(e,n,r)=>[...n,...r]}),sc="Pending",Qy="Done",fv="effect/Deferred",lv=Symbol.for(fv),hv={_E:t=>t,_A:t=>t},xv=t=>({_tag:sc,joiners:t}),pv=t=>({_tag:Qy,effect:t});class Io{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new Io(this.self)}}const t2=(t,e)=>{const n=new Zt("Blocked");return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n},mv=t=>{const e=new Zt("RunBlocked");return e.effect_instruction_i0=t,e},js=Symbol.for("effect/Effect");class dv{patch;op;_op=Il;constructor(e,n){this.patch=e,this.op=n}}class Zt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[js]=As;constructor(e){this._op=e}[W](e){return this===e}[G](){return St(this,_l(this))}pipe(){return q(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:jt(this.effect_instruction_i0),effect_instruction_i1:jt(this.effect_instruction_i1),effect_instruction_i2:jt(this.effect_instruction_i2)}}toString(){return Ut(this.toJSON())}[mt](){return this.toJSON()}[Symbol.iterator](){return new Io(new uo(this))}}class e2{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[js]=As;constructor(e){this._op=e,this._tag=e}[W](e){return Oh(e)&&e._op==="Failure"&&z(this.effect_instruction_i0,e.effect_instruction_i0)}[G](){return h(yt(this._tag),X(B(this.effect_instruction_i0)),St(this))}get cause(){return this.effect_instruction_i0}pipe(){return q(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Ut(this.toJSON())}[mt](){return this.toJSON()}[Symbol.iterator](){return new Io(new uo(this))}}class n2{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[js]=As;constructor(e){this._op=e,this._tag=e}[W](e){return Oh(e)&&e._op==="Success"&&z(this.effect_instruction_i0,e.effect_instruction_i0)}[G](){return h(yt(this._tag),X(B(this.effect_instruction_i0)),St(this))}get value(){return this.effect_instruction_i0}pipe(){return q(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:jt(this.value)}}toString(){return Ut(this.toJSON())}[mt](){return this.toJSON()}[Symbol.iterator](){return new Io(new uo(this))}}const ic=t=>K(t,js),_e=t=>{const e=new Zt(qg);return e.effect_instruction_i0=t,e},gv=m(3,(t,e,n)=>uc(r=>U(t,s=>U(s2(Dt(()=>r(e(s)))),i=>Dt(()=>n(s,i)).pipe(Us({onFailure:a=>{switch(i._tag){case We:return Ye(Ae(i.effect_instruction_i0,a));case ze:return Ye(a)}},onSuccess:()=>i})))))),ko=m(2,(t,e)=>U(t,()=>ct(e))),vo=t=>ko(t,void 0),r2=function(){const t=new Zt(Nu);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(Bu("you're not supposed to end up here"))}return t},cu=(t,e=$s)=>{const n=new Zt(Ii);let r;return n.effect_instruction_i0=s=>{r=t(s)},n.effect_instruction_i1=e,f2(n,s=>ic(r)?r:Me)},bv=(t,e=$s)=>Dt(()=>cu(t,e)),Ki=(t,e=$s)=>r2(t,function(){let n,r;function s(f){n?n(f):r===void 0&&(r=f)}const i=new Zt(Ii);i.effect_instruction_i0=f=>{n=f,r&&f(r)},i.effect_instruction_i1=e;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=ie(()=>this.effect_instruction_i0(s,c.signal))):a=ie(()=>this.effect_instruction_i0(s)),a||c?f2(i,f=>(c&&c.abort(),a??Me)):i}),df=m(2,(t,e)=>_h(t,{onFailure:e,onSuccess:ct})),R1=Symbol.for("effect/OriginalAnnotation"),Fh=(t,e)=>pt(e)?new Proxy(t,{has(n,r){return r===Ps||r===R1||r in n},get(n,r){return r===Ps?e.value:r===R1?t:n[r]}}):t,P1=t=>Dn(t)&&!(Ps in t)?_e(e=>Ye(Ge(Fh(t,$h(e))))):Ye(Ge(t)),yv=t=>Sv(()=>Ge(new Yv(t))),Ls=t=>_h(t,{onFailure:e=>ct(J(e)),onSuccess:e=>ct(et(e))}),s2=t=>Fv(t,{onFailure:xt,onSuccess:$t}),Gt=t=>Dn(t)&&!(Ps in t)?_e(e=>Ye(zi(Fh(t,$h(e))))):Ye(zi(t)),i2=t=>U(V(t),Gt),Ye=t=>{const e=new e2(We);return e.effect_instruction_i0=t,e},Sv=t=>U(V(t),Ye),wv=_e(t=>ct(t.id())),o2=t=>_e(e=>t(e.id())),U=m(2,(t,e)=>{const n=new Zt(Za);return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n}),Av=t=>{const e=new Zt("OnStep");return e.effect_instruction_i0=t,e},a2=t=>U(t,Z),Fv=m(2,(t,e)=>Us(t,{onFailure:n=>ct(e.onFailure(n)),onSuccess:n=>ct(e.onSuccess(n))})),Us=m(2,(t,e)=>{const n=new Zt(Xa);return n.effect_instruction_i0=t,n.effect_instruction_i1=e.onFailure,n.effect_instruction_i2=e.onSuccess,n}),_h=m(2,(t,e)=>Us(t,{onFailure:n=>{if(J6(n).length>0)return Ye(Q6(n));const s=G6(n);return s.length>0?e.onFailure(oy(s)):Ye(n)},onSuccess:e.onSuccess})),Kn=m(2,(t,e)=>Dt(()=>{const n=it(t),r=Lu(n.length);let s=0;return ko(Ch({while:()=>s<n.length,body:()=>e(n[s],s),step:i=>{r[s++]=i}}),r)})),oc=m(2,(t,e)=>Dt(()=>{const n=it(t);let r=0;return Ch({while:()=>r<n.length,body:()=>e(n[r],r),step:()=>{r++}})})),u2=t=>{const e=new Zt(fo);return e.effect_instruction_i0=E6(Qs),e.effect_instruction_i1=()=>t,e},ne=m(2,(t,e)=>U(t,n=>V(()=>e(n)))),c2=m(2,(t,e)=>_h(t,{onFailure:n=>i2(()=>e.onFailure(n)),onSuccess:n=>V(()=>e.onSuccess(n))})),ac=m(2,(t,e)=>Us(t,{onFailure:n=>{const r=Z6(n);switch(r._tag){case"Left":return i2(()=>e(r.left));case"Right":return Ye(r.right)}},onSuccess:ct})),Eh=m(2,(t,e)=>uc(n=>Us(n(t),{onFailure:r=>{const s=xt(r);return Us(e(s),{onFailure:i=>xt(Ae(r,i)),onSuccess:()=>s})},onSuccess:r=>{const s=$t(r);return cc(e(s),s)}}))),f2=m(2,(t,e)=>Eh(t,A2({onFailure:n=>Sh(n)?vo(e(H6(n))):Me,onSuccess:()=>Me}))),ct=t=>{const e=new n2(ze);return e.effect_instruction_i0=t,e},Dt=t=>{const e=new Zt(Nu);return e.commit=t,e},V=t=>{const e=new Zt(Ug);return e.effect_instruction_i0=t,e},_v=m(t=>t.length===3||t.length===2&&!(Dn(t[1])&&"onlyEffect"in t[1]),(t,e)=>U(t,n=>{const r=typeof e=="function"?e(n):e;return ic(r)?ko(r,n):q_(r)?cu(s=>{r.then(i=>s(ct(n)),i=>s(Gt(new Qv(i,"An unknown error occurred in Effect.tap"))))}):ct(n)})),Ev=t=>_e(e=>{const n=e.getFiberRef(bf),r=h(n,vt(()=>e.scope()));return t(fc(bf,T(r)))}),l2=t=>{const e=new Zt(fo);return e.effect_instruction_i0=Wy(Qs),e.effect_instruction_i1=()=>t,e},uc=t=>r2(t,function(){const e=new Zt(fo);return e.effect_instruction_i0=Wy(Qs),e.effect_instruction_i1=n=>qy(n)?ie(()=>this.effect_instruction_i0(u2)):ie(()=>this.effect_instruction_i0(l2)),e}),Me=ct(void 0),Cv=t=>{const e=new Zt(fo);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},Ch=t=>{const e=new Zt(Qa);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},Ih=t=>{const e=new Zt(Oa);return typeof t?.priority<"u"?Vv(e,t.priority):e},h2=m(2,(t,e)=>U(t,n=>ne(e,r=>[n,r]))),x2=m(2,(t,e)=>U(t,n=>ko(e,n))),cc=m(2,(t,e)=>U(t,()=>e)),Iv=t=>U(wv,e=>h(t,p2(e))),p2=m(2,(t,e)=>U(t.interruptAsFork(e),()=>t.await)),kv={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return q(this,arguments)}},vv={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return q(this,arguments)}},Tv={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return q(this,arguments)}},m2={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return q(this,arguments)}},d2={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return q(this,arguments)}},g2={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return q(this,arguments)}},Ov={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return q(this,arguments)}},$v={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return q(this,arguments)}},Bv="effect/FiberRef",Mv=Symbol.for(Bv),Nv={_A:t=>t},kh=t=>_e(e=>$t(e.getFiberRef(t))),vh=m(2,(t,e)=>U(kh(t),e)),j1=m(2,(t,e)=>Dv(t,()=>[void 0,e])),Dv=m(2,(t,e)=>_e(n=>{const[r,s]=e(n.getFiberRef(t));return n.setFiberRef(t,s),ct(r)})),fc=m(3,(t,e,n)=>gv(x2(kh(e),j1(e,n)),()=>t,r=>j1(e,r))),ge=(t,e)=>ri(t,{differ:Py(),fork:e?.fork??Z,join:e?.join}),Rv=t=>{const e=f6();return ri(t,{differ:e,fork:e.empty})},Pv=t=>{const e=l6(Py());return ri(t,{differ:e,fork:e.empty})},b2=t=>{const e=c6();return ri(t,{differ:e,fork:e.empty})},ri=(t,e)=>({...xo,[Mv]:Nv,initial:t,commit(){return kh(this)},diff:(r,s)=>e.differ.diff(r,s),combine:(r,s)=>e.differ.combine(r,s),patch:r=>s=>e.differ.patch(r,s),fork:e.fork,join:e.join??((r,s)=>s)}),jv=t=>ri(t,{differ:$1,fork:$1.empty}),To=Q(Symbol.for("effect/FiberRef/currentContext"),()=>b2(nh())),lc=Q(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>ge(0)),y2=Q(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>ge(2048)),Lv=Q(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>ge(qi())),Uv=Q(Symbol.for("effect/FiberRef/currentLogLevel"),()=>ge(d2)),qv=Q(Symbol.for("effect/FiberRef/currentLogSpan"),()=>ge(Ms())),Vv=m(2,(t,e)=>fc(t,lc,e)),Wv=Q(Symbol.for("effect/FiberRef/currentConcurrency"),()=>ge("unbounded")),zv=Q(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>ge(!0)),Kv=Q(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>ge(T(g2))),Gv=Q(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>ge(T(m2))),gf=Q(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>Pv(Es())),bf=Q(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>ge(k(),{fork:()=>k(),join:(t,e)=>t})),ea=Q(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>ge($r,{fork:()=>$r,join:(t,e)=>t})),Jv=(t,e)=>t.addFinalizer(()=>vo(e)),Hv=(t,e)=>t.close(e),hc=(t,e)=>t.fork(e),Th=(function(){class t extends globalThis.Error{commit(){return Gt(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[mt](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?ni(zi(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,xE),t})(),S2=(t,e)=>{class n extends Th{_tag=e}return Object.assign(n.prototype,t),n.prototype.name=e,n},L1=Symbol.for("effect/Cause/errors/RuntimeException"),Yv=S2({[L1]:L1},"RuntimeException"),Zv=Symbol.for("effect/Cause/errors/InterruptedException"),Xv=t=>K(t,Zv),U1=Symbol.for("effect/Cause/errors/NoSuchElement"),w2=S2({[U1]:U1},"NoSuchElementException"),q1=Symbol.for("effect/Cause/errors/UnknownException"),Qv=(function(){class t extends Th{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(t.prototype,{[q1]:q1,name:"UnknownException"}),t})(),Oh=t=>ic(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),t4=t=>t._tag==="Success",V1=(t,e)=>s4(t,e?.parallel?Co:Ae),e4=t=>xt(Ge(t)),W1=t=>xt(zi(t)),xt=t=>{const e=new e2(We);return e.effect_instruction_i0=t,e},n4=t=>xt(An(t)),t0=m(2,(t,e)=>{switch(t._tag){case We:return xt(t.effect_instruction_i0);case ze:return $t(e(t.effect_instruction_i0))}}),A2=m(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case We:return e(t.effect_instruction_i0);case ze:return n(t.effect_instruction_i0)}}),$t=t=>{const e=new n2(ze);return e.effect_instruction_i0=t,e},Sr=$t(void 0),r4=m(3,(t,e,{onFailure:n,onSuccess:r})=>{switch(t._tag){case We:switch(e._tag){case ze:return xt(t.effect_instruction_i0);case We:return xt(n(t.effect_instruction_i0,e.effect_instruction_i0))}case ze:switch(e._tag){case ze:return $t(r(t.effect_instruction_i0,e.effect_instruction_i0));case We:return xt(e.effect_instruction_i0)}}}),s4=(t,e)=>{const n=iy(t);return ks(n)?h(yr(n),Wr(h(vs(n),t0(Fe)),(r,s)=>h(r,r4(s,{onSuccess:(i,a)=>h(i,He(a)),onFailure:e}))),t0(Is),t0(r=>_r(r)),T):k()},i4=t=>({...xo,[lv]:hv,state:Cy(xv([])),commit(){return F2(this)},blockingOn:t}),F2=t=>bv(e=>{const n=tc(t.state);switch(n._tag){case Qy:return e(n.effect);case sc:return n.joiners.push(e),o4(t,e)}},t.blockingOn),_2=(t,e)=>{const n=tc(t.state);if(n._tag===sc){Iy(t.state,pv(e));for(let r=0,s=n.joiners.length;r<s;r++)n.joiners[r](e)}},o4=(t,e)=>V(()=>{const n=tc(t.state);if(n._tag===sc){const r=n.joiners.indexOf(e);r>=0&&n.joiners.splice(r,1)}}),a4=_e(t=>$t(t.currentContext)),u4=()=>a4,Oo=t=>U(u4(),t),c4=m(2,(t,e)=>fc(To,e)(t)),f4=m(2,(t,e)=>Oo(n=>c4(t,e(n)))),$h=t=>{const e=t.currentSpan;return e!==void 0&&e._tag==="Span"?T(e):k()},l4=t4,z1=Symbol.for("effect/MutableHashMap"),h4={[z1]:z1,[Symbol.iterator](){return new Bh(this)},toString(){return Ut(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(jt)}},[mt](){return this.toJSON()},pipe(){return q(this,arguments)}};class Bh{self;referentialIterator;bucketIterator;constructor(e){this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new x4(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new Bh(this.self)}}class x4{backing;constructor(e){this.backing=e}currentBucket;next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const p4=()=>{const t=Object.create(h4);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},dr=m(2,(t,e)=>{if(Ya(e)===!1)return t.referential.has(e)?T(t.referential.get(e)):k();const n=e[G](),r=t.buckets.get(n);return r===void 0?k():m4(t,r,e)}),m4=(t,e,n,r=!1)=>{for(let s=0,i=e.length;s<i;s++)if(n[W](e[s][0])){const a=e[s][1];return r&&(e.splice(s,1),t.bucketsSize--),T(a)}return k()},mi=m(2,(t,e)=>pt(dr(t,e))),di=m(3,(t,e,n)=>{if(Ya(e)===!1)return t.referential.set(e,n),t;const r=e[G](),s=t.buckets.get(r);return s===void 0?(t.buckets.set(r,[[e,n]]),t.bucketsSize++,t):(d4(t,s,e),s.push([e,n]),t.bucketsSize++,t)}),d4=(t,e,n)=>{for(let r=0,s=e.length;r<s;r++)if(n[W](e[r][0])){e.splice(r,1),t.bucketsSize--;return}},g4="effect/Clock",K1=Symbol.for(g4),Mh=Jr("effect/Clock"),b4=2**31-1,G1={unsafeSchedule(t,e){const n=rf(e);if(n>b4)return z0;let r=!1;const s=setTimeout(()=>{r=!0,t()},n);return()=>(clearTimeout(s),!r)}},J1=(function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;let e;return()=>(e===void 0&&(e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6))),e+BigInt(Math.round(performance.now()*1e6)))})(),y4=(function(){const t=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!t)return J1;const e=J1()-t.bigint();return()=>e+t.bigint()})();class S4{[K1]=K1;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return y4()}currentTimeMillis=V(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=V(()=>this.unsafeCurrentTimeNanos());scheduler(){return ct(G1)}sleep(e){return Ki(n=>{const r=G1.unsafeSchedule(()=>n(Me),e);return vo(V(r))})}}const w4=()=>new S4,E2="And",C2="Or",I2="InvalidData",k2="MissingData",v2="SourceUnavailable",T2="Unsupported",A4="effect/ConfigError",H1=Symbol.for(A4),si={_tag:"ConfigError",[H1]:H1},O2=(t,e)=>{const n=Object.create(si);return n._op=E2,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},$2=(t,e)=>{const n=Object.create(si);return n._op=C2,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},F4=(t,e,n={pathDelim:"."})=>{const r=Object.create(si);return r._op=I2,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${h(this.path,Qe(n.pathDelim))}: "${this.message}")`}}),r},Br=(t,e,n={pathDelim:"."})=>{const r=Object.create(si);return r._op=k2,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${h(this.path,Qe(n.pathDelim))}: "${this.message}")`}}),r},_4=(t,e,n,r={pathDelim:"."})=>{const s=Object.create(si);return s._op=v2,s.path=t,s.message=e,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${h(this.path,Qe(r.pathDelim))}: "${this.message}")`}}),s},E4=(t,e,n={pathDelim:"."})=>{const r=Object.create(si);return r._op=T2,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${h(this.path,Qe(n.pathDelim))}: "${this.message}")`}}),r},wr=m(2,(t,e)=>{switch(t._op){case E2:return O2(wr(t.left,e),wr(t.right,e));case C2:return $2(wr(t.left,e),wr(t.right,e));case I2:return F4([...e,...t.path],t.message);case k2:return Br([...e,...t.path],t.message);case v2:return _4([...e,...t.path],t.message,t.cause);case T2:return E4([...e,...t.path],t.message)}}),C4={_tag:"Empty"},e0=m(2,(t,e)=>{let n=bh(e),r=t;for(;mk(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Tr(s.first,Tr(s.second,n.tail));break}case"MapName":{r=O(r,s.f),n=n.tail;break}case"Nested":{r=fn(r,s.name),n=n.tail;break}case"Unnested":{if(h(ki(r),UE(s.name)))r=ln(r),n=n.tail;else return J(Br(r,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return et(r)}),I4="Constant",k4="Fail",v4="Fallback",T4="Described",O4="Lazy",$4="MapOrFail",B4="Nested",M4="Primitive",N4="Sequence",D4="HashMap",R4="ZipWith";var Y1={};const fu=(t,e)=>[...t,...e],P4="effect/ConfigProvider",Z1=Symbol.for(P4),j4=Jr("effect/ConfigProvider"),L4="effect/ConfigProviderFlat",X1=Symbol.for(L4),U4=t=>({[Z1]:Z1,pipe(){return q(this,arguments)},...t}),q4=t=>({[X1]:X1,patch:t.patch,load:(e,n,r=!0)=>t.load(e,n,r),enumerateChildren:t.enumerateChildren}),V4=t=>U4({load:e=>U(Te(t,Es(),e,!1),n=>zt(ki(n),{onNone:()=>Gt(Br(Es(),`Expected a single value having structure: ${e}`)),onSome:ct})),flattened:t}),W4=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),r=f=>h(f,Qe(e)),s=f=>f.split(e),i=()=>typeof process<"u"&&"env"in process&&typeof Y1=="object"?Y1:{};return V4(q4({load:(f,u,l=!0)=>{const x=r(f),d=i(),g=x in d?T(d[x]):k();return h(g,ac(()=>Br(f,`Expected ${x} to exist in the process context`)),U(b=>H4(b,f,u,n,l)))},enumerateChildren:f=>V(()=>{const u=i(),d=Object.keys(u).map(g=>s(g.toUpperCase())).filter(g=>{for(let b=0;b<f.length;b++){const S=h(f,ub(b)),p=g[b];if(p===void 0||S!==p)return!1}return!0}).flatMap(g=>g.slice(f.length,f.length+1));return Ey(d)}),patch:C4}))},z4=(t,e,n,r)=>{const s=x1(n.length,f=>f>=r.length?k():T([t(f),f+1])),i=x1(r.length,f=>f>=n.length?k():T([e(f),f+1])),a=fu(n,s),c=fu(r,i);return[a,c]},K4=(t,e)=>{let n=e;if(n._tag==="Nested"){const r=t.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return t},Te=(t,e,n,r)=>{const s=n;switch(s._tag){case I4:return ct(xe(s.value));case T4:return Dt(()=>Te(t,e,s.config,r));case k4:return Gt(Br(e,s.message));case v4:return h(Dt(()=>Te(t,e,s.first,r)),df(i=>s.condition(i)?h(Te(t,e,s.second,r),df(a=>Gt($2(i,a)))):Gt(i)));case O4:return Dt(()=>Te(t,e,s.config(),r));case $4:return Dt(()=>h(Te(t,e,s.original,r),U(Kn(i=>h(s.mapOrFail(i),ac(wr(K4(e,s.original))))))));case B4:return Dt(()=>Te(t,fu(e,xe(s.name)),s.config,r));case M4:return h(e0(e,t.patch),U(i=>h(t.load(i,s,r),U(a=>{if(a.length===0){const c=h(n3(i),vt(()=>"<n/a>"));return Gt(Br([],`Expected ${s.description} with name ${c}`))}return ct(a)}))));case N4:return h(e0(e,t.patch),U(i=>h(t.enumerateChildren(i),U(Z4),U(a=>a.length===0?Dt(()=>ne(Te(t,e,s.config,!0),xe)):h(Kn(a,c=>Te(t,Zn(e,`[${c}]`),s.config,!0)),ne(c=>{const f=bo(c);return f.length===0?xe(Es()):xe(f)}))))));case D4:return Dt(()=>h(e0(e,t.patch),U(i=>h(t.enumerateChildren(i),U(a=>h(a,Kn(c=>Te(t,fu(i,xe(c)),s.valueConfig,r)),ne(c=>c.length===0?xe(qi()):h(Y4(c),O(f=>ak(Ri(it(a),f)))))))))));case R4:return Dt(()=>h(Te(t,e,s.left,r),Ls,U(i=>h(Te(t,e,s.right,r),Ls,U(a=>{if(Kt(i)&&Kt(a))return Gt(O2(i.left,a.left));if(Kt(i)&&Fn(a))return Gt(i.left);if(Fn(i)&&Kt(a))return Gt(a.left);if(Fn(i)&&Fn(a)){const c=h(e,Qe(".")),f=G4(e,c),[u,l]=z4(f,f,h(i.right,O(et)),h(a.right,O(et)));return h(u,Ri(l),Kn(([x,d])=>h(h2(x,d),ne(([g,b])=>s.zip(g,b)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},G4=(t,e)=>n=>J(Br(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),J4=(t,e)=>t.split(new RegExp(`\\s*${nu(e)}\\s*`)),H4=(t,e,n,r,s)=>s?h(J4(t,r),Kn(i=>n.parse(i.trim())),ac(wr(e))):h(n.parse(t),c2({onFailure:wr(e),onSuccess:xe})),Y4=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),Z4=t=>h(Kn(t,Q4),c2({onFailure:()=>Es(),onSuccess:_s(at)}),Ls,ne(EE)),X4=/^(\[(\d+)\])$/,Q4=t=>{const e=t.match(X4);if(e!==null){const n=e[2];return h(n!==void 0&&n.length>0?T(n):k(),ju(tT))}return k()},tT=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?k():T(e)},Q1=Symbol.for("effect/Console"),B2=Jr("effect/Console"),eT={[Q1]:Q1,assert(t,...e){return V(()=>{console.assert(t,...e)})},clear:V(()=>{console.clear()}),count(t){return V(()=>{console.count(t)})},countReset(t){return V(()=>{console.countReset(t)})},debug(...t){return V(()=>{console.debug(...t)})},dir(t,e){return V(()=>{console.dir(t,e)})},dirxml(...t){return V(()=>{console.dirxml(...t)})},error(...t){return V(()=>{console.error(...t)})},group(t){return t?.collapsed?V(()=>console.groupCollapsed(t?.label)):V(()=>console.group(t?.label))},groupEnd:V(()=>{console.groupEnd()}),info(...t){return V(()=>{console.info(...t)})},log(...t){return V(()=>{console.log(...t)})},table(t,e){return V(()=>{console.table(t,e)})},time(t){return V(()=>console.time(t))},timeEnd(t){return V(()=>console.timeEnd(t))},timeLog(t,...e){return V(()=>{console.timeLog(t,...e)})},trace(...t){return V(()=>{console.trace(...t)})},warn(...t){return V(()=>{console.warn(...t)})},unsafe:console},nT="effect/Random",tp=Symbol.for(nT),rT=Jr("effect/Random");class sT{seed;[tp]=tp;PRNG;constructor(e){this.seed=e,this.PRNG=new Y_(e)}get next(){return V(()=>this.PRNG.number())}get nextBoolean(){return ne(this.next,e=>e>.5)}get nextInt(){return V(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return ne(this.next,r=>(n-e)*r+e)}nextIntBetween(e,n){return V(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return iT(e,n=>this.nextIntBetween(0,n))}}const iT=(t,e)=>Dt(()=>h(V(()=>Array.from(t)),U(n=>{const r=[];for(let s=n.length;s>=2;s=s-1)r.push(s);return h(r,oc(s=>h(e(s),ne(i=>oT(n,s-1,i)))),ko(iy(n)))}))),oT=(t,e,n)=>{const r=t[e];return t[e]=t[n],t[n]=r,t},aT=t=>new sT(B(t)),ep=Symbol.for("effect/Tracer"),uT=t=>({[ep]:ep,...t}),M2=Jr("effect/Tracer"),N2=Jr("effect/ParentSpan"),np=(function(){const t="abcdef0123456789",e=t.length;return function(n){let r="";for(let s=0;s<n;s++)r+=t.charAt(Math.floor(Math.random()*e));return r}})();class cT{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(e,n,r,s,i,a){this.name=e,this.parent=n,this.context=r,this.startTime=i,this.kind=a,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:np(32),this.spanId=np(16),this.links=Array.from(s)}end(e,n){this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}}attribute(e,n){this.attributes.set(e,n)}event(e,n,r){this.events.push([e,n,r??{}])}addLinks(e){this.links.push(...e)}}const fT=uT({span:(t,e,n,r,s,i)=>new cT(t,e,n,r,s,i),context:t=>t()}),lT=h(nh(),pi(Mh,w4()),pi(B2,eT),pi(rT,aT(Math.random())),pi(j4,W4()),pi(M2,fT)),lu=Q(Symbol.for("effect/DefaultServices/currentServices"),()=>b2(lT));function hT(t){return new tr(t)}function xT(){return hT(new Map)}const rp=Symbol.for("effect/FiberRefs");class tr{locals;[rp]=rp;constructor(e){this.locals=e}pipe(){return q(this,arguments)}}const pT=(t,e,n,r=!1)=>{const s=t;let i=e,a=n,c=r,f;for(;f===void 0;)if(gt(i)&&gt(a)){const u=Bt(i)[0],l=ln(i),x=Bt(a)[0],d=Bt(a)[1],g=ln(a);u.startTimeMillis<x.startTimeMillis?(a=g,c=!0):u.startTimeMillis>x.startTimeMillis?i=l:u.id<x.id?(a=g,c=!0):u.id>x.id?i=l:f=[d,c]}else f=[s.initial,!0];return f},mT=m(3,(t,e,n)=>{const r=new Map(t.locals);return n.locals.forEach((s,i)=>{const a=s[0][1];if(!s[0][0][W](e)){if(!r.has(i)){if(z(a,i.initial))return;r.set(i,[[e,i.join(i.initial,a)]]);return}const c=r.get(i),[f,u]=pT(i,c,s);if(u){const l=i.diff(f,a),x=c[0][1],d=i.join(x,i.patch(l)(x));if(!z(x,d)){let g;const b=c[0][0];b[W](e)?g=[[b,d],...c.slice(1)]:g=[[e,d],...c],r.set(i,g)}}}}),new tr(r)}),dT=m(2,(t,e)=>{const n=new Map;return D2(t,n,e),new tr(n)}),D2=(t,e,n)=>{t.locals.forEach((r,s)=>{const i=r[0][1],a=s.patch(s.fork)(i);z(i,a)?e.set(s,r):e.set(s,[[n,a],...r])})},R2=m(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new tr(n)}),gT=m(2,(t,e)=>t.locals.has(e)?T(Bt(t.locals.get(e))[1]):k()),Gi=m(2,(t,e)=>h(gT(t,e),vt(()=>e.initial))),yf=m(2,(t,{fiberId:e,fiberRef:n,value:r})=>{if(t.locals.size===0)return new tr(new Map([[n,[[e,r]]]]));const s=new Map(t.locals);return Sf(s,e,n,r),new tr(s)}),Sf=(t,e,n,r)=>{const s=t.get(n)??[];let i;if(gt(s)){const[a,c]=Bt(s);if(a[W](e)){if(z(c,r))return;i=[[e,r],...s.slice(1)]}else i=[[e,r],...s]}else i=[[e,r]];t.set(n,i)},bT=m(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new tr(new Map(e));const r=new Map(t.locals);return n!==void 0&&D2(t,r,n),e.forEach(([s,i])=>{i.length===1?Sf(r,i[0][0],s,i[0][1]):i.forEach(([a,c])=>{Sf(r,a,s,c)})}),new tr(r)}),yT=Gi,ST=bT,wT=xT,AT=kv,FT=vv,_T=Tv,ET=m2,CT=d2,IT=g2,kT=Ov,vT=$v,TT=h(at,Du(t=>t.ordinal)),OT=$l(TT),$T=t=>{switch(t){case"All":return AT;case"Debug":return IT;case"Error":return _T;case"Fatal":return FT;case"Info":return CT;case"Trace":return kT;case"None":return vT;case"Warning":return ET}},P2=t=>t.replace(/[\s="]/g,"_"),BT=t=>e=>`${P2(e.label)}=${t-e.startTime}ms`,MT=lo,NT=pE;let DT=class extends NT{};const j2="Empty",L2="Add",U2="Remove",q2="Update",V2="AndThen",RT={_tag:j2},PT=(t,e)=>{const n=new Map(t.locals);let r=RT;for(const[s,i]of e.locals.entries()){const a=Bt(i)[1],c=n.get(s);if(c!==void 0){const f=Bt(c)[1];z(f,a)||(r=n0({_tag:q2,fiberRef:s,patch:s.diff(f,a)})(r))}else r=n0({_tag:L2,fiberRef:s,value:a})(r);n.delete(s)}for(const[s]of n.entries())r=n0({_tag:U2,fiberRef:s})(r);return r},n0=m(2,(t,e)=>({_tag:V2,first:t,second:e})),jT=m(3,(t,e,n)=>{let r=n,s=xe(t);for(;gt(s);){const i=Bt(s),a=ln(s);switch(i._tag){case j2:{s=a;break}case L2:{r=yf(r,{fiberId:e,fiberRef:i.fiberRef,value:i.value}),s=a;break}case U2:{r=R2(r,i.fiberRef),s=a;break}case q2:{const c=Gi(r,i.fiberRef);r=yf(r,{fiberId:e,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(c)}),s=a;break}case V2:{s=fn(i.first)(fn(i.second)(a));break}}}return r}),W2="effect/MetricLabel",wf=Symbol.for(W2);class LT{key;value;[wf]=wf;_hash;constructor(e,n){this.key=e,this.value=n,this._hash=yt(W2+this.key+this.value)}[G](){return this._hash}[W](e){return qT(e)&&this.key===e.key&&this.value===e.value}pipe(){return q(this,arguments)}}const UT=(t,e)=>new LT(t,e),qT=t=>K(t,wf),VT="Sequential",WT="Parallel",zT="ParallelN",z2={_tag:VT},KT={_tag:WT},GT=t=>({_tag:zT,parallelism:t}),Af=z2,Ff=KT,_f=GT,JT=PT,HT=jT,xc="effect/FiberStatus",Mr=Symbol.for(xc),hu="Done",sp="Running",ip="Suspended",YT=yt(`${xc}-${hu}`);class ZT{[Mr]=Mr;_tag=hu;[G](){return YT}[W](e){return Nh(e)&&e._tag===hu}}class XT{runtimeFlags;[Mr]=Mr;_tag=sp;constructor(e){this.runtimeFlags=e}[G](){return h(B(xc),X(B(this._tag)),X(B(this.runtimeFlags)),St(this))}[W](e){return Nh(e)&&e._tag===sp&&this.runtimeFlags===e.runtimeFlags}}class QT{runtimeFlags;blockingOn;[Mr]=Mr;_tag=ip;constructor(e,n){this.runtimeFlags=e,this.blockingOn=n}[G](){return h(B(xc),X(B(this._tag)),X(B(this.runtimeFlags)),X(B(this.blockingOn)),St(this))}[W](e){return Nh(e)&&e._tag===ip&&this.runtimeFlags===e.runtimeFlags&&z(this.blockingOn,e.blockingOn)}}const t5=new ZT,e5=t=>new XT(t),n5=(t,e)=>new QT(t,e),Nh=t=>K(t,Mr),r5=t=>t._tag===hu,s5=t5,K2=e5,i5=n5,o5=r5,a5=Symbol.for("effect/Micro"),xu=Symbol.for("effect/Micro/MicroExit"),op=Symbol.for("effect/Micro/MicroCause"),u5={_E:Z};class G2 extends globalThis.Error{_tag;traces;[op];constructor(e,n,r){const s=`MicroCause.${e}`;let i,a,c;if(n instanceof globalThis.Error){i=`(${s}) ${n.name}`,a=n.message;const f=a.split(`
`).length;c=n.stack?`(${s}) ${n.stack.split(`
`).slice(0,f+3).join(`
`)}`:`${i}: ${a}`}else i=s,a=ws(n,0),c=`${i}: ${a}`;r.length>0&&(c+=`
    ${r.join(`
    `)}`),super(a),this._tag=e,this.traces=r,this[op]=u5,this.name=i,this.stack=c}pipe(){return q(this,arguments)}toString(){return this.stack}[mt](){return this.stack}}class c5 extends G2{defect;constructor(e,n=[]){super("Die",e,n),this.defect=e}}const f5=(t,e=[])=>new c5(t,e);class l5 extends G2{constructor(e=[]){super("Interrupt","interrupted",e)}}const h5=(t=[])=>new l5(t),x5=t=>t._tag==="Interrupt",ap=Symbol.for("effect/Micro/MicroFiber"),p5={_A:Z,_E:Z};class m5{context;interruptible;[ap];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(e,n=!0){this.context=e,this.interruptible=n,this[ap]=p5}getRef(e){return UC(this.context,e)}addObserver(e){return this._exit?(e(this._exit),I_):(this._observers.push(e),()=>{const n=this._observers.indexOf(e);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(Lh))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){const s=this._yielded;this._yielded=void 0,s()}const n=this.runLoop(e);if(n===na)return;const r=up.interruptChildren&&up.interruptChildren(this);if(r!==void 0)return this.evaluate(mu(r,()=>n));this._exit=n;for(let s=0;s<this._observers.length;s++)this._observers[s](n);this._observers.length=0}runLoop(e){let n=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(Uh).shouldYield(this)){n=!0;const s=r;r=mu(S5,()=>s)}if(r=r[Ef](this),r===na){const s=this._yielded;return xu in s?(this._yielded=void 0,s):na}}}catch(s){return K(r,Ef)?Cf(s):Cf(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(e){for(;;){const n=this._stack.pop();if(!n)return;const r=n[pu]&&n[pu](this);if(r)return{[e]:r};if(n[e])return n}}_yielded=void 0;yieldWith(e){return this._yielded=e,na}children(){return this._children??=new Set}}const up=Q("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),J2=Symbol.for("effect/Micro/identifier"),Rt=Symbol.for("effect/Micro/args"),Ef=Symbol.for("effect/Micro/evaluate"),qs=Symbol.for("effect/Micro/successCont"),bs=Symbol.for("effect/Micro/failureCont"),pu=Symbol.for("effect/Micro/ensureCont"),na=Symbol.for("effect/Micro/Yield"),d5={_A:Z,_E:Z,_R:Z},g5={...MT,_op:"Micro",[a5]:d5,pipe(){return q(this,arguments)},[Symbol.iterator](){return new Ng(new uo(this))},toJSON(){return{_id:"Micro",op:this[J2],...Rt in this?{args:this[Rt]}:void 0}},toString(){return Ut(this)},[mt](){return Ut(this)}};function b5(t){return Cf("Micro.evaluate: Not implemented")}const pc=t=>({...g5,[J2]:t.op,[Ef]:t.eval??b5,[qs]:t.contA,[bs]:t.contE,[pu]:t.ensure}),Dh=t=>{const e=pc(t);return function(){const n=Object.create(e);return n[Rt]=t.single===!1?arguments:arguments[0],n}},H2=t=>{const e={...pc(t),[xu]:xu,_tag:t.op,get[t.prop](){return this[Rt]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[Rt]}},[W](n){return F5(n)&&n._tag===t.op&&z(this[Rt],n[Rt])},[G](){return St(this,X(yt(t.op))(B(this[Rt])))}};return function(n){const r=Object.create(e);return r[Rt]=n,r[qs]=void 0,r[bs]=void 0,r[pu]=void 0,r}},Rh=H2({op:"Success",prop:"value",eval(t){const e=t.getCont(qs);return e?e[qs](this[Rt],t):t.yieldWith(this)}}),Y2=H2({op:"Failure",prop:"cause",eval(t){let e=t.getCont(bs);for(;x5(this[Rt])&&e&&t.interruptible;)e=t.getCont(bs);return e?e[bs](this[Rt],t):t.yieldWith(this)}}),y5=Dh({op:"Yield",eval(t){let e=!1;return t.getRef(Uh).scheduleTask(()=>{e||t.evaluate(_5)},this[Rt]??0),t.yieldWith(()=>{e=!0})}}),S5=y5(0),w5=Rh(void 0),Ph=Dh({op:"WithMicroFiber",eval(t){return this[Rt](t)}}),mu=m(2,(t,e)=>{const n=Object.create(A5);return n[Rt]=t,n[qs]=e,n}),A5=pc({op:"OnSuccess",eval(t){return t._stack.push(this),this[Rt]}}),F5=t=>K(t,xu),Z2=Rh,jh=Y2,Lh=jh(h5()),Cf=t=>jh(f5(t)),_5=Z2(void 0),E5="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0);class X2{tasks=[];running=!1;scheduleTask(e,n){this.tasks.push(e),this.running||(this.running=!0,E5(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const e=this.tasks;this.tasks=[];for(let n=0,r=e.length;n<r;n++)e[n]()}shouldYield(e){return e.currentOpCount>=e.getRef(k5)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const C5=m(2,(t,e)=>Ph(n=>{const r=n.context;return n.context=e(r),O5(t,()=>(n.context=r,w5))})),I5=m(2,(t,e)=>C5(t,ty(e)));class k5 extends ey()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class Uh extends ey()("effect/Micro/currentScheduler",{defaultValue:()=>new X2}){}const v5=m(2,(t,e)=>{const n=Object.create(T5);return n[Rt]=t,n[qs]=e.onSuccess,n[bs]=e.onFailure,n}),T5=pc({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[Rt]}}),O5=m(2,(t,e)=>B5(n=>v5(n(t),{onFailure:r=>mu(e(jh(r)),()=>Y2(r)),onSuccess:r=>mu(e(Z2(r)),()=>Rh(r))}))),Q2=Dh({op:"SetInterruptible",ensure(t){if(t.interruptible=this[Rt],t._interrupted&&t.interruptible)return()=>Lh}}),$5=t=>Ph(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(Q2(!1)),e._interrupted?Lh:t)),B5=t=>Ph(e=>e.interruptible?(e.interruptible=!1,e._stack.push(Q2(!0)),t($5)):t(Z)),M5=(t,e)=>{const n=new m5(Uh.context(new X2));return n.evaluate(t),n};class tS{buckets=[];scheduleTask(e,n){const r=this.buckets.length;let s,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)s=this.buckets[i];s&&s[0]===n?s[1].push(e):i===r?this.buckets.push([n,[e]]):this.buckets.splice(i,0,[n,[e]])}}class N5{maxNextTickBeforeTimer;running=!1;tasks=new tS;constructor(e){this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,s]of n)for(let i=0;i<s.length;i++)s[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(y2)?e.getFiberRef(lc):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const eS=Q(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new N5(2048));class nS{tasks=new tS;deferred=!1;scheduleTask(e,n){this.deferred?eS.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(y2)?e.getFiberRef(lc):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of e)for(let s=0;s<r.length;s++)r[s]()}this.deferred=!0}}const rS=Q(Symbol.for("effect/FiberRef/currentScheduler"),()=>ge(eS)),sS=Q(Symbol.for("effect/FiberRef/currentRequestMap"),()=>ge(new Map)),cp=(t,e,n,r)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return vh(Wv,s=>s==="unbounded"?n():s>1?r(s):e());default:return t>1?r(t):e()}},qh="InterruptSignal",Vh="Stateful",Wh="Resume",zh="YieldNow",r0=t=>({_tag:qh,cause:t}),Ra=t=>({_tag:Vh,onFiber:t}),ns=t=>({_tag:Wh,effect:t}),D5=()=>({_tag:zh}),R5="effect/FiberScope",du=Symbol.for(R5);class P5{[du]=du;fiberId=$s;roots=new Set;add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class j5{fiberId;parent;[du]=du;constructor(e,n){this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Ra(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const L5=t=>new j5(t.id(),t),Kh=Q(Symbol.for("effect/FiberScope/Global"),()=>new P5),U5="effect/Fiber",q5=Symbol.for(U5),V5={_E:t=>t,_A:t=>t},W5="effect/Fiber",z5=Symbol.for(W5),iS=t=>x2(a2(t.await),t.inheritAll);({...xo});const hr="effect/FiberCurrent",K5="effect/Logger",G5=Symbol.for(K5),J5={_Message:t=>t,_Output:t=>t},Gh=t=>({[G5]:J5,log:t,pipe(){return q(this,arguments)}}),H5=/^[^\s"=]*$/,Y5=(t,e)=>({annotations:n,cause:r,date:s,fiberId:i,logLevel:a,message:c,spans:f})=>{const u=b=>b.match(H5)?b:t(b),l=(b,S)=>`${P2(b)}=${u(S)}`,x=(b,S)=>" "+l(b,S);let d=l("timestamp",s.toISOString());d+=x("level",a.label),d+=x("fiber",vy(i));const g=XE(c);for(let b=0;b<g.length;b++)d+=x("message",ws(g[b],e));V6(r)||(d+=x("cause",ni(r,{renderErrorCause:!0})));for(const b of f)d+=" "+BT(s.getTime())(b);for(const[b,S]of n)d+=x(b,ws(S,e));return d},Z5=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,X5=Gh(Y5(Z5)),Q5=typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null;Q5&&process.stdout.isTTY;const oS="effect/MetricBoundaries",If=Symbol.for(oS);class tO{values;[If]=If;constructor(e){this.values=e,this._hash=h(yt(oS),X(co(this.values)))}_hash;[G](){return this._hash}[W](e){return eO(e)&&z(this.values,e.values)}pipe(){return q(this,arguments)}}const eO=t=>K(t,If),nO=t=>{const e=h(t,Fs(Fe(Number.POSITIVE_INFINITY)),m3);return new tO(e)},rO=t=>h(Ll(t.count-1,e=>t.start*Math.pow(t.factor,e)),Ku,nO),sO="effect/MetricKeyType",aS=Symbol.for(sO),uS="effect/MetricKeyType/Counter",kf=Symbol.for(uS),iO="effect/MetricKeyType/Frequency",oO=Symbol.for(iO),aO="effect/MetricKeyType/Gauge",uO=Symbol.for(aO),cS="effect/MetricKeyType/Histogram",vf=Symbol.for(cS),cO="effect/MetricKeyType/Summary",fO=Symbol.for(cO),fS={_In:t=>t,_Out:t=>t};class lO{incremental;bigint;[aS]=fS;[kf]=kf;constructor(e,n){this.incremental=e,this.bigint=n,this._hash=yt(uS)}_hash;[G](){return this._hash}[W](e){return lS(e)}pipe(){return q(this,arguments)}}class hO{boundaries;[aS]=fS;[vf]=vf;constructor(e){this.boundaries=e,this._hash=h(yt(cS),X(B(this.boundaries)))}_hash;[G](){return this._hash}[W](e){return hS(e)&&z(this.boundaries,e.boundaries)}pipe(){return q(this,arguments)}}const xO=t=>new lO(t?.incremental??!1,t?.bigint??!1),pO=t=>new hO(t),lS=t=>K(t,kf),mO=t=>K(t,oO),dO=t=>K(t,uO),hS=t=>K(t,vf),gO=t=>K(t,fO),bO="effect/MetricKey",xS=Symbol.for(bO),yO={_Type:t=>t},SO=zr(z);class Jh{name;keyType;description;tags;[xS]=yO;constructor(e,n,r,s=[]){this.name=e,this.keyType=n,this.description=r,this.tags=s,this._hash=h(yt(this.name+this.description),X(B(this.keyType)),X(co(this.tags)))}_hash;[G](){return this._hash}[W](e){return wO(e)&&this.name===e.name&&z(this.keyType,e.keyType)&&z(this.description,e.description)&&SO(this.tags,e.tags)}pipe(){return q(this,arguments)}}const wO=t=>K(t,xS),AO=(t,e)=>new Jh(t,xO(e),po(e?.description)),FO=(t,e,n)=>new Jh(t,pO(e),po(n)),_O=m(2,(t,e)=>e.length===0?t:new Jh(t.name,t.keyType,t.description,$a(t.tags,e))),EO="effect/MetricState",$o=Symbol.for(EO),pS="effect/MetricState/Counter",Tf=Symbol.for(pS),mS="effect/MetricState/Frequency",Of=Symbol.for(mS),dS="effect/MetricState/Gauge",$f=Symbol.for(dS),gS="effect/MetricState/Histogram",Bf=Symbol.for(gS),bS="effect/MetricState/Summary",Mf=Symbol.for(bS),Bo={_A:t=>t};class CO{count;[$o]=Bo;[Tf]=Tf;constructor(e){this.count=e}[G](){return h(B(pS),X(B(this.count)),St(this))}[W](e){return RO(e)&&this.count===e.count}pipe(){return q(this,arguments)}}const IO=zr(z);class kO{occurrences;[$o]=Bo;[Of]=Of;constructor(e){this.occurrences=e}_hash;[G](){return h(yt(mS),X(co(it(this.occurrences.entries()))),St(this))}[W](e){return PO(e)&&IO(it(this.occurrences.entries()),it(e.occurrences.entries()))}pipe(){return q(this,arguments)}}class vO{value;[$o]=Bo;[$f]=$f;constructor(e){this.value=e}[G](){return h(B(dS),X(B(this.value)),St(this))}[W](e){return jO(e)&&this.value===e.value}pipe(){return q(this,arguments)}}class TO{buckets;count;min;max;sum;[$o]=Bo;[Bf]=Bf;constructor(e,n,r,s,i){this.buckets=e,this.count=n,this.min=r,this.max=s,this.sum=i}[G](){return h(B(gS),X(B(this.buckets)),X(B(this.count)),X(B(this.min)),X(B(this.max)),X(B(this.sum)),St(this))}[W](e){return LO(e)&&z(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return q(this,arguments)}}class OO{error;quantiles;count;min;max;sum;[$o]=Bo;[Mf]=Mf;constructor(e,n,r,s,i,a){this.error=e,this.quantiles=n,this.count=r,this.min=s,this.max=i,this.sum=a}[G](){return h(B(bS),X(B(this.error)),X(B(this.quantiles)),X(B(this.count)),X(B(this.min)),X(B(this.max)),X(B(this.sum)),St(this))}[W](e){return UO(e)&&this.error===e.error&&z(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return q(this,arguments)}}const $O=t=>new CO(t),BO=t=>new kO(t),MO=t=>new vO(t),NO=t=>new TO(t.buckets,t.count,t.min,t.max,t.sum),DO=t=>new OO(t.error,t.quantiles,t.count,t.min,t.max,t.sum),RO=t=>K(t,Tf),PO=t=>K(t,Of),jO=t=>K(t,$f),LO=t=>K(t,Bf),UO=t=>K(t,Mf),qO="effect/MetricHook",VO=Symbol.for(qO),WO={_In:t=>t,_Out:t=>t},Mo=t=>({[VO]:WO,pipe(){return q(this,arguments)},...t}),fp=BigInt(0),zO=t=>{let e=t.keyType.bigint?fp:0;const n=t.keyType.incremental?t.keyType.bigint?s=>s>=fp:s=>s>=0:s=>!0,r=s=>{n(s)&&(e=e+s)};return Mo({get:()=>$O(e),update:r,modify:r})},KO=t=>{const e=new Map;for(const r of t.keyType.preregisteredWords)e.set(r,0);const n=r=>{const s=e.get(r)??0;e.set(r,s+1)};return Mo({get:()=>BO(e),update:n,modify:n})},GO=(t,e)=>{let n=e;return Mo({get:()=>MO(n),update:r=>{n=r},modify:r=>{n=n+r}})},JO=t=>{const e=t.keyType.boundaries.values,n=e.length,r=new Uint32Array(n+1),s=new Float64Array(n);let i=0,a=0,c=Number.MAX_VALUE,f=Number.MIN_VALUE;h(e,_s(at),O((x,d)=>{s[d]=x}));const u=x=>{let d=0,g=n;for(;d!==g;){const b=Math.floor(d+(g-d)/2),S=s[b];x<=S?g=b:d=b,g===d+1&&(x<=s[d]?g=d:d=g)}r[d]=r[d]+1,i=i+1,a=a+x,x<c&&(c=x),x>f&&(f=x)},l=()=>{const x=Lu(n);let d=0;for(let g=0;g<n;g++){const b=s[g],S=r[g];d=d+S,x[g]=[b,d]}return x};return Mo({get:()=>NO({buckets:l(),count:i,min:c,max:f,sum:a}),update:u,modify:u})},HO=t=>{const{error:e,maxAge:n,maxSize:r,quantiles:s}=t.keyType,i=h(s,_s(at)),a=Lu(r);let c=0,f=0,u=0,l=0,x=0;const d=b=>{const S=[];let p=0;for(;p!==r-1;){const w=a[p];if(w!=null){const[A,F]=w,_=Er(b-A);xI(_,cy)&&hI(_,n)&&S.push(F)}p=p+1}return YO(e,i,_s(S,at))},g=(b,S)=>{if(r>0){c=c+1;const p=c%r;a[p]=[S,b]}l=f===0?b:Math.min(l,b),x=f===0?b:Math.max(x,b),f=f+1,u=u+b};return Mo({get:()=>DO({error:e,quantiles:d(Date.now()),count:f,min:l,max:x,sum:u}),update:([b,S])=>g(b,S),modify:([b,S])=>g(b,S)})},YO=(t,e,n)=>{const r=n.length;if(!gt(e))return Es();const s=e[0],i=e.slice(1),a=lp(t,r,k(),0,s,n),c=xe(a);return i.forEach(f=>{c.push(lp(t,r,a.value,a.consumed,f,a.rest))}),O(c,f=>[f.quantile,f.value])},lp=(t,e,n,r,s,i)=>{let a=t,c=e,f=n,u=r,l=s,x=i,d=t,g=e,b=n,S=r,p=s,w=i;for(;;){if(!gt(x))return{quantile:l,value:k(),consumed:u,rest:[]};if(l===1)return{quantile:l,value:T(go(x)),consumed:u+x.length,rest:[]};const A=Bt(x),F=s3(x,E=>E===A),_=l*c,v=a/2*_,o=u+F[0].length,C=Math.abs(o-_);if(o<_-v){d=a,g=c,b=ki(x),S=o,p=l,w=F[1],a=d,c=g,f=b,u=S,l=p,x=w;continue}if(o>_+v){const E=st(f)?T(A):f;return{quantile:l,value:E,consumed:u,rest:x}}switch(f._tag){case"None":{d=a,g=c,b=ki(x),S=o,p=l,w=F[1],a=d,c=g,f=b,u=S,l=p,x=w;continue}case"Some":{const E=Math.abs(_-f.value);if(C<E){d=a,g=c,b=ki(x),S=o,p=l,w=F[1],a=d,c=g,f=b,u=S,l=p,x=w;continue}return{quantile:l,value:T(f.value),consumed:u,rest:x}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},ZO="effect/MetricPair",XO=Symbol.for(ZO),QO={_Type:t=>t},t$=(t,e)=>({[XO]:QO,metricKey:t,metricState:e,pipe(){return q(this,arguments)}}),e$="effect/MetricRegistry",hp=Symbol.for(e$);class n${[hp]=hp;map=p4();snapshot(){const e=[];for(const[n,r]of this.map)e.push(t$(n,r.get()));return e}get(e){const n=h(this.map,dr(e),sn);if(n==null){if(lS(e.keyType))return this.getCounter(e);if(dO(e.keyType))return this.getGauge(e);if(mO(e.keyType))return this.getFrequency(e);if(hS(e.keyType))return this.getHistogram(e);if(gO(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=h(this.map,dr(e),sn);if(n==null){const r=zO(e);h(this.map,mi(e))||h(this.map,di(e,r)),n=r}return n}getFrequency(e){let n=h(this.map,dr(e),sn);if(n==null){const r=KO(e);h(this.map,mi(e))||h(this.map,di(e,r)),n=r}return n}getGauge(e){let n=h(this.map,dr(e),sn);if(n==null){const r=GO(e,e.keyType.bigint?BigInt(0):0);h(this.map,mi(e))||h(this.map,di(e,r)),n=r}return n}getHistogram(e){let n=h(this.map,dr(e),sn);if(n==null){const r=JO(e);h(this.map,mi(e))||h(this.map,di(e,r)),n=r}return n}getSummary(e){let n=h(this.map,dr(e),sn);if(n==null){const r=HO(e);h(this.map,mi(e))||h(this.map,di(e,r)),n=r}return n}}const r$=()=>new n$,s$="effect/Metric",i$=Symbol.for(s$),o$={_Type:t=>t,_In:t=>t,_Out:t=>t},xp=Q(Symbol.for("effect/Metric/globalMetricRegistry"),()=>r$()),yS=function(t,e,n,r){const s=Object.assign(i=>_v(i,a=>f$(s,a)),{[i$]:o$,keyType:t,unsafeUpdate:e,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return q(this,arguments)}});return s},mc=(t,e)=>SS(AO(t,e)),SS=t=>{let e;const n=new WeakMap,r=s=>{if(s.length===0)return e!==void 0||(e=xp.get(t)),e;let i=n.get(s);return i!==void 0||(i=xp.get(_O(t,s)),n.set(s,i)),i};return yS(t.keyType,(s,i)=>r(i).update(s),s=>r(s).get(),(s,i)=>r(i).modify(s))},a$=(t,e,n)=>SS(FO(t,e,n)),u$=m(3,(t,e,n)=>c$(t,[UT(e,n)])),c$=m(2,(t,e)=>yS(t.keyType,(n,r)=>t.unsafeUpdate(n,$a(e,r)),n=>t.unsafeValue($a(e,n)),(n,r)=>t.unsafeModify(n,$a(e,r)))),f$=m(2,(t,e)=>vh(gf,n=>V(()=>t.unsafeUpdate(e,n))));({...ho});const l$=m(2,(t,e)=>vh(sS,n=>V(()=>{if(n.has(t)){const r=n.get(t);r.state.completed||(r.state.completed=!0,_2(r.result,e))}}))),h$="effect/Supervisor",dc=Symbol.for(h$),Hh={_T:t=>t};class gc{underlying;value0;[dc]=Hh;constructor(e,n){this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,r,s){this.underlying.onStart(e,n,r,s)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new gc(this,h(this.value,ne(e)))}zip(e){return new bc(this,e)}}class bc{left;right;_tag="Zip";[dc]=Hh;constructor(e,n){this.left=e,this.right=n}get value(){return h2(this.left.value,this.right.value)}onStart(e,n,r,s){this.left.onStart(e,n,r,s),this.right.onStart(e,n,r,s)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new gc(this,h(this.value,ne(e)))}zip(e){return new bc(this,e)}}const wS=t=>K(t,dc)&&Fl(t,"Zip");class x${effect;[dc]=Hh;constructor(e){this.effect=e}get value(){return this.effect}onStart(e,n,r,s){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new gc(this,h(this.value,ne(e)))}zip(e){return new bc(this,e)}onRun(e,n){return e()}}const p$=t=>new x$(t),yc=Q("effect/Supervisor/none",()=>p$(Me)),m$=Xs,AS="Empty",FS="AddSupervisor",_S="RemoveSupervisor",ES="AndThen",vi={_tag:AS},Pa=(t,e)=>({_tag:ES,first:t,second:e}),d$=(t,e)=>g$(e,Fe(t)),g$=(t,e)=>{let n=t,r=e;for(;ks(r);){const s=vs(r);switch(s._tag){case AS:{r=yr(r);break}case FS:{n=n.zip(s.supervisor),r=yr(r);break}case _S:{n=Nf(n,s.supervisor),r=yr(r);break}case ES:{r=He(s.first)(He(s.second)(yr(r)));break}}}return n},Nf=(t,e)=>z(t,e)?yc:wS(t)?Nf(t.left,e).zip(Nf(t.right,e)):t,gu=t=>z(t,yc)?Qn():wS(t)?h(gu(t.left),Li(gu(t.right))):hh(t),b$=(t,e)=>{if(z(t,e))return vi;const n=gu(t),r=gu(e),s=h(r,C1(n),iu(vi,(a,c)=>Pa(a,{_tag:FS,supervisor:c}))),i=h(n,C1(r),iu(vi,(a,c)=>Pa(a,{_tag:_S,supervisor:c})));return Pa(s,i)},y$=m$({empty:vi,patch:d$,combine:Pa,diff:b$}),S$=mc("effect_fiber_started",{incremental:!0}),pp=mc("effect_fiber_active"),w$=mc("effect_fiber_successes",{incremental:!0}),A$=mc("effect_fiber_failures",{incremental:!0}),F$=u$(a$("effect_fiber_lifetimes",rO({start:.5,factor:2,count:35})),"time_unit","milliseconds"),gi="Continue",_$="Done",mp="Yield",E$={_E:t=>t,_A:t=>t},ra=t=>{throw new Error(`BUG: FiberRuntime - ${ws(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},gn=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),bn=Q("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),bi={[Za]:(t,e,n)=>ie(()=>e.effect_instruction_i1(n)),OnStep:(t,e,n)=>$t($t(n)),[Xa]:(t,e,n)=>ie(()=>e.effect_instruction_i2(n)),[Il]:(t,e,n)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),Wn(t.currentRuntimeFlags)&&t.isInterrupted()?xt(t.getInterruptedCause()):$t(n)),[Qa]:(t,e,n)=>(ie(()=>e.effect_instruction_i2(n)),ie(()=>e.effect_instruction_i0())?(t.pushStack(e),ie(()=>e.effect_instruction_i1())):Me),[Ta]:(t,e,n)=>{const r=ie(()=>e.effect_instruction_i0.next(n));return r.done?$t(r.value):(t.pushStack(e),X_(r.value))}},C$={[qh]:(t,e,n,r)=>(t.processNewInterruptSignal(r.cause),Wn(e)?xt(r.cause):n),[Wh]:(t,e,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Vh]:(t,e,n,r)=>(r.onFiber(t,K2(e)),n),[zh]:(t,e,n,r)=>U(Ih(),()=>n)},I$=t=>oc(C6(t),e=>Ir(L6(e),([n,r])=>{const s=new Map,i=[];for(const c of r){i.push(_r(c));for(const f of c)s.set(f.request,f)}const a=i.flat();return fc(W$(n.runAll(i),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),sS,s)},!1,!1)),k$=kl();class CS extends DT{[q5]=V5;[z5]=E$;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(e,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=e,this._fiberRefs=n,O1(r)){const s=this.getFiberRef(gf);S$.unsafeUpdate(1,s),pp.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return iS(this)}id(){return this._fiberId}resume(e){this.tell(ns(e))}get status(){return this.ask((e,n)=>n)}get runtimeFlags(){return this.ask((e,n)=>o5(n)?e.currentRuntimeFlags:n.runtimeFlags)}scope(){return L5(this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(ea)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return Dt(()=>{const n=i4(this._fiberId);return this.tell(Ra((r,s)=>{_2(n,V(()=>e(r,s)))})),F2(n)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return Ki(e=>{const n=r=>e(ct(r));return this.tell(Ra((r,s)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),V(()=>this.tell(Ra((r,s)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return _e((e,n)=>{const r=e.id(),s=e.getFiberRefs(),i=n.runtimeFlags,a=this.getFiberRefs(),c=mT(s,r,a);e.setFiberRefs(c);const f=e.getFiberRef(Sp),u=h(Na(i,f),B1(Qs),B1(pf));return Cv(u)})}get poll(){return V(()=>po(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return V(()=>this.tell(r0(An(e))))}unsafeInterruptAsFork(e){this.tell(r0(An(e)))}addObserver(e){this._exitValue!==null?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(n=>n!==e)}getFiberRefs(){return this.setFiberRef(Sp,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=R2(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,n){this._fiberRefs=yf(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(lu),this.currentTracer=this.currentDefaultServices.unsafeMap.get(M2.key),this.currentSupervisor=this.getFiberRef(V$),this.currentScheduler=this.getFiberRef(rS),this.currentContext=this.getFiberRef(To),this.currentSpan=this.currentContext.unsafeMap.get(N2.key)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}transferChildren(e){const n=this._children;if(this._children=null,n!==null&&n.size>0)for(const r of n)r._exitValue===null&&e.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let n=gi;const r=globalThis[hr];globalThis[hr]=this;try{for(;n===gi;)n=this._queue.length===0?_$:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[hr]=r}this._queue.length>0&&!this._running?(this._running=!0,n===mp?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(lc))}drainQueueWhileRunning(e,n){let r=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];r=C$[s._tag](this,e,r,s)}return r}isInterrupted(){return!z6(this.getFiberRef(ea))}addInterruptedCause(e){const n=this.getFiberRef(ea);this.setFiberRef(ea,Ae(n,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let e=!1;for(const n of this._children)n.tell(r0(An(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const e=this._children.values();this._children=null;let n=!1;return Ch({while:()=>!n,body:()=>{const s=e.next();return s.done?V(()=>{n=!0}):vo(s.value.await)},step:()=>{}})}return null}reportExitValue(e){if(O1(this.currentRuntimeFlags)){const n=this.getFiberRef(gf),r=this.id().startTimeMillis,s=Date.now();switch(F$.unsafeUpdate(s-r,n),pp.unsafeUpdate(-1,n),e._tag){case ze:{w$.unsafeUpdate(1,n);break}case We:{A$.unsafeUpdate(1,n);break}}}if(e._tag==="Failure"){const n=this.getFiberRef(Kv);!Sh(e.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",e.cause,n)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](e);this._observers=[]}getLoggers(){return this.getFiberRef(B$)}log(e,n,r){const s=pt(r)?r.value:this.getFiberRef(Uv),i=this.getFiberRef(v$);if(OT(i,s))return;const a=this.getFiberRef(qv),c=this.getFiberRef(Lv),f=this.getLoggers(),u=this.getFiberRefs();if(xh(f)>0){const l=Xb(this.getFiberRef(lu),Mh),x=new Date(l.unsafeCurrentTimeMillis());rE(u,()=>{for(const d of f)d.log({fiberId:this.id(),logLevel:s,message:e,cause:n,context:u,spans:a,annotations:c,date:x})})}}evaluateMessageWhileSuspended(e){switch(e._tag){case zh:return mp;case qh:return this.processNewInterruptSignal(e.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(xt(e.cause)),this._asyncInterruptor=null),gi;case Wh:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),gi;case Vh:return e.onFiber(this,this._exitValue!==null?s5:i5(this.currentRuntimeFlags,this._asyncBlockingOn)),gi;default:return ra(e)}}evaluateEffect(e){this.currentSupervisor.onResume(this);try{let n=Wn(this.currentRuntimeFlags)&&this.isInterrupted()?xt(this.getInterruptedCause()):e;for(;n!==null;){const r=n,s=this.runLoop(r);if(s===gn){const i=bn.currentOp;bn.currentOp=null,i._op===Oa?w6(this.currentRuntimeFlags)?(this.tell(D5()),this.tell(ns(Sr)),n=null):n=Sr:i._op===Ii&&(n=null)}else{this.currentRuntimeFlags=h(this.currentRuntimeFlags,A6(pf));const i=this.interruptAllChildren();i!==null?n=U(i,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(ns(s)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(e){if(this._running)this.tell(ns(e));else{this._running=!0;const n=globalThis[hr];globalThis[hr]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[hr]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(ns(e))}patchRuntimeFlags(e,n){const r=Da(e,n);return globalThis[hr]=this,this.currentRuntimeFlags=r,r}initiateAsync(e,n){let r=!1;const s=i=>{r||(r=!0,this.tell(ns(i)))};Wn(e)&&(this._asyncInterruptor=s);try{n(s)}catch(i){s(Ye(Ge(i)))}}pushStack(e){this._stack.push(e),e._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const e=this._stack.pop();if(e)return e._op==="OnStep"&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==zc)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==Za&&e._op!==Qa&&e._op!==Ta)return e;e=this.popStack()}}[iE](e){return V(()=>Qb(this.currentContext,e))}Left(e){return Gt(e.left)}None(e){return Gt(new w2)}Right(e){return $t(e.right)}Some(e){return $t(e.value)}Micro(e){return cu(n=>{let r=n;const s=M5(I5(e,this.currentContext));return s.addObserver(i=>{if(i._tag==="Success")return r($t(i.value));switch(i.cause._tag){case"Interrupt":return r(xt(An($s)));case"Fail":return r(Gt(i.cause.error));case"Die":return r(P1(i.cause.defect))}}),cu(i=>{r=a=>{i(Me)},s.unsafeInterrupt()})})}[Ug](e){const n=ie(()=>e.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in bi||ra(r),bi[r._op](this,r,n)):(bn.currentOp=$t(n),gn)}[ze](e){const n=e,r=this.getNextSuccessCont();return r!==void 0?(r._op in bi||ra(r),bi[r._op](this,r,n.effect_instruction_i0)):(bn.currentOp=n,gn)}[We](e){const n=e.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case zc:case Xa:return Wn(this.currentRuntimeFlags)&&this.isInterrupted()?xt(M1(n)):ie(()=>r.effect_instruction_i1(n));case"OnStep":return Wn(this.currentRuntimeFlags)&&this.isInterrupted()?xt(M1(n)):$t(xt(n));case Il:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),Wn(this.currentRuntimeFlags)&&this.isInterrupted()?xt(Ae(n,this.getInterruptedCause())):xt(n);default:ra(r)}else return bn.currentOp=xt(n),gn}[qg](e){return ie(()=>e.effect_instruction_i0(this,K2(this.currentRuntimeFlags)))}Blocked(e){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],i=this._steps[this._steps.length-1];let a=this.popStack();for(;a&&a._op!=="OnStep";)s.push(a),a=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;const c=JT(i.refs,n),f=Na(i.flags,r);return $t(t2(e.effect_instruction_i0,_e(u=>{for(;s.length>0;)u.pushStack(s.pop());return u.setFiberRefs(HT(u.id(),u.getFiberRefs())(c)),u.currentRuntimeFlags=Da(f)(u.currentRuntimeFlags),e.effect_instruction_i1})))}return uc(s=>U(IS(mv(e.effect_instruction_i0)),()=>s(e.effect_instruction_i1)))}RunBlocked(e){return I$(e.effect_instruction_i0)}[fo](e){const n=e.effect_instruction_i0,r=this.currentRuntimeFlags,s=Da(r,n);if(Wn(s)&&this.isInterrupted())return xt(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),e.effect_instruction_i1){const i=Na(s,r);return this.pushStack(new dv(i,e)),ie(()=>e.effect_instruction_i1(r))}else return Sr}[Za](e){return this.pushStack(e),e.effect_instruction_i0}OnStep(e){return this.pushStack(e),e.effect_instruction_i0}[zc](e){return this.pushStack(e),e.effect_instruction_i0}[Xa](e){return this.pushStack(e),e.effect_instruction_i0}[Ii](e){return this._asyncBlockingOn=e.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,e.effect_instruction_i0),bn.currentOp=e,gn}[Oa](e){return this._isYielding=!1,bn.currentOp=e,gn}[Qa](e){const n=e.effect_instruction_i0,r=e.effect_instruction_i1;return n()?(this.pushStack(e),r()):Sr}[Ta](e){return bi[Ta](this,e,void 0)}[Nu](e){return ie(()=>e.commit())}runLoop(e){let n=e;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&S6)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;const s=n;n=U(Ih({priority:r}),()=>s)}}try{if(n=this.currentTracer.context(()=>{if(k$!==n[js]._V){const r=this.getFiberRef(Gv);if(r._tag==="Some"){const s=n[js]._V;this.log(`Executing an Effect versioned ${s} with a Runtime of version ${kl()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,$r,r)}}return this[n._op](n)},this),n===gn){const r=bn.currentOp;return r._op===Oa||r._op===Ii?gn:(bn.currentOp=null,r._op===ze||r._op===We?r:xt(Ge(r)))}}catch(r){n!==gn&&!K(n,"_op")||!(n._op in this)?n=yv(`Not a valid effect: ${ws(n)}`):Xv(r)?n=xt(Ae(Ge(r),An($s))):n=P1(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const v$=Q("effect/FiberRef/currentMinimumLogLevel",()=>ge($T("Info"))),T$=t=>Gh(e=>{const n=yT(e.context,lu);Xb(n,B2).unsafe.log(t.log(e))}),O$=Q(Symbol.for("effect/Logger/defaultLogger"),()=>T$(X5)),$$=Q(Symbol.for("effect/Logger/tracerLogger"),()=>Gh(({annotations:t,cause:e,context:n,fiberId:r,logLevel:s,message:i})=>{const a=wo(Gi(n,To),N2);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=Qb(Gi(n,lu),Mh),f={};for(const[u,l]of t)f[u]=l;f["effect.fiberId"]=ok(r),f["effect.logLevel"]=s.label,e!==null&&e._tag!=="Empty"&&(f["effect.cause"]=ni(e,{renderErrorCause:!0})),a.value.event(ws(Array.isArray(i)&&i.length===1?i[0]:i),c.unsafeCurrentTimeNanos(),f)})),B$=Q(Symbol.for("effect/FiberRef/currentLoggers"),()=>Rv(hh(O$,$$))),M$=t=>{if(Array.isArray(t)||Mg(t))return[t,k()];const e=Object.keys(t),n=e.length;return[e.map(r=>t[r]),T(r=>{const s={};for(let i=0;i<n;i++)s[e[i]]=r[i];return s})]},N$=(t,e,n)=>{const r=[];for(const s of t)r.push(Ls(s));return U(Vs(r,Z,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>{const i=k(),a=s.length,c=new Array(a),f=new Array(a);let u=!1;for(let l=0;l<a;l++){const x=s[l];x._tag==="Left"?(c[l]=T(x.left),u=!0):(f[l]=x.right,c[l]=i)}return u?e._tag==="Some"?Gt(e.value(c)):Gt(c):n?.discard?Me:e._tag==="Some"?ct(e.value(f)):ct(f)})},D$=(t,e,n)=>{const r=[];for(const s of t)r.push(Ls(s));return n?.discard?Vs(r,Z,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):ne(Vs(r,Z,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),s=>e._tag==="Some"?e.value(s):s)},R$=(t,e)=>{const[n,r]=M$(t);return e?.mode==="validate"?N$(n,r,e):e?.mode==="either"?D$(n,r,e):e?.discard!==!0&&r._tag==="Some"?ne(Vs(n,Z,e),r.value):Vs(n,Z,e)},Vs=m(t=>Mg(t[0]),(t,e,n)=>_e(r=>{const s=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(zv);return n?.discard?cp(n.concurrency,()=>rs(Af,n?.concurrentFinalizers)(i=>s?Ir(t,(a,c)=>i(e(a,c)),!0,!1,1):oc(t,(a,c)=>i(e(a,c)))),()=>rs(Ff,n?.concurrentFinalizers)(i=>Ir(t,(a,c)=>i(e(a,c)),s,!1)),i=>rs(_f(i),n?.concurrentFinalizers)(a=>Ir(t,(c,f)=>a(e(c,f)),s,!1,i))):cp(n?.concurrency,()=>rs(Af,n?.concurrentFinalizers)(i=>s?dp(t,1,(a,c)=>i(e(a,c)),!0):Kn(t,(a,c)=>i(e(a,c)))),()=>rs(Ff,n?.concurrentFinalizers)(i=>P$(t,(a,c)=>i(e(a,c)),s)),i=>rs(_f(i),n?.concurrentFinalizers)(a=>dp(t,i,(c,f)=>a(e(c,f)),s)))})),P$=(t,e,n)=>Dt(()=>{const r=it(t),s=new Array(r.length);return cc(Ir(r,(a,c)=>U(e(a,c),f=>V(()=>s[c]=f)),n,!1),ct(s))}),Ir=(t,e,n,r,s)=>uc(i=>Ev(a=>_e(c=>{let f=Array.from(t).reverse(),u=f.length;if(u===0)return Me;let l=0,x=!1;const d=s?Math.min(f.length,s):f.length,g=new Set,b=new Array,S=()=>g.forEach(E=>{E.currentScheduler.scheduleTask(()=>{E.unsafeInterruptAsFork(c.id())},0)}),p=new Array,w=new Array,A=new Array,F=()=>{const E=b.filter(({exit:R})=>R._tag==="Failure").sort((R,I)=>R.index<I.index?-1:R.index===I.index?0:1).map(({exit:R})=>R);return E.length===0&&E.push(Sr),E},_=(E,R=!1)=>{const I=l2(a(E)),D=L$(I,c,c.currentRuntimeFlags,Kh);return c.currentScheduler.scheduleTask(()=>{R&&D.unsafeInterruptAsFork(c.id()),D.resume(I)},0),D},v=()=>{r||(u-=f.length,f=[]),x=!0,S()},o=n?Av:s2,C=_(Ki(E=>{const R=(D,lt)=>{D._op==="Blocked"?A.push(D):(b.push({index:lt,exit:D}),D._op==="Failure"&&!x&&v())},I=()=>{if(f.length>0){const D=f.pop();let lt=l++;const Qt=()=>{const Tt=f.pop();return lt=l++,U(Ih(),()=>U(o(i(e(Tt,lt))),ht))},ht=Tt=>f.length>0&&(R(Tt,lt),f.length>0)?Qt():ct(Tt),re=U(o(i(e(D,lt))),ht),Vt=_(re);p.push(Vt),g.add(Vt),x&&Vt.currentScheduler.scheduleTask(()=>{Vt.unsafeInterruptAsFork(c.id())},0),Vt.addObserver(Tt=>{let dn;if(Tt._op==="Failure"?dn=Tt:dn=Tt.effect_instruction_i0,w.push(Vt),g.delete(Vt),R(dn,lt),b.length===u)E(ct(vt(V1(F(),{parallel:!0}),()=>Sr)));else if(A.length+b.length===u){const li=F(),E_=A.map(hi=>hi.effect_instruction_i0).reduce(zy);E(ct(t2(E_,Ir([vt(V1(li,{parallel:!0}),()=>Sr),...A.map(hi=>hi.effect_instruction_i1)],hi=>hi,n,!0,s))))}else I()})}};for(let D=0;D<d;D++)I()}));return vo(Eh(a2(i(iS(C))),A2({onFailure:E=>{v();const R=A.length+1,I=Math.min(typeof s=="number"?s:A.length,A.length),D=Array.from(A);return Ki(lt=>{let Qt=0,ht=0;const re=(Tt,dn)=>li=>{Qt++,Qt===R&&lt($t(xt(E))),D.length>0&&dn&&Vt()},Vt=()=>{_(D.pop(),!0).addObserver(re(ht,!0)),ht++};C.addObserver(re(ht,!1)),ht++;for(let Tt=0;Tt<I;Tt++)Vt()})},onSuccess:()=>Kn(w,E=>E.inheritAll)})))}))),dp=(t,e,n,r)=>Dt(()=>{const s=it(t),i=new Array(s.length);return cc(Ir(s,(c,f)=>ne(n(c,f),u=>i[f]=u),r,!1,e),ct(i))}),IS=t=>U$(t,Kh),j$=(t,e,n,r=null)=>{const s=kS(t,e,n,r);return s.resume(t),s},L$=(t,e,n,r=null)=>kS(t,e,n,r),kS=(t,e,n,r=null)=>{const s=Ty(),i=e.getFiberRefs(),a=dT(i,s),c=new CS(s,a,n),f=Gi(a,To),u=c.currentSupervisor;return u.onStart(f,t,T(e),c),c.addObserver(x=>u.onEnd(x,c)),(r!==null?r:h(e.getFiberRef(bf),vt(()=>e.scope()))).add(n,c),c},U$=(t,e)=>_e((n,r)=>ct(j$(t,n,r.runtimeFlags,e))),gp=t=>Oo(e=>zt(wo(e,No),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return U(hc(n,Ff),r=>Yh(t,r))}}})),bp=t=>e=>Oo(n=>zt(wo(n,No),{onNone:()=>e,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===t?e:U(hc(r,_f(t)),s=>Yh(e,s))})),rs=(t,e)=>n=>Oo(r=>zt(wo(r,No),{onNone:()=>n(Z),onSome:s=>{if(e===!0){const i=t._tag==="Parallel"?gp:t._tag==="Sequential"?yp:bp(t.parallelism);switch(s.strategy._tag){case"Parallel":return i(n(gp));case"Sequential":return i(n(yp));case"ParallelN":return i(n(bp(s.strategy.parallelism)))}}else return n(Z)}})),yp=t=>Oo(e=>zt(wo(e,No),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return U(hc(n,Af),r=>Yh(t,r))}}})),No=Jr("effect/Scope"),Yh=m(2,(t,e)=>f4(t,ty(zC(No,e)))),q$=t=>ri(t,{differ:y$,fork:vi}),Sp=jv(F6),V$=q$(yc),W$=(t,e,n)=>o2(r=>U(U(IS(u2(t)),s=>Ki(i=>{const a=e.map(u=>u.listeners.count),c=()=>{a.every(u=>u===0)&&e.every(u=>u.result.state.current._tag==="Pending"?!0:!!(u.result.state.current._tag==="Done"&&Oh(u.result.state.current.effect)&&u.result.state.current.effect._tag==="Failure"&&K6(u.result.state.current.effect.cause)))&&(f.forEach(u=>u()),n?.(),i(Iv(s)))};s.addObserver(u=>{f.forEach(l=>l()),i(u)});const f=e.map((u,l)=>{const x=d=>{a[l]=d,c()};return u.listeners.addObserver(x),()=>u.listeners.removeObserver(x)});return c(),V(()=>{f.forEach(u=>u())})})),()=>Dt(()=>{const s=e.flatMap(i=>i.state.completed?[]:[i]);return oc(s,i=>l$(i.request,n4(r)))}))),z$=W6,K$=tv,G$=ni,J$=Hv,H$=hc,Zh=t=>function(){if(arguments.length===1){const e=arguments[0];return(n,...r)=>t(e,n,...r)}return t.apply(this,arguments)},vS=Zh((t,e,n)=>{const r=Ty(),s=[[To,[[r,t.context]]]];n?.scheduler&&s.push([rS,[[r,n.scheduler]]]);let i=ST(t.fiberRefs,{entries:s,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));const a=new CS(r,i,t.runtimeFlags);let c=e;n?.scope&&(c=U(H$(n.scope,z2),u=>cc(Jv(u,o2(l=>z(l,a.id())?Me:p2(a,l))),Eh(e,l=>J$(u,l)))));const f=a.currentSupervisor;return f!==yc&&(f.onStart(t.context,c,k(),a),a.addObserver(u=>f.onEnd(u,a))),Kh.add(t.runtimeFlags,a),n?.immediate===!1?a.resume(c):a.start(c),a}),Y$=Zh((t,e)=>{const n=n9(t)(e);if(n._tag==="Failure")throw t9(n.effect_instruction_i0);return n.effect_instruction_i0});class Z$ extends Error{fiber;_tag="AsyncFiberException";constructor(e){super(`Fiber #${e.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=e,this.name=this._tag,this.stack=this.message}}const X$=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Z$(t);return Error.stackTraceLimit=e,n},s0=Symbol.for("effect/Runtime/FiberFailure"),sa=Symbol.for("effect/Runtime/FiberFailure/Cause");class Q$ extends Error{[s0];[sa];constructor(e){const n=Xy(e)[0];super(n?.message||"An error has occurred"),this[s0]=s0,this[sa]=e,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[sa].toJSON()}}toString(){return"(FiberFailure) "+ni(this[sa],{renderErrorCause:!0})}[mt](){return this.toString()}}const t9=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Q$(t);return Error.stackTraceLimit=e,n},e9=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return W1(e.left);case"Right":return $t(e.right);case"Some":return $t(e.value);case"None":return W1(w2())}},n9=Zh((t,e)=>{const n=e9(e);if(n)return n;const r=new nS,s=vS(t)(e,{scheduler:r});r.flush();const i=s.unsafePoll();return i||e4(Fh(X$(s),$h(s)))});class r9{context;runtimeFlags;fiberRefs;constructor(e,n,r){this.context=e,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return q(this,arguments)}}const s9=t=>new r9(t.context,t.runtimeFlags,t.fiberRefs),i9=Vy(Qs,Uy,Ly),TS=s9({context:nh(),runtimeFlags:i9,fiberRefs:wT()}),o9=vS(TS),a9=Y$(TS),u9=Fk,c9=t=>e=>{const n=e===void 0?Object.create(ho):u9(e);return n._tag=t,n},f9=ec,Xh=()=>new Proxy({},{get(t,e,n){return e==="$is"?Fl:e==="$match"?l9:c9(e)}});function l9(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const t=arguments[0];return arguments[1][t._tag](t)}const h9=(function(){const t=Symbol.for("effect/Data/Error/plainArgs");return{BaseEffectError:class extends Th{constructor(n){super(n?.message,n?.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,t,{value:n,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}.BaseEffectError})(),x9=t=>{const e={BaseEffectError:class extends h9{_tag=t}};return e.BaseEffectError.prototype.name=t,e.BaseEffectError},Df=Symbol.for("effect/DateTime/TimeZone"),p9={[Df]:Df,[mt](){return this.toString()}},m9={...p9,_tag:"Offset",[G](){return St(this,yt(`Offset:${this.offset}`))},[W](t){return d9(t)&&t._tag==="Offset"&&this.offset===t.offset},toString(){return`TimeZone.Offset(${b9(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},d9=t=>K(t,Df),g9=t=>{const e=Object.create(m9);return e.offset=t,e},b9=t=>{const e=Math.abs(t);let n=Math.floor(e/(3600*1e3)),r=Math.round(e%(3600*1e3)/(60*1e3));return r===60&&(n+=1,r=0),`${t<0?"-":"+"}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`},Nr=v_,y9=IE,Qh=m(2,(t,e)=>t+e),S9=t=>t.trimEnd(),w9=t=>t.length,ii=t=>e=>e.repeat(t),A9=(t,e)=>n=>n.replaceAll(t,e),F9=ic,Sc=R$,un=Vs,OS=Gt,Ne=ct,Ve=Dt,Ie=Me,_9=df,pe=ne,E9=ac,ss=Ls,Nt=U,C9=o9,Pn=a9,I9=g9,ia=(t,e)=>t.has(e)?T(t.get(e)):k(),Rf="~effect/Graph";class k9 extends f9{}const tx={[Rf]:Rf,[Symbol.iterator](){return this.nodes[Symbol.iterator]()},[mt](){return this.toJSON()},[W](t){if(v9(t)){if(this.nodes.size!==t.nodes.size||this.edges.size!==t.edges.size||this.type!==t.type)return!1;for(const[e,n]of this.nodes){if(!t.nodes.has(e))return!1;const r=t.nodes.get(e);if(!z(n,r))return!1}for(const[e,n]of this.edges){if(!t.edges.has(e))return!1;const r=t.edges.get(e);if(!z(n,r))return!1}return!0}return!1},[G](){let t=yt("Graph");t=t^yt(this.type),t=t^Mi(this.nodes.size),t=t^Mi(this.edges.size);for(const[e,n]of this.nodes)t=t^B(e)+B(n);for(const[e,n]of this.edges)t=t^B(e)+B(n);return t},toJSON(){return{_id:"Graph",nodeCount:this.nodes.size,edgeCount:this.edges.size,type:this.type}},toString(){return Ut(this)},pipe(){return q(this,arguments)}},v9=t=>typeof t=="object"&&t!==null&&Rf in t,T9=t=>{const e=Object.create(tx);if(e.type="directed",e.nodes=new Map,e.edges=new Map,e.adjacency=new Map,e.reverseAdjacency=new Map,e.nextNodeIndex=0,e.nextEdgeIndex=0,e.isAcyclic=T(!0),e.mutable=!1,t){const n=O9(e);return t(n),$9(n)}return e},O9=t=>{const e=new Map,n=new Map;for(const[s,i]of t.adjacency)e.set(s,[...i]);for(const[s,i]of t.reverseAdjacency)n.set(s,[...i]);const r=Object.create(tx);return r.type=t.type,r.nodes=new Map(t.nodes),r.edges=new Map(t.edges),r.adjacency=e,r.reverseAdjacency=n,r.nextNodeIndex=t.nextNodeIndex,r.nextEdgeIndex=t.nextEdgeIndex,r.isAcyclic=t.isAcyclic,r.mutable=!0,r},$9=t=>{const e=Object.create(tx);return e.type=t.type,e.nodes=new Map(t.nodes),e.edges=new Map(t.edges),e.adjacency=t.adjacency,e.reverseAdjacency=t.reverseAdjacency,e.nextNodeIndex=t.nextNodeIndex,e.nextEdgeIndex=t.nextEdgeIndex,e.isAcyclic=t.isAcyclic,e.mutable=!1,e},B9=(t,e)=>{const n=t.nextNodeIndex;return t.nodes.set(n,e),t.adjacency.set(n,[]),t.reverseAdjacency.set(n,[]),t.nextNodeIndex=t.nextNodeIndex+1,n},M9=t=>{pt(t.isAcyclic)&&t.isAcyclic.value===!0&&(t.isAcyclic=k())},N9=(t,e,n,r)=>{if(!t.nodes.has(e))throw new Error(`Source node ${e} does not exist`);if(!t.nodes.has(n))throw new Error(`Target node ${n} does not exist`);const s=t.nextEdgeIndex,i=new k9({source:e,target:n,data:r});t.edges.set(s,i);const a=ia(t.adjacency,e);pt(a)&&a.value.push(s);const c=ia(t.reverseAdjacency,n);if(pt(c)&&c.value.push(s),t.type==="undirected"){const f=ia(t.adjacency,n);pt(f)&&f.value.push(s);const u=ia(t.reverseAdjacency,e);pt(u)&&u.value.push(s)}return t.nextEdgeIndex=t.nextEdgeIndex+1,M9(t),s},D9=(t,e)=>{const{edgeLabel:n=u=>String(u),graphName:r="G",nodeLabel:s=u=>String(u)}=e??{},i=t.type==="directed",a=i?"digraph":"graph",c=i?"->":"--",f=[];f.push(`${a} ${r} {`);for(const[u,l]of t.nodes){const x=s(l).replace(/"/g,'\\"');f.push(`  "${u}" [label="${x}"];`)}for(const[,u]of t.edges){const l=n(u.data).replace(/"/g,'\\"');f.push(`  "${u.source}" ${c} "${u.target}" [label="${l}"];`)}return f.push("}"),f.join(`
`)};class te{path;actual;issue;_tag="Pointer";constructor(e,n,r){this.path=e,this.actual=n,this.issue=r}}class wp{actual;message;_tag="Unexpected";constructor(e,n){this.actual=e,this.message=n}}class yi{ast;message;_tag="Missing";actual=void 0;constructor(e,n){this.ast=e,this.message=n}}class Ot{ast;actual;issues;output;_tag="Composite";constructor(e,n,r,s){this.ast=e,this.actual=n,this.issues=r,this.output=s}}class i0{ast;actual;kind;issue;_tag="Refinement";constructor(e,n,r,s){this.ast=e,this.actual=n,this.kind=r,this.issue=s}}class o0{ast;actual;kind;issue;_tag="Transformation";constructor(e,n,r,s){this.ast=e,this.actual=n,this.kind=r,this.issue=s}}class fs{ast;actual;message;_tag="Type";constructor(e,n,r){this.ast=e,this.actual=n,this.message=r}}class Ap{ast;actual;message;_tag="Forbidden";constructor(e,n,r){this.ast=e,this.actual=n,this.message=r}}const Fp=Symbol.for("effect/Schema/ParseErrorTypeId");class R9 extends x9("ParseError"){[Fp]=Fp;get message(){return this.toString()}toString(){return La.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[mt](){return this.toJSON()}}const P9=t=>new R9({issue:t}),he=AE,kr=m(2,(t,e)=>he(t)?Tl(t,{onLeft:J,onRight:e}):Nt(t,e)),rn=m(2,(t,e)=>he(t)?_E(t,e):pe(t,e)),a0=m(2,(t,e)=>he(t)?FE(t,e):E9(t,e)),$S=m(2,(t,e)=>he(t)?Tl(t,{onLeft:e,onRight:et}):_9(t,e)),BS=(t,e)=>e===void 0||Yn(e)?t:t===void 0?e:{...t,...e},j9=(t,e,n)=>{const r=Oe(t);return(s,i)=>r(s,BS(n,i))},L9=(t,e,n)=>{const r=j9(t,e,n);return(s,i)=>Xg(r(s,i),P9)},U9=(t,e)=>L9(le(t.ast),!0,e),q9=Q(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),Oe=(t,e)=>{const n=q9,r=n.get(t);if(r)return r;const s=V9(t),i=X3(t),a=pt(i)?(u,l)=>s(u,BS(l,i.value)):s,c=Q3(t),f=pt(c)?(u,l)=>ja($S(a(u,l),c.value),t,u,l):a;return n.set(t,f),f},u0=t=>sn(H3(t)),c0=t=>sn(Y3(t)),V9=(t,e)=>{switch(t._tag){case"Refinement":{const n=Oe(t.from);return(r,s)=>{s=s??Jc;const i=s?.errors==="all",a=kr($S(n(r,s),c=>{const f=new i0(t,r,"From",c);return i&&eC(t)&&DS(c)?zt(t.filter(r,s,t),{onNone:()=>J(f),onSome:u=>J(new Ot(t,r,[f,new i0(t,r,"Predicate",u)]))}):J(f)}),c=>zt(t.filter(c,s,t),{onNone:()=>et(c),onSome:f=>J(new i0(t,r,"Predicate",f))}));return ja(a,t,r,s)}}case"Transformation":{const n=K9(t.transformation),r=Oe(t.from),s=Oe(t.to);return(i,a)=>ja(kr(a0(r(i,a),c=>new o0(t,i,"Encoded",c)),c=>kr(a0(n(c,a??Jc,t,i),f=>new o0(t,i,"Transformation",f)),f=>a0(s(f,a),u=>new o0(t,i,"Type",u)))),t,i,a)}case"Declaration":{const n=t.decodeUnknown(...t.typeParameters);return(r,s)=>ja(n(r,s??Jc,t),t,r,s)}case"Literal":return be(t,n=>n===t.literal);case"UniqueSymbol":return be(t,n=>n===t.symbol);case"UndefinedKeyword":return be(t,D_);case"NeverKeyword":return be(t,P_);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return et;case"StringKeyword":return be(t,vn);case"NumberKeyword":return be(t,Yn);case"BooleanKeyword":return be(t,wl);case"BigIntKeyword":return be(t,$u);case"SymbolKeyword":return be(t,K0);case"ObjectKeyword":return be(t,Dn);case"Enums":return be(t,n=>t.enums.some(([r,s])=>s===n));case"TemplateLiteral":{const n=EC(t);return be(t,r=>vn(r)&&n.test(r))}case"TupleType":{const n=t.elements.map(u=>Oe(u.type)),r=t.rest.map(u=>Oe(u.type));let s=t.elements.filter(u=>!u.isOptional);t.rest.length>0&&(s=s.concat(t.rest.slice(1)));const i=s.length,a=t.elements.length>0?t.elements.map((u,l)=>l).join(" | "):"never",c=u0(t),f=c0(t);return(u,l)=>{if(!Ul(u))return J(new fs(t,u));const x=l?.errors==="all",d=[];let g=0;const b=[],S=u.length;for(let F=S;F<=i-1;F++){const _=new te(F,u,new yi(s[F-S]));if(x){d.push([g++,_]);continue}else return J(new Ot(t,u,_,b))}if(t.rest.length===0)for(let F=t.elements.length;F<=S-1;F++){const _=new te(F,u,new wp(u[F],`is unexpected, expected: ${a}`));if(x){d.push([g++,_]);continue}else return J(new Ot(t,u,_,b))}let p=0,w;for(;p<n.length;p++)if(S<p+1){if(t.elements[p].isOptional)continue}else{const F=n[p],_=F(u[p],l);if(he(_)){if(Kt(_)){const v=new te(p,u,_.left);if(x){d.push([g++,v]);continue}else return J(new Ot(t,u,v,Pe(b)))}b.push([g++,_.right])}else{const v=g++,o=p;w||(w=[]),w.push(({es:C,output:E})=>Nt(ss(_),R=>{if(Kt(R)){const I=new te(o,u,R.left);return x?(C.push([v,I]),Ie):J(new Ot(t,u,I,Pe(E)))}return E.push([v,R.right]),Ie}))}}if(gt(r)){const[F,..._]=r;for(;p<S-_.length;p++){const v=F(u[p],l);if(he(v))if(Kt(v)){const o=new te(p,u,v.left);if(x){d.push([g++,o]);continue}else return J(new Ot(t,u,o,Pe(b)))}else b.push([g++,v.right]);else{const o=g++,C=p;w||(w=[]),w.push(({es:E,output:R})=>Nt(ss(v),I=>{if(Kt(I)){const D=new te(C,u,I.left);return x?(E.push([o,D]),Ie):J(new Ot(t,u,D,Pe(R)))}else return R.push([o,I.right]),Ie}))}}for(let v=0;v<_.length;v++)if(p+=v,!(S<p+1)){const o=_[v](u[p],l);if(he(o)){if(Kt(o)){const C=new te(p,u,o.left);if(x){d.push([g++,C]);continue}else return J(new Ot(t,u,C,Pe(b)))}b.push([g++,o.right])}else{const C=g++,E=p;w||(w=[]),w.push(({es:R,output:I})=>Nt(ss(o),D=>{if(Kt(D)){const lt=new te(E,u,D.left);return x?(R.push([C,lt]),Ie):J(new Ot(t,u,lt,Pe(I)))}return I.push([C,D.right]),Ie}))}}}const A=({es:F,output:_})=>Ht(F)?J(new Ot(t,u,Pe(F),Pe(_))):et(Pe(_));if(w&&w.length>0){const F=w;return Ve(()=>{const _={es:Ei(d),output:Ei(b)};return Nt(un(F,v=>v(_),{concurrency:c,batching:f,discard:!0}),()=>A(_))})}return A({output:b,es:d})}}case"TypeLiteral":{if(t.propertySignatures.length===0&&t.indexSignatures.length===0)return be(t,j_);const n=[],r={},s=[];for(const l of t.propertySignatures)n.push([Oe(l.type),l]),r[l.name]=null,s.push(l.name);const i=t.indexSignatures.map(l=>[Oe(l.parameter),Oe(l.type),l.parameter]),a=Sn.make(t.indexSignatures.map(l=>l.parameter).concat(s.map(l=>K0(l)?new iC(l):new sC(l)))),c=Oe(a),f=u0(t),u=c0(t);return(l,x)=>{if(!U_(l))return J(new fs(t,l));const d=x?.errors==="all",g=[];let b=0;const S=x?.onExcessProperty==="error",p=x?.onExcessProperty==="preserve",w={};let A;if(S||p){A=Reflect.ownKeys(l);for(const o of A){const C=c(o,x);if(he(C)&&Kt(C))if(S){const E=new te(o,l,new wp(l[o],`is unexpected, expected: ${String(a)}`));if(d){g.push([b++,E]);continue}else return J(new Ot(t,l,E,w))}else w[o]=l[o]}}let F;const _=x?.exact===!0;for(let o=0;o<n.length;o++){const C=n[o][1],E=C.name,R=Object.prototype.hasOwnProperty.call(l,E);if(!R){if(C.isOptional)continue;if(_){const lt=new te(E,l,new yi(C));if(d){g.push([b++,lt]);continue}else return J(new Ot(t,l,lt,w))}}const I=n[o][0],D=I(l[E],x);if(he(D)){if(Kt(D)){const lt=new te(E,l,R?D.left:new yi(C));if(d){g.push([b++,lt]);continue}else return J(new Ot(t,l,lt,w))}w[E]=D.right}else{const lt=b++,Qt=E;F||(F=[]),F.push(({es:ht,output:re})=>Nt(ss(D),Vt=>{if(Kt(Vt)){const Tt=new te(Qt,l,R?Vt.left:new yi(C));return d?(ht.push([lt,Tt]),Ie):J(new Ot(t,l,Tt,re))}return re[Qt]=Vt.right,Ie}))}}for(let o=0;o<i.length;o++){const C=i[o],E=C[0],R=C[1],I=fb(l,C[2]);for(const D of I){const lt=E(D,x);if(he(lt)&&Fn(lt)){const Qt=R(l[D],x);if(he(Qt))if(Kt(Qt)){const ht=new te(D,l,Qt.left);if(d){g.push([b++,ht]);continue}else return J(new Ot(t,l,ht,w))}else Object.prototype.hasOwnProperty.call(r,D)||(w[D]=Qt.right);else{const ht=b++,re=D;F||(F=[]),F.push(({es:Vt,output:Tt})=>Nt(ss(Qt),dn=>{if(Kt(dn)){const li=new te(re,l,dn.left);return d?(Vt.push([ht,li]),Ie):J(new Ot(t,l,li,Tt))}else return Object.prototype.hasOwnProperty.call(r,D)||(Tt[D]=dn.right),Ie}))}}}}const v=({es:o,output:C})=>{if(Ht(o))return J(new Ot(t,l,Pe(o),C));if(x?.propertyOrder==="original"){const E=A||Reflect.ownKeys(l);for(const I of s)E.indexOf(I)===-1&&E.push(I);const R={};for(const I of E)Object.prototype.hasOwnProperty.call(C,I)&&(R[I]=C[I]);return et(R)}return et(C)};if(F&&F.length>0){const o=F;return Ve(()=>{const C={es:Ei(g),output:Object.assign({},w)};return Nt(un(o,E=>E(C),{concurrency:f,batching:u,discard:!0}),()=>v(C))})}return v({es:g,output:w})}}case"Union":{const n=W9(t.types),r=Reflect.ownKeys(n.keys),s=r.length,i=t.types.length,a=new Map;for(let u=0;u<i;u++)a.set(t.types[u],Oe(t.types[u]));const c=u0(t)??1,f=c0(t);return(u,l)=>{const x=[];let d=0,g=[];if(s>0)if(Al(u))for(let p=0;p<s;p++){const w=r[p],A=n.keys[w].buckets;if(Object.prototype.hasOwnProperty.call(u,w)){const F=String(u[w]);if(Object.prototype.hasOwnProperty.call(A,F))g=g.concat(A[F]);else{const{candidates:_,literals:v}=n.keys[w],o=Sn.make(v),C=_.length===i?new Fr([new ee(w,o,!1,!0)],[]):Sn.make(_);x.push([d++,new Ot(C,u,new te(w,u,new fs(o,u[w])))])}}else{const{candidates:F,literals:_}=n.keys[w],v=new ee(w,Sn.make(_),!1,!0),o=F.length===i?new Fr([v],[]):Sn.make(F);x.push([d++,new Ot(o,u,new te(w,u,new yi(v)))])}}else{const p=n.candidates.length===i?t:Sn.make(n.candidates);x.push([d++,new fs(p,u)])}n.otherwise.length>0&&(g=g.concat(n.otherwise));let b;for(let p=0;p<g.length;p++){const w=g[p],A=a.get(w)(u,l);if(he(A)&&(!b||b.length===0)){if(Fn(A))return A;x.push([d++,A.left])}else{const F=d++;b||(b=[]),b.push(_=>Ve(()=>"finalResult"in _?Ie:Nt(ss(A),v=>(Fn(v)?_.finalResult=v:_.es.push([F,v.left]),Ie))))}}const S=p=>Ht(p)?p.length===1&&p[0][1]._tag==="Type"?J(p[0][1]):J(new Ot(t,u,Pe(p))):J(new fs(t,u));if(b&&b.length>0){const p=b;return Ve(()=>{const w={es:Ei(x)};return Nt(un(p,A=>A(w),{concurrency:c,batching:f,discard:!0}),()=>"finalResult"in w?w.finalResult:S(w.es))})}return S(x)}}case"Suspend":{const n=lb(()=>Oe(t.f()));return(r,s)=>n()(r,s)}}},be=(t,e)=>n=>e(n)?et(n):J(new fs(t,n)),Ci=(t,e)=>{switch(t._tag){case"Declaration":{const n=Bb(t);if(pt(n))return Ci(n.value);break}case"TypeLiteral":{const n=[];for(let r=0;r<t.propertySignatures.length;r++){const s=t.propertySignatures[r],i=S1(s.type);g1(i)&&!s.isOptional&&n.push([s.name,i])}return n}case"TupleType":{const n=[];for(let r=0;r<t.elements.length;r++){const s=t.elements[r],i=S1(s.type);g1(i)&&!s.isOptional&&n.push([r,i])}return n}case"Refinement":return Ci(t.from);case"Suspend":return Ci(t.f());case"Transformation":return Ci(t.from)}return[]},W9=(t,e)=>{const n={},r=[],s=[];for(let i=0;i<t.length;i++){const a=t[i],c=Ci(a);if(c.length>0){s.push(a);for(let f=0;f<c.length;f++){const[u,l]=c[f],x=String(l.literal);n[u]=n[u]||{buckets:{},literals:[],candidates:[]};const d=n[u].buckets;if(Object.prototype.hasOwnProperty.call(d,x)){if(f<c.length-1)continue;d[x].push(a),n[u].literals.push(l),n[u].candidates.push(a)}else{d[x]=[a],n[u].literals.push(l),n[u].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:s}},ja=(t,e,n,r)=>{if(r?.isEffectAllowed===!0||he(t))return t;const s=new nS,i=C9(t,{scheduler:s});s.flush();const a=i.unsafePoll();if(a){if(l4(a))return et(a.value);const c=a.cause;return z$(c)?J(c.error):J(new Ap(e,n,G$(c)))}return J(new Ap(e,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},z9=([t],[e])=>t>e?1:t<e?-1:0;function Pe(t){return t.sort(z9).map(e=>e[1])}const K9=(t,e)=>{switch(t._tag){case"FinalTransformation":return t.decode;case"ComposeTransformation":return et;case"TypeLiteralTransformation":return n=>{let r=et(n);for(const s of t.propertySignatureTransformations){const[i,a]=[s.from,s.to],c=s.decode;r=rn(r,u=>{const l=c(Object.prototype.hasOwnProperty.call(u,i)?T(u[i]):k());return delete u[i],pt(l)&&(u[a]=l.value),u})}return r}}},se=(t,e=[])=>({value:t,forest:e}),La={formatIssue:t=>rn(ls(t),G9),formatIssueSync:t=>{const e=La.formatIssue(t);return he(e)?CE(e):Pn(e)},formatError:t=>La.formatIssue(t.issue),formatErrorSync:t=>La.formatIssueSync(t.issue)},G9=t=>t.value+MS(`
`,t.forest),MS=(t,e)=>{let n="";const r=e.length;let s;for(let i=0;i<r;i++){s=e[i];const a=i===r-1;n+=t+(a?"":"")+" "+s.value,n+=MS(t+(r>1&&!a?"  ":"   "),s.forest)}return n},J9=t=>{switch(t){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},H9=t=>{switch(t){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},NS=t=>"ast"in t?T(t.ast):k(),Pf=et(void 0),Y9=t=>NS(t).pipe(ju(G3),zt({onNone:()=>Pf,onSome:e=>{const n=e(t);return vn(n)?et({message:n,override:!1}):F9(n)?pe(n,r=>({message:r,override:!1})):vn(n.message)?et({message:n.message,override:n.override}):pe(n.message,r=>({message:r,override:n.override}))}})),ex=t=>e=>e._tag===t,DS=ex("Composite"),_p=ex("Refinement"),Ep=ex("Transformation"),Ti=t=>kr(Y9(t),e=>e!==void 0?!e.override&&(DS(t)||_p(t)&&t.kind==="From"||Ep(t)&&t.kind!=="Transformation")?Ep(t)||_p(t)?Ti(t.issue):Pf:et(e.message):Pf),RS=t=>NS(t).pipe(ju(Z3),PE(e=>e(t)),sn);function Z9(t){return $b(t).pipe(In(()=>Tb(t)),In(()=>Ob(t)),In(()=>qu(t)),vt(()=>`{ ${t.from} | filter }`))}function X9(t){return t.message!==void 0?t.message:`Expected ${qb(t.ast)?Z9(t.ast):String(t.ast)}, actual ${Kr(t.actual)}`}const Q9=t=>rn(Ti(t),e=>e??RS(t)??X9(t)),oa=t=>RS(t)??String(t.ast),t8=t=>t.message??"is forbidden",e8=t=>t.message??"is unexpected",n8=t=>{const e=J3(t.ast);if(pt(e)){const n=e.value();return vn(n)?et(n):n}return et(t.message??"is missing")},ls=t=>{switch(t._tag){case"Type":return rn(Q9(t),se);case"Forbidden":return et(se(oa(t),[se(t8(t))]));case"Unexpected":return et(se(e8(t)));case"Missing":return rn(n8(t),se);case"Transformation":return kr(Ti(t),e=>e!==void 0?et(se(e)):rn(ls(t.issue),n=>se(oa(t),[se(J9(t.kind),[n])])));case"Refinement":return kr(Ti(t),e=>e!==void 0?et(se(e)):rn(ls(t.issue),n=>se(oa(t),[se(H9(t.kind),[n])])));case"Pointer":return rn(ls(t.issue),e=>se(g3(t.path),[e]));case"Composite":return kr(Ti(t),e=>{if(e!==void 0)return et(se(e));const n=oa(t);return hb(t.issues)?rn(un(t.issues,ls),r=>se(n,r)):rn(ls(t.issues),r=>se(n,[r]))})}},PS=m(t=>Dn(t[0]),(t,...e)=>{const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}),r8=m(t=>Dn(t[0]),(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n}),bu=Symbol.for("effect/Schema");function oi(t){return class{[bu]=Cp;static ast=t;static annotations(n){return oi(Do(this.ast,n))}static pipe(){return q(this,arguments)}static toString(){return String(t)}static Type;static Encoded;static Context;static[bu]=Cp}}const Cp={_A:t=>t,_I:t=>t,_R:t=>t},Ip={schemaId:V3,message:db,missingMessage:Hl,identifier:Yl,title:yo,description:gb,examples:bb,default:yb,documentation:W3,jsonSchema:Sb,arbitrary:wb,pretty:Ab,equivalence:Fb,concurrency:_b,batching:Eb,parseIssueTitle:Cb,parseOptions:Ib,decodingFallback:kb},s8=t=>{if(!t)return{};const e={...t};for(const n in Ip)if(n in t){const r=Ip[n];e[r]=t[n],delete e[n]}return e},Do=(t,e)=>Ql(t,s8(e)),kp=t=>K(t,bu)&&Dn(t[bu]);class i8 extends oi(Db){}const o8=t=>Sn.make(t.map(e=>e.ast));function jS(t,e=o8(t)){return class extends oi(e){static annotations(r){return jS(this.members,Do(this.ast,r))}static members=[...t]}}function a8(...t){return Lb(t)?jS(t):gt(t)?t[0]:i8}const u8=(t,e)=>new Zl(t.map(n=>kp(n)?new Wu(n.ast,!1):n.ast),e.map(n=>kp(n)?new Vu(n.ast):n.ast),!0);function LS(t,e,n=u8(t,e)){return class extends oi(n){static annotations(s){return LS(this.elements,this.rest,Do(this.ast,s))}static elements=[...t];static rest=[...e]}}function US(t,e){return class extends LS([t],[t],e){static annotations(r){return US(this.value,Do(this.ast,r))}static value=t}}const c8=t=>US(t),f8=Symbol.for("effect/PropertySignature"),qS=t=>K(t,f8),l8=zb([Hl]),h8=(t,e)=>{const n=Reflect.ownKeys(t),r=[];if(n.length>0){const i=[],a=[],c=[];for(let f=0;f<n.length;f++){const u=n[f],l=t[u];if(qS(l)){const x=l.ast;switch(x._tag){case"PropertySignatureDeclaration":{const d=x.type,g=x.isOptional,b=x.annotations;i.push(new ee(u,d,g,!0,l8(x))),a.push(new ee(u,le(d),g,!0,b)),r.push(new ee(u,d,g,!0,b));break}case"PropertySignatureTransformation":{const d=x.from.fromKey??u;i.push(new ee(d,x.from.type,x.from.isOptional,!0,x.from.annotations)),a.push(new ee(u,x.to.type,x.to.isOptional,!0,x.to.annotations)),c.push(new SC(d,u,x.decode,x.encode));break}}}else i.push(new ee(u,l.ast,!1,!0)),a.push(new ee(u,le(l.ast),!1,!0)),r.push(new ee(u,l.ast,!1,!0))}if(gt(c)){const f=[],u=[];for(const l of e){const{indexSignatures:x,propertySignatures:d}=y1(l.key.ast,l.value.ast);d.forEach(g=>{i.push(g),a.push(new ee(g.name,le(g.type),g.isOptional,g.isReadonly,g.annotations))}),x.forEach(g=>{f.push(g),u.push(new zu(g.parameter,le(g.type),g.isReadonly))})}return new yC(new Fr(i,f,{[Z0]:"Struct (Encoded side)"}),new Fr(a,u,{[Z0]:"Struct (Type side)"}),new wC(c))}}const s=[];for(const i of e){const{indexSignatures:a,propertySignatures:c}=y1(i.key.ast,i.value.ast);c.forEach(f=>r.push(f)),a.forEach(f=>s.push(f))}return new Fr(r,s)},x8=(t,e)=>{const n=Reflect.ownKeys(t);for(const r of n){const s=t[r];if(e[r]===void 0&&qS(s)){const i=s.ast,a=i._tag==="PropertySignatureDeclaration"?i.defaultValue:i.to.defaultValue;a!==void 0&&(e[r]=a())}}return e};function VS(t,e,n=h8(t,e)){return class extends oi(n){static annotations(s){return VS(this.fields,this.records,Do(this.ast,s))}static fields={...t};static records=[...e];static make=(s,i)=>{const a=x8(t,{...s});return m8(i)?a:U9(this)(a)};static pick(...s){return Ws(PS(t,...s))}static omit(...s){return Ws(r8(t,...s))}}}function Ws(t,...e){return VS(t,e)}const p8=t=>oi(new Xl(()=>t().ast));function m8(t){return wl(t)?t:t?.disableValidation??!1}const WS=t=>{const[e,n,...r]=t;return n===void 0?h(e,O(xe)):h(r,Wr(Ri(e,n),(s,i)=>Uu(s,i,(a,c)=>Zn(a,c))))},zS=t=>Ht(t)?WS(t):[];zS.nonEmpty=WS;const KS=t=>Ht(t)?GS(t):[],GS=([t,...e])=>Ht(e)?h(d8([t,...e]),zS.nonEmpty):h(t,O(M(T,xe)));KS.nonEmpty=GS;const d8=t=>{const e=h(t,O(sb),Wl(at),g8);return h(t,O(r=>[...O(r,T),...e([...r])]))},g8=t=>e=>t===e.length?[]:Rn(k(),t-e.length),JS=Object.assign(Zn,{flip:t=>e=>Zn(t,e)}),HS=Object.assign(fn,{flip:t=>e=>fn(t,e)}),b8=Object.assign(Fs,{flip:t=>e=>Fs(t,e)}),y8=Object.assign(Di,{flip:t=>e=>Di(t,e)}),YS=t=>[go(t),ql(t)],S8=([t,...e])=>[t,e];function w8(t,e){return n=>{const[r,s]=S8(n);return[t(r),...h(s,O(e))]}}function A8(t,e){return n=>{const[r,s]=YS(n);return h(s,O(t),Zn(e(r)))}}const F8=t=>Wl(at)([0,...h(t,O(e=>sb(e)))]),_8=t=>e=>n=>t(n)(e),ai=t=>()=>t,ZS=(t,e)=>{const n=BigInt(e);let r=t/n;const s=[Number(t%n)];for(;r>0;)s.unshift(Number(r%n)),r=r/n;return s},XS=(t,e)=>{const n=BigInt(e);let r=0n,s=0n;for(const i of H0(t))s+=BigInt(i)*n**r++;return s},wc=(t,e)=>[Math.floor(t/e),t%e],nx=t=>wc(t,2),E8=t=>t>0,C8=t=>t!==0,I8=t=>t===0,k8=t=>t%2===0,v8=t=>t%2!==0,T8=t=>t<0,O8=t=>e=>t===e,QS=t=>{const[e,n]=nx(t);return[e+n,e]},tw=t=>{const[e,n]=nx(t);return[e,e+n]};var $8=Object.freeze({__proto__:null,Equivalence:mb,Order:at,between:B3,clamp:M3,decrement:Jl,divide:I3,floorMod:wc,floorMod2:nx,fromRadix:XS,greaterThan:O3,greaterThanOrEqualTo:$3,halfToFirst:QS,halfToSecond:tw,increment:Gl,isEqual:O8,isEven:k8,isNegative:T8,isNonZero:C8,isNumber:F3,isOdd:v8,isPositive:E8,isZero:I8,lessThan:v3,lessThanOrEqualTo:T3,max:D3,min:N3,multiply:pb,multiplyAll:C3,negate:_3,nextPow2:j3,parse:L3,remainder:P3,round:U3,sign:R3,subtract:xb,sum:Kl,sumAll:E3,toRadix:ZS,unsafeDivide:k3});const rx=t=>(e,n)=>Bl(t)(e,n)&&!Ru(t)(e,n);rx.curried=t=>e=>n=>Bl(t)(n,e)&&!Ru(t)(n,e);const Ro=(t,e)=>n=>[t(n),e(n)],Dr=(t,e)=>[t,e];Dr.withFirst=Object.assign(t=>e=>[t,e],{removeReadonly:t=>e=>[t,e]});const B8=t=>e=>[e,t];Dr.withSecond=B8;const er=t=>[t,t];er.mapFirst=t=>e=>h(e,er,Dl(t));er.mapSecond=t=>e=>h(e,er,Rl(t));const M8=([t,e])=>e(t),jf=t=>h(t,JE(R_)),cn=t=>(...e)=>{const n={};for(const r of e)n[r]=t;return n};var f0={},aa={},ua={},ca={},vp;function sx(){if(vp)return ca;vp=1,Object.defineProperty(ca,"__esModule",{value:!0});const t="(?:(?:\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]|(?:\\x1b\\x5d|\\x9d)[\\S\\s]*?(?:\\x1b\\x5c|[\\x07\\x9c])|(?:\\x1b[\\x50\\x58\\x5e\\x5f]|[\\x90\\x98\\x9e\\x9f])[\\S\\s]*?(?:\\x1b\\x5c|\\x9c)|\\x1b[\\x20-\\x2f]*[\\x30-\\x7e])";function e({global:n=!0}={}){return new RegExp(t,n?"g":void 0)}return ca.default=e,ca}var Tp;function ix(){if(Tp)return ua;Tp=1,Object.defineProperty(ua,"__esModule",{value:!0});const e=(0,sx().default)();function n(r){return typeof r=="string"?r.replace(e,""):String(r)}return ua.default=n,ua}var fa={},Op;function ox(){if(Op)return fa;Op=1,Object.defineProperty(fa,"__esModule",{value:!0});function t(e){return e<880?(e<=159?e<=31||e>=127:e>=768||e===173)?0:1:e<2816?(e<1425?e>=1155&&e<=1161:e<1552?e<=1474&&e!==1470&&e!==1472||e>=1476&&e<=1479&&e!==1478:e<1774?e<=1564&&e!==1563||e>=1611&&e<=1631||e===1648||e>=1750&&e<=1756||e>=1759&&e<=1764||e>=1767&&e!==1769:e<1867?e===1809||e>=1840:e<2070?e>=1958&&e<=1968||e>=2027&&e<=2035||e===2045:e<2094?e<=2083&&e!==2074||e>=2085&&e!==2088:e<2307?e>=2137&&e<=2139||e>=2199&&e<=2207||e>=2250&&e!==2274:e<2404?e>=2362&&e<=2364&&e!==2363||e>=2369&&e<=2376||e===2381||e>=2385&&e<=2391||e>=2402:e<2561?e===2433||e===2492||e>=2497&&e<=2500||e===2509||e>=2530&&e<=2531||e===2558:e<2689?e<=2562||e===2620||e>=2625&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e===2641||e>=2672&&e<=2673||e===2677:e<=2690||e===2748||e>=2753&&e<=2760&&e!==2758||e===2765||e>=2786&&e<=2787||e>=2810)?0:1:e<4256?(e<2916?e===2817||e===2876||e>=2879&&e<=2884&&e!==2880||e===2893||e>=2901&&e<=2902||e>=2914:e<3072?e===2946||e===3008||e===3021:e<3172?e===3072||e===3076||e===3132||e>=3134&&e<=3136||e>=3142&&e<=3149&&e!==3145||e>=3157&&e<=3158||e>=3170:e<3328?e===3201||e===3260||e===3263||e===3270||e>=3276&&e<=3277||e>=3298&&e<=3299:e<3428?e<=3329||e>=3387&&e<=3388||e>=3393&&e<=3396||e===3405||e>=3426:e<3543?e===3457||e===3530||e>=3538&&e!==3541:e<3663?e===3633||e>=3636&&e<=3642||e>=3655:e<3864?e===3761||e>=3764&&e<=3772||e>=3784&&e<=3790:e<4141?e<=3865||e===3893||e===3895||e===3897||e>=3953&&e<=3975&&e!==3967&&e!==3973||e>=3981&&e<=4028&&e!==3992||e===4038:e<=4154&&e!==4145&&e!==4152||e>=4157&&e<=4158||e>=4184&&e<=4185||e>=4190&&e<=4192||e>=4209&&e<=4212||e===4226||e>=4229&&e<=4230||e===4237||e===4253)?0:1:e<6832?e<5906?e<=4448?e>=4447?0:e>=4352?2:1:e>=4957&&e<=4959?0:1:(e<6068?e<=5908||e>=5938&&e<=5939||e>=5970&&e<=5971||e>=6002&&e<=6003:e<6155?e<=6077&&e!==6070||e===6086||e>=6089&&e<=6099||e===6109:e<6432?e<=6159||e>=6277&&e<=6278||e===6313:e<6460?e<=6434||e>=6439&&e<=6440||e===6450||e>=6457:e<6742?e>=6679&&e<=6680||e===6683:e<=6750&&e!==6743||e===6752||e===6754||e>=6757&&e<=6764||e>=6771&&e<=6780||e===6783)?0:1:e<8203?(e<6912?e<=6862:e<7040?e<=6915||e>=6964&&e<=6970&&e!==6965||e===6972||e===6978||e>=7019&&e<=7027:e<7086?e<=7041||e>=7074&&e<=7077||e>=7080&&e!==7082:e<7154?e>=7142&&e<=7145&&e!==7143||e>=7149&&e!==7150:e<7376?e>=7212&&e<=7219||e>=7222&&e<=7223:e<7418?e<=7392&&e!==7379||e>=7394&&e<=7400||e===7405||e===7412||e>=7416:e>=7616&&e<=7679)?0:1:e<11776?e<8986?e<=8432&&(e<=8207||e>=8234&&e<=8238||e>=8288&&e<=8303||e>=8400)?0:1:e<9748?(e<9204?e<=8987||e>=9001&&e<=9002||e>=9193&&e<=9196||e===9200||e===9203:e>=9725&&e<=9726)?2:1:e<9984?(e<=9925?e<=9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e>=9898&&e<=9899||e>=9917&&e<=9918||e>=9924:e===9934||e===9940||e===9962||e>=9970&&e<=9973&&e!==9972||e===9978||e===9981)?2:1:e<10176?(e<10067?e===9989||e>=9994&&e<=9995||e===10024||e===10060||e===10062:e<=10071&&e!==10070||e>=10133&&e<=10135||e===10160||e===10175)?2:1:e<11503?e>=11035&&(e<=11036||e===11088||e===11093)?2:1:e<=11505||e===11647||e>=11744?0:1:e<43392?e<12272?e>=11904&&(e<=12019&&e!==11930||e>=12032&&e<=12245)?2:1:e<12544?e<=12350?e>=12330&&e<=12333?0:2:e>=12353&&e<=12438||e>=12443?2:e>=12441?0:1:e<42607?e<=12773?e===12644?0:e>=12549&&e!==12592&&e!==12687?2:1:(e<12880?e>=12783&&e<=12871&&e!==12831:e<=42124||e<=42182&&e>=42128)?2:1:e<43204?(e<43008?e<=42621&&e!==42611||e>=42654&&e<=42655||e>=42736&&e<=42737:e===43010||e===43014||e===43019||e>=43045&&e<=43046||e===43052)?0:1:e<=43345?e<=43205||e>=43232&&e<=43249||e===43263||e>=43302&&e<=43309||e>=43335?0:1:e>=43360&&e<=43388?2:1:e<65536?e<44032?(e<43561?e<=43394||e===43443||e>=43446&&e<=43449||e>=43452&&e<=43453||e===43493:e<43696?e<=43566||e>=43569&&e<=43570||e>=43573&&e<=43574||e===43587||e===43596||e===43644:e<43714?e<=43700&&e!==43697||e>=43703&&e<=43704||e>=43710&&e!==43712:e<43968?e>=43756&&e<=43757||e===43766:e===44005||e===44008||e===44013)?0:1:e<65024?e<=64217?e<=55203||e>=63744&&e<=64109||e>=64112?2:1:e===64286?0:1:e<65132?e<65072?e<=65039||e>=65056?0:e<=65049?2:1:e<=65126&&e!==65107||e>=65128?2:1:e<65281?e===65279?0:1:e<=65510?e<=65376||e>=65504?2:e===65440?0:1:e>=65520&&e<=65528?0:1:e<70400?(e<68097?e===66045||e===66272||e>=66422&&e<=66426:e<68325?e<=68102&&e!==68100||e>=68108&&e<=68111||e>=68152&&e<=68154||e===68159:e<68904?e<=68326||e>=68900:e<69457?e>=68969&&e<=68973||e>=69291&&e<=69292||e>=69372&&e<=69375||e>=69446:e<69759?e>=69506&&e<=69509||e===69633||e>=69688&&e<=69702||e===69744||e>=69747&&e<=69748:e<69888?e<=69761||e>=69811&&e<=69814||e>=69817&&e<=69818||e===69826:e<70016?e<=69890||e>=69927&&e<=69940&&e!==69932||e===70003:e<70191?e<=70017||e>=70070&&e<=70078||e>=70089&&e<=70092||e===70095:e<70272?e<=70193||e>=70196&&e<=70199&&e!==70197||e===70206||e===70209:e===70367||e>=70371&&e<=70378)?0:1:e<92880?(e<=70626?e<70517?e<=70401||e>=70459&&e<=70460||e===70464||e>=70502&&e<=70508||e>=70512:e>=70587&&(e<=70592||e===70606||e===70608||e===70610||e>=70625):e<70852?e<=70750?e>=70712&&(e<=70719||e>=70722&&e<=70726&&e!==70725||e===70750):e>=70835&&(e<=70842&&e!==70841||e>=70847&&e!==70849):e<71233?e<71134?e>=71090&&(e<=71093||e>=71100&&e<=71104&&e!==71102||e>=71132):e>=71219&&(e<=71226||e>=71229&&e!==71230):e<71468?e<71352?e>=71339&&(e<=71341&&e!==71340||e>=71344&&e!==71350):e>=71453&&(e<=71455&&e!==71454||e>=71458&&e!==71462):e<72148?e<=71738?e>=71727&&e!==71736:e>=71995&&(e<=71998&&e!==71997||e===72003):e<72193?e<=72151||e>=72154&&e<=72155||e===72160:e<72273?e<=72202||e>=72243&&e<=72248||e>=72251&&e<=72254||e===72263:e<72850?e<=72345?e<=72278||e>=72281&&e<=72283||e>=72330&&e!==72343:e>=72752&&e<=72767&&e!==72759&&e!==72766:e<72887?e<=72871||e>=72874&&e<=72880||e>=72882&&e!==72884:e<73032?e>=73009&&e<=73014||e>=73018&&e<=73021&&e!==73019||e>=73023&&e!==73030:e<73472?e<=73460&&e>=73104&&(e<=73105||e===73109||e===73111||e>=73459):e<=73562?e<=73473||e>=73526&&e<=73530||e===73536||e===73538||e===73562:e<=78933?e===78912||e>=78919:e>=90398&&e<=90409||e>=90413&&e<=90415)?0:1:e<126976?e<94208?e<94099?e>=92912&&e<=92916||e>=92976&&e<=92982||e===94031||e>=94095?0:1:e>=94176&&e<=94193?e<=94179||e>=94192?2:e===94180?0:1:1:e<111356?(e<=101640?e<=100343||e>=100352&&e<=101589||e>=101631:e<=110882?e>=110576&&e!==110580&&e!==110588&&e!==110591:e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960)?2:1:e<119365?(e<119143?e>=113821&&e<=113827&&e!==113823||e>=118528&&e<=118573||e>=118576&&e<=118598:e<=119145||e>=119155&&e<=119170||e>=119173&&e<=119179||e>=119210&&e<=119213||e>=119362)?0:1:e<121344?e<=119670&&(e>=119552&&e<=119638||e>=119648)?2:1:(e<122880?e<=121398||e>=121403&&e<=121452||e===121461||e===121476||e>=121499&&e<=121519&&e!==121504:e<122923?e<=122904&&e!==122887||e>=122907&&e<=122913||e>=122915&&e!==122917:e<=125258&&(e===123023||e>=123184&&e<=123190||e===123566||e>=123628&&e<=123631||e>=124140&&e<=124143||e>=124398&&e<=124399||e>=125136&&e<=125142||e>=125252))?0:1:e<=205743?(e<127488?e===126980||e===127183||e===127374||e>=127377&&e<=127386:e<127744?e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e>=127568&&e<=127569||e>=127584&&e<=127589:e<128592?e<127992?e<=127776||e>=127789&&e<=127891&&e!==127798&&e!==127869||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988:e<=128252&&e!==128063&&e!==128065||e>=128255&&e<=128317||e>=128331&&e<=128359&&e!==128335||e===128378||e>=128405&&e<=128406||e===128420||e>=128507:e<128765?e>=128640&&(e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e>=128747&&e<=128748||e>=128756):e<129536?e>=128992&&e<=129003||e===129008||e>=129292&&e!==129339&&e!==129350:e<=129784?e>=129648&&(e<=129734?e<=129660||e>=129664&&e<=129673||e>=129679:e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776):e>=131072&&(e<=183969?e<=173791||e>=173824&&e<=177977||e>=177984&&e<=178205||e>=178208:e>=183984&&e<=191456||e>=191472&&e<=192093||e>=194560&&e<=195101||e>=196608&&e<=201546||e>=201552))?2:1:e>=917504&&e<=921599?0:1}return fa.default=t,fa}var l0={},$p;function Ac(){return $p||($p=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldBreak=t.isGraphemeBase=t.graphemeBreakProperty=t.InCBProps=t.Emoji_Modifier=t.GBProps=void 0;const e=0,n=1,r=2,s=3,i=4,a=5,c=6,f=7,u=8,l=9,x=10,d=11,g=12,b=13,S=14;t.GBProps={None:e,CR:n,LF:r,Control:s,Extend:i,ZWJ:a,RI:c,Prepend:f,SpacingMark:u,L:l,V:x,T:d,LV:g,LVT:b,ExtendedPictographic:S};const p=16,w=32,A=64;t.Emoji_Modifier=128,t.InCBProps={Extend:p,Linker:w,Consonant:A};function F(o){return o<127?o>31?e:o===13?n:o===10?r:s:o<880?o<=174?o<=159||o===173?s:o===169||o===174?S:e:o>=768?i|p:e:o<4352?o<1536?(o<1425?o>=1155&&o<=1161:o<=1469||o>=1471&&o<=1474&&o!==1472||o>=1476&&o<=1479&&o!==1478)?i|p:e:o<1792?o<1750?o<=1541?f:o===1564?s:o>=1552&&o<=1562||o>=1611&&o<=1631||o===1648?i|p:e:o===1757?f:o<=1764&&o!==1758||o>=1767&&o<=1773&&o!==1769?i|p:e:o<2048?o<=1866?o>=1840||o===1809?i|p:o===1807?f:e:(o<2027?o>=1958&&o<=1968:o<=2035||o===2045)?i|p:e:o<2307?o<=2139?o>=2070&&o<=2083&&o!==2074||o>=2085&&o<=2093&&o!==2088||o>=2137?i|p:e:o<2250?o>=2192&&o<=2193?f:o>=2199&&o<=2207?i|p:e:o===2274?f:i|p:o<2433?o<2366?o===2307||o===2363?u:o<2362?o>=2325?A:e:o<=2364?i|p:e:o<=2383?o>=2369&&o<=2376?i|p:o===2381?i|w:u:o<=2399?o<2392?o>=2385?i|p:e:A:o>=2402&&o<=2403?i|p:o>=2424&&o<=2431?A:e:o<2561?o<=2489?o<2453?o<=2435?o===2433?i|p:u:e:o<=2480&&o!==2473||o>=2486||o===2482?A:e:o<=2508?o<=2500?o<2494?o===2492?i|p:e:o<=2496&&o>=2495?u:i|p:o>=2507||o>=2503&&o<=2504?u:e:o<2530?o<2524?o===2509?i|w:o===2519?i|p:e:o<=2525||o===2527?A:e:o<=2545?o<=2531?i|p:o>=2544?A:e:o===2558?i|p:e:o<2689?o<2625?o===2563||o>=2622?u:o<=2562||o===2620?i|p:e:(o<=2637?o<=2626||o>=2631&&o<=2632||o>=2635:o===2641||o>=2672&&o<=2673||o===2677)?i|p:e:o<2816?o<=2745?o<2709?o<=2690?i|p:o===2691?u:e:o!==2729&&o!==2737&&o!==2740?A:e:o<=2760?o>=2750&&o<=2752?u:o>=2753&&o!==2758||o===2748?i|p:e:o<2786?o<=2764?o!==2762?u:e:o===2765?i|w:e:o>=2810||o<=2787?i|p:o===2809?A:e:o<2944?o<=2873?o<2837?o>=2818&&o<=2819?u:o===2817?i|p:e:o<=2864&&o!==2857||o>=2866&&o!==2868?A:e:o<=2892?o<=2884?o===2880?u:o>=2878||o===2876?i|p:e:o>=2887&&o<=2888||o>=2891?u:e:o<2908?o<2901?o===2893?i|w:e:o<=2903?i|p:e:o<2914?o<=2909||o===2911?A:e:o<=2915?i|p:o===2929?A:e:o<3072?o<3009?o===3007?u:o===2946||o>=3006?i|p:e:o<=3020?o<=3010||o>=3014&&o<=3016||o>=3018?u:e:o===3021||o===3031?i|p:e:o<3172?o<3134?o<=3076?o>=3073&&o<=3075?u:i|p:o>=3093&&o<=3129&&o!==3113?A:o===3132?i|p:e:o<=3148?o<=3140&&o>=3137?u:o<=3136||o>=3142&&o!==3145?i|p:e:o<=3162?o===3149?i|w:o>=3157&&o<=3158?i|p:o>=3160?A:e:o>=3170?i|p:e:o<3328?o<=3268?o<3260?o>=3202&&o<=3203?u:o===3201?i|p:e:o<3265?o===3262?u:o!==3261?i|p:e:o===3266?i|p:u:o<=3299?o>=3270&&o<=3272||o>=3274&&o<=3277||o>=3285&&o<=3286||o>=3298?i|p:e:o===3315?u:e:o<3428?o<=3396?o<3387?o>=3349?A:o<=3329?i|p:o<=3331?u:e:o>=3391&&o<=3392?u:o!==3389?i|p:e:o<=3404?o>=3398&&o!==3401?u:e:o===3405?i|w:o===3415||o>=3426?i|p:o===3406?f:e:o<3572?o<=3540?o>=3458&&o<=3459||o>=3536&&o<=3537?u:o===3457||o===3530||o>=3535?i|p:e:o===3542||o===3551?i|p:o>=3544&&o<=3550||o>=3570?u:e:o<3864?o<=3662?o===3635?u:o>=3633&&o<=3642&&o!==3634||o>=3655?i|p:e:o===3763?u:o>=3761&&o<=3772&&o!==3762||o>=3784&&o<=3790?i|p:e:o<4141?o<3953?o<=3897?o<=3865||o>=3893&&o!==3894&&o!==3896?i|p:e:o<=3903&&o>=3902?u:e:o<=3975?o===3967?u:o!==3973?i|p:e:o>=3981&&o<=4028&&o!==3992||o===4038?i|p:e:o<=4158?o===4145||o>=4155&&o<=4156?u:o!==4152?i|p:e:o<4229?o>=4182&&o<=4183||o===4228?u:o>=4184&&o<=4185||o>=4190&&o<=4192||o>=4209&&o<=4212||o===4226?i|p:e:o<=4230||o===4237||o===4253?i|p:e:o<7424?o<4608?o<4448?l:o<4520?x:d:o<6004?(o<=5909?o>=4957&&o<=4959||o>=5906:o>=5938&&o<=5940||o>=5970&&o<=5971||o>=6002)?i|p:e:o<6155?o>=6068&&o<=6099?o===6070||o>=6078&&o<=6085||o>=6087&&o<=6088?u:i|p:o===6109?i|p:e:o<6432?o===6158?s:o<=6159||o>=6277&&o<=6278||o===6313?i|p:e:o<6741?o<=6459?o<=6443?o<=6434||o>=6439&&o<=6440?i|p:u:o>=6448?o>=6457||o===6450?i|p:u:e:o>=6679&&o<=6683?o>=6681&&o<=6682?u:i|p:e:o<6912?o<6757?o<=6750?o>=6744||o===6742?i|p:u:o===6752||o===6754?i|p:e:o<=6780?o<=6764||o>=6771?i|p:u:o===6783||o>=6832&&o<=6862?i|p:e:o<7040?o<6964?o<=6915?i|p:o===6916?u:e:o<=6980?o<=6973||o>=6978?i|p:u:o>=7019&&o<=7027?i|p:e:o<7142?o<7074?o<=7041?i|p:o===7042||o===7073?u:e:o<=7085?o<=7077||o>=7080?i|p:u:e:o<7376?o<=7155?o>=7146&&o<=7148||o===7143||o===7150?u:i|p:o>=7204&&o<=7223?o<=7211||o>=7220&&o<=7221?u:i|p:e:o===7393||o===7415?u:o<=7378||o>=7380&&o<=7400||o===7405||o===7412||o>=7416&&o<=7417?i|p:e:o<8448?o<8203?o>=7616&&o<=7679?i|p:e:o===8205?a|p:o<=8303?o===8204?i:o<=8207||o>=8232&&o<=8238||o>=8288?s:o===8252||o===8265?S:e:o>=8400&&o<=8432?i|p:e:o<11264?(o<8986?o<8596?o===8482||o===8505:o<=8618&&(o<=8601||o>=8617):o<9211?o<=8987||o===9e3||o===9096||o===9167||o>=9193&&o<=9203||o>=9208:o<9728?o<9642?o===9410:o<=9726&&(o<=9643||o===9654||o===9664||o>=9723):o<10176?o<=10006?o<=9861&&o!==9734&&o!==9747||o>=9872&&o<=9989||o>=9992&&o!==10003&&o!==10005:o<=10036?o===10013||o===10017||o===10024||o>=10035:o<=10071?o===10052||o===10055||o===10060||o===10062||o>=10067&&o!==10070:o>=10083&&o<=10087||o>=10133&&o<=10135||o===10145||o===10160||o===10175:o>=10548&&o<=10549||o>=11013&&(o<=11015||o>=11035&&o<=11036||o===11088||o===11093))?S:e:o<44032?o<12330?o<=11775&&o>=11503&&(o<=11505||o===11647||o>=11744)?i|p:e:o<13056?o<=12442?o<=12335||o>=12441?i|p:o===12336||o===12349?S:e:o===12951||o===12953?S:e:o<43008?o>=42607&&o<=42737&&(o<=42621&&o!==42611||o>=42654&&o<=42655||o>=42736)?i|p:e:o<43136?o<43043?o===43010||o===43014||o===43019?i|p:e:o<=43047?o>=43045&&o<=43046?i|p:u:o===43052?i|p:e:o<43264?o<43204?o<=43137||o>=43188?u:e:o<=43205||o>=43232&&o<=43249||o===43263?i|p:e:o<43392?o<43335?o>=43302&&o<=43309?i|p:e:o<=43347?o===43346?u:i|p:o>=43360&&o<=43388?l:e:o<43561?o<43444?o<=43394||o===43443?i|p:o===43395?u:e:o<43456?o<=43445||o>=43450&&o<=43451||o>=43454?u:i|p:o===43456||o===43493?i|p:e:o<43648?o<=43574?o<=43566||o>=43569&&o<=43570||o>=43573?i|p:u:o===43587||o===43596||o===43644?i|p:o===43597?u:e:o<43776?o<43755?o>=43696&&o<=43700&&o!==43697||o>=43703&&o<=43704||o>=43710&&o<=43713&&o!==43712?i|p:e:o<=43759?o>=43756&&o<=43757?i|p:u:o===43765?u:o===43766?i|p:e:o>=44003?o<=44010?o===44005||o===44008?i|p:u:o===44012?u:o===44013?i|p:e:e:o<65536?o<=55203?(o-44032)%28?b:g:o<=55291?o>=55243?d:o>=55216&&o<=55238?x:e:o<=65071?(o<65024?o===64286:o<=65039||o>=65056)?i|p:e:o===65279||o>=65520&&o<=65531?s:o>=65438&&o<=65439?i|p:e:o<70784?o<69632?(o<68097?o<=66426&&(o===66045||o===66272||o>=66422):o<68325?o<=68102&&o!==68100||o>=68108&&o<=68111||o>=68152&&o<=68154||o===68159:o<69372?o<=68326||o>=68900&&o<=68903||o>=68969&&o<=68973||o>=69291&&o<=69292:o<=69375||o>=69446&&o<=69456||o>=69506&&o<=69509)?i|p:e:o<69762?o<=69634?o===69633?i|p:u:(o<69747?o>=69688&&o<=69702||o===69744:o<=69748||o>=69759)?i|p:e:o<69888?o<=69818?o<69808?o===69762?u:e:o<=69810||o>=69815&&o<=69816?u:i|p:o===69821||o===69837?f:o===69826?i|p:e:o<70016?o<=69940?o===69932?u:o<=69890||o>=69927?i|p:e:o<=69958?o>=69957?u:e:o===70003?i|p:e:o<70188?o<=70080?o<70070?o<=70017?i|p:o===70018||o>=70067?u:e:o===70079?u:i|p:o<=70092?o>=70089?i|p:o<=70083&&o>=70082?f:e:o===70094?u:o===70095?i|p:e:o<70400?o<=70199?o<=70190||o>=70194&&o<=70195?u:i|p:o<70367?o===70206||o===70209?i|p:e:o<=70378?o>=70368&&o<=70370?u:i|p:e:o<70517?o<70465?o<70459?o<=70403?o<=70401?i|p:u:e:o===70463?u:o!==70461?i|p:e:o<70477?o<=70468||o>=70471&&o<=70472||o>=70475?u:e:o<=70499?o>=70498?u:o===70477||o===70487?i|p:e:o>=70502&&o<=70508||o>=70512?i|p:e:o<70627?o<=70594?o>=70584?o>=70585&&o<=70586?u:o!==70593?i|p:e:e:o<=70601?o===70597||o>=70599?i|p:e:o<70606?o!==70603?u:e:o===70609?f:o<=70610||o>=70625?i|p:e:o<=70724?o>=70709?o<=70711||o>=70720&&o<=70721?u:i|p:e:o===70725?u:o===70726||o===70750?i|p:e:o<72704?o<71087?o>=70832&&o<=70851?o>=70833&&o<=70834||o===70841||o>=70843&&o<=70844||o===70846||o===70849?u:i|p:e:o<71216?o<=71099?o>=71088&&o<=71089||o>=71096?u:o<=71093?i|p:e:o<=71104?o===71102?u:i|p:o>=71132&&o<=71133?i|p:e:o<71339?o<=71232?o<=71218||o>=71227&&o<=71228||o===71230?u:i|p:e:o<71453?o<=71351?o===71340||o>=71342&&o<=71343?u:i|p:e:o<71984?o<=71467?o===71454||o===71462?u:o<=71455||o>=71458?i|p:e:o>=71724&&o<=71738?o<=71726||o===71736?u:i|p:e:o<72145?o<71995?o===71984?i|p:o<=71992&&o!==71990?u:e:o<=72003?o<=71998||o===72003?i|p:o===71999||o===72001?f:u:e:o<72193?o<=72151?o<=72147?u:i|p:o>=72154&&o<=72160?o>=72156&&o<=72159?u:i|p:o===72164?u:e:o<72273?o<72243?o<=72202?i|p:e:o<=72254?o<=72248||o>=72251?i|p:o===72249?u:f:o===72263?i|p:e:o<=72283?o>=72279&&o<=72280?u:i|p:o>=72324&&o<=72345?o<=72329?f:o===72343?u:i|p:e:o<126976?o<73009?o<=72767?o>=72751?o===72751||o===72766?u:o!==72759?i|p:e:e:o>=72850&&o<=72886?o===72873||o===72881||o===72884?u:o!==72872?i|p:e:e:o<73098?o<73020?o<=73014||o===73018?i|p:e:o<=73031&&o!==73022?o===73030?f:i|p:e:o<73459?o<=73108?o<=73102||o>=73107?u:o>=73104&&o<=73105?i|p:e:o<=73111?o===73110?u:i|p:e:o<78896?o<=73538?o<73472?o<=73462?o<=73460?i|p:u:e:o<73524?o<=73475?o<=73473?i|p:o===73474?f:u:e:o<73534?o<=73525?u:o<=73530?i|p:e:o<=73535?u:i|p:o===73562?i|p:e:o<94031?o<90398?o<=78933?o<=78911?s:o>=78919||o===78912?i|p:e:e:o<=92982?o<=90415?o<=90409||o>=90413?i|p:u:o>=92912&&o<=92982&&(o<=92916||o>=92976)?i|p:e:o===93539||o>=93543&&o<=93546?x:e:o<119141?o<=94098?o>=94033&&o<=94087?u:o===94031||o>=94095?i|p:e:o<=94193?o===94180||o>=94192?i|p:e:o>=113821&&o<=113827?o<=113822?i|p:o>=113824?s:e:o>=118528&&o<=118598&&(o<=118573||o>=118576)?i|p:e:o<121520?o<119163?o<119155?o<=119145||o>=119149?i|p:e:s:(o<=119364?o<=119170||o>=119173&&o<=119179||o>=119210&&o<=119213||o>=119362:o>=121344&&(o<=121398||o>=121403&&o<=121452||o===121461||o===121476||o>=121499&&o!==121504))?i|p:e:(o<=122922?o>=122880&&(o<=122904&&o!==122887||o>=122907&&o!==122914&&o!==122917):o<=124143?o<=123190?o===123023||o>=123184:o===123566||o>=123628&&o<=123631||o>=124140:o<125136?o>=124398&&o<=124399:o<=125258&&(o<=125142||o>=125252))?i|p:e:o<131070?o<127488?o<127405?(o<=127345?o<=127231||o>=127245&&o<=127247||o===127279||o>=127340:o>=127358&&o<=127386&&(o<=127359||o===127374||o>=127377))?S:e:o<=127461?S:c:o<127561?o>=127489&&o<=127551&&(o<=127503||o===127514||o===127535||o>=127538&&o!==127547)?S:e:o<128318?o>=127995&&o<=127999?i|p|t.Emoji_Modifier:S:(o<=129023?o>=128326&&(o<=128591||o>=128640&&o<=128767||o>=128884&&o<=128895||o>=128981):o<129198?o>=129036&&o<=129167&&(o<=129039||o>=129096&&o<=129103||o>=129114&&o<=129119||o>=129160):o<=129279||o>=129292&&o<=129791&&o!==129339&&o!==129350||o>=130048)?S:e:o>=917504?o>921599?e:o>=918e3||o<=917535||o>=917632&&o<=917759?s:i|p:e}t.graphemeBreakProperty=F;function _(o,C){return(C&15)===i?!!(C&t.Emoji_Modifier):o<1536?!(o<=159?o<=31||o>=127:o===173):o<2304?!(o<1872?o<=1541||o===1564||o===1757||o===1807:o>=2192&&(o<=2193||o===2274)):o<8304?!(o<8203?o===6158:o<=8207||o>=8232&&o<=8238||o>=8288):o<=65531?!(o===65279||o>=65519):o<=119162?!(o<78896?o===69821||o===69837:o<113824?o<=78911:o<=113827||o>=119155):!(o>=205744&&o<=983039&&(o<=917535||o>=918e3||o>=917632&&o<=917759))}t.isGraphemeBase=_;function v(o,C,E){var R;if(C===n&&E===r)return!1;if(C===s||C===n||C===r||E===s||E===n||E===r)return!0;if(C===l&&(E===l||E===x||E===g||E===b)||(C===g||C===x)&&(E===x||E===d)||(C===b||C===d)&&E===d||(E&15)===i||(E&15)===a||E===u||C===f)return!1;if(E&A&&C&48){let I=!!(C&w);for(let D=o.length-1;D>=0;D-=1){if(o[D]&A){if(I)return!1;break}if(o[D]&48){I||(I=!!(o[D]&w));continue}break}}if((C&15)===a&&E===S){let I=o.length-1;for(;(((R=o[I])!==null&&R!==void 0?R:0)&15)===i;)I-=1;return o[I]!==S}if(C===c&&E===c){let I=o.length-1;for(;o[I]===c;)I-=1;return(o.length-1-I)%2===1}return!0}t.shouldBreak=v})(l0)),l0}var je={},Bp;function ew(){if(Bp)return je;Bp=1,Object.defineProperty(je,"__esModule",{value:!0}),je.isEmojiModifierBase=je.isEmojiModifierSequence=je.isEmojiZwjSequence=je.emojiProps=void 0;function t(i){return i<11264?i<8986?i>=8482&&(i<8596?i===8482||i===8505:i<=8601||i>=8617&&i<=8618)?1:0:i<9211?i<9193?i<=8987?3:i===9e3||i===9167?1:0:i<=9203?i<=9196||i===9200||i===9203?3:1:i>=9208?1:0:i<9728?i<9723?(i<=9643?i===9410||i>=9642:i===9654||i===9664)?1:0:i<=9726?i<=9724?1:3:0:i<9760?i<9748?i<=9732||i===9742||i===9745?1:0:i<=9749?3:i===9752?1:i===9757?5:0:i<9800?(i<=9775?i<=9763&&i!==9761||i===9766||i===9770||i>=9774:i>=9784&&(i<=9786||i===9792||i===9794))?1:0:i<9876?i<=9832?i>=9823&&(i<=9824||i>=9827&&i!==9828&&i!==9831)?1:i<=9811?3:0:i===9851||i===9854||i===9874?1:i===9855||i===9875?3:0:i<9926?i<9898?i===9889?3:i<=9884&&i!==9880&&i!==9882||i===9888||i===9895?1:0:i<=9905?i<=9899?3:i>=9904?1:0:i>=9917&&i<=9925&&(i<=9918||i>=9924)?3:0:i<9984?i<9968?i<=9937?i===9928||i===9935||i===9937?1:i===9934?3:0:i===9939||i===9961?1:i===9940||i===9962?3:0:i<=9976?i<=9973?i<=9969||i===9972?1:3:i>=9975?1:0:i===9978||i===9981?3:i===9977?5:0:i<9998?i<9992?i===9986?1:i===9989?3:0:i>=9996?5:i>=9994?7:1:i<10035?i<=10017?i===9999||i===10002||i===10004||i===10006||i===10013||i===10017?1:0:i===10024?3:0:i<10072?i<10060?i<=10036||i===10052||i===10055?1:0:i<=10062&&i!==10061||i>=10067&&i!==10070?3:0:i<10176?i<=10135?i>=10133?3:i>=10083&&i<=10084?1:0:i===10160||i===10175?3:i===10145?1:0:i<=11015?i>=10548&&(i<=10549||i>=11013)?1:0:i>=11035&&(i<=11036||i===11088||i===11093)?3:0:i<128640?i<127344?i<=12953?i===12336||i===12349||i>=12951&&i!==12952?1:0:i===126980||i===127183?3:0:i<127387?i<=127359?i<=127345||i>=127358?1:0:i===127374||i>=127377?3:0:i<127744?i<127538?i===127489||i===127514||i===127535?3:i===127490?1:0:i<=127569?i===127543?1:i<=127546||i>=127568?3:0:0:i<127904?i<127780?i<=127776?3:i===127777?1:0:i<127870?i<=127788||i===127798||i===127869?1:3:i<=127891?i===127877?7:3:i>=127894&&(i<=127899&&i!==127896||i>=127902)?1:0:i<127992?i<127947?i>=127938&&i<=127940||i===127943||i===127946?7:3:i<127951?i<=127948?5:1:i<=127984?i<=127955||i>=127968?3:1:i===127988?3:i>=127987&&i!==127990?1:0:i<128254?i<=128062?i>=127995&&i<=127999?27:3:i<128066?i===128064?3:1:i<128102?i>=128068&&i<=128069||i>=128081?3:7:i<128129?i<=128120||i===128124?7:3:i<128136?i===128132?3:7:i<=128252?i===128143||i===128145||i===128170?7:3:1:i<128378?i<=128330?i>=128255&&i<=128317?3:i>=128329?1:0:i<128367?i<=128359&&i!==128335?3:0:i>=128372&&i<=128373?5:i<=128368||i>=128371?1:0:i<128421?i<=128397?i>=128394||i===128391?1:i===128378?7:0:i<128405?i===128400?5:0:i<=128406?7:i===128420?3:0:i<128507?(i<=128452?i===128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452:i<=128483?i>=128465&&i<=128467||i>=128476&&i<=128478||i>=128481&&i!==128482:i===128488||i===128495||i===128499||i===128506)?1:0:i<=128591?i<=128580||i>=128584&&i<=128586?3:7:0:i<128720?i<128692?i===128675?7:3:i<=128709?i<=128694||i===128704?7:3:i>=128715?i===128716?7:1:0:i<128765?i<128736?i<=128722||i>=128732||i>=128725&&i<=128727?3:0:i<128747?i<=128741||i===128745?1:0:i<=128748||i>=128756?3:i===128752||i===128755?1:0:i<129343?i<129292?i>=128992&&i<=129003||i===129008?3:0:i<=129311?i>=129304||i===129292||i===129295?7:3:i<=129327?i===129318?7:3:i===129338?3:i!==129339?7:0:i<129456?i===129399?7:i!==129350?3:0:i<=129535?i<=129465?i<=129459?19:i===129460||i===129463?3:7:i<=129484?i===129467?7:3:i===129488||i>=129502?3:7:i<=129730?i>=129648&&i<=129660||i>=129664&&i<=129673||i>=129679?3:0:i<=129784?i<=129733||i>=129776?7:i>=129759&&i<=129769||i>=129742&&i<=129756||i===129734?3:0:0}je.emojiProps=t;function e(i,a){const c=i.indexOf(8205,a);return c<0?i.length:c}function n(i){let a=0,c=e(i,a),f=i.slice(a,c);if(f.length>2)return!1;let[u,l]=f,x=t(u),d=!1;if(l===void 0){if(!(x&2))return!1}else if(l===65039){if((x&3)!==1)return!1;d=!0}else{const g=t(l);if(!(x&4&&g&8))return!1}for(a=c+1;a<i.length;a=c+1){if(c=e(i,a),f=i.slice(a,c),f.length>2)return!1;if([u,l]=f,x=t(u),l===void 0){if((x&1)===0)return!1}else if(l===65039){if(!(d?(x&3)===1:x&1))return!1}else{const g=t(l);if(!(x&4&&g&8))return!1}}return!0}je.isEmojiZwjSequence=n;function r(i,a){const c=t(i),f=t(a);return!!(c&4&&f&8)}je.isEmojiModifierSequence=r;function s(i){return!!(t(i)&4)}return je.isEmojiModifierBase=s,je}var Mp;function ax(){if(Mp)return aa;Mp=1,Object.defineProperty(aa,"__esModule",{value:!0});const t=ix(),e=ox(),n=Ac(),r=ew(),{RI:s,ExtendedPictographic:i,Extend:a,V:c,T:f}=n.GBProps;function u(l){if(typeof l!="string")return 0;const x=(0,t.default)(l);if(x.length===0)return 0;let d=0,g=x.codePointAt(0),b=[g],S=[],p=(0,e.default)(g),w=p,A=g===8205,F=(0,n.graphemeBreakProperty)(g),_=!1,v=0;for(let o=g>65535?2:1,C=x.length;o<C;o+=1){const E=x.codePointAt(o),R=(0,n.graphemeBreakProperty)(E);if((0,n.shouldBreak)(S,F,R))d+=A&&S[0]===i&&(0,r.isEmojiZwjSequence)(b)?p:w,S=[],b=[E],p=(0,e.default)(E),w=p,A=E===8205,_=!1,v=0;else{b.push(E),S.push(F);let I=!1;if((R&15)!==a)I=F===s&&R===s||R===c||R===f;else if(R&n.Emoji_Modifier)I=F===i&&(0,r.isEmojiModifierBase)(g),_||(_=!0);else{for(;!_&&v<S.length;v+=1)_=(0,n.isGraphemeBase)(b[v],S[v]);I=_}I||(w+=(0,e.default)(E)),E===8205&&(A=!0)}g=E,g>65535&&(o+=1),F=R}return d+=A&&S[0]===i&&(0,r.isEmojiZwjSequence)(b)?p:w,d}return aa.default=u,aa}var la={},Np;function ux(){if(Np)return la;Np=1,Object.defineProperty(la,"__esModule",{value:!0});const t=ix(),e=Ac();function n(r){if(typeof r!="string")return 0;const s=(0,t.default)(r);if(s.length===0)return 0;let i=1,a=[],c=s.codePointAt(0),f=(0,e.graphemeBreakProperty)(c);for(let u=c>65535?2:1,l=s.length;u<l;u+=1){c=s.codePointAt(u);const x=(0,e.graphemeBreakProperty)(c);(0,e.shouldBreak)(a,f,x)?(i+=1,a=[]):a.push(f),c>65535&&(u+=1),f=x}return i}return la.default=n,la}var ha={},Dp;function cx(){if(Dp)return ha;Dp=1,Object.defineProperty(ha,"__esModule",{value:!0});const t=Ac();function*e(n){if(typeof n!="string"||n.length===0)return;let r=0,s=[],i=n.codePointAt(0),a=(0,t.graphemeBreakProperty)(i);for(let c=i>65535?2:1,f=n.length;c<f;c+=1){i=n.codePointAt(c);const u=(0,t.graphemeBreakProperty)(i);(0,t.shouldBreak)(s,a,u)?(yield n.slice(r,c),s=[],r=c):s.push(a),i>65535&&(c+=1),a=u}yield n.slice(r)}return ha.default=e,ha}var xa={},Rp;function fx(){if(Rp)return xa;Rp=1,Object.defineProperty(xa,"__esModule",{value:!0});const t=ox(),e=Ac(),n=ew(),{RI:r,ExtendedPictographic:s,Extend:i,V:a,T:c}=e.GBProps;function*f(u){if(typeof u!="string"||u.length===0)return;let l=0,x=u.codePointAt(0),d=[x],g=[],b=(0,t.default)(x),S=b,p=x===8205,w=(0,e.graphemeBreakProperty)(x),A=!1,F=0;for(let _=x>65535?2:1,v=u.length;_<v;_+=1){const o=u.codePointAt(_),C=(0,e.graphemeBreakProperty)(o);if((0,e.shouldBreak)(g,w,C))yield[u.slice(l,_),p&&g[0]===s&&(0,n.isEmojiZwjSequence)(d)?b:S],g=[],d=[o],b=(0,t.default)(o),S=b,l=_,p=o===8205,A=!1,F=0;else{d.push(o),g.push(w);let E=!1;if((C&15)!==i)E=w===r&&C===r||C===a||C===c;else if(C&e.Emoji_Modifier)E=w===s&&(0,n.isEmojiModifierBase)(x),A||(A=!0);else{for(;!A&&F<g.length;F+=1)A=(0,e.isGraphemeBase)(d[F],g[F]);E=A}E||(S+=(0,t.default)(o)),o===8205&&(p=!0)}x=o,x>65535&&(_+=1),w=C}yield[u.slice(l),p&&g[0]===s&&(0,n.isEmojiZwjSequence)(d)?b:S]}return xa.default=f,xa}var pa={},Le={},xr={},Pp;function N8(){return Pp||(Pp=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.closingCodes=xr.styleCodes=void 0,xr.styleCodes=new Map([["1","22"],["2","22"],["3","23"],["4","24"],["4:","4:0"],["5","25"],["6","25"],["7","27"],["8","28"],["9","29"],["20","23"],["21","24"],["26","50"],["30","39"],["31","39"],["32","39"],["33","39"],["34","39"],["35","39"],["36","39"],["37","39"],["38","39"],["90","39"],["91","39"],["92","39"],["93","39"],["94","39"],["95","39"],["96","39"],["97","39"],["40","49"],["41","49"],["42","49"],["43","49"],["44","49"],["45","49"],["46","49"],["47","49"],["48","49"],["51","54"],["52","54"],["53","55"],["58","59"],["60","65"],["61","65"],["62","65"],["63","65"],["64","65"],["73","75"],["74","75"],["100","49"],["101","49"],["102","49"],["103","49"],["104","49"],["105","49"],["106","49"],["107","49"]]),xr.closingCodes=["0","4:0","22","23","24","25","27","28","29","39","49","50","54","55","59","65","75"]),xr}var jp;function Fc(){if(jp)return Le;jp=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.closeEscapes=Le.openEscapes=Le.parseEscape=Le.parseAnsi=void 0;const t=sx(),e=N8();function*n(u){let l=0;for(let x=(0,t.default)(),d=x.exec(u);d;d=x.exec(u)){const{0:g,index:b}=d;b>l&&(yield[u.slice(l,b),!1]),yield[g,!0],l=b+g.length}l<u.length&&(yield[u.slice(l),!1])}Le.parseAnsi=n;function*r(u){let l=!1,x={value:-1};const d=[x];for(let g=0;g<u.length;g+=1){const b=u.charCodeAt(g);switch(b){case 59:l=!1,x={value:-1},d.push(x);break;case 58:l=!0,x.subparams?x.subparams.push(-1):x.subparams=[-1];break;default:{const S=b-48;if(l){const p=x.subparams,w=p[p.length-1];p[p.length-1]=~w?w*10+S:S}else x.value=~x.value?x.value*10+S:S;break}}}for(let g=0;g<d.length;g+=1){const b=d[g],S=Math.max(b.value,0);if(S===38||S===48||S===58){if(b.subparams){yield{code:S,params:b};continue}const p=g;g+=1;let w=d[g];const A=w?.value===2?3:w?.value===5?1:0;for(let _=0;w&&!w.subparams&&_<A;_+=1,g+=1,w=d[g]);const F=Math.min(g+1,d.length)-p;yield{code:S,params:F===1?b:d.slice(p,p+F),incomplete:!w?.subparams&&F<A+2};continue}yield{code:S,params:b}}}function s(u){return u.subparams?[u.value,...u.subparams].map(l=>~l?String(l):"").join(":"):~u.value?String(u.value):""}const i=/(?:(?:\x1b\x5b|\x9b)([\x30-\x3b]*m)|(?:\x1b\x5d|\x9d)8;(.*?)(?:\x1b\x5c|[\x07\x9c]))/;function a(u,l,x){var d,g;const[,b,S]=(d=i.exec(l))!==null&&d!==void 0?d:[],p=[];if(b)for(const{code:A,params:F,incomplete:_}of r(b.slice(0,-1))){let v=String(A);if(A===4&&F.subparams&&(v+=F.subparams[0]===0?":0":":"),e.closingCodes.includes(v)){const C=v==="4:0"||v==="24"?["4:0","24"]:null;for(let E=u.length-1;E>=0;E-=1){const[,R,I]=u[E];R===1||p.includes(E)||v!=="0"&&(C?!C.includes(I):v!==I)||(v==="0"&&(u[E][2]="0"),p.push(E))}continue}const o=Array.isArray(F)?F.map(s).join(";"):s(F);u.push([o,_?2:0,(g=e.styleCodes.get(v))!==null&&g!==void 0?g:"0",x])}else if(S!==void 0){const A=S.replace(/^[^;]*;/,"");if(S===A)return null;if(A==="")for(let F=u.length-1;F>=0;F-=1){const[,_]=u[F];_!==1||p.includes(F)||(u[F][2]=l,p.push(F))}else{const F=l.replace(/((?:\x1b\x5d|\x9d)8;).*?(\x1b\x5c|[\x07\x9c])/,"$1;$2");u.push([l,1,F,x])}}else return null;const w=[];if(p.length)for(const A of p.sort((F,_)=>_-F))w.unshift(u[A]),u.splice(A,1);return w}Le.parseEscape=a;function c(u){let l="",x=[];for(const[d,g]of u){if(g===1){x.length&&(l+=`\x1B[${x.join(";")}m`,x=[]),l+=d;continue}x.push(d),g===2&&(l+=`\x1B[${x.join(";")}m`,x=[])}return l+(x.length?`\x1B[${x.join(";")}m`:"")}Le.openEscapes=c;function f(u){const l=[];let x="";for(const[,d,g]of u){if(d===1){x=g;continue}if(!l.includes(g)){if(g==="4:0"){l.includes("24")||l.unshift(g);continue}if(g==="24"){const b=l.indexOf("4:0");b<0?l.unshift(g):l[b]=g;continue}l.unshift(g)}}return x+(l.length?l.includes("0")?"\x1B[0m":`\x1B[${l.join(";")}m`:"")}return Le.closeEscapes=f,Le}var Lp;function D8(){if(Lp)return pa;Lp=1,Object.defineProperty(pa,"__esModule",{value:!0});const t=Fc();function e(n){const r=[],s=[],i=String(n).split(/\r?\n/g);for(let a=0,c=i.length;a<c;a+=1){let f="",u=-1;for(const[l,x]of(0,t.parseAnsi)(i[a])){if(x){const d=(0,t.parseEscape)(r,l,[a,u]);d&&u>=0?f+=(0,t.closeEscapes)(d.filter(([,,,[g,b]])=>g<a||g===a&&b<u)):d===null&&(f+=l);continue}f+=(0,t.openEscapes)(u<0?r:r.filter(([,,,[d,g]])=>d===a&&g===u)),f+=l,u+=1}u>=0&&(f+=(0,t.closeEscapes)(r.filter(([,,,[l,x]])=>l<a||l===a&&x<u))),s.push(f)}return s}return pa.default=e,pa}var pr={},Up;function R8(){if(Up)return pr;Up=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.sliceColumns=pr.sliceChars=void 0;const t=Fc(),e=cx(),n=fx(),r=ux(),s=ax();function i(a,c){return(f,u=0,l=1/0)=>{if(typeof f!="string"&&(f=String(f)),u<0||l<0){const p=c(f);u<0&&(u=p+u),l<0&&(l=p+l)}if(u>=l)return"";const x=[];let d="",g=0,b=-1,S=[];for(const[p,w]of(0,t.parseAnsi)(f)){if(w){const F=(0,t.parseEscape)(x,p,g);F?.length&&S.unshift(...F);continue}S.length&&(d+=(0,t.closeEscapes)(S.filter(([,,,F])=>F<=b)),S=[]);const A=g;for(const[F,_]of a(p))if((u<g||u===g&&_>0)&&g+_<=l&&(b<A&&(d+=(0,t.openEscapes)(x.filter(([,,,v])=>v>b)),b=A),d+=F),g+=_,g>=l)return d+(0,t.closeEscapes)(x.filter(([,,,v])=>v<=b))}return d+(0,t.closeEscapes)([...S,...x].filter(([,,,p])=>p<=b))}}return pr.sliceChars=i(function*(c){for(const f of(0,e.default)(c))yield[f,1]},r.default),pr.sliceColumns=i(n.default,s.default),pr}var ma={},qp;function P8(){if(qp)return ma;qp=1,Object.defineProperty(ma,"__esModule",{value:!0});const t=Fc(),e=cx(),n=ux();function r(s,i,a,c=""){const f=Math.max(i<0?i+(0,n.default)(s):i,0),u=f+a,l=[];let x="",d=0,g=0,b=!1,S=!1;for(const[p,w]of(0,t.parseAnsi)(String(s))){if(w){const A=(0,t.parseEscape)(l,p,[d,b]);A===null||!b&&(d<f||c)?x+=p:A.length&&(x+=(0,t.closeEscapes)(A.filter(([,,,[F,_]])=>!_&&(F<f||c)))),g+=p.length;continue}if(S)return x+(0,t.openEscapes)(l.filter(([,,,[A,F]])=>F||A===f&&!c))+s.slice(g);for(const A of(0,e.default)(p)){if(d<f)x+=A;else if(d===f&&!b&&(x+=c,b=!0),d===u)return x+(0,t.openEscapes)(l.filter(([,,,[F,_]])=>_||F===f&&!c))+s.slice(g);d+=1,g+=A.length}d===f&&!b&&(x+=c,b=!0),d===u&&(S=!0)}return b?x:x+c}return ma.default=r,ma}var da={},Vp;function j8(){if(Vp)return da;Vp=1,Object.defineProperty(da,"__esModule",{value:!0});const t=Fc(),e=fx(),n=ax();function r(a,c,f){return a.filter(([,,,[u,l]])=>u<c||u===c&&l<=f)}function s(a,c,f,u,l){if(c.trim()==="")return"";const x=[];let d="",g=0,b=-1/0,S=0,p="",w=-1/0,A="";const F=c.split(" ").map(_=>[_,(0,n.default)(_)]);for(const[_,[v,o]]of F.entries()){if(_>0&&((g>0||!l&&b<0)&&(g+=1),p+=(0,t.openEscapes)(a.filter(([,,,[E,R]])=>E>w||E===w&&R>S)),w=_,p+=" "),u&&(o>f||!l&&b<0&&g+o>f&&g<f)){const E=f-g;Math.floor((o-1)/f)<1+Math.floor((o-E-1)/f)&&!(!l&&b<0)&&(x.push(d+A+(0,t.closeEscapes)(r(a,b,S))),[g,d]=[0,""],[p,A]=["",""]);let I=0;for(const[D,lt]of(0,t.parseAnsi)(v)){if(lt){const ht=(0,t.parseEscape)(a,D,[_,I]);ht?.length&&(b<_?(A+=(0,t.closeEscapes)(r(ht,b,S)),p+=(0,t.closeEscapes)(ht.filter(([,,,[re]])=>re<w))):g&&(d+=(0,t.closeEscapes)(r(ht,b,S))));continue}const Qt=I;b<_&&(!l&&b<0&&g===f&&(x.push(d+p+(0,t.closeEscapes)(r(a,_,-1))),[g,d]=[0,""]),d+=g?p+(0,t.openEscapes)(a.filter(([,,,[ht]])=>ht===_)):(0,t.openEscapes)(a),[b,S]=[_,0],[w,p]=[_,""],A="");for(const[ht,re]of(0,e.default)(D))g+re>f&&(x.push(d+(0,t.closeEscapes)(r(a,b,S))),[g,d]=[0,(0,t.openEscapes)(a)]),S<Qt&&(g&&(d+=(0,t.openEscapes)(a.filter(([,,,[Vt,Tt]])=>Vt===b&&S<Tt))),S=Qt),d+=ht,g+=re,I+=re}continue}let C=0;for(const[E,R]of(0,t.parseAnsi)(v)){if(R){const I=(0,t.parseEscape)(a,E,[_,C]);I?.length&&(b<_?(A+=(0,t.closeEscapes)(r(I,b,S)),p+=(0,t.closeEscapes)(I.filter(([,,,[D]])=>D<w))):g&&(d+=(0,t.closeEscapes)(r(I,b,S))));continue}b<_&&((!l&&b<0?g===f:g+o>f&&g>0)&&(x.push(!l&&b<0?d+p+(0,t.closeEscapes)(r(a,_,-1)):d+A+(0,t.closeEscapes)(r(a,b,S))),[g,d]=[0,""]),d+=g?p+(0,t.openEscapes)(a.filter(([,,,[I]])=>I===_)):(0,t.openEscapes)(a),g+=o,[b,S]=[_,0],[w,p]=[_,""],A=""),S<C&&(d+=(0,t.openEscapes)(a.filter(([,,,[I,D]])=>I===b&&S<D)),S=C),d+=E,C+=E.length}!l&&b<0&&g===f&&(x.push(d+p+(0,t.closeEscapes)(r(a,_,-1))),[g,d]=[0,""],p=(0,t.openEscapes)(r(a,w,S)),A="")}g>0&&x.push(d+A+(0,t.closeEscapes)(r(a,b,S)));for(const _ of a)_[3]=[-1,0];return b>=0?x.join(`
`):""}function i(a,c,{hard:f=!1,trimLeft:u=!0}={}){const l=[];return String(a).split(/\r?\n/g).map(x=>s(l,x,c,f,u)).join(`
`)}return da.default=i,da}var Wp;function L8(){return Wp||(Wp=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wordWrap=t.spliceChars=t.sliceColumns=t.sliceChars=t.splitLines=t.codePointWidth=t.stripAnsi=t.ansiRegex=t.charWidths=t.splitChars=t.stringLength=t.stringWidth=void 0;var e=ax();Object.defineProperty(t,"stringWidth",{enumerable:!0,get:function(){return e.default}});var n=ux();Object.defineProperty(t,"stringLength",{enumerable:!0,get:function(){return n.default}});var r=cx();Object.defineProperty(t,"splitChars",{enumerable:!0,get:function(){return r.default}});var s=fx();Object.defineProperty(t,"charWidths",{enumerable:!0,get:function(){return s.default}});var i=sx();Object.defineProperty(t,"ansiRegex",{enumerable:!0,get:function(){return i.default}});var a=ix();Object.defineProperty(t,"stripAnsi",{enumerable:!0,get:function(){return a.default}});var c=ox();Object.defineProperty(t,"codePointWidth",{enumerable:!0,get:function(){return c.default}});var f=D8();Object.defineProperty(t,"splitLines",{enumerable:!0,get:function(){return f.default}});var u=R8();Object.defineProperty(t,"sliceChars",{enumerable:!0,get:function(){return u.sliceChars}}),Object.defineProperty(t,"sliceColumns",{enumerable:!0,get:function(){return u.sliceColumns}});var l=P8();Object.defineProperty(t,"spliceChars",{enumerable:!0,get:function(){return l.default}});var x=j8();Object.defineProperty(t,"wordWrap",{enumerable:!0,get:function(){return x.default}})})(f0)),f0}var nw=L8();const rw=new Intl.Segmenter,wt=([t,e])=>n=>`${t}${n}${e}`;wt.rest=(t,e)=>wt([t,e]);wt.parentheses=wt(["(",")"]);wt.squareBrackets=wt(["[","]"]);wt.curlyBrackets=wt(["{","}"]);wt.angledBrackets=wt(["<",">"]);wt.quote=Object.assign(wt(["'","'"]),{double:wt(['"','"']),fancy:wt(["",""]),parentheses:wt(["(",")"]),squareBrackets:wt(["[","]"]),curlyBrackets:wt(["{","}"]),angledBrackets:wt(["<",">"])});const zs=t=>t.join(`
`);zs.double=t=>t.join(`

`);zs.rest=(...t)=>zs(t);const rt=t=>t.join("");rt.rest=(...t)=>rt(t);rt.pipeline=t=>h(t,Qe(" | "));rt.slash=t=>h(t,Qe(" | "));rt.spaced=Object.assign(t=>t.join(" "),{rest:(...t)=>t.join(" "),literal:(...t)=>t.join(" ")});rt.comma=Object.assign(t=>t.join(", "),{rest:(...t)=>t.join(", ")});rt.quote=Object.assign(t=>h(t,O(wt.quote),rt.comma),{double:t=>h(t,O(wt.quote.double),rt.comma),fancy:t=>h(t,O(wt.quote.fancy),rt.comma)});const Lf=t=>e=>Qh(t,e),U8=Qh,_c=t=>t.toString(),q8=t=>e=>t===e,Rr=nw.stringWidth,V8=O(Rr),W8=t=>h(" ",ii(t));function Uf(t){return e=>{const n=Rr(e);if(t===0)return"";if(t-n<=0)return h(e,yu(0,t),rt);const[s,i]=wc(t,n);return h(e,Ro(ii(s),M(yu(0,i),rt)),rt)}}Uf.flipped=t=>e=>Uf(e)(t);function z8(t){return e=>{if(t===0)return[];const n=Ht(e)?e:[""],r=n.length;if(t-r<=0)return n.slice(0,t);const[i,a]=wc(t,r);return[...h(n,Rn(i),bo),...n.slice(0,a)]}}const K8=t=>Wl(at)([0,...V8(t)]),G8=t=>e=>{let n=0;for(;t(e[n])&&n<Rr(e);)n++;return e.slice(0,n)},Ec=t=>[...rw.segment(t)].map(e=>e.segment),yu=(t,e)=>n=>[...rw.segment(n)].map(r=>r.segment).slice(t,e??-1);class De extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=De.SharedFootPrint}static isFailure(e){return e!=null&&e.footprint===De.SharedFootPrint}}De.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");function J8(t){if(!t)throw new De}class qf{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}}qf.nil=new qf;function H8(){return qf.nil}function*Y8(t,e){for(const n of t)yield e(n)}function*Z8(t,e){for(const n of t)yield*e(n)}function*X8(t,e){for(const n of t)e(n)&&(yield n)}function*Q8(t,e){for(let n=0;n<e;++n){const r=t.next();if(r.done)break;yield r.value}}function*t7(t,e){let n=t.next();for(;!n.done&&e(n.value);)yield n.value,n=t.next()}function*e7(t,e){for(let n=t.next();!n.done;n=t.next())yield n.value;for(const n of e)for(let r=n.next();!r.done;r=n.next())yield r.value}const n7=Symbol.iterator;class L{static nil(){return new L(H8())}static of(...e){return new L(e[n7]())}constructor(e){this.g=e}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(e){return new L(Y8(this.g,e))}flatMap(e){return new L(Z8(this.g,e))}dropWhile(e){let n=!1;function*r(s){(n||!e(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(e){if(e<=0)return this;let n=0;function r(){return n++<e}return this.dropWhile(r)}takeWhile(e){return new L(t7(this.g,e))}take(e){return new L(Q8(this.g,e))}filter(e){return new L(X8(this.g,e))}every(e){for(const n of this.g)if(!e(n))return!1;return!0}has(e){for(const n of this.g)if(e(n))return[!0,n];return[!1,null]}join(...e){return new L(e7(this.g,e))}getNthOrLast(e){let n=e,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function nr(t){return new L(t)}const qt=Symbol.for("fast-check/cloneMethod");function Yr(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&qt in t&&typeof t[qt]=="function"}function ps(t){return Yr(t)?t[qt]():t}const r7=Object.defineProperty;class N{constructor(e,n,r=void 0){this.value_=e,this.context=n,this.hasToBeCloned=r!==void 0||Yr(e),this.readOnce=!1,this.hasToBeCloned?r7(this,"value",{get:r!==void 0?r:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[qt]():(this.readOnce=!0,this.value_):this.value_}}class bt{filter(e){return new o7(this,e)}map(e,n){return new i7(this,e,n)}chain(e){return new s7(this,e)}}class s7 extends bt{constructor(e,n){super(),this.arb=e,this.chainer=n}generate(e,n){const r=e.clone(),s=this.arb.generate(e,n);return this.valueChainer(s,e,r,n)}canShrinkWithoutContext(e){return!1}shrink(e,n){return this.isSafeContext(n)?(n.stoppedForOriginal?L.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(e,n.chainedContext).map(r=>{const s={...n,chainedContext:r.context,stoppedForOriginal:!0};return new N(r.value_,s)})):L.nil()}valueChainer(e,n,r,s){const i=this.chainer(e.value_),a=i.generate(n,s),c={originalBias:s,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new N(a.value_,c)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}}class i7 extends bt{constructor(e,n,r){super(),this.arb=e,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(e,n){const r=this.arb.generate(e,n);return this.valueMapper(r)}canShrinkWithoutContext(e){if(this.unmapper!==void 0)try{const n=this.unmapper(e);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(e,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(e);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return L.nil()}mapperWithCloneIfNeeded(e){const n=e.value,r=this.mapper(n);return e.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!Yr(r)&&Object.defineProperty(r,qt,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[r,n]}valueMapper(e){const[n,r]=this.mapperWithCloneIfNeeded(e),s={originalValue:r,originalContext:e.context};return new N(n,s)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalValue"in e&&"originalContext"in e}}class o7 extends bt{constructor(e,n){super(),this.arb=e,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(e,n){for(;;){const r=this.arb.generate(e,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,n){return this.arb.shrink(e,n).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}}function sw(t){return typeof t=="object"&&t!==null&&"generate"in t&&"shrink"in t&&"canShrinkWithoutContext"in t}function iw(t){if(!sw(t))throw new Error("Unexpected value received: not an instance of Arbitrary")}const ow=Function.prototype.apply,h0=Symbol("apply");function a7(t){try{return t.apply}catch{return}}function u7(t,e,n){const r=t;r[h0]=ow;const s=r[h0](e,n);return delete r[h0],s}function tt(t,e,n){return a7(t)===ow?t.apply(e,n):u7(t,e,n)}const aw=Array,$=BigInt,c7=BigInt64Array,f7=BigUint64Array,uw=Boolean,Su=Date,P=Error,cw=Float32Array,fw=Float64Array,l7=Int8Array,h7=Int16Array,x7=Int32Array,kn=Number,Zr=String,Cc=Set,p7=Uint8Array,m7=Uint8ClampedArray,d7=Uint16Array,g7=Uint32Array,b7=encodeURIComponent,Po=Map,Ua=Symbol,zp=Array.prototype.forEach,Kp=Array.prototype.indexOf,Gp=Array.prototype.join,Jp=Array.prototype.map,Hp=Array.prototype.filter,Yp=Array.prototype.push,Zp=Array.prototype.pop,Xp=Array.prototype.splice,Qp=Array.prototype.slice,tm=Array.prototype.sort,em=Array.prototype.every;function y7(t){try{return t.forEach}catch{return}}function S7(t){try{return t.indexOf}catch{return}}function w7(t){try{return t.join}catch{return}}function A7(t){try{return t.map}catch{return}}function F7(t){try{return t.filter}catch{return}}function _7(t){try{return t.push}catch{return}}function E7(t){try{return t.pop}catch{return}}function C7(t){try{return t.splice}catch{return}}function I7(t){try{return t.slice}catch{return}}function k7(t){try{return t.sort}catch{return}}function v7(t){try{return t.every}catch{return}}function lw(t,e){return y7(t)===zp?t.forEach(e):tt(zp,t,[e])}function _n(t,...e){return S7(t)===Kp?t.indexOf(...e):tt(Kp,t,e)}function ft(t,...e){return w7(t)===Gp?t.join(...e):tt(Gp,t,e)}function nt(t,e){return A7(t)===Jp?t.map(e):tt(Jp,t,[e])}function T7(t,e){return F7(t)===Hp?t.filter(e):tt(Hp,t,[e])}function j(t,...e){return _7(t)===Yp?t.push(...e):tt(Yp,t,e)}function hw(t){return E7(t)===Zp?t.pop():tt(Zp,t,[])}function xw(t,...e){return C7(t)===Xp?t.splice(...e):tt(Xp,t,e)}function Wt(t,...e){return I7(t)===Qp?t.slice(...e):tt(Qp,t,e)}function pw(t,...e){return k7(t)===tm?t.sort(...e):tt(tm,t,e)}function mw(t,...e){return v7(t)===em?t.every(...e):tt(em,t,e)}const nm=Date.prototype.getTime,rm=Date.prototype.toISOString;function O7(t){try{return t.getTime}catch{return}}function $7(t){try{return t.toISOString}catch{return}}function wu(t){return O7(t)===nm?t.getTime():tt(nm,t,[])}function B7(t){return $7(t)===rm?t.toISOString():tt(rm,t,[])}const sm=Set.prototype.add,im=Set.prototype.has;function M7(t){try{return t.add}catch{return}}function N7(t){try{return t.has}catch{return}}function lx(t,e){return M7(t)===sm?t.add(e):tt(sm,t,[e])}function om(t,e){return N7(t)===im?t.has(e):tt(im,t,[e])}const am=WeakMap.prototype.set,um=WeakMap.prototype.get;function D7(t){try{return t.set}catch{return}}function R7(t){try{return t.get}catch{return}}function P7(t,e,n){return D7(t)===am?t.set(e,n):tt(am,t,[e,n])}function j7(t,e){return R7(t)===um?t.get(e):tt(um,t,[e])}const cm=Map.prototype.set,fm=Map.prototype.get;function L7(t){try{return t.set}catch{return}}function U7(t){try{return t.get}catch{return}}function Pr(t,e,n){return L7(t)===cm?t.set(e,n):tt(cm,t,[e,n])}function rr(t,e){return U7(t)===fm?t.get(e):tt(fm,t,[e])}const lm=String.prototype.split,hm=String.prototype.startsWith,xm=String.prototype.endsWith,pm=String.prototype.substring,mm=String.prototype.toLowerCase,dm=String.prototype.toUpperCase,gm=String.prototype.padStart,bm=String.prototype.charCodeAt,ym=String.prototype.normalize,Sm=String.prototype.replace;function q7(t){try{return t.split}catch{return}}function V7(t){try{return t.startsWith}catch{return}}function W7(t){try{return t.endsWith}catch{return}}function z7(t){try{return t.substring}catch{return}}function K7(t){try{return t.toLowerCase}catch{return}}function G7(t){try{return t.toUpperCase}catch{return}}function J7(t){try{return t.padStart}catch{return}}function H7(t){try{return t.charCodeAt}catch{return}}function Y7(t){try{return t.normalize}catch{return}}function Z7(t){try{return t.replace}catch{return}}function ae(t,...e){return q7(t)===lm?t.split(...e):tt(lm,t,e)}function X7(t,...e){return V7(t)===hm?t.startsWith(...e):tt(hm,t,e)}function Q7(t,...e){return W7(t)===xm?t.endsWith(...e):tt(xm,t,e)}function dt(t,...e){return z7(t)===pm?t.substring(...e):tt(pm,t,e)}function Vf(t){return K7(t)===mm?t.toLowerCase():tt(mm,t,[])}function hx(t){return G7(t)===dm?t.toUpperCase():tt(dm,t,[])}function tB(t,...e){return J7(t)===gm?t.padStart(...e):tt(gm,t,e)}function Ks(t,e){return H7(t)===bm?t.charCodeAt(e):tt(bm,t,[e])}function eB(t,e){return Y7(t)===ym?t.normalize(e):tt(ym,t,[e])}function nB(t,e,n){return Z7(t)===Sm?t.replace(e,n):tt(Sm,t,[e,n])}const wm=Number.prototype.toString;function rB(t){try{return t.toString}catch{return}}function Ji(t,...e){return rB(t)===wm?t.toString(...e):tt(wm,t,e)}const sB=Object.prototype.hasOwnProperty,iB=Object.prototype.toString;function Au(t,e){return tt(sB,t,[e])}function Wf(t){return tt(iB,t,[])}const oB=Error.prototype.toString;function aB(t){return tt(oB,t,[])}class uB{constructor(e){this.producer=e}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function Jn(t){return new uB(t)}const dw=Array.isArray,cB=Object.defineProperty;function gw(t,e){return cB(t,qt,{value:()=>{const n=[];for(let r=0;r!==e.length;++r)j(n,e[r].value);return gw(n,e),n}})}function bw(t){let e=!1;const n=[],r=[];for(let s=0;s!==t.length;++s){const i=t[s];e=e||i.hasToBeCloned,j(n,i.value),j(r,i.context)}return e&&gw(n,t),new N(n,r)}function yw(t,e,n){const r=[],s=dw(n)?n:[];for(let i=0;i!==t.length;++i)j(r,Jn(()=>t[i].shrink(e[i],s[i]).map(a=>{const c=nt(e,(f,u)=>new N(ps(f),s[u]));return[...Wt(c,0,i),a,...Wt(c,i+1)]}).map(bw)));return L.nil().join(...r)}class fB extends bt{constructor(e){super(),this.arbs=e;for(let n=0;n!==e.length;++n){const r=e[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(e,n){const r=[];for(let s=0;s!==this.arbs.length;++s)j(r,this.arbs[s].generate(e,n));return bw(r)}canShrinkWithoutContext(e){if(!dw(e)||e.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(e[n]))return!1;return!0}shrink(e,n){return yw(this.arbs,e,n)}}function H(...t){return new fB(t)}const lB=Math.log;function Sw(t){return 2+~~(lB(t+1)*.4342944819032518)}let xx={};function hB(t){xx=t}function Ze(){return xx}function xB(){xx={}}const Hi=Symbol("UndefinedContextPlaceholder");function Gs(t){return t.context!==void 0?t:t.hasToBeCloned?new N(t.value_,Hi,()=>t.value):new N(t.value_,Hi)}class Yi{constructor(e,n){this.arb=e,this.predicate=n;const{asyncBeforeEach:r,asyncAfterEach:s,beforeEach:i,afterEach:a}=Ze()||{};if(r!==void 0&&i!==void 0)throw P(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(s!==void 0&&a!==void 0)throw P(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=r||i||Yi.dummyHook,this.afterEachHook=s||a||Yi.dummyHook}isAsync(){return!0}generate(e,n){const r=this.arb.generate(e,n!=null?Sw(n):void 0);return Gs(r)}shrink(e){if(e.context===void 0&&!this.arb.canShrinkWithoutContext(e.value_))return L.nil();const n=e.context!==Hi?e.context:void 0;return this.arb.shrink(e.value_,n).map(Gs)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(e){try{const n=await this.predicate(e);return n===void 0||n===!0?null:{error:new P("Property failed by returning false")}}catch(n){return De.isFailure(n)?n:{error:n}}}beforeEach(e){const n=this.beforeEachHook;return this.beforeEachHook=()=>e(n),this}afterEach(e){const n=this.afterEachHook;return this.afterEachHook=()=>e(n),this}}Yi.dummyHook=()=>{};class ww extends bt{constructor(e){super(),this.arb=e}generate(e,n){const r=this.arb.generate(e,n);return Gs(r)}canShrinkWithoutContext(e){return!0}shrink(e,n){if(n===void 0&&!this.arb.canShrinkWithoutContext(e))return L.nil();const r=n!==Hi?n:void 0;return this.arb.shrink(e,r).map(Gs)}}function pB(...t){if(t.length<2)throw new Error("asyncProperty expects at least two parameters");const e=Wt(t,0,t.length-1),n=t[t.length-1];lw(e,iw);const r=nt(e,s=>new ww(s));return new Yi(H(...r),s=>n(...s))}class Js{constructor(e,n){this.arb=e,this.predicate=n;const{beforeEach:r=Js.dummyHook,afterEach:s=Js.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=Ze()||{};if(i!==void 0)throw P(`"asyncBeforeEach" can't be set when running synchronous properties`);if(a!==void 0)throw P(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(e,n){const r=this.arb.generate(e,n!=null?Sw(n):void 0);return Gs(r)}shrink(e){if(e.context===void 0&&!this.arb.canShrinkWithoutContext(e.value_))return L.nil();const n=e.context!==Hi?e.context:void 0;return this.arb.shrink(e.value_,n).map(Gs)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(e){try{const n=this.predicate(e);return n===void 0||n===!0?null:{error:new P("Property failed by returning false")}}catch(n){return De.isFailure(n)?n:{error:n}}}beforeEach(e){const n=this.beforeEachHook;return this.beforeEachHook=()=>e(n),this}afterEach(e){const n=this.afterEachHook;return this.afterEachHook=()=>e(n),this}}Js.dummyHook=()=>{};function mB(...t){if(t.length<2)throw new Error("property expects at least two parameters");const e=Wt(t,0,t.length-1),n=t[t.length-1];lw(e,iw);const r=nt(e,s=>new ww(s));return new Js(H(...r),s=>n(...s))}var dB=214013,gB=2531011,bB=4294967295,yB=(1<<31)-1,x0=function(t){return t*dB+gB&bB},p0=function(t){return(t&yB)>>16},Aw=(function(){function t(e){this.seed=e}return t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var e=new t(this.seed),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=x0(this.seed),n=p0(e),r=x0(e),s=p0(r);this.seed=x0(r);var i=p0(this.seed),a=i+(s+(n<<15)<<15);return a|0},t.prototype.getState=function(){return[this.seed]},t})();function SB(t){var e=t.length===1;if(!e)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new Aw(t[0])}var wB=Object.assign(function(t){return new Aw(t)},{fromState:SB}),AB=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},FB=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Fw=(function(){function t(e,n){this.states=e,this.index=n}return t.twist=function(e){for(var n=e.slice(),r=0;r!==t.N-t.M;++r){var s=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M]^s>>>1^-(s&1)&t.A}for(var r=t.N-t.M;r!==t.N-1;++r){var i=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M-t.N]^i>>>1^-(i&1)&t.A}var a=(n[t.N-1]&t.MASK_UPPER)+(n[0]&t.MASK_LOWER);return n[t.N-1]=n[t.M-1]^a>>>1^-(a&1)&t.A,n},t.seeded=function(e){var n=Array(t.N);n[0]=e;for(var r=1;r!==t.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(t.F,s)+r|0}return n},t.from=function(e){return new t(t.twist(t.seeded(e)),0)},t.prototype.clone=function(){return new t(this.states,this.index)},t.prototype.next=function(){var e=new t(this.states,this.index),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.states[this.index];return e^=this.states[this.index]>>>t.U,e^=e<<t.S&t.B,e^=e<<t.T&t.C,e^=e>>>t.L,++this.index>=t.N&&(this.states=t.twist(this.states),this.index=0),e},t.prototype.getState=function(){return FB([this.index],AB(this.states),!1)},t.fromState=function(e){var n=e.length===t.N+1&&e[0]>=0&&e[0]<t.N;if(!n)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new t(e.slice(1),e[0])},t.N=624,t.M=397,t.R=31,t.A=2567483615,t.F=1812433253,t.U=11,t.S=7,t.B=2636928640,t.T=15,t.C=4022730752,t.L=18,t.MASK_LOWER=Math.pow(2,t.R)-1,t.MASK_UPPER=Math.pow(2,t.R),t})();function _B(t){return Fw.fromState(t)}var EB=Object.assign(function(t){return Fw.from(t)},{fromState:_B}),_w=(function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=e^this.s10^(e>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var c=1;c;c<<=1)i[a]&c&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},t})();function CB(t){var e=t.length===4;if(!e)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new _w(t[0],t[1],t[2],t[3])}var IB=Object.assign(function(t){return new _w(-1,~t,t|0,0)},{fromState:CB}),Ew=(function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,e},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var c=1;c;c<<=1)i[a]&c&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},t})();function kB(t){var e=t.length===4;if(!e)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new Ew(t[0],t[1],t[2],t[3])}var vB=Object.assign(function(t){return new Ew(-1,~t,t|0,0)},{fromState:kB});function Cw(t,e){if(t.sign!==e.sign)return px(t,{sign:-e.sign,data:e.data});for(var n=[],r=0,s=t.data,i=e.data,a=s.length-1,c=i.length-1;a>=0||c>=0;--a,--c){var f=a>=0?s[a]:0,u=c>=0?i[c]:0,l=f+u+r;n.push(l>>>0),r=~~(l/4294967296)}return r!==0&&n.push(r),{sign:t.sign,data:n.reverse()}}function TB(t){t.sign=1;for(var e=t.data,n=e.length-1;n>=0;--n)if(e[n]===4294967295)e[n]=0;else return e[n]+=1,t;return e.unshift(1),t}function OB(t,e){for(var n=Math.max(t.length,e.length),r=0;r<n;++r){var s=r+t.length-n,i=r+e.length-n,a=s>=0?t[s]:0,c=i>=0?e[i]:0;if(a<c)return!0;if(a>c)return!1}return!1}function px(t,e){if(t.sign!==e.sign)return Cw(t,{sign:-e.sign,data:e.data});var n=t.data,r=e.data;if(OB(n,r)){var s=px(e,t);return s.sign=-s.sign,s}for(var i=[],a=0,c=n.length-1,f=r.length-1;c>=0||f>=0;--c,--f){var u=c>=0?n[c]:0,l=f>=0?r[f]:0,x=u-l-a;i.push(x>>>0),a=x<0?1:0}return{sign:t.sign,data:i.reverse()}}function Am(t){for(var e=t.data,n=0;n!==e.length&&e[n]===0;++n);return n===e.length?(t.sign=1,t.data=[0],t):(e.splice(0,n),t)}function Iw(t,e){for(var n=t>2?~~(4294967296/t)*t:4294967296,r=e.unsafeNext()+2147483648;r>=n;)r=e.unsafeNext()+2147483648;return r%t}function kw(t,e,n){for(var r=e.length;;){for(var s=0;s!==r;++s){var i=s===0?e[0]+1:4294967296,a=Iw(i,n);t[s]=a}for(var s=0;s!==r;++s){var c=t[s],f=e[s];if(c<f)return t;if(c>f)break}}}function zf(t,e,n){var r=Am(TB(px(e,t))),s=r.data.slice(0),i=kw(s,r.data,n);return Am(Cw({sign:1,data:i},t))}function $B(t,e,n){if(n!=null){var r=n.clone();return[zf(t,e,r),r]}return function(s){var i=s.clone();return[zf(t,e,i),i]}}var Fm=typeof BigInt<"u"?BigInt:void 0,BB=typeof BigInt<"u"?BigInt(1):void 0,vw=typeof BigInt<"u"?BigInt(32):void 0,MB=typeof BigInt<"u"?BigInt(4294967296):void 0;function Fu(t,e,n){for(var r=e-t+BB,s=MB,i=1;s<r;)s<<=vw,++i;var a=_m(i,n);if(a<r)return a+t;if(a+r<s)return a%r+t;for(var c=s-s%r;a>=c;)a=_m(i,n);return a%r+t}function _m(t,e){for(var n=Fm(e.unsafeNext()+2147483648),r=1;r<t;++r){var s=e.unsafeNext();n=(n<<vw)+Fm(s+2147483648)}return n}function NB(t,e,n){if(n!=null){var r=n.clone();return[Fu(t,e,r),r]}return function(s){var i=s.clone();return[Fu(t,e,i),i]}}function m0(t,e){if(e<0){var n=-e;t.sign=-1,t.data[0]=~~(n/4294967296),t.data[1]=n>>>0}else t.sign=1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0;return t}function DB(t,e,n){var r=e.data[1],s=e.data[0],i=e.sign,a=n.data[1],c=n.data[0],f=n.sign;if(t.sign=1,i===1&&f===-1){var u=r+a,l=s+c+(u>4294967295?1:0);return t.data[0]=l>>>0,t.data[1]=u>>>0,t}var x=r,d=s,g=a,b=c;i===-1&&(x=a,d=c,g=r,b=s);var S=0,p=x-g;return p<0&&(S=1,p=p>>>0),t.data[0]=d-b-S,t.data[1]=p,t}var RB=Number.MAX_SAFE_INTEGER,PB={sign:1,data:[0,0]},jB={sign:1,data:[0,0]},Em={sign:1,data:[0,0]},d0=[0,0];function LB(t,e,n,r){var s=n<=RB?m0(Em,n):DB(Em,m0(PB,e),m0(jB,t));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,kw(d0,s.data,r),d0[0]*4294967296+d0[1]+t}function ys(t,e,n){var r=e-t;if(r<=4294967295){var s=Iw(r+1,n);return s+t}return LB(t,e,r,n)}function UB(t,e,n){if(n!=null){var r=n.clone();return[ys(t,e,r),r]}return function(s){var i=s.clone();return[ys(t,e,i),i]}}function mx(t,e){for(var n=0;n!=e;++n)t.unsafeNext()}function Tw(t,e){var n=t.clone();return mx(n,e),n}function Ow(t,e){for(var n=[],r=0;r!=e;++r)n.push(t.unsafeNext());return n}function qB(t,e){var n=t.clone(),r=Ow(n,e);return[r,n]}var VB="module",WB="7.0.1",zB="2248506b66d969d1a8b477a4dde8e24cbac33e6a",Si=Object.freeze({__proto__:null,__commitHash:zB,__type:VB,__version:WB,congruential32:wB,generateN:qB,mersenne:EB,skipN:Tw,uniformArrayIntDistribution:$B,uniformBigIntDistribution:NB,uniformIntDistribution:UB,unsafeGenerateN:Ow,unsafeSkipN:mx,unsafeUniformArrayIntDistribution:zf,unsafeUniformBigIntDistribution:Fu,unsafeUniformIntDistribution:ys,xoroshiro128plus:vB,xorshift128plus:IB}),Jt;(function(t){t[t.None=0]="None",t[t.Verbose=1]="Verbose",t[t.VeryVerbose=2]="VeryVerbose"})(Jt||(Jt={}));const KB=Date.now,GB=Math.min,JB=Math.random;class Et{constructor(e){const n=e||{};this.seed=Et.readSeed(n),this.randomType=Et.readRandomType(n),this.numRuns=Et.readNumRuns(n),this.verbose=Et.readVerbose(n),this.maxSkipsPerRun=n.maxSkipsPerRun!==void 0?n.maxSkipsPerRun:100,this.timeout=Et.safeTimeout(n.timeout),this.skipAllAfterTimeLimit=Et.safeTimeout(n.skipAllAfterTimeLimit),this.interruptAfterTimeLimit=Et.safeTimeout(n.interruptAfterTimeLimit),this.markInterruptAsFailure=n.markInterruptAsFailure===!0,this.skipEqualValues=n.skipEqualValues===!0,this.ignoreEqualValues=n.ignoreEqualValues===!0,this.logger=n.logger!==void 0?n.logger:r=>{console.log(r)},this.path=n.path!==void 0?n.path:"",this.unbiased=n.unbiased===!0,this.examples=n.examples!==void 0?n.examples:[],this.endOnFailure=n.endOnFailure===!0,this.reporter=n.reporter,this.asyncReporter=n.asyncReporter,this.includeErrorInReport=n.includeErrorInReport===!0}toParameters(){return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:this.timeout,skipAllAfterTimeLimit:this.skipAllAfterTimeLimit,interruptAfterTimeLimit:this.interruptAfterTimeLimit,markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:this.reporter,asyncReporter:this.asyncReporter,includeErrorInReport:this.includeErrorInReport}}static read(e){return new Et(e)}}Et.createQualifiedRandomGenerator=t=>e=>{const n=t(e);return n.unsafeJump===void 0&&(n.unsafeJump=()=>mx(n,42)),n};Et.readSeed=t=>{if(t.seed===void 0)return KB()^JB()*4294967296;const e=t.seed|0;if(t.seed===e)return e;const n=t.seed-e;return e^n*4294967296};Et.readRandomType=t=>{if(t.randomType===void 0)return Si.xorshift128plus;if(typeof t.randomType=="string")switch(t.randomType){case"mersenne":return Et.createQualifiedRandomGenerator(Si.mersenne);case"congruential":case"congruential32":return Et.createQualifiedRandomGenerator(Si.congruential32);case"xorshift128plus":return Si.xorshift128plus;case"xoroshiro128plus":return Si.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${t.randomType}'`)}const e=t.randomType(0);if("min"in e&&e.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(e.min)}`);if("max"in e&&e.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(e.max)}`);return"unsafeJump"in e?t.randomType:Et.createQualifiedRandomGenerator(t.randomType)};Et.readNumRuns=t=>t.numRuns!==void 0?t.numRuns:t.num_runs!==void 0?t.num_runs:100;Et.readVerbose=t=>t.verbose===void 0?Jt.None:typeof t.verbose=="boolean"?t.verbose===!0?Jt.Verbose:Jt.None:t.verbose<=Jt.None?Jt.None:t.verbose>=Jt.VeryVerbose?Jt.VeryVerbose:t.verbose|0;Et.safeTimeout=t=>{if(t!==void 0)return GB(t,2147483647)};function HB(t,e,n){let r=null;const s=new Promise(i=>{r=e(()=>{const a=new De(!0);i(a)},t)});return{clear:()=>n(r),promise:s}}class Cm{constructor(e,n,r,s,i,a){this.property=e,this.getTime=n,this.interruptExecution=s,this.setTimeoutSafe=i,this.clearTimeoutSafe=a,this.skipAfterTime=this.getTime()+r}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,n)}shrink(e){return this.property.shrink(e)}run(e){const n=this.skipAfterTime-this.getTime();if(n<=0){const r=new De(this.interruptExecution);return this.isAsync()?Promise.resolve(r):r}if(this.interruptExecution&&this.isAsync()){const r=HB(n,this.setTimeoutSafe,this.clearTimeoutSafe),s=Promise.race([this.property.run(e),r.promise]);return s.then(r.clear,r.clear),s}return this.property.run(e)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const YB=(t,e,n)=>{let r=null;const s=new Promise(i=>{r=e(()=>{i({error:new P(`Property timeout: exceeded limit of ${t} milliseconds`)})},t)});return{clear:()=>n(r),promise:s}};class ZB{constructor(e,n,r,s){this.property=e,this.timeMs=n,this.setTimeoutSafe=r,this.clearTimeoutSafe=s}isAsync(){return!0}generate(e,n){return this.property.generate(e,n)}shrink(e){return this.property.shrink(e)}async run(e){const n=YB(this.timeMs,this.setTimeoutSafe,this.clearTimeoutSafe),r=Promise.race([this.property.run(e),n.promise]);return r.then(n.clear,n.clear),r}runBeforeEach(){return Promise.resolve(this.property.runBeforeEach())}runAfterEach(){return Promise.resolve(this.property.runAfterEach())}}class $w{constructor(e){this.property=e}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,void 0)}shrink(e){return this.property.shrink(e)}run(e){return this.property.run(e)}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const Im=Array.from,km=typeof Buffer<"u"?Buffer.isBuffer:void 0,is=JSON.stringify,vm=Number.isNaN,XB=Object.keys,QB=Object.getOwnPropertySymbols,tM=Object.getOwnPropertyDescriptor,Tm=Object.getPrototypeOf,Om=Number.NEGATIVE_INFINITY,eM=Number.POSITIVE_INFINITY,$n=Symbol.for("fast-check/toStringMethod");function dx(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&$n in t&&typeof t[$n]=="function"}const Bn=Symbol.for("fast-check/asyncToStringMethod");function gx(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&Bn in t&&typeof t[Bn]=="function"}const nM=/^Symbol\((.*)\)$/;function rM(t){if(t.description!==void 0)return t.description;const e=nM.exec(Zr(t));return e&&e[1].length?e[1]:null}function $m(t){switch(t){case 0:return 1/t===Om?"-0":"0";case Om:return"Number.NEGATIVE_INFINITY";case eM:return"Number.POSITIVE_INFINITY";default:return t===t?Zr(t):"Number.NaN"}}function sM(t){let e=-1;for(const n in t){const r=Number(n);if(r!==e+1)return!0;e=r}return e+1!==t.length}function Se(t,e,n){const r=[...e,t];if(typeof t=="object"&&_n(e,t)!==-1)return"[cyclic]";if(gx(t)){const s=n(t);if(s.state==="fulfilled")return s.value}if(dx(t))try{return t[$n]()}catch{}switch(Wf(t)){case"[object Array]":{const s=t;if(s.length>=50&&sM(s)){const a=[];for(const c in s)vm(Number(c))||j(a,`${c}:${Se(s[c],r,n)}`);return a.length!==0?`Object.assign(Array(${s.length}),{${ft(a,",")}})`:`Array(${s.length})`}const i=ft(nt(s,a=>Se(a,r,n)),",");return s.length===0||s.length-1 in s?`[${i}]`:`[${i},]`}case"[object BigInt]":return`${t}n`;case"[object Boolean]":{const s=t==!0?"true":"false";return typeof t=="boolean"?s:`new Boolean(${s})`}case"[object Date]":{const s=t;return vm(wu(s))?"new Date(NaN)":`new Date(${is(B7(s))})`}case"[object Map]":return`new Map(${Se(Array.from(t),r,n)})`;case"[object Null]":return"null";case"[object Number]":return typeof t=="number"?$m(t):`new Number(${$m(Number(t))})`;case"[object Object]":{try{const a=t.toString;if(typeof a=="function"&&a!==Object.prototype.toString)return t.toString()}catch{return"[object Object]"}const s=a=>`${a==="__proto__"?'["__proto__"]':typeof a=="symbol"?`[${Se(a,r,n)}]`:is(a)}:${Se(t[a],r,n)}`,i=[...Tm(t)===null?["__proto__:null"]:[],...nt(XB(t),s),...nt(T7(QB(t),a=>{const c=tM(t,a);return c&&c.enumerable}),s)];return"{"+ft(i,",")+"}"}case"[object Set]":return`new Set(${Se(Array.from(t),r,n)})`;case"[object String]":return typeof t=="string"?is(t):`new String(${is(t)})`;case"[object Symbol]":{const s=t;if(Ua.keyFor(s)!==void 0)return`Symbol.for(${is(Ua.keyFor(s))})`;const i=rM(s);if(i===null)return"Symbol()";const a=i.startsWith("Symbol.")&&Ua[i.substring(7)];return s===a?i:`Symbol(${is(i)})`}case"[object Promise]":{const s=n(t);switch(s.state){case"fulfilled":return`Promise.resolve(${Se(s.value,r,n)})`;case"rejected":return`Promise.reject(${Se(s.value,r,n)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(t instanceof Error)return`new Error(${Se(t.message,r,n)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof km=="function"&&km(t))return`Buffer.from(${Se(Im(t.values()),r,n)})`;const s=Tm(t),i=s&&s.constructor&&s.constructor.name;if(typeof i=="string"){const c=t.values();return`${i}.from(${Se(Im(c),r,n)})`}break}}try{return t.toString()}catch{return Wf(t)}}function kt(t){return Se(t,[],()=>({state:"unknown",value:void 0}))}function Bw(t){const e=Ua(),n=[],r=new Po;function s(){let f=null;const u=()=>{f!==null&&clearTimeout(f)};return{delay:new Promise(x=>{f=setTimeout(()=>{f=null,x(e)},0)}),cancel:u}}const i={state:"unknown",value:void 0},a=function(u){const l=u;if(r.has(l))return r.get(l);const x=s(),d=Bn in u?Promise.resolve().then(()=>u[Bn]()):u;return d.catch(()=>{}),n.push(Promise.race([d,x.delay]).then(g=>{g===e?r.set(l,{state:"pending",value:void 0}):r.set(l,{state:"fulfilled",value:g}),x.cancel()},g=>{r.set(l,{state:"rejected",value:g}),x.cancel()})),r.set(l,i),i};function c(){const f=Se(t,[],a);return n.length===0?f:Promise.all(n.splice(0)).then(c)}return c()}async function bx(t){return Promise.resolve(Bw(t))}function Bm(t){return t===null?new De:t}function iM(...t){return t[1]?t[0].then(Bm):Bm(t[0])}function oM(t,e){return iM(t,e)}class Mm{constructor(e,n){this.property=e,this.skipRuns=n,this.coveredCases=new Map}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,n)}shrink(e){return this.property.shrink(e)}run(e){const n=kt(e);if(this.coveredCases.has(n)){const s=this.coveredCases.get(n);return this.skipRuns?oM(s,this.property.isAsync()):s}const r=this.property.run(e);return this.coveredCases.set(n,r),r}runBeforeEach(){return this.property.runBeforeEach()}runAfterEach(){return this.property.runAfterEach()}}const Nm=Date.now,g0=setTimeout,b0=clearTimeout;function aM(t,e){let n=t;return t.isAsync()&&e.timeout!==void 0&&(n=new ZB(n,e.timeout,g0,b0)),e.unbiased&&(n=new $w(n)),e.skipAllAfterTimeLimit!==void 0&&(n=new Cm(n,Nm,e.skipAllAfterTimeLimit,!1,g0,b0)),e.interruptAfterTimeLimit!==void 0&&(n=new Cm(n,Nm,e.interruptAfterTimeLimit,!0,g0,b0)),e.skipEqualValues&&(n=new Mm(n,!0)),e.ignoreEqualValues&&(n=new Mm(n,!1)),n}var En;(function(t){t[t.Success=0]="Success",t[t.Skipped=-1]="Skipped",t[t.Failure=1]="Failure"})(En||(En={}));class Ic{constructor(e,n){this.verbosity=e,this.interruptedAsFailure=n,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+ae(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?ae(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(e,n){const r={status:e,value:n,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(e,n,r){if(this.verbosity>=Jt.Verbose){const s=this.appendExecutionTree(En.Failure,e);this.currentLevelExecutionTrees=s.children}this.pathToFailure==null?this.pathToFailure=`${n}`:this.pathToFailure+=`:${n}`,this.value=e,this.failure=r}skip(e){this.verbosity>=Jt.VeryVerbose&&this.appendExecutionTree(En.Skipped,e),this.pathToFailure==null&&++this.numSkips}success(e){this.verbosity>=Jt.VeryVerbose&&this.appendExecutionTree(En.Success,e),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];const e=[];let n=this.rootExecutionTrees;for(;n.length>0&&n[n.length-1].status===En.Failure;){const r=n[n.length-1];e.push(r.value),n=r.children}return e}toRunDetails(e,n,r,s){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:e,counterexample:this.value,counterexamplePath:Ic.mergePaths(n,this.pathToFailure),errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()};const i=this.interruptedAsFailure||this.numSuccesses===0;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:e,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:s.toParameters()}}}Ic.mergePaths=(t,e)=>{if(t.length===0)return e;const n=t.split(":"),r=e.split(":"),s=+n[n.length-1]+ +r[0];return[...n.slice(0,n.length-1),`${s}`,...r.slice(1)].join(":")};class Mw{constructor(e,n,r,s){this.sourceValues=e,this.shrink=n,this.runExecution=new Ic(r,s),this.currentIdx=-1,this.nextValues=e}[Symbol.iterator](){return this}next(){const e=this.nextValues.next();return e.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentValue=e.value,++this.currentIdx,{done:!1,value:e.value.value_})}handleResult(e){e!=null&&typeof e=="object"&&!De.isFailure(e)?(this.runExecution.fail(this.currentValue.value_,this.currentIdx,e),this.currentIdx=-1,this.nextValues=this.shrink(this.currentValue)):e!=null?e.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentValue.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentValue.value_)}}class uM{constructor(e,n,r){this.initialValues=e,this.maxInitialIterations=n,this.remainingSkips=r}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){const e=this.initialValues.next();if(!e.done)return{value:e.value,done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}class we{constructor(e){this.internalRng=e.clone()}clone(){return new we(this.internalRng)}next(e){return ys(0,(1<<e)-1,this.internalRng)}nextBoolean(){return ys(0,1,this.internalRng)==1}nextInt(e,n){return ys(e??we.MIN_INT,n??we.MAX_INT,this.internalRng)}nextBigInt(e,n){return Fu(e,n,this.internalRng)}nextDouble(){const e=this.next(26),n=this.next(27);return(e*we.DBL_FACTOR+n)*we.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&typeof this.internalRng.getState=="function")return this.internalRng.getState()}}we.MIN_INT=-2147483648;we.MAX_INT=2147483647;we.DBL_FACTOR=Math.pow(2,27);we.DBL_DIVISOR=Math.pow(2,-53);function cM(t,e,n){return e.unsafeJump(),t.generate(new we(e),n)}function*Nw(t,e,n,r){for(let s=0;s!==r.length;++s)yield new N(r[s],void 0);for(let s=0,i=n(e);;++s)yield cM(t,i,s)}function fM(t,e,n){return()=>t.generate(new we(e),n)}function*Dw(t,e,n,r){yield*nt(r,a=>()=>new N(a,void 0));let s=0,i=n(e);for(;;)i=i.jump?i.jump():Tw(i,42),yield fM(t,i,s++)}function Dm(t){return t()}function Rw(t,e,n){const r=e,s=t.split(":").map(a=>+a);if(s.length===0)return r.map(Dm);if(!s.every(a=>!Number.isNaN(a)))throw new Error(`Unable to replay, got invalid path=${t}`);let i=r.drop(s[0]).map(Dm);for(const a of s.slice(1)){const c=i.getNthOrLast(0);if(c===null)throw new Error(`Unable to replay, got wrong path=${t}`);i=n(c).drop(a)}return i}const lM=Object.assign;function hM(t){return t.length===1?`Hint: ${t[0]}`:t.map((e,n)=>`Hint (${n+1}): ${e}`).join(`
`)}function xM(t,e){return`Encountered failures were:
- ${t.map(e).join(`
- `)}`}function yx(t,e){const n=[],r=[];for(const s of t.slice().reverse())r.push({depth:1,tree:s});for(;r.length!==0;){const s=r.pop(),i=s.tree,a=s.depth,c=i.status===En.Success?"\x1B[32m\x1B[0m":i.status===En.Failure?"\x1B[31m\x1B[0m":"\x1B[33m!\x1B[0m",f=Array(a).join(". ");n.push(`${f}${c} ${e(i.value)}`);for(const u of i.children.slice().reverse())r.push({depth:a+1,tree:u})}return`Execution summary:
${n.join(`
`)}`}function pM(t,e){const n=`Failed to run property, too many pre-condition failures encountered
{ seed: ${t.seed} }

Ran ${t.numRuns} time(s)
Skipped ${t.numSkips} time(s)`;let r=null;const s=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return t.verbose>=Jt.VeryVerbose?r=yx(t.executionSummary,e):j(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function mM(t){if(t instanceof P&&t.stack!==void 0)return t.stack;try{return Zr(t)}catch{}if(t instanceof P)try{return aB(t)}catch{}if(t!==null&&typeof t=="object")try{return Wf(t)}catch{}return"Failed to serialize errorInstance"}function dM(t,e){const r=t.runConfiguration.includeErrorInReport?`
Got ${nB(mM(t.errorInstance),/^Error: /,"error: ")}`:"",s=`Property failed after ${t.numRuns} tests
{ seed: ${t.seed}, path: "${t.counterexamplePath}", endOnFailure: true }
Counterexample: ${e(t.counterexample)}
Shrunk ${t.numShrinks} time(s)${r}`;let i=null;const a=[];return t.verbose>=Jt.VeryVerbose?i=yx(t.executionSummary,e):t.verbose===Jt.Verbose?i=xM(t.failures,e):j(a,"Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:s,details:i,hints:a}}function gM(t,e){const n=`Property interrupted after ${t.numRuns} tests
{ seed: ${t.seed} }`;let r=null;const s=[];return t.verbose>=Jt.VeryVerbose?r=yx(t.executionSummary,e):j(s,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:n,details:r,hints:s}}function Kf(t,e){if(!t.failed)return;const{message:n,details:r,hints:s}=t.counterexamplePath===null?t.interrupted?gM(t,e):pM(t,e):dM(t,e);let i=n;return r!=null&&(i+=`

${r}`),s.length>0&&(i+=`

${hM(s)}`),i}function Pw(t){return Kf(t,kt)}async function jw(t){const e=[];function n(a){const c=Bw(a);return typeof c=="string"?c:(e.push(Promise.all([a,c])),"")}const r=Kf(t,n);if(e.length===0)return r;const s=new Po(await Promise.all(e));function i(a){const c=rr(s,a);return c!==void 0?c:kt(a)}return Kf(t,i)}function Lw(t,e){if(e.runConfiguration.includeErrorInReport)throw new P(t);const n=P,r=new n(t,{cause:e.errorInstance});return"cause"in r||lM(r,{cause:e.errorInstance}),r}function bM(t){if(t.failed)throw Lw(Pw(t),t)}async function yM(t){if(t.failed)throw Lw(await jw(t),t)}function SM(t){return t.runConfiguration.asyncReporter?t.runConfiguration.asyncReporter(t):t.runConfiguration.reporter?t.runConfiguration.reporter(t):bM(t)}async function wM(t){return t.runConfiguration.asyncReporter?t.runConfiguration.asyncReporter(t):t.runConfiguration.reporter?t.runConfiguration.reporter(t):yM(t)}function AM(t,e,n,r,s){const i=new Mw(n,e,r,s);for(const a of i){t.runBeforeEach();const c=t.run(a);t.runAfterEach(),i.handleResult(c)}return i.runExecution}async function FM(t,e,n,r,s){const i=new Mw(n,e,r,s);for(const a of i){await t.runBeforeEach();const c=await t.run(a);await t.runAfterEach(),i.handleResult(c)}return i.runExecution}function Uw(t,e){if(t==null||t.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(t.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");const n=Et.read({...Ze(),...e});if(n.reporter!==void 0&&n.asyncReporter!==void 0)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(n.asyncReporter!==void 0&&!t.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");const r=aM(t,n),s=n.path.length===0||n.path.indexOf(":")===-1?n.numRuns:-1,i=n.numRuns*n.maxSkipsPerRun,a=(...l)=>r.shrink(...l),c=n.path.length===0?Nw(r,n.seed,n.randomType,n.examples):Rw(n.path,nr(Dw(r,n.seed,n.randomType,n.examples)),a),f=new uM(c,s,i),u=n.endOnFailure?L.nil:a;return r.isAsync()?FM(r,u,f,n.verbose,n.markInterruptAsFailure).then(l=>l.toRunDetails(n.seed,n.path,i,n)):AM(r,u,f,n.verbose,n.markInterruptAsFailure).toRunDetails(n.seed,n.path,i,n)}function _M(t,e){const n=Uw(t,e);if(t.isAsync())return n.then(wM);SM(n)}function EM(t,e){const n=Object.prototype.hasOwnProperty.call(t,"isAsync")?t:new Js(t,()=>!0);return e.unbiased===!0?new $w(n):n}function qw(t,e){const n=typeof e=="number"?{...Ze(),numRuns:e}:{...Ze(),...e},r=Et.read(n),s=EM(t,r),i=s.shrink.bind(s);return(r.path.length===0?nr(Nw(s,r.seed,r.randomType,r.examples)):Rw(r.path,nr(Dw(s,r.seed,r.randomType,r.examples)),i)).take(r.numRuns).map(c=>c.value_)}function CM(t,e){return[...qw(t,e)]}function IM(t){return(Math.round(t*100)/100).toFixed(2)}function kM(t,e,n){const r=typeof n=="number"?{...Ze(),numRuns:n}:{...Ze(),...n},s=Et.read(r),i={};for(const u of qw(t,n)){const l=e(u),x=Array.isArray(l)?l:[l];for(const d of x)i[d]=(i[d]||0)+1}const a=Object.entries(i).sort((u,l)=>l[1]-u[1]).map(u=>[u[0],`${IM(u[1]*100/s.numRuns)}%`]),c=a.map(u=>u[0].length).reduce((u,l)=>Math.max(u,l),0),f=a.map(u=>u[1].length).reduce((u,l)=>Math.max(u,l),0);for(const u of a)s.logger(`${u[0].padEnd(c,".")}..${u[1].padStart(f,".")}`)}const vM=Object.assign;function Gf(t,e,n,r){const s=n();let i=t.clone();const a={mrng:t.clone(),biasFactor:e,history:[]},c=x=>{const d=s[a.history.length];if(d!==void 0&&d.arb===x){const b=d.value;return j(a.history,{arb:x,value:b,context:d.context,mrng:d.mrng}),i=d.mrng.clone(),b}const g=x.generate(i,e);return j(a.history,{arb:x,value:g.value_,context:g.context,mrng:i.clone()}),g.value},f=(x,...d)=>c(r(x,d)),u={values(){return nt(a.history,x=>x.value)},[qt](){return Gf(t,e,n,r).value},[$n](){return kt(nt(a.history,x=>x.value))}},l=vM(f,u);return new N(l,a)}const y0=Array.isArray,Rm=Object.keys,TM=Object.is;function OM(t){const e=new Po;return function(r,s){const i=rr(e,r);if(i===void 0){const f=r(...s);return Pr(e,r,[{args:s,value:f}]),f}const a=i;for(const f of a)if(t(s,f.args))return f.value;const c=r(...s);return j(a,{args:s,value:c}),c}}function Vw(t,e){if(t!==null&&typeof t=="object"&&e!==null&&typeof e=="object"){if(y0(t)){if(!y0(e)||t.length!==e.length)return!1}else if(y0(e))return!1;if(Rm(t).length!==Rm(e).length)return!1;for(const n in t)if(!(n in e)||!Vw(t[n],e[n]))return!1;return!0}else return TM(t,e)}class $M extends bt{constructor(){super(...arguments),this.arbitraryCache=OM(Vw)}generate(e,n){return Gf(e,n,()=>[],this.arbitraryCache)}canShrinkWithoutContext(e){return!1}shrink(e,n){if(n===void 0)return L.nil();const r=n,s=r.mrng,i=r.biasFactor,a=r.history;return yw(a.map(c=>c.arb),a.map(c=>c.value),a.map(c=>c.context)).map(c=>{function f(){const u=c.value,l=c.context;return nt(a,(x,d)=>({arb:x.arb,value:u[d],context:l[d],mrng:x.mrng}))}return Gf(s,i,f,this.arbitraryCache)})}}function BM(){return new $M}const MM=Math.floor,Pm=Math.log;function NM(t){return MM(Pm(t)/Pm(2))}function DM(t){return t===$(0)?$(0):$(Zr(t).length)}function Ww(t,e,n){if(t===e)return[{min:t,max:e}];if(t<0&&e>0){const a=n(-t),c=n(e);return[{min:-a,max:c},{min:e-c,max:e},{min:t,max:t+a}]}const r=n(e-t),s={min:t,max:t+r},i={min:e-r,max:e};return t<0?[i,s]:[s,i]}const RM=Math.ceil,PM=Math.floor;function jm(t){return PM(t/2)}function Lm(t){return RM(t/2)}function Um(t,e,n){const r=t-e;function*s(){let a=n?void 0:e;const c=n?r:jm(r);for(let f=c;f>0;f=jm(f)){const u=f===r?e:t-f;yield new N(u,a),a=u}}function*i(){let a=n?void 0:e;const c=n?r:Lm(r);for(let f=c;f<0;f=Lm(f)){const u=f===r?e:t-f;yield new N(u,a),a=u}}return r>0?nr(s()):nr(i())}const qm=Math.sign,jM=Number.isInteger,LM=Object.is;class sr extends bt{constructor(e,n){super(),this.min=e,this.max=n}generate(e,n){const r=this.computeGenerateRange(e,n);return new N(e.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(e){return typeof e=="number"&&jM(e)&&!LM(e,-0)&&this.min<=e&&e<=this.max}shrink(e,n){if(!sr.isValidContext(e,n)){const r=this.defaultTarget();return Um(e,r,!0)}return this.isLastChanceTry(e,n)?L.of(new N(n,void 0)):Um(e,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,n){if(n===void 0||e.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=Ww(this.min,this.max,NM);if(r.length===1)return r[0];const s=e.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(e,n){return e>0?e===n+1&&e>this.min:e<0?e===n-1&&e<this.max:!1}static isValidContext(e,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&qm(e)!==qm(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const Vm=Number.isInteger;function UM(t){const e=t.min!==void 0?t.min:-2147483648,n=t.max!==void 0?t.max:2147483647;return{min:e,max:n}}function ot(t={}){const e=UM(t);if(e.min>e.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!Vm(e.min))throw new Error("fc.integer minimum value should be an integer");if(!Vm(e.max))throw new Error("fc.integer maximum value should be an integer");return new sr(e.min,e.max)}const Wm=new Map;function Sx(t){if(t===void 0)return{depth:0};if(typeof t!="string")return t;const e=rr(Wm,t);if(e!==void 0)return e;const n={depth:0};return Pr(Wm,t,n),n}function zw(){return{depth:0}}class qM{constructor(e,n,r){this.arb=e,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const VM=Math.min,WM=Math.max;class zM{constructor(e,n,r,s){this.arb=e,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(e){if(e!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===e&&j(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=e-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new N(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const e=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=e.length-1,new N(e[0],void 0);const n=this.mrng.nextInt(0,e.length-1),r=this.mrng.nextInt(0,e.length-1);return this.nextIndexInSlice=VM(n,r),this.lastIndexInSlice=WM(n,r),new N(e[this.nextIndexInSlice++],void 0)}}function zm(t,e,n,r){return r===void 0||n.length===0||e.nextInt(1,r)!==1?new qM(t,e,r):new zM(t,e,n,r)}const KM=Math.floor,Km=Math.log,Gm=Math.max,GM=Array.isArray;function S0(t,e){return t===e?t:t+KM(Km(e-t)/Km(2))}class kc extends bt{constructor(e,n,r,s,i,a,c){super(),this.arb=e,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=a,this.customSlices=c,this.lengthArb=ot({min:n,max:r}),this.depthContext=Sx(i)}preFilter(e){if(this.setBuilder===void 0)return e;const n=this.setBuilder();for(let r=0;r!==e.length;++r)n.tryAdd(e[r]);return n.getData()}static makeItCloneable(e,n){return e[qt]=()=>{const r=[];for(let s=0;s!==n.length;++s)j(r,n[s].value);return this.makeItCloneable(r,n),r},e}generateNItemsNoDuplicates(e,n,r,s){let i=0;const a=e(),c=zm(this.arb,r,this.customSlices,s);for(;a.size()<n&&i<this.maxGeneratedLength;){const f=c.next();a.tryAdd(f)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(e,n,r,s){const i=Gm(0,n-S0(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(e,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(e,n,r){const s=[],i=zm(this.arb,n,this.customSlices,r);i.attemptExact(e);for(let a=0;a!==e;++a){const c=i.next();j(s,c)}return s}safeGenerateNItems(e,n,r){const s=Gm(0,e-S0(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(e,n,r)}finally{this.depthContext.depth-=s}}wrapper(e,n,r,s){const i=n?this.preFilter(e):e;let a=!1;const c=[],f=[];for(let l=0;l!==i.length;++l){const x=i[l];a=a||x.hasToBeCloned,j(c,x.value),j(f,x.context)}a&&kc.makeItCloneable(c,i);const u={shrunkOnce:n,lengthContext:e.length===i.length&&r!==void 0?r:void 0,itemsContexts:f,startIndex:s};return new N(c,u)}generate(e,n){const r=this.applyBias(e,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,e,r.biasFactorItems):this.safeGenerateNItems(s,e,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(e,n){if(n===void 0)return{size:this.lengthArb.generate(e,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};if(e.nextInt(1,n)!==1)return{size:this.lengthArb.generate(e,void 0).value};if(e.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};const r=S0(this.minLength,this.maxGeneratedLength);return{size:ot({min:this.minLength,max:r}).generate(e,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(e){if(!GM(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let r=0;r!==e.length;++r)if(!(r in e)||!this.arb.canShrinkWithoutContext(e[r]))return!1;return this.preFilter(nt(e,r=>new N(r,void 0))).length===e.length}shrinkItemByItem(e,n,r){const s=[];for(let i=n.startIndex;i<r;++i)j(s,Jn(()=>this.arb.shrink(e[i],n.itemsContexts[i]).map(a=>{const c=nt(Wt(e,0,i),(u,l)=>new N(ps(u),n.itemsContexts[l])),f=nt(Wt(e,i+1),(u,l)=>new N(ps(u),n.itemsContexts[l+i+1]));return[[...c,a,...f],void 0,i]})));return L.nil().join(...s)}shrinkImpl(e,n){if(e.length===0)return L.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(e.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&e.length>this.minLength+1?1:0).map(s=>{const i=e.length-s.value;return[nt(Wt(e,i),(a,c)=>new N(ps(a),r.itemsContexts[c+i])),s.context,0]}).join(Jn(()=>e.length>this.minLength?this.shrinkItemByItem(e,r,1):this.shrinkItemByItem(e,r,e.length))).join(e.length>this.minLength?Jn(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:Wt(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(Wt(e,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new N(ps(e[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):L.nil())}shrink(e,n){return this.shrinkImpl(e,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const JM=Math.floor,HM=Math.min,Xr=2147483647,os=["xsmall","small","medium","large","xlarge"],YM=["-4","-3","-2","-1","=","+1","+2","+3","+4"],wx="small";function ZM(t,e){switch(e){case"xsmall":return JM(1.1*t)+1;case"small":return 2*t+10;case"medium":return 11*t+100;case"large":return 101*t+1e3;case"xlarge":return 1001*t+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${e}`)}}function jo(t,e){const n=_n(YM,t);if(n===-1)return t;const r=_n(os,e);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${e}`);const s=r+n-4;return s<0?os[0]:s>=os.length?os[os.length-1]:os[s]}function Zi(t,e,n,r){const{baseSize:s=wx,defaultSizeToMaxWhenMaxSpecified:i}=Ze()||{},a=t!==void 0?t:r&&i?"max":s;if(a==="max")return n;const c=jo(a,s);return HM(ZM(e,c),n)}function XM(t,e){if(typeof t=="number")return 1/t;const{baseSize:n=wx,defaultSizeToMaxWhenMaxSpecified:r}=Ze()||{},s=t!==void 0?t:e&&r?"max":n;if(s==="max")return 0;switch(jo(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function Ax(t){const{baseSize:e=wx}=Ze()||{};return t===void 0?e:jo(t,e)}function ut(t,e={}){const n=e.size,r=e.minLength||0,s=e.maxLength,i=e.depthIdentifier,a=s!==void 0?s:Xr,f=Zi(n,r,a,s!==void 0),u=e.experimentalCustomSlices||[];return new kc(t,r,f,a,i,void 0,u)}function ga(t){return t/$(2)}function Jm(t,e,n){const r=t-e;function*s(){let a=n?void 0:e;const c=n?r:ga(r);for(let f=c;f>0;f=ga(f)){const u=t-f;yield new N(u,a),a=u}}function*i(){let a=n?void 0:e;const c=n?r:ga(r);for(let f=c;f<0;f=ga(f)){const u=t-f;yield new N(u,a),a=u}}return r>0?nr(s()):nr(i())}class Fx extends bt{constructor(e,n){super(),this.min=e,this.max=n}generate(e,n){const r=this.computeGenerateRange(e,n);return new N(e.nextBigInt(r.min,r.max),void 0)}computeGenerateRange(e,n){if(n===void 0||e.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=Ww(this.min,this.max,DM);if(r.length===1)return r[0];const s=e.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}canShrinkWithoutContext(e){return typeof e=="bigint"&&this.min<=e&&e<=this.max}shrink(e,n){if(!Fx.isValidContext(e,n)){const r=this.defaultTarget();return Jm(e,r,!0)}return this.isLastChanceTry(e,n)?L.of(new N(n,void 0)):Jm(e,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?$(0):this.min<0?this.max:this.min}isLastChanceTry(e,n){return e>0?e===n+$(1)&&e>this.min:e<0?e===n-$(1)&&e<this.max:!1}static isValidContext(e,n){if(n===void 0)return!1;if(typeof n!="bigint")throw new Error("Invalid context type passed to BigIntArbitrary (#1)");const r=e>0&&n<0||e<0&&n>0;if(n!==$(0)&&r)throw new Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}}function QM(t){const n=$(-1)<<$(255),r=($(1)<<$(255))-$(1),s=t.min,i=t.max;return{min:s!==void 0?s:n-(i!==void 0&&i<$(0)?i*i:$(0)),max:i!==void 0?i:r+(s!==void 0&&s>$(0)?s*s:$(0))}}function tN(t){return t[0]===void 0?{}:t[1]===void 0?t[0]:{min:t[0],max:t[1]}}function ir(...t){const e=QM(tN(t));if(e.min>e.max)throw new Error("fc.bigInt expects max to be greater than or equal to min");return new Fx(e.min,e.max)}const eN=Object.getPrototypeOf;class wi extends bt{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return this.arb.shrink(e,n)}}function Kw(t){return eN(t)===wi.prototype&&t.generate===wi.prototype.generate&&t.canShrinkWithoutContext===wi.prototype.canShrinkWithoutContext&&t.shrink===wi.prototype.shrink?t:new wi(t)}function nN(t){return t===1}function rN(t){if(typeof t!="boolean")throw new Error("Unsupported input type");return t===!0?1:0}function Lo(){return Kw(ot({min:0,max:1}).map(nN,rN))}const Oi=Object.is;class sN{constructor(e){this.values=e,this.fastValues=new Cc(this.values);let n=!1,r=!1;if(om(this.fastValues,0))for(let s=0;s!==this.values.length;++s){const i=this.values[s];n=n||Oi(i,-0),r=r||Oi(i,0)}this.hasMinusZero=n,this.hasPlusZero=r}has(e){return e===0?Oi(e,0)?this.hasPlusZero:this.hasMinusZero:om(this.fastValues,e)}}class Gw extends bt{constructor(e){super(),this.values=e}generate(e,n){const r=this.values.length===1?0:e.nextInt(0,this.values.length-1),s=this.values[r];return Yr(s)?new N(s,r,()=>s[qt]()):new N(s,r)}canShrinkWithoutContext(e){return this.values.length===1?Oi(this.values[0],e):(this.fastValues===void 0&&(this.fastValues=new sN(this.values)),this.fastValues.has(e))}shrink(e,n){return n===0||Oi(e,this.values[0])?L.nil():L.of(new N(this.values[0],0))}}function an(...t){if(t.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new Gw(t)}function iN(t){return!t||!t.withBigInt?an(!1,null,void 0,0,"",NaN):an(!1,null,void 0,0,"",NaN,$(0))}function Pt(t){return new Gw([t])}class _x{constructor(){this.receivedLogs=[]}log(e){this.receivedLogs.push(e)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[qt](){return new _x}}function oN(){return Pt(new _x)}const aN=Number.NaN,uN=Number.isNaN;function Jw(t){return new Su(t)}function Hw(t){if(!(t instanceof Su)||t.constructor!==Su)throw new P("Not a valid value for date unmapper");return wu(t)}function cN(t){return e=>e===t?new Su(aN):Jw(e)}function fN(t){return e=>{const n=Hw(e);return uN(n)?t:n}}const Hm=Number.isNaN;function Yw(t={}){const e=t.min!==void 0?wu(t.min):-864e13,n=t.max!==void 0?wu(t.max):864e13,r=t.noInvalidDate;if(Hm(e))throw new Error("fc.date min must be valid instance of Date");if(Hm(n))throw new Error("fc.date max must be valid instance of Date");if(e>n)throw new Error("fc.date max must be greater or equal to min");if(r)return ot({min:e,max:n}).map(Jw,Hw);const s=n+1;return ot({min:e,max:n+1}).map(cN(s),fN(s))}const lN=Symbol.iterator,hN=Array.isArray,xN=Object.is;class Ex extends bt{constructor(e,n){super(),this.arb=e,this.numValues=n}generate(e,n){const r=[];if(this.numValues<=0)return this.wrapper(r);for(let s=0;s!==this.numValues-1;++s)j(r,this.arb.generate(e.clone(),n));return j(r,this.arb.generate(e,n)),this.wrapper(r)}canShrinkWithoutContext(e){if(!hN(e)||e.length!==this.numValues)return!1;if(e.length===0)return!0;for(let n=1;n<e.length;++n)if(!xN(e[0],e[n]))return!1;return this.arb.canShrinkWithoutContext(e[0])}shrink(e,n){return e.length===0?L.nil():new L(this.shrinkImpl(e,n!==void 0?n:[])).map(r=>this.wrapper(r))}*shrinkImpl(e,n){const r=nt(e,(i,a)=>this.arb.shrink(i,n[a])[lN]());let s=nt(r,i=>i.next());for(;!s[0].done;)yield nt(s,i=>i.value),s=nt(r,i=>i.next())}static makeItCloneable(e,n){return e[qt]=()=>{const r=[];for(let s=0;s!==n.length;++s)j(r,n[s].value);return this.makeItCloneable(r,n),r},e}wrapper(e){let n=!1;const r=[],s=[];for(let i=0;i!==e.length;++i){const a=e[i];n=n||a.hasToBeCloned,j(r,a.value),j(s,a.context)}return n&&Ex.makeItCloneable(r,e),new N(r,s)}}function pN(t,e){return new Ex(t,e)}class Ym{constructor(e){this.isEqual=e,this.data=[]}tryAdd(e){for(let n=0;n!==this.data.length;++n)if(this.isEqual(this.data[n],e))return!1;return j(this.data,e),!0}size(){return this.data.length}getData(){return this.data}}const mN=Number.isNaN;class dN{constructor(e){this.selector=e,this.selectedItemsExceptNaN=new Cc,this.data=[]}tryAdd(e){const n=this.selector(e);if(mN(n))return j(this.data,e),!0;const r=this.selectedItemsExceptNaN.size;return lx(this.selectedItemsExceptNaN,n),r!==this.selectedItemsExceptNaN.size?(j(this.data,e),!0):!1}size(){return this.data.length}getData(){return this.data}}const gN=Object.is;class bN{constructor(e){this.selector=e,this.selectedItemsExceptMinusZero=new Cc,this.data=[],this.hasMinusZero=!1}tryAdd(e){const n=this.selector(e);if(gN(n,-0))return this.hasMinusZero?!1:(j(this.data,e),this.hasMinusZero=!0,!0);const r=this.selectedItemsExceptMinusZero.size;return lx(this.selectedItemsExceptMinusZero,n),r!==this.selectedItemsExceptMinusZero.size?(j(this.data,e),!0):!1}size(){return this.data.length}getData(){return this.data}}class yN{constructor(e){this.selector=e,this.selectedItems=new Cc,this.data=[]}tryAdd(e){const n=this.selector(e),r=this.selectedItems.size;return lx(this.selectedItems,n),r!==this.selectedItems.size?(j(this.data,e),!0):!1}size(){return this.data.length}getData(){return this.data}}function SN(t){if(typeof t.comparator=="function"){if(t.selector===void 0){const c=t.comparator,f=(u,l)=>c(u.value_,l.value_);return()=>new Ym(f)}const r=t.comparator,s=t.selector,i=c=>s(c.value_),a=(c,f)=>r(i(c),i(f));return()=>new Ym(a)}const e=t.selector||(r=>r),n=r=>e(r.value_);switch(t.comparator){case"IsStrictlyEqual":return()=>new dN(n);case"SameValueZero":return()=>new yN(n);case"SameValue":case void 0:return()=>new bN(n)}}function Uo(t,e={}){const n=e.minLength!==void 0?e.minLength:0,r=e.maxLength!==void 0?e.maxLength:Xr,s=Zi(e.size,n,r,e.maxLength!==void 0),i=e.depthIdentifier,a=SN(e),c=new kc(t,n,s,r,i,a,[]);return n===0?c:c.filter(f=>f.length>=n)}const wN=Object.create,AN=Object.defineProperty,FN=Object.getOwnPropertyDescriptor,_N=Object.getPrototypeOf,EN=Object.getOwnPropertySymbols,CN=Object.getOwnPropertyNames,IN=Object.entries;function kN(t){const e=t[1]?wN(null):{};for(const n of t[0])AN(e,n[0],{enumerable:!0,configurable:!0,writable:!0,value:n[1]});return e}function vN(t){return function(n){const r=FN(t,n);return r!==void 0&&!!r.configurable&&!!r.enumerable&&!!r.writable&&r.get===void 0&&r.set===void 0}}function TN(t){if(typeof t!="object"||t===null)throw new P("Incompatible instance received: should be a non-null object");const e=_N(t)===null,n="constructor"in t&&t.constructor===Object;if(!e&&!n)throw new P("Incompatible instance received: should be of exact type Object");if(EN(t).length>0)throw new P("Incompatible instance received: should contain symbols");if(!mw(CN(t),vN(t)))throw new P("Incompatible instance received: should contain only c/e/w properties without get/set");return[IN(t),e]}function ON(t){return t[0]}function Cx(t,e,n={}){const r=!!n.noNullPrototype;return H(Uo(H(t,e),{minLength:n.minKeys,maxLength:n.maxKeys,size:n.size,selector:ON,depthIdentifier:n.depthIdentifier}),r?Pt(!1):Lo()).map(kN,TN)}const $N=Number.POSITIVE_INFINITY,BN=Number.MAX_SAFE_INTEGER,MN=Number.isInteger,NN=Math.floor,DN=Math.pow,RN=Math.min;class Xi extends bt{static from(e,n,r){if(e.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let a=0;a!==e.length;++a){if(e[a].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const f=e[a].weight;if(s+=f,!MN(f))throw new Error(`${r} expects weights to be integer values`);if(f<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:XM(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:$N,withCrossShrink:!!n.withCrossShrink};return new Xi(e,i,Sx(n.depthIdentifier))}constructor(e,n,r){super(),this.warbs=e,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==e.length;++i)s+=e[i].weight,j(this.cumulatedWeights,s);this.totalWeight=s}generate(e,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(e,0,n);const r=e.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(e,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(e){return this.canShrinkWithoutContextIndex(e)!==-1}shrink(e,n){if(n!==void 0){const s=n,i=s.selectedIndex,a=s.originalBias,f=this.warbs[i].arbitrary.shrink(e,s.originalContext).map(u=>this.mapIntoValue(i,u,null,a));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,a));const u=s.cachedGeneratedForFirst;return L.of(u).join(f)}return f}const r=this.canShrinkWithoutContextIndex(e);return r===-1?L.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(e,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(e){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(e)||this.warbs[0].fallbackValue===void 0)return L.nil()}finally{--this.context.depth}const n=new N(this.warbs[0].fallbackValue.default,void 0);return L.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(e){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(e)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(e))return n}return-1}finally{--this.context.depth}}mapIntoValue(e,n,r,s){const i={selectedIndex:e,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new N(n.value,i)}safeGenerateForIndex(e,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(e,r),i=this.mustFallbackToFirstInShrink(n)?e.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(e){return e!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const e=this.constraints.depthBias;if(e<=0||this.warbs[0].weight===0)return 0;const n=NN(DN(1+e,this.context.depth))-1;return-RN(this.totalWeight*n,BN)||0}}function PN(t){return t!=null&&typeof t=="object"&&!("generate"in t)&&!("arbitrary"in t)&&!("weight"in t)}function Zm(t){return sw(t)?{arbitrary:t,weight:1}:t}function Lt(...t){const e=t[0];if(PN(e)){const r=nt(Wt(t,1),Zm);return Xi.from(r,e,"fc.oneof")}const n=nt(t,Zm);return Xi.from(n,{},"fc.oneof")}const jN=Number.isInteger;function Gn(t){const e=typeof t=="number"?t:t&&t.max!==void 0?t.max:2147483647;if(e<0)throw new Error("fc.nat value should be greater than or equal to 0");if(!jN(e))throw new Error("fc.nat maximum value should be an integer");return new sr(0,e)}const LN=Object.is;function UN(t){let e=0;const n=[];for(const r of t){const s=e;e=s+r.num;const i=e-1;n.push({from:s,to:i,entry:r})}return n}function qN(t,e){let n=0,r=t.length;for(;r-n>1;){const s=~~((n+r)/2);e<t[s].from?r=s:n=s}return t[n]}function VN(t){const e=UN(t);return function(r){const s=qN(e,r);return s.entry.build(r-s.from)}}function WN(t){const e={mapping:new Po,negativeZeroIndex:void 0};let n=0;for(let r=0;r!==t.length;++r){const s=t[r];for(let i=0;i!==s.num;++i){const a=s.build(i);a===0&&1/a===kn.NEGATIVE_INFINITY?e.negativeZeroIndex=n:Pr(e.mapping,a,n),++n}}return e}function zN(t){let e=null;return function(r){e===null&&(e=WN(t));const s=LN(r,-0)?e.negativeZeroIndex:rr(e.mapping,r);if(s===void 0)throw new P("Unknown value encountered cannot be built using this mapToConstant");return s}}function KN(t){if(t.length===0)throw new P("fc.mapToConstant expects at least one option");let e=0;for(let n=0;n!==t.length;++n){if(t[n].num<0)throw new P("fc.mapToConstant expects all options to have a number of entries greater or equal to zero");e+=t[n].num}if(e===0)throw new P("fc.mapToConstant expects at least one choice among options");return e}function qo(...t){const e=KN(t);return Gn({max:e-1}).map(VN(t),zN(t))}function Zw(t,e,n,r){if(e.length===0)return n>0?void 0:[];if(r<=0)return;const s=[{endIndexChunks:0,nextStartIndex:1,chunks:[]}];for(;s.length>0;){const i=hw(s);for(let a=i.nextStartIndex;a<=e.length;++a){const c=dt(e,i.endIndexChunks,a);if(t.canShrinkWithoutContext(c)){const f=[...i.chunks,c];if(a===e.length){if(f.length<n)break;return f}j(s,{endIndexChunks:i.endIndexChunks,nextStartIndex:a+1,chunks:i.chunks}),f.length<r&&j(s,{endIndexChunks:a,nextStartIndex:a+1,chunks:f});break}}}}function GN(t){return ft(t,"")}function Xw(t){return t.minLength!==void 0?t.minLength:0}function Qw(t){return t.maxLength!==void 0?t.maxLength:Xr}function JN(t,e){return Xw(e)<=t.length&&t.length<=Qw(e)}function HN(t,e){return function(r){if(typeof r!="string")throw new P("Unsupported value");const s=Zw(t,r,Xw(e),Qw(e));if(s===void 0)throw new P("Unable to unmap received string");return s}}const tA=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function YN(t,e,n){let r;try{r=n(t)}catch{return}for(const s of r)if(!e.canShrinkWithoutContext(s))return;return r}function ZN(t,e){const n=[];for(const r of tA){const s=YN(r,t,e);s!==void 0&&j(n,s)}return n}const Xm=new WeakMap;function XN(t){const e=[];for(const n of tA){const r=Zw(t,n,0,Xr);r!==void 0&&j(e,r)}return e}function QN(t,e){let n=j7(Xm,t);n===void 0&&(n=XN(t),P7(Xm,t,n));const r=[];for(const s of n)JN(s,e)&&j(r,s);return r}const tD=[[0,127]],eD=[[0,55295],[57344,1114111]],nD=[[32,126],[160,172],[174,767],[880,887],[890,895],[900,906],[908],[910,929],[931,1154],[1162,1327],[1329,1366],[1369,1418],[1421,1423],[1470],[1472],[1475],[1478],[1488,1514],[1519,1524],[1542,1551],[1563],[1565,1610],[1632,1647],[1649,1749],[1758],[1765,1766],[1769],[1774,1805],[1808],[1810,1839],[1869,1957],[1969],[1984,2026],[2036,2042],[2046,2069],[2074],[2084],[2088],[2096,2110],[2112,2136],[2142],[2144,2154],[2160,2190],[2208,2249],[2308,2361],[2365],[2384],[2392,2401],[2404,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482],[2486,2489],[2493],[2510],[2524,2525],[2527,2529],[2534,2557],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2654],[2662,2671],[2674,2676],[2678],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749],[2768],[2784,2785],[2790,2801],[2809],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877],[2908,2909],[2911,2913],[2918,2935],[2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024],[3046,3066],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133],[3160,3162],[3165],[3168,3169],[3174,3183],[3191,3200],[3204,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261],[3293,3294],[3296,3297],[3302,3311],[3313,3314],[3332,3340],[3342,3344],[3346,3386],[3389],[3407],[3412,3414],[3416,3425],[3430,3455],[3461,3478],[3482,3505],[3507,3515],[3517],[3520,3526],[3558,3567],[3572],[3585,3632],[3634],[3647,3654],[3663,3675],[3713,3714],[3716],[3718,3722],[3724,3747],[3749],[3751,3760],[3762],[3773],[3776,3780],[3782],[3792,3801],[3804,3807],[3840,3863],[3866,3892],[3894],[3896],[3898,3901],[3904,3911],[3913,3948],[3973],[3976,3980],[4030,4037],[4039,4044],[4046,4058],[4096,4138],[4159,4181],[4186,4189],[4193],[4197,4198],[4206,4208],[4213,4225],[4238],[4240,4249],[4254,4293],[4295],[4301],[4304,4351],[4608,4680],[4682,4685],[4688,4694],[4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4960,4988],[4992,5017],[5024,5109],[5112,5117],[5120,5788],[5792,5880],[5888,5905],[5919,5937],[5941,5942],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6100,6108],[6112,6121],[6128,6137],[6144,6154],[6160,6169],[6176,6264],[6272,6276],[6279,6312],[6314],[6320,6389],[6400,6430],[6464],[6468,6509],[6512,6516],[6528,6571],[6576,6601],[6608,6618],[6622,6678],[6686,6740],[6784,6793],[6800,6809],[6816,6829],[6917,6963],[6981,6988],[6992,7018],[7028,7038],[7043,7072],[7086,7141],[7164,7203],[7227,7241],[7245,7304],[7312,7354],[7357,7367],[7379],[7401,7404],[7406,7411],[7413,7414],[7418],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[8192,8202],[8208,8233],[8239,8287],[8304,8305],[8308,8334],[8336,8348],[8352,8384],[8448,8587],[8592,9254],[9280,9290],[9312,11123],[11126,11157],[11159,11502],[11506,11507],[11513,11557],[11559],[11565],[11568,11623],[11631,11632],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11776,11869],[11904,11929],[11931,12019],[12032,12245],[12272,12329],[12336,12351],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12771],[12783,12830],[12832,13312],[19903,19968],[40959,42124],[42128,42182],[42192,42539],[42560,42606],[42611],[42622,42653],[42656,42735],[42738,42743],[42752,42954],[42960,42961],[42963],[42965,42969],[42994,43009],[43011,43013],[43015,43018],[43020,43042],[43048,43051],[43056,43065],[43072,43127],[43138,43187],[43214,43225],[43250,43262],[43264,43301],[43310,43334],[43359],[43396,43442],[43457,43469],[43471,43481],[43486,43492],[43494,43518],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43612,43642],[43646,43695],[43697],[43701,43702],[43705,43709],[43712],[43714],[43739,43754],[43760,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43883],[43888,44002],[44011],[44016,44025],[44032],[55203],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285],[64287,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64450],[64467,64911],[64914,64967],[64975],[65008,65023],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65136,65140],[65142,65276],[65281,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65504,65510],[65512,65518],[65532,65533],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65792,65794],[65799,65843],[65847,65934],[65936,65948],[65952],[66e3,66044],[66176,66204],[66208,66256],[66273,66299],[66304,66339],[66349,66378],[66384,66421],[66432,66461],[66463,66499],[66504,66517],[66560,66717],[66720,66729],[66736,66771],[66776,66811],[66816,66855],[66864,66915],[66927,66938],[66940,66954],[66956,66962],[66964,66965],[66967,66977],[66979,66993],[66995,67001],[67003,67004],[67072,67382],[67392,67413],[67424,67431],[67456,67461],[67463,67504],[67506,67514],[67584,67589],[67592],[67594,67637],[67639,67640],[67644],[67647,67669],[67671,67742],[67751,67759],[67808,67826],[67828,67829],[67835,67867],[67871,67897],[67903],[67968,68023],[68028,68047],[68050,68096],[68112,68115],[68117,68119],[68121,68149],[68160,68168],[68176,68184],[68192,68255],[68288,68324],[68331,68342],[68352,68405],[68409,68437],[68440,68466],[68472,68497],[68505,68508],[68521,68527],[68608,68680],[68736,68786],[68800,68850],[68858,68899],[68912,68921],[69216,69246],[69248,69289],[69293],[69296,69297],[69376,69415],[69424,69445],[69457,69465],[69488,69505],[69510,69513],[69552,69579],[69600,69622],[69635,69687],[69703,69709],[69714,69743],[69745,69746],[69749],[69763,69807],[69819,69820],[69822,69825],[69840,69864],[69872,69881],[69891,69926],[69942,69956],[69959],[69968,70002],[70004,70006],[70019,70066],[70081],[70084,70088],[70093],[70096,70111],[70113,70132],[70144,70161],[70163,70187],[70200,70205],[70207,70208],[70272,70278],[70280],[70282,70285],[70287,70301],[70303,70313],[70320,70366],[70384,70393],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70461],[70480],[70493,70497],[70656,70708],[70727,70747],[70749],[70751,70753],[70784,70831],[70852,70855],[70864,70873],[71040,71086],[71105,71131],[71168,71215],[71233,71236],[71248,71257],[71264,71276],[71296,71338],[71352,71353],[71360,71369],[71424,71450],[71472,71494],[71680,71723],[71739],[71840,71922],[71935,71942],[71945],[71948,71955],[71957,71958],[71960,71983],[72004,72006],[72016,72025],[72096,72103],[72106,72144],[72161,72163],[72192],[72203,72242],[72255,72262],[72272],[72284,72323],[72346,72354],[72368,72440],[72448,72457],[72704,72712],[72714,72750],[72768,72773],[72784,72812],[72816,72847],[72960,72966],[72968,72969],[72971,73008],[73040,73049],[73056,73061],[73063,73064],[73066,73097],[73112],[73120,73129],[73440,73458],[73463,73464],[73476,73488],[73490,73523],[73539,73561],[73648],[73664,73713],[73727,74649],[74752,74862],[74864,74868],[74880,75075],[77712,77810],[77824,78895],[78913,78918],[82944,83526],[92160,92728],[92736,92766],[92768,92777],[92782,92862],[92864,92873],[92880,92909],[92917],[92928,92975],[92983,92997],[93008,93017],[93019,93025],[93027,93047],[93053,93071],[93760,93850],[93952,94026],[94032],[94099,94111],[94176,94179],[94208],[100343],[100352,101589],[101632],[101640],[110576,110579],[110581,110587],[110589,110590],[110592,110882],[110898],[110928,110930],[110933],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[113820],[113823],[118608,118723],[118784,119029],[119040,119078],[119081,119140],[119146,119148],[119171,119172],[119180,119209],[119214,119274],[119296,119361],[119365],[119488,119507],[119520,119539],[119552,119638],[119648,119672],[119808,119892],[119894,119964],[119966,119967],[119970],[119973,119974],[119977,119980],[119982,119993],[119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],[120134],[120138,120144],[120146,120485],[120488,120779],[120782,121343],[121399,121402],[121453,121460],[121462,121475],[121477,121483],[122624,122654],[122661,122666],[122928,122989],[123136,123180],[123191,123197],[123200,123209],[123214,123215],[123536,123565],[123584,123627],[123632,123641],[123647],[124112,124139],[124144,124153],[124896,124902],[124904,124907],[124909,124910],[124912,124926],[124928,125124],[125127,125135],[125184,125251],[125259],[125264,125273],[125278,125279],[126065,126132],[126209,126269],[126464,126467],[126469,126495],[126497,126498],[126500],[126503],[126505,126514],[126516,126519],[126521],[126523],[126530],[126535],[126537],[126539],[126541,126543],[126545,126546],[126548],[126551],[126553],[126555],[126557],[126559],[126561,126562],[126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[126704,126705],[126976,127019],[127024,127123],[127136,127150],[127153,127167],[127169,127183],[127185,127221],[127232,127405],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127994],[128e3,128727],[128732,128748],[128752,128764],[128768,128886],[128891,128985],[128992,129003],[129008],[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],[129200,129201],[129280,129619],[129632,129645],[129648,129660],[129664,129672],[129680,129725],[129727,129733],[129742,129755],[129760,129768],[129776,129784],[129792,129938],[129940,129994],[130032,130041],[131072],[173791],[173824],[177977],[177984],[178205],[178208],[183969],[183984],[191456],[191472],[192093],[194560,195101],[196608],[201546],[201552],[205743]],rD=[[192,197],[199,207],[209,214],[217,221],[224,229],[231,239],[241,246],[249,253],[255,271],[274,293],[296,304],[308,311],[313,318],[323,328],[332,337],[340,357],[360,382],[416,417],[431,432],[461,476],[478,483],[486,496],[500,501],[504,539],[542,543],[550,563],[901,902],[904,906],[908],[910,912],[938,944],[970,974],[979,980],[1024,1025],[1027],[1031],[1036,1038],[1049],[1081],[1104,1105],[1107],[1111],[1116,1118],[1142,1143],[1217,1218],[1232,1235],[1238,1239],[1242,1247],[1250,1255],[1258,1269],[1272,1273],[1570,1574],[1728],[1730],[1747],[2345],[2353],[2356],[2392,2399],[2524,2525],[2527],[2611],[2614],[2649,2651],[2654],[2908,2909],[2964],[3907],[3917],[3922],[3927],[3932],[3945],[4134],[6918],[6920],[6922],[6924],[6926],[6930],[7680,7833],[7835],[7840,7929],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8048],[8050],[8052],[8054],[8056],[8058],[8060],[8064,8116],[8118,8122],[8124],[8129,8132],[8134,8136],[8138],[8140,8146],[8150,8154],[8157,8162],[8164,8170],[8172,8173],[8178,8180],[8182,8184],[8186],[8188],[8602,8603],[8622],[8653,8655],[8708],[8713],[8716],[8740],[8742],[8769],[8772],[8775],[8777],[8800],[8802],[8813,8817],[8820,8821],[8824,8825],[8832,8833],[8836,8837],[8840,8841],[8876,8879],[8928,8931],[8938,8941],[10972],[12364],[12366],[12368],[12370],[12372],[12374],[12376],[12378],[12380],[12382],[12384],[12386],[12389],[12391],[12393],[12400,12401],[12403,12404],[12406,12407],[12409,12410],[12412,12413],[12436],[12446],[12460],[12462],[12464],[12466],[12468],[12470],[12472],[12474],[12476],[12478],[12480],[12482],[12485],[12487],[12489],[12496,12497],[12499,12500],[12502,12503],[12505,12506],[12508,12509],[12532],[12535,12538],[12542],[44032],[55203],[64285],[64287],[64298,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64334],[69786],[69788],[69803],[119134,119140],[119227,119232]],Qm=String.fromCodePoint,sD=Math.min,iD=Math.max;function td(t){if(t.length===1){const n=Qm(t[0]);return{num:1,build:()=>n}}const e=t[0];return{num:t[1]-t[0]+1,build:n=>Qm(e+n)}}function ed(t,e){const n=[];let r=0,s=0;for(;r<t.length&&s<e.length;){const i=t[r],a=i[0],c=i.length===1?i[0]:i[1],f=e[s],u=f[0],l=f.length===1?f[0]:f[1];if(c<u)r+=1;else if(l<a)s+=1;else{let x=iD(a,u);const d=sD(c,l);if(n.length>=1){const g=n[n.length-1];(g.length===1?g[0]:g[1])+1===x&&(x=g[0],hw(n))}j(n,x===d?[x]:[x,d]),c<=d&&(r+=1),l<=d&&(s+=1)}}return n}const nd=Object.create(null);function oD(t){switch(t){case"full":return eD;case"ascii":return tD}}function aD(t,e){const n=`${t}:${e}`,r=nd[n];if(r!==void 0)return r;const s=oD(e),i=t==="binary"?s:ed(s,nD),a=[];for(const f of i)j(a,td(f));if(t==="grapheme"){const f=ed(s,rD);for(const u of f){const l=td(u);j(a,{num:l.num,build:x=>eB(l.build(x),"NFD")})}}const c=qo(...a);return nd[n]=c,c}function Ai(t,e){return aD(t,e)}function uD(t){if(typeof t.unit=="object")return t.unit;switch(t.unit){case"grapheme":return Ai("grapheme","full");case"grapheme-composite":return Ai("composite","full");case"grapheme-ascii":case void 0:return Ai("grapheme","ascii");case"binary":return Ai("binary","full");case"binary-ascii":return Ai("binary","ascii")}}function It(t={}){const e=uD(t),n=HN(e,t),r=QN(e,t),s={...t,experimentalCustomSlices:r};return ut(e,s).map(GN,n)}const eA=Map,Ix=String.fromCharCode,kx={num:26,build:t=>Ix(t+97)},cD={num:26,build:t=>Ix(t+65)},nA={num:10,build:t=>Ix(t+48)};function fD(t){const e=b7(t);return t!==e?e:`%${Ji(Ks(t,0),16)}`}function lD(t){if(typeof t!="string")throw new Error("Unsupported");return decodeURIComponent(t)}const hD=()=>It({unit:"binary",minLength:1,maxLength:1}).map(fD,lD);let w0;function xD(){return w0===void 0&&(w0=qo(kx)),w0}let ba;function Jf(t){ba===void 0&&(ba=new eA);let e=rr(ba,t);return e===void 0&&(e=qo(kx,nA,{num:t.length,build:n=>t[n]}),Pr(ba,t,e)),e}function pD(t){return qo(kx,cD,nA,{num:t.length,build:e=>t[e]})}let ya;function vx(t){ya===void 0&&(ya=new eA);let e=rr(ya,t);return e===void 0&&(e=Lt({weight:10,arbitrary:pD(t)},{weight:1,arbitrary:hD()}),Pr(ya,t,e)),e}function jr(t,e={}){const n=e.freq==null?6:e.freq,r=Au(e,"nil")?e.nil:null,i=[{arbitrary:Pt(r),weight:1,fallbackValue:{default:r}},{arbitrary:t,weight:n-1}],a={withCrossShrink:!0,depthSize:e.depthSize,maxDepth:e.maxDepth,depthIdentifier:e.depthIdentifier};return Xi.from(i,a,"fc.option")}function mD(t){return t.length>63?!1:t.length<4||t[0]!=="x"||t[1]!=="n"||t[2]!=="-"||t[3]!=="-"}const rA=Symbol("adapted-value");function dD(t,e){const n=e(t.value_);return n.adapted?new N(n.value,rA):t}class gD extends bt{constructor(e,n){super(),this.sourceArb=e,this.adapter=n,this.adaptValue=r=>dD(r,n)}generate(e,n){const r=this.sourceArb.generate(e,n);return this.adaptValue(r)}canShrinkWithoutContext(e){return this.sourceArb.canShrinkWithoutContext(e)&&!this.adapter(e).adapted}shrink(e,n){return n===rA?this.sourceArb.canShrinkWithoutContext(e)?this.sourceArb.shrink(e,void 0).map(this.adaptValue):L.nil():this.sourceArb.shrink(e,n).map(this.adaptValue)}}function sA(t,e){return new gD(t,e)}function bD([t,e]){return e===null?t:`${t}${e[0]}${e[1]}`}function yD(t){if(typeof t!="string"||t.length===0)throw new Error("Unsupported");return t.length===1?[t[0],null]:[t[0],[dt(t,1,t.length-1),t[t.length-1]]]}function SD(t){const e=Jf(""),n=Jf("-");return H(e,jr(H(It({unit:n,size:t,maxLength:61}),e))).map(bD,yD).filter(mD)}function wD(t){return`${ft(t[0],".")}.${t[1]}`}function AD(t){if(typeof t!="string")throw new Error("Unsupported type");const e=t.lastIndexOf(".");return[ae(dt(t,0,e),"."),dt(t,e+1)]}function FD(t){const[e,n]=t;let r=n.length;for(let s=0;s!==e.length;++s)if(r+=1+e[s].length,r>255)return{adapted:!0,value:[Wt(e,0,s),n]};return{adapted:!1,value:t}}function Tx(t={}){const e=Ax(t.size),n=jo("-1",e),r=xD(),s=It({unit:r,minLength:2,maxLength:63,size:n});return sA(H(ut(SD(e),{size:n,minLength:1,maxLength:127}),s),FD).map(wD,AD)}function _D(t){let e=t[0].length;for(let n=1;n!==t.length;++n)if(e+=1+t[n].length,e>64)return{adapted:!0,value:Wt(t,0,n)};return{adapted:!1,value:t}}function ED(t){return ft(t,".")}function CD(t){if(typeof t!="string")throw new Error("Unsupported");return ae(t,".")}function ID(t){return`${t[0]}@${t[1]}`}function kD(t){if(typeof t!="string")throw new Error("Unsupported");return ae(t,"@",2)}function vD(t={}){const e=Jf("!#$%&'*+-/=?^_`{|}~"),n=sA(ut(It({unit:e,minLength:1,maxLength:64,size:t.size}),{minLength:1,maxLength:32,size:t.size}),_D).map(ED,CD);return H(n,Tx({size:t.size})).map(ID,kD)}const TD=kn.NEGATIVE_INFINITY,Hf=kn.POSITIVE_INFINITY,iA=kn.EPSILON,Ox=$(2146435072)*$(4294967296),OD=-Ox-$(1),rd=4503599627370496,$D=$(0xfffffffffffff),sd=$("9007199254740992"),Yf=new Float64Array(1),id=new Uint32Array(Yf.buffer,Yf.byteOffset);function BD(t){return Yf[0]=t,[id[1],id[0]]}function MD(t){const{0:e,1:n}=BD(t),r=e>>>31,s=e>>>20&2047,i=(e&1048575)*4294967296+n,a=s===0?-1022:s-1023;let c=s===0?0:1;return c+=i*iA,c*=r===0?1:-1,{exponent:a,significand:c}}function od(t,e){if(t===-1022)return $(e*rd);const n=$((e-1)*rd),r=$(t+1023)<<$(52);return n+r}function $x(t){if(t===Hf)return Ox;if(t===TD)return OD;const e=MD(t),n=e.exponent,r=e.significand;return t>0||t===0&&1/t===Hf?od(n,r):-od(n,-r)-$(1)}function Zf(t){if(t<0)return-Zf(-t-$(1));if(t===Ox)return Hf;if(t<sd)return kn(t)*2**-1074;const e=t-sd,n=-1021+kn(e>>$(52));return(1+kn(e&$D)*iA)*2**n}const ad=Number.isInteger,ud=Object.is,A0=Number.NEGATIVE_INFINITY,F0=Number.POSITIVE_INFINITY;function oA(t,e,n,r){const{noDefaultInfinity:s=!1,minExcluded:i=!1,maxExcluded:a=!1,min:c=s?-e:A0,max:f=s?e:F0}=t,u=i?c<-n?-r:Math.max(c,-n):c===A0?Math.max(c,-r):Math.max(c,-n),l=a?f>n?r:Math.min(f,n):f===F0?Math.min(f,r):Math.min(f,n);return{noDefaultInfinity:!1,minExcluded:i||(c!==A0||i)&&ad(u),maxExcluded:a||(f!==F0||a)&&ad(l),min:ud(u,-0)?0:u,max:ud(l,0)?-0:l,noNaN:t.noNaN||!1}}const aA=Number.NEGATIVE_INFINITY,uA=Number.POSITIVE_INFINITY,ND=Number.MAX_VALUE,DD=45035996273704955e-1,Qi=4503599627370496;function RD(t){return oA(t,ND,DD,Qi)}function PD(t){return t===Qi?uA:t===-Qi?aA:t}function jD(t){if(typeof t!="number")throw new Error("Unsupported type");return t===uA?Qi:t===aA?-Qi:t}const LD=Number.isInteger,cA=Number.isNaN,UD=Number.NEGATIVE_INFINITY,qD=Number.POSITIVE_INFINITY,cd=Number.MAX_VALUE,VD=Number.NaN;function fd(t,e){if(cA(t))throw new Error("fc.double constraints."+e+" must be a 64-bit float");return $x(t)}function WD(t){if(typeof t!="number")throw new Error("Unsupported type");return $x(t)}function zD(t){return!LD(t)}function ld(t){const{noDefaultInfinity:e=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=e?-cd:UD,max:a=e?cd:qD}=t,c=fd(i,"min"),f=r?c+$(1):c,u=fd(a,"max"),l=s?u-$(1):u;if(l<f)throw new Error("fc.double constraints.min must be smaller or equal to constraints.max");if(n)return ir({min:f,max:l}).map(Zf,WD);const x=l>$(0),d=x?f:f-$(1),g=x?l+$(1):l;return ir({min:d,max:g}).map(b=>l<b||b<f?VD:Zf(b),b=>{if(typeof b!="number")throw new Error("Unsupported type");return cA(b)?l!==g?g:d:$x(b)})}function vc(t={}){return t.noInteger?ld(RD(t)).map(PD,jD).filter(zD):ld(t)}const KD=Number.NEGATIVE_INFINITY,Xf=Number.POSITIVE_INFINITY,Qf=2**127*(1+(2**23-1)/2**23),fA=2139095040,GD=-2139095041,tl=new Float32Array(1),JD=new Uint32Array(tl.buffer,tl.byteOffset);function HD(t){return tl[0]=t,JD[0]}function YD(t){const e=HD(t),n=e>>>31,r=e>>>23&255,s=e&8388607,i=r===0?-126:r-127;let a=r===0?0:1;return a+=s/2**23,a*=n===0?1:-1,{exponent:i,significand:a}}function hd(t,e){return t===-126?e*8388608:(t+127)*8388608+(e-1)*8388608}function Bx(t){if(t===Xf)return fA;if(t===KD)return GD;const e=YD(t),n=e.exponent,r=e.significand;return t>0||t===0&&1/t===Xf?hd(n,r):-hd(n,-r)-1}function el(t){if(t<0)return-el(-t-1);if(t===fA)return Xf;if(t<16777216)return t*2**-149;const e=t-16777216,n=-125+(e>>23);return(1+(e&8388607)/8388608)*2**n}const lA=Number.NEGATIVE_INFINITY,hA=Number.POSITIVE_INFINITY,ZD=Qf,XD=83886075e-1,to=8388608;function QD(t){return oA(t,ZD,XD,to)}function tR(t){return t===to?hA:t===-to?lA:t}function eR(t){if(typeof t!="number")throw new Error("Unsupported type");return t===hA?to:t===lA?-to:t}const nR=Number.isInteger,xA=Number.isNaN,rR=Math.fround,sR=Number.NEGATIVE_INFINITY,iR=Number.POSITIVE_INFINITY,oR=Number.NaN;function xd(t,e){const r="fc.float constraints."+e+" must be a 32-bit float - "+"you can convert any double to a 32-bit float by using `Math.fround(myDouble)`";if(xA(t)||rR(t)!==t)throw new Error(r);return Bx(t)}function aR(t){if(typeof t!="number")throw new Error("Unsupported type");return Bx(t)}function uR(t){return!nR(t)}function pd(t){const{noDefaultInfinity:e=!1,noNaN:n=!1,minExcluded:r=!1,maxExcluded:s=!1,min:i=e?-Qf:sR,max:a=e?Qf:iR}=t,c=xd(i,"min"),f=r?c+1:c,u=xd(a,"max"),l=s?u-1:u;if(f>l)throw new Error("fc.float constraints.min must be smaller or equal to constraints.max");if(n)return ot({min:f,max:l}).map(el,aR);const x=l>0?f:f-1,d=l>0?l+1:l;return ot({min:x,max:d}).map(g=>g>l||g<f?oR:el(g),g=>{if(typeof g!="number")throw new Error("Unsupported type");return xA(g)?l!==d?d:x:Bx(g)})}function pA(t={}){return t.noInteger?pd(QD(t)).map(tR,eR).filter(uR):pd(t)}function cR(t){return t.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}function mA(t){return t.replace(/\*\//g,"*\\/")}const ye=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function _u(t){let e=4294967295;for(let n=0;n<t.length;++n){const r=Ks(t,n);if(r<128)e=ye[e&255^r]^e>>8;else if(r<2048)e=ye[e&255^(192|r>>6&31)]^e>>8,e=ye[e&255^(128|r&63)]^e>>8;else if(r>=55296&&r<57344){const s=Ks(t,++n);if(r>=56320||s<56320||s>57343||Number.isNaN(s))n-=1,e=ye[e&255^239]^e>>8,e=ye[e&255^191]^e>>8,e=ye[e&255^189]^e>>8;else{const i=(r&1023)+64,a=s&1023;e=ye[e&255^(240|i>>8&7)]^e>>8,e=ye[e&255^(128|i>>2&63)]^e>>8,e=ye[e&255^(128|a>>6&15|(i&3)<<4)]^e>>8,e=ye[e&255^(128|a&63)]^e>>8}}else e=ye[e&255^(224|r>>12&15)]^e>>8,e=ye[e&255^(128|r>>6&63)]^e>>8,e=ye[e&255^(128|r&63)]^e>>8}return(e|0)+2147483648}const fR=Object.getPrototypeOf;class Fi extends bt{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,n)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return L.nil()}}function Eu(t){return fR(t)===Fi.prototype&&t.generate===Fi.prototype.generate&&t.canShrinkWithoutContext===Fi.prototype.canShrinkWithoutContext&&t.shrink===Fi.prototype.shrink?t:new Fi(t)}const lR=Object.assign,hR=Object.keys;function dA(t){return H(Eu(ot()),Eu(ot({min:1,max:4294967295}))).map(([e,n])=>{const r=()=>{const s={};return lR((a,c)=>{const f=kt(a),u=kt(c),l=_u(`${e}${f}`)%n,x=_u(`${e}${u}`)%n,d=t(l,x);return s[`[${f},${u}]`]=d,d},{toString:()=>{const a=hR(s).sort().map(c=>`${c} => ${kt(s[c])}`).map(c=>`/* ${mA(c)} */`);return`function(a, b) {
  // With hash and stringify coming from fast-check${a.length!==0?`
  ${ft(a,`
  `)}`:""}
  const cmp = ${t};
  const hA = hash('${e}' + stringify(a)) % ${n};
  const hB = hash('${e}' + stringify(b)) % ${n};
  return cmp(hA, hB);
}`},[qt]:r})};return r()})}const xR=Object.assign;function pR(){return dA(xR((t,e)=>t<e,{toString(){return"(hA, hB) => hA < hB"}}))}const mR=Object.assign;function dR(){return dA(mR((t,e)=>t-e,{toString(){return"(hA, hB) => hA - hB"}}))}const gR=Object.defineProperties,bR=Object.keys;function yR(t){return H(ut(t,{minLength:1}),Eu(ot())).map(([e,n])=>{const r=()=>{const s={},i=(...c)=>{const f=kt(c),u=e[_u(`${n}${f}`)%e.length];return s[f]=u,Yr(u)?u[qt]():u};function a(c){const f=nt(nt(pw(bR(s)),u=>`${u} => ${kt(s[u])}`),u=>`/* ${mA(u)} */`);return`function(...args) {
  // With hash and stringify coming from fast-check${f.length!==0?`
  ${f.join(`
  `)}`:""}
  const outs = ${c};
  return outs[hash('${n}' + stringify(args)) % outs.length];
}`}return gR(i,{toString:{value:()=>a(kt(e))},[$n]:{value:()=>a(kt(e))},[Bn]:{value:async()=>a(await bx(e))},[qt]:{value:r,configurable:!0}})};return r()})}const SR=Number.MIN_SAFE_INTEGER,wR=Number.MAX_SAFE_INTEGER;function gA(){return new sr(SR,wR)}const AR=Number.MAX_SAFE_INTEGER;function FR(){return new sr(0,AR)}const _R=Number.parseInt;function ER(t){const[e,n]=t;switch(e){case"oct":return`0${Ji(n,8)}`;case"hex":return`0x${Ji(n,16)}`;case"dec":default:return`${n}`}}function qa(t,e){const n=_R(t,e);if(Ji(n,e)!==t)throw new Error("Invalid value");return n}function CR(t){if(typeof t!="string")throw new Error("Invalid type");return t.length>=2&&t[0]==="0"?t[1]==="x"?["hex",qa(dt(t,2),16)]:["oct",qa(dt(t,1),8)]:["dec",qa(t,10)]}function IR(t){return ft(t,".")}function kR(t){if(typeof t!="string")throw new Error("Invalid type");return nt(ae(t,"."),e=>qa(e,10))}function Mx(){return H(Gn(255),Gn(255),Gn(255),Gn(255)).map(IR,kR)}function en(t){return H(an("dec","oct","hex"),Gn(t)).map(ER,CR)}function _0(t){return ft(t,".")}function E0(t){if(typeof t!="string")throw new Error("Invalid type");return ae(t,".")}function bA(){return Lt(H(en(255),en(255),en(255),en(255)).map(_0,E0),H(en(255),en(255),en(65535)).map(_0,E0),H(en(255),en(16777215)).map(_0,E0),en(4294967295))}function Nx(t){return t.length===0?[]:ae(t,":")}function Dx(t){const e=ae(t,":");return e.length>=2&&e[e.length-1].length<=4?[Wt(e,0,e.length-2),`${e[e.length-2]}:${e[e.length-1]}`]:[Wt(e,0,e.length-1),e[e.length-1]]}function vR(t){return`${ft(t[0],":")}:${t[1]}`}function TR(t){if(typeof t!="string")throw new Error("Invalid type");return Dx(t)}function OR(t){return`::${ft(t[0],":")}:${t[1]}`}function $R(t){if(typeof t!="string")throw new Error("Invalid type");if(!X7(t,"::"))throw new Error("Invalid value");return Dx(dt(t,2))}function Va(t){return`${ft(t[0],":")}::${ft(t[1],":")}:${t[2]}`}function Wa(t){if(typeof t!="string")throw new Error("Invalid type");const[e,n]=ae(t,"::",2),[r,s]=Dx(n);return[Nx(e),r,s]}function BR(t){return Va([t[0],[t[1]],t[2]])}function MR(t){const e=Wa(t);return[e[0],ft(e[1],":"),e[2]]}function md(t){return`${ft(t[0],":")}::${t[1]}`}function dd(t){if(typeof t!="string")throw new Error("Invalid type");const[e,n]=ae(t,"::",2);return[Nx(e),n]}function NR(t){return`${ft(t[0],":")}::`}function DR(t){if(typeof t!="string")throw new Error("Invalid type");if(!Q7(t,"::"))throw new Error("Invalid value");return[Nx(dt(t,0,t.length-2))]}function RR([t,e]){return`${t}:${e}`}function PR(t){if(typeof t!="string")throw new P("Invalid type");if(!t.includes(":"))throw new P("Invalid value");return t.split(":",2)}const jR="0123456789abcdef";let C0;function LR(){return C0===void 0&&(C0=ot({min:0,max:15}).map(t=>jR[t],t=>{if(typeof t!="string")throw new P("Not a string");if(t.length!==1)throw new P("Invalid length");const e=Ks(t,0);if(e<=57)return e-48;if(e<97)throw new P("Invalid character");return e-87})),C0}function yA(){const t=It({unit:LR(),minLength:1,maxLength:4,size:"max"}),e=Lt(H(t,t).map(RR,PR),Mx());return Lt(H(ut(t,{minLength:6,maxLength:6,size:"max"}),e).map(vR,TR),H(ut(t,{minLength:5,maxLength:5,size:"max"}),e).map(OR,$R),H(ut(t,{minLength:0,maxLength:1,size:"max"}),ut(t,{minLength:4,maxLength:4,size:"max"}),e).map(Va,Wa),H(ut(t,{minLength:0,maxLength:2,size:"max"}),ut(t,{minLength:3,maxLength:3,size:"max"}),e).map(Va,Wa),H(ut(t,{minLength:0,maxLength:3,size:"max"}),ut(t,{minLength:2,maxLength:2,size:"max"}),e).map(Va,Wa),H(ut(t,{minLength:0,maxLength:4,size:"max"}),t,e).map(BR,MR),H(ut(t,{minLength:0,maxLength:5,size:"max"}),e).map(md,dd),H(ut(t,{minLength:0,maxLength:6,size:"max"}),t).map(md,dd),H(ut(t,{minLength:0,maxLength:7,size:"max"})).map(NR,DR))}class gd extends bt{constructor(e){super(),this.name=e,this.underlying=null}generate(e,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(e,n)}canShrinkWithoutContext(e){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(e)}shrink(e,n){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(e,n)}}const UR=Object.create;function SA(t){const e=UR(null),r=t(s=>(Au(e,s)||(e[s]=new gd(String(s))),e[s]));for(const s in r){if(!Au(r,s))continue;const i=e[s],a=i!==void 0?i:new gd(s);a.underlying=r[s],e[s]=a}return r}function qR(t){return ft(nt(t,e=>e[e.length-1]===","?dt(e,0,e.length-1):e)," ")}function VR(t){return function(n){if(typeof n!="string")throw new Error("Unsupported type");const r=[];for(const s of ae(n," "))if(t.canShrinkWithoutContext(s))j(r,s);else if(t.canShrinkWithoutContext(s+","))j(r,s+",");else throw new Error("Unsupported word");return r}}function WR(t){let e=ft(t," ");return e[e.length-1]===","&&(e=dt(e,0,e.length-1)),hx(e[0])+dt(e,1)+"."}function zR(t){return function(n){if(typeof n!="string")throw new Error("Unsupported type");if(n.length<2||n[n.length-1]!=="."||n[n.length-2]===","||hx(Vf(n[0]))!==n[0])throw new Error("Unsupported value");const r=Vf(n[0])+dt(n,1,n.length-1),s=[],i=ae(r," ");for(let a=0;a!==i.length;++a){const c=i[a];if(t.canShrinkWithoutContext(c))j(s,c);else if(a===i.length-1&&t.canShrinkWithoutContext(c+","))j(s,c+",");else throw new Error("Unsupported word")}return s}}function KR(t){return ft(t," ")}function GR(t){if(typeof t!="string")throw new Error("Unsupported type");const e=ae(t,". ");for(let n=0;n<e.length-1;++n)e[n]+=".";return e}const y=(t,e)=>({arbitrary:Pt(t),weight:e});function JR(){return Lt(y("non",6),y("adipiscing",5),y("ligula",5),y("enim",5),y("pellentesque",5),y("in",5),y("augue",5),y("et",5),y("nulla",5),y("lorem",4),y("sit",4),y("sed",4),y("diam",4),y("fermentum",4),y("ut",4),y("eu",4),y("aliquam",4),y("mauris",4),y("vitae",4),y("felis",4),y("ipsum",3),y("dolor",3),y("amet,",3),y("elit",3),y("euismod",3),y("mi",3),y("orci",3),y("erat",3),y("praesent",3),y("egestas",3),y("leo",3),y("vel",3),y("sapien",3),y("integer",3),y("curabitur",3),y("convallis",3),y("purus",3),y("risus",2),y("suspendisse",2),y("lectus",2),y("nec,",2),y("ultricies",2),y("sed,",2),y("cras",2),y("elementum",2),y("ultrices",2),y("maecenas",2),y("massa,",2),y("varius",2),y("a,",2),y("semper",2),y("proin",2),y("nec",2),y("nisl",2),y("amet",2),y("duis",2),y("congue",2),y("libero",2),y("vestibulum",2),y("pede",2),y("blandit",2),y("sodales",2),y("ante",2),y("nibh",2),y("ac",2),y("aenean",2),y("massa",2),y("suscipit",2),y("sollicitudin",2),y("fusce",2),y("tempus",2),y("aliquam,",2),y("nunc",2),y("ullamcorper",2),y("rhoncus",2),y("metus",2),y("faucibus,",2),y("justo",2),y("magna",2),y("at",2),y("tincidunt",2),y("consectetur",1),y("tortor,",1),y("dignissim",1),y("congue,",1),y("non,",1),y("porttitor,",1),y("nonummy",1),y("molestie,",1),y("est",1),y("eleifend",1),y("mi,",1),y("arcu",1),y("scelerisque",1),y("vitae,",1),y("consequat",1),y("in,",1),y("pretium",1),y("volutpat",1),y("pharetra",1),y("tempor",1),y("bibendum",1),y("odio",1),y("dui",1),y("primis",1),y("faucibus",1),y("luctus",1),y("posuere",1),y("cubilia",1),y("curae,",1),y("hendrerit",1),y("velit",1),y("mauris,",1),y("gravida",1),y("ornare",1),y("ut,",1),y("pulvinar",1),y("varius,",1),y("turpis",1),y("nibh,",1),y("eros",1),y("id",1),y("aliquet",1),y("quis",1),y("lobortis",1),y("consectetuer",1),y("morbi",1),y("vehicula",1),y("tortor",1),y("tellus,",1),y("id,",1),y("eu,",1),y("quam",1),y("feugiat,",1),y("posuere,",1),y("iaculis",1),y("lectus,",1),y("tristique",1),y("mollis,",1),y("nisl,",1),y("vulputate",1),y("sem",1),y("vivamus",1),y("placerat",1),y("imperdiet",1),y("cursus",1),y("rutrum",1),y("iaculis,",1),y("augue,",1),y("lacus",1))}function HR(t={}){const{maxCount:e,mode:n="words",size:r}=t;if(e!==void 0&&e<1)throw new Error("lorem has to produce at least one word/sentence");const s=JR();if(n==="sentences"){const i=ut(s,{minLength:1,size:"small"}).map(WR,zR(s));return ut(i,{minLength:1,maxLength:e,size:r}).map(KR,GR)}else return ut(s,{minLength:1,maxLength:e,size:r}).map(qR,VR(s))}let Sa=10;function YR(t){const e={};return(n=>{const r=n!==void 0?n:Sa;if(!Au(e,r)){const s=Sa;Sa=r-1,e[r]=t(r),Sa=s}return e[r]})}function ZR(t){let e=0;for(;t>$(0);)t&$(1)&&++e,t>>=$(1);return e}function XR(t,e){const n=($(1)<<$(e))-$(1),r=t&n;let s=ZR(t-r),i=r;for(let a=$(1);a<=n&&s!==0;a<<=$(1))i&a||(i|=a,--s);return i}function wa(t,e){const n=[];for(let r=t.length-1;r!==-1;--r)e(t[r])!==t[r]&&j(n,r);return n}function QR(t,e,n){let r=$(0);for(let s=0,i=$(1);s!==n.length;++s,i<<=$(1))t[n[s]]!==e[n[s]]&&(r|=i);return r}function I0(t,e,n,r){for(let s=0,i=$(1);s!==n.length;++s,i<<=$(1))e&i&&(t[n[s]]=r(t[n[s]]))}class tP extends bt{constructor(e,n,r){super(),this.stringArb=e,this.toggleCase=n,this.untoggleAll=r}buildContextFor(e,n){return{rawString:e.value,rawStringContext:e.context,flags:n.value,flagsContext:n.context}}generate(e,n){const r=this.stringArb.generate(e,n),s=[...r.value],i=wa(s,this.toggleCase),c=ir($(0),($(1)<<$(i.length))-$(1)).generate(e,void 0);return I0(s,c.value,i,this.toggleCase),new N(ft(s,""),this.buildContextFor(r,c))}canShrinkWithoutContext(e){return typeof e!="string"?!1:this.untoggleAll!==void 0?this.stringArb.canShrinkWithoutContext(this.untoggleAll(e)):this.stringArb.canShrinkWithoutContext(e)}shrink(e,n){let r;if(n!==void 0)r=n;else if(this.untoggleAll!==void 0){const a=this.untoggleAll(e),c=[...e],f=[...a],u=wa(f,this.toggleCase);r={rawString:a,rawStringContext:void 0,flags:QR(f,c,u),flagsContext:void 0}}else r={rawString:e,rawStringContext:void 0,flags:$(0),flagsContext:void 0};const s=r.rawString,i=r.flags;return this.stringArb.shrink(s,r.rawStringContext).map(a=>{const c=[...a.value],f=wa(c,this.toggleCase),u=XR(i,f.length);return I0(c,u,f,this.toggleCase),new N(ft(c,""),this.buildContextFor(a,new N(u,void 0)))}).join(Jn(()=>{const a=[...s],c=wa(a,this.toggleCase);return ir($(0),($(1)<<$(c.length))-$(1)).shrink(i,r.flagsContext).map(f=>{const u=Wt(a);return I0(u,f.value,c,this.toggleCase),new N(ft(u,""),this.buildContextFor(new N(s,r.rawStringContext),f))})}))}}function eP(t){const e=hx(t);return e!==t?e:Vf(t)}function nP(t,e){const n=e&&e.toggleCase||eP,r=e&&e.untoggleAll;return new tP(t,n,r)}function rP(t){return cw.from(t)}function sP(t){if(!(t instanceof cw))throw new Error("Unexpected type");return[...t]}function wA(t={}){return ut(pA(t),t).map(rP,sP)}function iP(t){return fw.from(t)}function oP(t){if(!(t instanceof fw))throw new Error("Unexpected type");return[...t]}function AA(t={}){return ut(vc(t),t).map(iP,oP)}function jn(t,e,n,r,s){const i=r.name,{min:a=e,max:c=n,...f}=t;if(a>c)throw new Error(`Invalid range passed to ${i}: min must be lower than or equal to max`);if(a<e)throw new Error(`Invalid min value passed to ${i}: min must be greater than or equal to ${e}`);if(c>n)throw new Error(`Invalid max value passed to ${i}: max must be lower than or equal to ${n}`);return ut(s({min:a,max:c}),f).map(u=>r.from(u),u=>{if(!(u instanceof r))throw new Error("Invalid type");return[...u]})}function FA(t={}){return jn(t,-32768,32767,h7,ot)}function _A(t={}){return jn(t,-2147483648,2147483647,x7,ot)}function EA(t={}){return jn(t,-128,127,l7,ot)}function CA(t={}){return jn(t,0,65535,d7,ot)}function IA(t={}){return jn(t,0,4294967295,g7,ot)}function kA(t={}){return jn(t,0,255,p7,ot)}function vA(t={}){return jn(t,0,255,m7,ot)}function aP(t){return t!==void 0}function bd(t){return t.hasToBeCloned?new N(t.value_,{generatorContext:t.context},()=>t.value):new N(t.value_,{generatorContext:t.context})}function yd(t){return t.hasToBeCloned?new N(t.value_,{shrinkerContext:t.context},()=>t.value):new N(t.value_,{shrinkerContext:t.context})}class uP extends bt{constructor(e,n){super(),this.generatorArbitrary=e,this.shrinkerArbitrary=n}generate(e,n){return bd(this.generatorArbitrary.generate(e,n))}canShrinkWithoutContext(e){return this.shrinkerArbitrary.canShrinkWithoutContext(e)}shrink(e,n){return aP(n)?"generatorContext"in n?this.generatorArbitrary.shrink(e,n.generatorContext).map(bd):this.shrinkerArbitrary.shrink(e,n.shrinkerContext).map(yd):this.shrinkerArbitrary.shrink(e,void 0).map(yd)}}function nl(t,e,n){const r=ot({min:t,max:e});if(e===n)return r;const s=ot({min:t,max:n});return new uP(r,s)}const cP=Math.min,rl=Math.max,Sd=aw.isArray,fP=Object.entries;function lP(t){let e=-1;for(let n=0;n!==t.length;++n)e=rl(e,t[n][0]);return e}function hP(t,e){const n=aw(t);for(let r=0;r!==e.length;++r){const s=e[r];s[0]<t&&(n[s[0]]=s[1])}return n}function TA(t,e={}){const{size:n,minNumElements:r=0,maxLength:s=Xr,maxNumElements:i=s,noTrailingHole:a,depthIdentifier:c}=e,f=Zi(n,r,i,e.maxNumElements!==void 0),u=Zi(n,f,s,e.maxLength!==void 0);if(r>s)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(r>i)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");const l=cP(i,s),x=e.maxNumElements!==void 0||n!==void 0?n:"=",d=rl(u-1,0),g=rl(s-1,0),b=Uo(H(nl(0,d,g),t),{size:x,minLength:r,maxLength:l,selector:S=>S[0],depthIdentifier:c}).map(S=>{const p=lP(S);return hP(p+1,S)},S=>{if(!Sd(S))throw new Error("Not supported entry type");if(a&&S.length!==0&&!(S.length-1 in S))throw new Error("No trailing hole");return nt(fP(S),p=>[Number(p[0]),p[1]])});return a||s===r?b:H(b,nl(r,u,s)).map(S=>{const p=S[0],w=S[1];if(p.length>=w)return p;const A=Wt(p);return A.length=w,A},S=>{if(!Sd(S))throw new Error("Not supported entry type");return[S,S.length]})}function xP(t){return new Map(t)}function pP(t){if(typeof t!="object"||t===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in t)||t.constructor!==Map)throw new Error("Incompatible instance received: should be of exact type Map");return Array.from(t)}function mP(t){return new Set(t)}function dP(t){if(typeof t!="object"||t===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in t)||t.constructor!==Set)throw new Error("Incompatible instance received: should be of exact type Set");return Array.from(t)}function wd(t,e,n,r,s){return Uo(H(t,e),{maxLength:n,size:r,comparator:"SameValueZero",selector:i=>i[0],depthIdentifier:s}).map(xP,pP)}function gP(t,e,n,r,s,i){return Cx(t,e,{maxKeys:n,noNullPrototype:!i,size:r,depthIdentifier:s})}function bP(t,e,n,r){return Uo(t,{maxLength:e,size:n,comparator:"SameValueZero",depthIdentifier:r}).map(mP,dP)}function yP(t){return Lt(EA(t),kA(t),vA(t),FA(t),CA(t),_A(t),IA(t),wA(t),AA(t))}function OA(t){const e=t.values,n=t.depthSize,r=zw(),s=t.maxDepth,i=t.maxKeys,a=t.size,c=Lt(...e,...t.withBigInt?[ir()]:[],...t.withDate?[Yw()]:[]);return SA(f=>({anything:Lt({maxDepth:s,depthSize:n,depthIdentifier:r},c,f("array"),f("object"),...t.withMap?[f("map")]:[],...t.withSet?[f("set")]:[],...t.withObjectString?[f("anything").map(u=>kt(u))]:[],...t.withTypedArray?[yP({maxLength:i,size:a})]:[],...t.withSparseArray?[TA(f("anything"),{maxNumElements:i,size:a,depthIdentifier:r})]:[]),keys:t.withObjectString?Lt({arbitrary:t.key,weight:10},{arbitrary:f("anything").map(u=>kt(u)),weight:1}):t.key,array:ut(f("anything"),{maxLength:i,size:a,depthIdentifier:r}),set:bP(f("anything"),i,a,r),map:Lt(wd(f("keys"),f("anything"),i,a,r),wd(f("anything"),f("anything"),i,a,r)),object:gP(f("keys"),f("anything"),i,a,r,t.withNullPrototype)})).anything}function SP(t){switch(typeof t){case"boolean":return new uw(t);case"number":return new kn(t);case"string":return new Zr(t);default:return t}}function wP(t){return typeof t!="object"||t===null||!("constructor"in t)?t:t.constructor===uw||t.constructor===kn||t.constructor===Zr?t.valueOf():t}function AP(t){return t.map(SP,wP)}function FP(t,e){return[Lo(),gA(),vc(),e(t),Lt(e(t),Pt(null),Pt(void 0))]}function _P(t){return t.map(e=>AP(e))}function EP(t,e){return e?_P(t).concat(t):t}function $A(t={}){const e={size:t.size,unit:"stringUnit"in t?t.stringUnit:t.withUnicodeString?"binary":void 0};return{key:t.key!==void 0?t.key:It(e),values:EP(t.values!==void 0?t.values:FP(e,It),t.withBoxedValues===!0),depthSize:t.depthSize,maxDepth:t.maxDepth,maxKeys:t.maxKeys,size:t.size,withSet:t.withSet===!0,withMap:t.withMap===!0,withObjectString:t.withObjectString===!0,withNullPrototype:t.withNullPrototype===!0,withBigInt:t.withBigInt===!0,withDate:t.withDate===!0,withTypedArray:t.withTypedArray===!0,withSparseArray:t.withSparseArray===!0}}function CP(t){return Cx(t.key,OA(t),{maxKeys:t.maxKeys,noNullPrototype:!t.withNullPrototype,size:t.size})}function IP(t){return CP($A(t))}function kP(t,e){const{depthSize:n,maxDepth:r}=e,s=t,i=[Lo(),vc({noDefaultInfinity:!0,noNaN:!0}),t,Pt(null)];return{key:s,values:i,depthSize:n,maxDepth:r}}function BA(t){return OA($A(t))}function MA(t={}){const e=t.noUnicodeString===void 0||t.noUnicodeString===!0,n="stringUnit"in t?It({unit:t.stringUnit}):e?It():It({unit:"binary"});return BA(kP(n,t))}const vP=JSON.stringify;function TP(t={}){return MA(t).map(vP)}const OP=Object.keys,$P=Object.getOwnPropertySymbols,BP=Object.getOwnPropertyDescriptor;function MP(t){const e=OP(t),n=$P(t);for(let r=0;r!==n.length;++r){const s=n[r],i=BP(t,s);i&&i.enumerable&&e.push(s)}return e}const NP=Object.create,DP=Object.defineProperty,RP=Object.getOwnPropertyDescriptor,PP=Object.getOwnPropertyNames,jP=Object.getOwnPropertySymbols;function LP(t,e){return function(r){const s=r[1]?NP(null):{};for(let i=0;i!==t.length;++i){const a=r[0][i];a!==e&&DP(s,t[i],{value:a,configurable:!0,enumerable:!0,writable:!0})}return s}}function UP(t,e){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");const s=Object.getPrototypeOf(r)===null,i="constructor"in r&&r.constructor===Object;if(!s&&!i)throw new Error("Incompatible instance received: should be of exact type Object");let a=0;const c=[];for(let l=0;l!==t.length;++l){const x=RP(r,t[l]);if(x!==void 0){if(!x.configurable||!x.enumerable||!x.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(x.get!==void 0||x.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++a,j(c,x.value)}else j(c,e)}const f=PP(r).length,u=jP(r).length;if(a!==f+u)throw new Error("Incompatible instance received: should not contain extra properties");return[c,s]}}const k0=Symbol("no-key");function v0(t,e,n){const r=MP(t),s=[];for(let i=0;i!==r.length;++i){const a=r[i],c=t[a];e===void 0||_n(e,a)!==-1?j(s,c):j(s,jr(c,{nil:k0}))}return H(H(...s),n?Pt(!1):Lo()).map(LP(r,k0),UP(r,k0))}function qP(t,e){const n=e!==void 0&&!!e.noNullPrototype;if(e==null||!("requiredKeys"in e&&e.requiredKeys!==void 0))return v0(t,void 0,n);const s=("requiredKeys"in e?e.requiredKeys:void 0)||[];for(let i=0;i!==s.length;++i){const a=Object.getOwnPropertyDescriptor(t,s[i]);if(a===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!a.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return v0(t,s,n)}const VP=Object.defineProperties;function T0(t,e){return`Stream(${e!==void 0?`${ft(e,",")}`:`${t} emitted`})`}class WP extends bt{constructor(e,n){super(),this.arb=e,this.history=n}generate(e,n){const r=n!==void 0&&e.nextInt(1,n)===1?n:void 0,s=()=>{const i=this.history?[]:null;let a=0;const c=function*(u,l){for(;;){const x=u.generate(l,r).value;a++,i!==null&&j(i,x),yield x}},f=new L(c(this.arb,e.clone()));return VP(f,{toString:{value:()=>T0(a,i!==null?i.map(kt):void 0)},[$n]:{value:()=>T0(a,i!==null?i.map(kt):void 0)},[Bn]:{value:async()=>T0(a,i!==null?await Promise.all(i.map(bx)):void 0)},[qt]:{value:s,enumerable:!0}})};return new N(s(),void 0)}canShrinkWithoutContext(e){return!1}shrink(e,n){return L.nil()}}function zP(t,e){const n=e!==void 0&&typeof e=="object"&&"noHistory"in e?!e.noHistory:!0;return new WP(t,n)}function KP(t){return ft(t,"")}function Ad(t){if(typeof t!="string")throw new Error("Cannot unmap the passed value");return[...t]}function GP(t){switch(t.length%4){case 0:return t;case 3:return`${t}=`;case 2:return`${t}==`;default:return dt(t,1)}}function JP(t){if(typeof t!="string"||t.length%4!==0)throw new Error("Invalid string received");const e=t.indexOf("=");if(e===-1)return t;if(t.length-e>2)throw new Error("Cannot unmap the passed value");return dt(t,0,e)}const O0=String.fromCharCode;function HP(t){return t<26?O0(t+65):t<52?O0(t+97-26):t<62?O0(t+48-52):t===62?"+":"/"}function YP(t){if(typeof t!="string"||t.length!==1)throw new P("Invalid entry");const e=Ks(t,0);return e>=65&&e<=90?e-65:e>=97&&e<=122?e-97+26:e>=48&&e<=57?e-48+52:e===43?62:e===47?63:-1}function ZP(){return ot({min:0,max:63}).map(HP,YP)}function XP(t={}){const{minLength:e=0,maxLength:n=Xr,size:r}=t,s=e+3-(e+3)%4,i=n-n%4,a=t.maxLength===void 0&&r===void 0?"=":r;if(s>i)throw new P("Minimal length should be inferior or equal to maximal length");if(s%4!==0)throw new P("Minimal length of base64 strings must be a multiple of 4");if(i%4!==0)throw new P("Maximal length of base64 strings must be a multiple of 4");const c=ZP(),f=ZN(c,Ad);return ut(c,{minLength:s,maxLength:i,size:a,experimentalCustomSlices:f}).map(KP,Ad).map(GP,JP)}const Fd=Object.is;function QP(t,e){const n=new Po;let r=0;for(const s of t)if(Fd(s,-0))++r;else{const i=rr(n,s)||0;Pr(n,s,i+1)}for(let s=0;s!==e.length;++s){if(!(s in e))return!1;const i=e[s];if(Fd(i,-0)){if(r===0)return!1;--r}else{const a=rr(n,i)||0;if(a===0)return!1;Pr(n,i,a-1)}}return!0}const tj=Math.floor,_d=Math.log,ej=Array.isArray;class NA extends bt{constructor(e,n,r,s){if(super(),this.originalArray=e,this.isOrdered=n,this.minLength=r,this.maxLength=s,r<0||r>e.length)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be between 0 and the size of the original array");if(s<0||s>e.length)throw new Error("fc.*{s|S}ubarrayOf expects the maximal length to be between 0 and the size of the original array");if(r>s)throw new Error("fc.*{s|S}ubarrayOf expects the minimal length to be inferior or equal to the maximal length");this.lengthArb=new sr(r,s),this.biasedLengthArb=r!==s?new sr(r,r+tj(_d(s-r)/_d(2))):this.lengthArb}generate(e,n){const s=(n!==void 0&&e.nextInt(1,n)===1?this.biasedLengthArb:this.lengthArb).generate(e,void 0),i=s.value,a=nt(this.originalArray,(f,u)=>u),c=[];for(let f=0;f!==i;++f){const u=e.nextInt(0,a.length-1);j(c,a[u]),xw(a,u,1)}return this.isOrdered&&pw(c,(f,u)=>f-u),new N(nt(c,f=>this.originalArray[f]),s.context)}canShrinkWithoutContext(e){return!ej(e)||!this.lengthArb.canShrinkWithoutContext(e.length)?!1:QP(this.originalArray,e)}shrink(e,n){return e.length===0?L.nil():this.lengthArb.shrink(e.length,n).map(r=>new N(Wt(e,e.length-r.value),r.context)).join(e.length>this.minLength?Jn(()=>this.shrink(Wt(e,1),void 0).filter(r=>this.minLength<=r.value.length+1).map(r=>new N([e[0],...r.value],void 0))):L.nil())}}function nj(t,e={}){const{minLength:n=0,maxLength:r=t.length}=e;return new NA(t,!0,n,r)}function rj(t,e={}){const{minLength:n=0,maxLength:r=t.length}=e;return new NA(t,!1,n,r)}const sj={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"},ij={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,J:18,K:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,V:27,W:28,X:29,Y:30,Z:31};function oj(t){return t<10?Zr(t):sj[t]}function Ed(t,e){let n="";for(;t.length+n.length<e;)n+="0";return n+t}function Cd(t){let e="";for(let n=t;n!==0;){const r=n>>5,s=n-(r<<5);e=oj(s)+e,n=r}return e}function aj(t,e){const n=~~(t/1073741824),r=t&1073741823;return Ed(Cd(n),e-6)+Ed(Cd(r),6)}function DA(t){return function(n){return aj(n,t)}}function $0(t){if(typeof t!="string")throw new P("Unsupported type");let e=0,n=1;for(let r=t.length-1;r>=0;--r){const s=t[r],i=ij[s];if(i===void 0)throw new P("Unsupported type");e+=i*n,n*=32}return e}const uj=DA(10),Id=DA(8);function cj(t){return uj(t[0])+Id(t[1])+Id(t[2])}function fj(t){if(typeof t!="string"||t.length!==26)throw new Error("Unsupported type");return[$0(t.slice(0,10)),$0(t.slice(10,18)),$0(t.slice(18))]}function lj(){const t=ot({min:0,max:0xffffffffffff}),e=ot({min:0,max:0xffffffffff}),n=ot({min:0,max:0xffffffffff});return H(t,e,n).map(cj,fj)}function RA(t){return tB(Ji(t,16),8,"0")}function hj(t){if(typeof t!="string")throw new Error("Unsupported type");if(t.length!==8)throw new Error("Unsupported value: invalid length");const e=parseInt(t,16);if(t!==RA(e))throw new Error("Unsupported value: invalid content");return e}function B0(t,e){return ot({min:t,max:e}).map(RA,hj)}function xj(t){return`${t[0]}-${dt(t[1],4)}-${dt(t[1],0,4)}-${dt(t[2],0,4)}-${dt(t[2],4)}${t[3]}`}const pj=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function mj(t){if(typeof t!="string")throw new Error("Unsupported type");const e=pj.exec(t);if(e===null)throw new Error("Unsupported type");return[e[1],e[3]+e[2],e[4]+dt(e[5],0,4),dt(e[5],4)]}const kd="0123456789abcdef";function dj(t){const e={},n={};for(let i=0;i!==t.length;++i){const a=kd[i],c=kd[t[i]];e[a]=c,n[c]=a}function r(i){return e[i[0]]+dt(i,1)}function s(i){if(typeof i!="string")throw new P("Cannot produce non-string values");const a=n[i[0]];if(a===void 0)throw new P("Cannot produce strings not starting by the version in hexa code");return a+dt(i,1)}return{versionsApplierMapper:r,versionsApplierUnmapper:s}}function gj(t){const e={};for(const n of t){if(e[n])throw new P(`Version ${n} has been requested at least twice for uuid`);if(e[n]=!0,n<1||n>15)throw new P(`Version must be a value in [1-15] for uuid, but received ${n}`);if(~~n!==n)throw new P(`Version must be an integer value for uuid, but received ${n}`)}if(t.length===0)throw new P("Must provide at least one version for uuid")}function bj(t={}){const e=B0(0,4294967295),n=t.version!==void 0?typeof t.version=="number"?[t.version]:t.version:[1,2,3,4,5,6,7,8];gj(n);const{versionsApplierMapper:r,versionsApplierUnmapper:s}=dj(n),i=B0(0,268435456*n.length-1).map(r,s),a=B0(2147483648,3221225471);return H(e,i,a,e).map(xj,mj)}function yj(t){return It({unit:vx("-._~!$&'()*+,;=:"),size:t})}function Sj([t,e,n]){return(t===null?"":`${t}@`)+e+(n===null?"":`:${n}`)}function wj(t){if(typeof t!="string")throw new Error("Unsupported");const e=t.indexOf("@"),n=e!==-1?t.substring(0,e):null,s=/:(\d+)$/.exec(t),i=s!==null?Number(s[1]):null,a=s!==null?t.substring(e+1,t.length-s[1].length-1):t.substring(e+1);return[n,a,i]}function Aj(t){return`[${t}]`}function Fj(t){if(typeof t!="string"||t[0]!=="["||t[t.length-1]!=="]")throw new Error("Unsupported");return t.substring(1,t.length-1)}function PA(t){const e=t||{},n=e.size,r=[Tx({size:n}),...e.withIPv4===!0?[Mx()]:[],...e.withIPv6===!0?[yA().map(Aj,Fj)]:[],...e.withIPv4Extended===!0?[bA()]:[]];return H(e.withUserInfo===!0?jr(yj(n)):Pt(null),Lt(...r),e.withPort===!0?jr(Gn(65535)):Pt(null)).map(Sj,wj)}function jA(t){return It({unit:vx("-._~!$&'()*+,;=:@/?"),size:t})}function LA(t={}){return jA(t.size)}function UA(t={}){return It({unit:vx("-._~!$&'()*+,;=:@"),size:t.size})}function _j(t){return ft(nt(t,e=>`/${e}`),"")}function Ej(t){if(typeof t!="string")throw new Error("Incompatible value received: type");if(t.length!==0&&t[0]!=="/")throw new Error("Incompatible value received: start");return xw(ae(t,"/"),1)}function Cj(t){switch(t){case"xsmall":return["xsmall","xsmall"];case"small":return["small","xsmall"];case"medium":return["small","small"];case"large":return["medium","small"];case"xlarge":return["medium","medium"]}}function M0(t,e){return ut(UA({size:t}),{size:e}).map(_j,Ej)}function Ij(t){const[e,n]=Cj(t);return e===n?M0(e,n):Lt(M0(e,n),M0(n,e))}function qA(t){const n=Ax((t||{}).size);return Ij(n)}function VA(t={}){return jA(t.size)}function kj(t){const[e,n,r]=t,s=t[3]===null?"":`?${t[3]}`,i=t[4]===null?"":`#${t[4]}`;return`${e}://${n}${r}${s}${i}`}const vj=/^([[A-Za-z][A-Za-z0-9+.-]*):\/\/([^/?#]*)([^?#]*)(\?[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?(#[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?$/;function Tj(t){if(typeof t!="string")throw new Error("Incompatible value received: type");const e=vj.exec(t);if(e===null)throw new Error("Incompatible value received");const n=e[1],r=e[2],s=e[3],i=e[4],a=e[5];return[n,r,s,i!==void 0?i.substring(1):null,a!==void 0?a.substring(1):null]}function Oj(t){const e=t||{},n=Ax(e.size),r=e.authoritySettings!==void 0&&e.authoritySettings.size!==void 0?jo(e.authoritySettings.size,n):n,s={...e.authoritySettings,size:r},i=e.validSchemes||["http","https"],a=an(...i),c=PA(s);return H(a,c,qA({size:n}),e.withQueryParameters===!0?jr(VA({size:n})):Pt(null),e.withFragments===!0?jr(LA({size:n})):Pt(null)).map(kj,Tj)}class Rx{constructor(e,n){this.commands=e,this.metadataForReplay=n,this[qt]=function(){return new Rx(this.commands.map(r=>r.clone()),this.metadataForReplay)}}[Symbol.iterator](){return this.commands[Symbol.iterator]()}toString(){const e=this.commands.filter(r=>r.hasRan).map(r=>r.toString()).join(","),n=this.metadataForReplay();return n.length!==0?`${e} /*${n}*/`:e}}class Cu{constructor(e){if(this.cmd=e,this.hasRan=!1,dx(e)){const n=e[$n];this[$n]=function(){return n.call(e)}}if(gx(e)){const n=e[Bn];this[Bn]=function(){return n.call(e)}}}check(e){return this.cmd.check(e)}run(e,n){return this.hasRan=!0,this.cmd.run(e,n)}clone(){return Yr(this.cmd)?new Cu(this.cmd[qt]()):new Cu(this.cmd)}toString(){return this.cmd.toString()}}class vd{static parse(e){const[n,r]=e.split(":"),s=this.parseCounts(n),i=this.parseChanges(r);return this.parseOccurences(s,i)}static stringify(e){const n=this.countOccurences(e),r=this.stringifyCounts(n),s=this.stringifyChanges(n);return`${r}:${s}`}static intToB64(e){return e<26?String.fromCharCode(e+65):e<52?String.fromCharCode(e+97-26):e<62?String.fromCharCode(e+48-52):String.fromCharCode(e===62?43:47)}static b64ToInt(e){return e>="a"?e.charCodeAt(0)-97+26:e>="A"?e.charCodeAt(0)-65:e>="0"?e.charCodeAt(0)-48+52:e==="+"?62:63}static countOccurences(e){return e.reduce((n,r)=>(n.length===0||n[n.length-1].count===64||n[n.length-1].value!==r?n.push({value:r,count:1}):n[n.length-1].count+=1,n),[])}static parseOccurences(e,n){const r=[];for(let s=0;s!==e.length;++s){const i=e[s],a=n[s];for(let c=0;c!==i;++c)r.push(a)}return r}static stringifyChanges(e){let n="";for(let r=0;r<e.length;r+=6){const s=e.slice(r,r+6).reduceRight((i,a)=>i*2+(a.value?1:0),0);n+=this.intToB64(s)}return n}static parseChanges(e){const n=e.split("").map(s=>this.b64ToInt(s)),r=[];for(let s=0;s!==n.length;++s){let i=n[s];for(let a=0;a!==6;++a,i>>=1)r.push(i%2===1)}return r}static stringifyCounts(e){return e.map(({count:n})=>this.intToB64(n-1)).join("")}static parseCounts(e){return e.split("").map(n=>this.b64ToInt(n)+1)}}class $j extends bt{constructor(e,n,r,s,i){super(),this.sourceReplayPath=s,this.disableReplayLog=i,this.oneCommandArb=Lt(...e).map(a=>new Cu(a)),this.lengthArb=nl(0,n,r),this.replayPath=[],this.replayPathPosition=0}metadataForReplay(){return this.disableReplayLog?"":`replayPath=${JSON.stringify(vd.stringify(this.replayPath))}`}buildValueFor(e,n){const r=e.map(i=>i.value_),s={shrunkOnce:n,items:e};return new N(new Rx(r,()=>this.metadataForReplay()),s)}generate(e){const r=this.lengthArb.generate(e,void 0).value,s=Array(r);for(let i=0;i!==r;++i){const a=this.oneCommandArb.generate(e,void 0);s[i]=a}return this.replayPathPosition=0,this.buildValueFor(s,!1)}canShrinkWithoutContext(e){return!1}filterOnExecution(e){const n=[];for(const r of e)r.value_.hasRan?(this.replayPath.push(!0),n.push(r)):this.replayPath.push(!1);return n}filterOnReplay(e){return e.filter((n,r)=>{const s=this.replayPath[this.replayPathPosition+r];if(s===void 0)throw new Error("Too short replayPath");if(!s&&n.value_.hasRan)throw new Error("Mismatch between replayPath and real execution");return s})}filterForShrinkImpl(e){this.replayPathPosition===0&&(this.replayPath=this.sourceReplayPath!==null?vd.parse(this.sourceReplayPath):[]);const n=this.replayPathPosition<this.replayPath.length?this.filterOnReplay(e):this.filterOnExecution(e);return this.replayPathPosition+=e.length,n}shrink(e,n){if(n===void 0)return L.nil();const r=n,s=r.shrunkOnce,i=r.items,a=this.filterForShrinkImpl(i);if(a.length===0)return L.nil();const c=s?L.nil():new L([[]][Symbol.iterator]()),f=[];for(let u=0;u!==a.length;++u)f.push(Jn(()=>{const l=a.slice(0,u);return this.lengthArb.shrink(a.length-1-u,void 0).map(x=>l.concat(a.slice(a.length-(x.value+1))))}));for(let u=0;u!==a.length;++u)f.push(Jn(()=>this.oneCommandArb.shrink(a[u].value_,a[u].context).map(l=>a.slice(0,u).concat([l],a.slice(u+1)))));return c.join(...f).map(u=>this.buildValueFor(u.map(l=>new N(l.value_.clone(),l.context)),!0))}}function Bj(t,e={}){const{size:n,maxCommands:r=Xr,disableReplayLog:s=!1,replayPath:i=null}=e,a=e.maxCommands!==void 0,c=Zi(n,0,r,a);return new $j(t,c,r,i,s)}class Mj{constructor(e,n){this.s=e,this.cmd=n}async check(e){let n=null,r=!1;if((await this.s.scheduleSequence([{label:`check@${this.cmd.toString()}`,builder:async()=>{try{r=await Promise.resolve(this.cmd.check(e))}catch(i){throw n=i,i}}}]).task).faulty)throw n;return r}async run(e,n){let r=null;if((await this.s.scheduleSequence([{label:`run@${this.cmd.toString()}`,builder:async()=>{try{await this.cmd.run(e,n)}catch(i){throw r=i,i}}}]).task).faulty)throw r}}const Nj=function*(t,e){for(const n of e)yield new Mj(t,n)},WA=(t,e,n,r,s)=>t.then(i=>{const{model:a,real:c}=i;let f=n;for(const u of e)f=s(f,()=>r(u,a,c));return f}),Dj=(t,e)=>WA({then:i=>{i(t())}},e,void 0,(i,a,c)=>{i.check(a)&&i.run(a,c)},(i,a)=>a()),Rj=t=>typeof t.then=="function",zA=async(t,e,n=Promise.resolve())=>await WA({then:a=>{const c=t();return Rj(c)?c.then(a):a(c)}},e,n,async(a,c,f)=>{await a.check(c)&&await a.run(c,f)},(a,c)=>a.then(c));function Pj(t,e){Dj(t,e)}async function jj(t,e){await zA(t,e)}async function Lj(t,e,n){const r=Nj(t,n),s=zA(e,r,t.schedule(Promise.resolve(),"startModel"));await t.waitFor(s),await t.waitAll()}const Aa=t=>t(),N0=50;class eo{constructor(e,n){this.act=e,this.taskSelector=n,this.lastTaskId=0,this.sourceTaskSelector=n.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[],this[qt]=function(){return new eo(this.act,this.sourceTaskSelector)}}static buildLog(e){return`[task\${${e.taskId}}] ${e.label.length!==0?`${e.schedulingType}::${e.label}`:e.schedulingType} ${e.status}${e.outputValue!==void 0?` with value ${cR(e.outputValue)}`:""}`}log(e,n,r,s,i,a){this.triggeredTasks.push({status:i,schedulingType:e,taskId:n,label:r,metadata:s,outputValue:a!==void 0?kt(a):void 0})}scheduleInternal(e,n,r,s,i,a){const c=++this.lastTaskId;let f;const u=new Promise((l,x)=>{f=()=>{const d=Promise.resolve(a!==void 0?r.then(()=>a()):r);return d.then(g=>{this.log(e,c,n,s,"resolved",g),l(g)},g=>{this.log(e,c,n,s,"rejected",g),x(g)}),d}});return this.scheduledTasks.push({original:r,trigger:f,schedulingType:e,taskId:c,label:n,metadata:s,customAct:i}),this.scheduledWatchers.length!==0&&this.scheduledWatchers[0](),u}schedule(e,n,r,s){return this.scheduleInternal("promise",n||"",e,r,s||Aa)}scheduleFunction(e,n){return(...r)=>this.scheduleInternal("function",`${e.name}(${r.map(kt).join(",")})`,e(...r),void 0,n||Aa)}scheduleSequence(e,n){const r={done:!1,faulty:!1},s={then:l=>l()};let i=()=>{};const a=new Promise(l=>{i=()=>l({done:r.done,faulty:r.faulty})}),c=()=>{r.faulty=!0,i()},f=()=>{r.done=!0,i()},u=(l,x)=>{if(l>=e.length){x.then(f,c);return}x.then(()=>{const d=e[l],[g,b,S]=typeof d=="function"?[d,d.name,void 0]:[d.builder,d.label,d.metadata],p=this.scheduleInternal("sequence",b,s,S,n||Aa,()=>g());u(l+1,p)},c)};return u(0,s),Object.assign(r,{task:a})}count(){return this.scheduledTasks.length}internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");const e=this.taskSelector.nextTaskIndex(this.scheduledTasks),[n]=this.scheduledTasks.splice(e,1);return n.customAct(()=>n.trigger().catch(s=>{}))}waitOne(e){const n=e||Aa;return this.act(()=>n(()=>this.internalWaitOne()))}async waitAll(e){for(;this.scheduledTasks.length>0;)await this.waitOne(e)}async internalWaitFor(e,n){let r=!1;const s=n.customAct,i=n.onWaitStart,a=n.onWaitIdle,c=n.launchAwaiterOnInit;let f,u,l=0,x=null,d=null;const g=async()=>{for(l=N0,l=N0;!r&&l>0;--l)await Promise.resolve();if(!r&&this.scheduledTasks.length>0)return i!==void 0&&i(),d=this.waitOne(s),d.then(()=>(d=null,g()),w=>{throw d=null,r=!0,u(w),w});!r&&a!==void 0&&a(),x=null},b=()=>{if(x!==null){l=N0+1;return}x=g().catch(()=>{})},S=()=>{const w=this.scheduledWatchers.indexOf(b);w!==-1&&this.scheduledWatchers.splice(w,1),w===0&&this.scheduledWatchers.length!==0&&this.scheduledWatchers[0]()},p=new Promise((w,A)=>{f=F=>{S(),w(F)},u=F=>{S(),A(F)}});return e.then(w=>{r=!0,d===null?f(w):d.then(()=>f(w),A=>u(A))},w=>{r=!0,d===null?u(w):d.then(()=>u(w),()=>u(w))}),(this.scheduledTasks.length>0||c)&&this.scheduledWatchers.length===0&&b(),this.scheduledWatchers.push(b),p}waitNext(e,n){let r,s=e;const i=s<=0?Promise.resolve():new Promise(a=>{r=()=>{--s<=0&&a()}});return this.internalWaitFor(i,{customAct:n,onWaitStart:r,onWaitIdle:void 0,launchAwaiterOnInit:!1})}waitIdle(e){let n;const r=new Promise(s=>n=s);return this.internalWaitFor(r,{customAct:e,onWaitStart:void 0,onWaitIdle:n,launchAwaiterOnInit:!0})}waitFor(e,n){return this.internalWaitFor(e,{customAct:n,onWaitStart:void 0,onWaitIdle:void 0,launchAwaiterOnInit:!1})}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(e=>({status:"pending",schedulingType:e.schedulingType,taskId:e.taskId,label:e.label,metadata:e.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(eo.buildLog).map(e=>`-> ${e}`).join(`
`)+"`"}}function KA(t){let e=0;return{clone:()=>KA(t),nextTaskIndex:n=>{if(t.length<=e)throw new Error("Invalid schedulerFor defined: too many tasks have been scheduled");const r=n.findIndex(s=>s.taskId===t[e]);if(r===-1)throw new Error("Invalid schedulerFor defined: unable to find next task");return++e,r}}}function Td(t,e){return new eo(t,KA(e))}function GA(t){const e=t.clone();return{clone:()=>GA(e),nextTaskIndex:n=>t.nextInt(0,n.length-1)}}class Uj extends bt{constructor(e){super(),this.act=e}generate(e,n){return new N(new eo(this.act,GA(e.clone())),void 0)}canShrinkWithoutContext(e){return!1}shrink(e,n){return L.nil()}}function qj(t){const{act:e=n=>n()}=t||{};return new Uj(e)}function Vj(t,e){const{act:n=r=>r()}=Array.isArray(t)?e||{}:t||{};return Array.isArray(t)?Td(n,t):function(r,...s){return Td(n,s)}}function Wj(t={}){return jn(t,$("-9223372036854775808"),$("9223372036854775807"),c7,ir)}function zj(t={}){return jn(t,$(0),$("18446744073709551615"),f7,ir)}function Kj(t){return new Error(`Unsupported AST node! Received: ${kt(t)}`)}function za(t,e,n){if(!e&&!n)return t;const r={hasStart:!1,hasEnd:!1},s=JA(t,e,n,r),i=e&&!r.hasStart,a=n&&!r.hasEnd;if(!i&&!a)return s;const c=[];return i&&(c.push({type:"Assertion",kind:"^"}),c.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}})),c.push(s),a&&(c.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:Number.NaN}}),c.push({type:"Assertion",kind:"$"})),{type:"Group",capturing:!1,expression:{type:"Alternative",expressions:c}}}function JA(t,e,n,r){switch(t.type){case"Char":return t;case"Repetition":return t;case"Quantifier":throw new Error("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return r.hasStart=!0,r.hasEnd=!0,{...t,expressions:t.expressions.map((s,i)=>za(s,e&&i===0,n&&i===t.expressions.length-1))};case"CharacterClass":return t;case"ClassRange":return t;case"Group":return{...t,expression:JA(t.expression,e,n,r)};case"Disjunction":return r.hasStart=!0,r.hasEnd=!0,{...t,left:t.left!==null?za(t.left,e,n):null,right:t.right!==null?za(t.right,e,n):null};case"Assertion":{if(t.kind==="^"||t.kind==="Lookahead")return r.hasStart=!0,t;if(t.kind==="$"||t.kind==="Lookbehind")return r.hasEnd=!0,t;throw new Error(`Assertions of kind ${t.kind} not implemented yet!`)}case"Backreference":return t;default:throw Kj(t)}}function Gj(t){return za(t,!0,!0)}function Od(t,e){return t[e]>="\uD800"&&t[e]<="\uDBFF"&&t[e+1]>="\uDC00"&&t[e+1]<="\uDFFF"?2:1}function At(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"}function sl(t){return t>="0"&&t<="9"}function HA(t,e){for(let n=e;n!==t.length;++n){const r=t[n];if(r==="\\")n+=1;else if(r==="]")return n}throw new Error("Missing closing ']'")}function Jj(t,e){let n=0;for(let r=e;r!==t.length;++r){const s=t[r];if(s==="\\")r+=1;else if(s===")"){if(n===0)return r;n-=1}else s==="["?r=HA(t,r):s==="("&&(n+=1)}throw new Error("Missing closing ')'")}function Hj(t,e){let n=!1;for(let r=e;r!==t.length;++r){const s=t[r];if(!sl(s)){if(e===r)return-1;if(s===","){if(n)return-1;n=!0}else return s==="}"?r:-1}}return-1}var Cn;(function(t){t[t.Full=0]="Full",t[t.Character=1]="Character"})(Cn||(Cn={}));function Yj(t,e,n,r){switch(t[e]){case"[":return r===Cn.Character?e+1:HA(t,e+1)+1;case"{":{if(r===Cn.Character)return e+1;const s=Hj(t,e+1);return s===-1?e+1:s+1}case"(":return r===Cn.Character?e+1:Jj(t,e+1)+1;case"]":case"}":case")":return e+1;case"\\":{const s=t[e+1];switch(s){case"x":if(At(t[e+2])&&At(t[e+3]))return e+4;throw new Error(`Unexpected token '${t.substring(e,e+4)}' found`);case"u":if(t[e+2]==="{"){if(!n)return e+2;if(t[e+4]==="}"){if(At(t[e+3]))return e+5;throw new Error(`Unexpected token '${t.substring(e,e+5)}' found`)}if(t[e+5]==="}"){if(At(t[e+3])&&At(t[e+4]))return e+6;throw new Error(`Unexpected token '${t.substring(e,e+6)}' found`)}if(t[e+6]==="}"){if(At(t[e+3])&&At(t[e+4])&&At(t[e+5]))return e+7;throw new Error(`Unexpected token '${t.substring(e,e+7)}' found`)}if(t[e+7]==="}"){if(At(t[e+3])&&At(t[e+4])&&At(t[e+5])&&At(t[e+6]))return e+8;throw new Error(`Unexpected token '${t.substring(e,e+8)}' found`)}if(t[e+8]==="}"&&At(t[e+3])&&At(t[e+4])&&At(t[e+5])&&At(t[e+6])&&At(t[e+7]))return e+9;throw new Error(`Unexpected token '${t.substring(e,e+9)}' found`)}if(At(t[e+2])&&At(t[e+3])&&At(t[e+4])&&At(t[e+5]))return e+6;throw new Error(`Unexpected token '${t.substring(e,e+6)}' found`);case"p":case"P":{if(!n)return e+2;let i=e+2;for(;i<t.length&&t[i]!=="}";i+=t[i]==="\\"?2:1);if(t[i]!=="}")throw new Error("Invalid \\P definition");return i+1}case"k":{let i=e+2;for(;i<t.length&&t[i]!==">";++i);if(t[i]!==">"){if(!n)return e+2;throw new Error("Invalid \\k definition")}return i+1}default:{if(sl(s)){const a=n?t.length:Math.min(e+4,t.length);let c=e+2;for(;c<a&&sl(t[c]);++c);return c}const i=n?Od(t,e+1):1;return e+i+1}}}default:{const s=n?Od(t,e):1;return e+s}}}function Fa(t,e,n,r){const s=Yj(t,e,n,r);return t.substring(e,s)}const D0=String.fromCodePoint;function R0(t){const e=t.pop();if(e===void 0)throw new Error("Unable to extract token preceeding the currently parsed one");return e}function YA(t){return t>="0"&&t<="9"}function Ka(t,e){return{type:"Char",kind:"simple",symbol:t,value:t,codePoint:t.codePointAt(0)||-1,escaped:e}}function as(t,e){return{type:"Char",kind:"meta",symbol:e,value:t,codePoint:e.codePointAt(0)||-1}}function qn(t,e){if(t.length>1)return{type:"Alternative",expressions:t};if(!e&&t.length===0)throw new Error("Unsupported no token");return t[0]}function P0(t){if(t[0]==="\\"){const e=t[1];switch(e){case"x":{const n=t.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"hex",symbol:D0(r),value:t,codePoint:r}}case"u":{if(t==="\\u")return Ka("u",!0);const n=t[2]==="{"?t.substring(3,t.length-1):t.substring(2),r=Number.parseInt(n,16);return{type:"Char",kind:"unicode",symbol:D0(r),value:t,codePoint:r}}case"0":return as(t,"\0");case"n":return as(t,`
`);case"f":return as(t,"\f");case"r":return as(t,"\r");case"t":return as(t,"	");case"v":return as(t,"\v");case"w":case"W":case"d":case"D":case"s":case"S":case"b":case"B":return{type:"Char",kind:"meta",symbol:void 0,value:t,codePoint:Number.NaN};default:{if(YA(e)){const r=t.substring(1),s=Number(r);return{type:"Char",kind:"decimal",symbol:D0(s),value:t,codePoint:s}}if(t.length>2&&(e==="p"||e==="P"))throw new Error("UnicodeProperty not implemented yet!");const n=t.substring(1);return Ka(n,!0)}}}return Ka(t)}function hs(t,e,n,r){let s=null;for(let i=0,a=Fa(e,i,n,Cn.Full);i!==e.length;i+=a.length,a=Fa(e,i,n,Cn.Full)){const c=a[0];switch(c){case"|":{s===null&&(s=[]),s.push(qn(t.splice(0),!0)||null);break}case".":{t.push({type:"Char",kind:"meta",symbol:a,value:a,codePoint:Number.NaN});break}case"*":case"+":{const f=R0(t);t.push({type:"Repetition",expression:f,quantifier:{type:"Quantifier",kind:c,greedy:!0}});break}case"?":{const f=R0(t);f.type==="Repetition"?(f.quantifier.greedy=!1,t.push(f)):t.push({type:"Repetition",expression:f,quantifier:{type:"Quantifier",kind:c,greedy:!0}});break}case"{":{if(a==="{"){t.push(Ka(a));break}const f=R0(t),l=a.substring(1,a.length-1).split(","),x=Number(l[0]),d=l.length===1?x:l[1].length!==0?Number(l[1]):void 0;t.push({type:"Repetition",expression:f,quantifier:{type:"Quantifier",kind:"Range",greedy:!0,from:x,to:d}});break}case"[":{const f=a.substring(1,a.length-1),u=[];let l,x=!1;for(let d=0,g=Fa(f,d,n,Cn.Character);d!==f.length;d+=g.length,g=Fa(f,d,n,Cn.Character)){if(d===0&&g==="^"){l=!0;continue}const b=P0(g);if(g==="-")u.push(b),x=!0;else{const S=u.length>=2?u[u.length-2]:void 0;x&&S!==void 0&&S.type==="Char"?(u.pop(),u.pop(),u.push({type:"ClassRange",from:S,to:b})):u.push(b),x=!1}}t.push({type:"CharacterClass",expressions:u,negative:l});break}case"(":{const f=a.substring(1,a.length-1),u=[];if(f[0]==="?")if(f[1]===":")hs(u,f.substring(2),n,r),t.push({type:"Group",capturing:!1,expression:qn(u)});else if(f[1]==="="||f[1]==="!")hs(u,f.substring(2),n,r),t.push({type:"Assertion",kind:"Lookahead",negative:f[1]==="!"?!0:void 0,assertion:qn(u)});else if(f[1]==="<"&&(f[2]==="="||f[2]==="!"))hs(u,f.substring(3),n,r),t.push({type:"Assertion",kind:"Lookbehind",negative:f[2]==="!"?!0:void 0,assertion:qn(u)});else{const l=f.split(">");if(l.length<2||l[0][1]!=="<")throw new Error(`Unsupported regex content found at ${JSON.stringify(a)}`);const x=++r.lastIndex,d=l[0].substring(2);r.named.set(d,x),hs(u,l.slice(1).join(">"),n,r),t.push({type:"Group",capturing:!0,nameRaw:d,name:d,number:x,expression:qn(u)})}else{const l=++r.lastIndex;hs(u,f,n,r),t.push({type:"Group",capturing:!0,number:l,expression:qn(u)})}break}default:{if(a==="^")t.push({type:"Assertion",kind:a});else if(a==="$")t.push({type:"Assertion",kind:a});else if(a[0]==="\\"&&YA(a[1])){const f=Number(a.substring(1));n||f<=r.lastIndex?t.push({type:"Backreference",kind:"number",number:f,reference:f}):t.push(P0(a))}else if(a[0]==="\\"&&a[1]==="k"&&a.length!==2){const f=a.substring(3,a.length-1);t.push({type:"Backreference",kind:"name",number:r.named.get(f)||0,referenceRaw:f,reference:f})}else t.push(P0(a));break}}}if(s!==null){s.push(qn(t.splice(0),!0)||null);let i={type:"Disjunction",left:s[0],right:s[1]};for(let a=2;a<s.length;++a)i={type:"Disjunction",left:i,right:s[a]};t.push(i)}}function Zj(t){const e=_n([...t.flags],"u")!==-1,n=t.source,r=[];return hs(r,n,e,{lastIndex:0,named:new Map}),qn(r)}const Xj=String.fromCodePoint,$d=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],Bd=[..."0123456789"],Md=[...` 	\r
\v\f`],il=[...`\r
`],ZA=[...""],Qj=[...il,...ZA],mr=()=>It({unit:"grapheme-ascii",minLength:1,maxLength:1});function Nd(t){return new P(`Unsupported AST node! Received: ${kt(t)}`)}function Vn(t,e,n){switch(t.type){case"Char":{if(t.kind==="meta")switch(t.value){case"\\w":return an(...$d);case"\\W":return mr().filter(r=>_n($d,r)===-1);case"\\d":return an(...Bd);case"\\D":return mr().filter(r=>_n(Bd,r)===-1);case"\\s":return an(...Md);case"\\S":return mr().filter(r=>_n(Md,r)===-1);case"\\b":case"\\B":throw new P(`Meta character ${t.value} not implemented yet!`);case".":{const r=n.dotAll?ZA:Qj;return mr().filter(s=>_n(r,s)===-1)}}if(t.symbol===void 0)throw new P(`Unexpected undefined symbol received for non-meta Char! Received: ${kt(t)}`);return Pt(t.symbol)}case"Repetition":{const r=Vn(t.expression,e,n);switch(t.quantifier.kind){case"*":return It({...e,unit:r});case"+":return It({...e,minLength:1,unit:r});case"?":return It({...e,minLength:0,maxLength:1,unit:r});case"Range":return It({...e,minLength:t.quantifier.from,maxLength:t.quantifier.to,unit:r});default:throw Nd(t.quantifier)}}case"Quantifier":throw new P("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return H(...nt(t.expressions,r=>Vn(r,e,n))).map(r=>ft(r,""));case"CharacterClass":if(t.negative){const r=nt(t.expressions,s=>Vn(s,e,n));return mr().filter(s=>mw(r,i=>!i.canShrinkWithoutContext(s)))}return Lt(...nt(t.expressions,r=>Vn(r,e,n)));case"ClassRange":{const r=t.from.codePoint,s=t.to.codePoint;return ot({min:r,max:s}).map(i=>Xj(i),i=>{if(typeof i!="string")throw new P("Invalid type");if([...i].length!==1)throw new P("Invalid length");return Ks(i,0)})}case"Group":return Vn(t.expression,e,n);case"Disjunction":{const r=t.left!==null?Vn(t.left,e,n):Pt(""),s=t.right!==null?Vn(t.right,e,n):Pt("");return Lt(r,s)}case"Assertion":{if(t.kind==="^"||t.kind==="$")return n.multiline?t.kind==="^"?Lt(Pt(""),H(It({unit:mr()}),an(...il)).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new P("Invalid type");return[dt(r,0,r.length-1),r[r.length-1]]})):Lt(Pt(""),H(an(...il),It({unit:mr()})).map(r=>`${r[0]}${r[1]}`,r=>{if(typeof r!="string"||r.length===0)throw new P("Invalid type");return[r[0],dt(r,1)]})):Pt("");throw new P(`Assertions of kind ${t.kind} not implemented yet!`)}case"Backreference":throw new P("Backreference nodes not implemented yet!");default:throw Nd(t)}}function tL(t,e={}){for(const i of t.flags)if(i!=="d"&&i!=="g"&&i!=="m"&&i!=="s"&&i!=="u")throw new P(`Unable to use "stringMatching" against a regex using the flag ${i}`);const n={size:e.size},r={multiline:t.multiline,dotAll:t.dotAll},s=Gj(Zj(t));return Vn(s,n,r)}function eL(t){const e=[];for(let n=0;n!==t.length;++n)e.push(t[n].next());return e}function nL(t,e){for(let n=0;n!==t.length;++n)e[n]=t[n].next()}function rL(t){for(let e=0;e!==t.length;++e)if(t[e].done)return!0;return!1}function*sL(...t){const e=eL(t);for(;!rL(e);)yield e.map(n=>n.value),nL(t,e)}function*iL(t){let e=t;for(;;)yield e,++e}class oL extends bt{constructor(e,n){super(),this.arb=e,this.maxShrinks=n}generate(e,n){const r=this.arb.generate(e,n);return this.valueMapper(r,0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return this.isSafeContext(n)?this.safeShrink(e,n.originalContext,n.length):this.safeShrink(e,void 0,0)}safeShrink(e,n,r){const s=this.maxShrinks-r;return s<=0?L.nil():new L(sL(this.arb.shrink(e,n),iL(r+1))).take(s).map(i=>this.valueMapper(i[0],i[1]))}valueMapper(e,n){const r={originalContext:e.context,length:n};return new N(e.value,r)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalContext"in e&&"length"in e}}function aL(t,e){return new oL(t,e)}const uL="module",cL="4.3.0",fL="fc3afba040ebfb5e6d276359f55ff2752618bc45";var Y=Object.freeze({__proto__:null,Arbitrary:bt,get ExecutionStatus(){return En},PreconditionFailure:De,Random:we,Stream:L,Value:N,get VerbosityLevel(){return Jt},__commitHash:fL,__type:uL,__version:cL,anything:BA,array:ut,assert:_M,asyncDefaultReportMessage:jw,asyncModelRun:jj,asyncProperty:pB,asyncStringify:bx,asyncToStringMethod:Bn,base64String:XP,bigInt:ir,bigInt64Array:Wj,bigUint64Array:zj,boolean:Lo,check:Uw,clone:pN,cloneIfNeeded:ps,cloneMethod:qt,commands:Bj,compareBooleanFunc:pR,compareFunc:dR,configureGlobal:hB,constant:Pt,constantFrom:an,context:oN,createDepthIdentifier:zw,date:Yw,defaultReportMessage:Pw,dictionary:Cx,domain:Tx,double:vc,emailAddress:vD,falsy:iN,float:pA,float32Array:wA,float64Array:AA,func:yR,gen:BM,getDepthContextFor:Sx,hasAsyncToStringMethod:gx,hasCloneMethod:Yr,hasToStringMethod:dx,hash:_u,infiniteStream:zP,int16Array:FA,int32Array:_A,int8Array:EA,integer:ot,ipV4:Mx,ipV4Extended:bA,ipV6:yA,json:TP,jsonValue:MA,letrec:SA,limitShrink:aL,lorem:HR,mapToConstant:qo,maxSafeInteger:gA,maxSafeNat:FR,memo:YR,mixedCase:nP,modelRun:Pj,nat:Gn,noBias:Kw,noShrink:Eu,object:IP,oneof:Lt,option:jr,pre:J8,property:mB,readConfigureGlobal:Ze,record:qP,resetConfigureGlobal:xB,sample:CM,scheduledModelRun:Lj,scheduler:qj,schedulerFor:Vj,shuffledSubarray:rj,sparseArray:TA,statistics:kM,stream:nr,string:It,stringMatching:tL,stringify:kt,subarray:nj,toStringMethod:$n,tuple:H,uint16Array:CA,uint32Array:IA,uint8Array:kA,uint8ClampedArray:vA,ulid:lj,uniqueArray:Uo,uuid:bj,webAuthority:PA,webFragments:LA,webPath:qA,webQueryParameters:VA,webSegment:UA,webUrl:Oj});function lL(t,e){return function(n){if(Array.isArray(n))return n.reduce(e,t);let r=t;for(const s of n)r=e(r,s);return r}}function hL(t){return function(e){return Array.isArray(e)?e.map(t):(function*(){for(const n of e)yield t(n)})()}}const xL=t=>e=>{const n=Object.keys(e);return t.imap(t.productAll(n.map(r=>e[r])),r=>{const s={};for(let i=0;i<r.length;i++)s[n[i]]=r[i];return s},r=>n.map(s=>r[s]))},Ee=(t,e=(n,r)=>lL(n,t)(r))=>({combine:t,combineMany:e}),pL=t=>Ee((e,n)=>t(e,n)===-1?e:n),mL=t=>Ee(()=>t,()=>t),dL=m(3,(t,e,n)=>Ee((r,s)=>e(t.combine(n(r),n(s))),(r,s)=>e(t.combineMany(n(r),hL(n)(s))))),gL=(t,e)=>Ee(([n,r],[s,i])=>[t.combine(n,s),e.combine(r,i)]),XA=t=>Ee((e,n)=>{const r=Math.min(e.length,n.length),s=[];let i=0;for(const a of t){if(i>=r)break;s.push(a.combine(e[i],n[i])),i++}return s}),bL=(t,e)=>{const n=XA(e);return Ee((r,s)=>[t.combine(r[0],s[0]),...n.combine(r.slice(1),s.slice(1))])},yL=mL,SL={of:yL,imap:dL,product:gL,productMany:bL,productAll:XA},QA=xL(SL),lr=(t,e)=>({combine:t.combine,combineMany:t.combineMany,empty:e,combineAll:n=>t.combineMany(e,n)}),wL=t=>{const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n].empty);return lr(QA(t),e)},AL=t=>m(3,(e,n,r)=>t.map(t.product(e,n),([s,i])=>r(s,i))),tF=t=>e=>m(2,(n,r)=>AL(t)(n,r,e)),eF=t=>m(2,(e,n)=>t.bimap(e,n,Z)),nF=t=>m(2,(e,n)=>t.bimap(e,Z,n)),FL=t=>m(3,(e,n,r)=>t(e,r)),Qr=t=>m(3,(e,n,r)=>t(e,n)),_L=t=>m(2,(e,n)=>t.map(n,r=>r(e))),Px=t=>e=>n=>t.traverse(e)(n,Z),Dd=m(2,(t,e)=>t.map(n=>e(n))),EL=m(2,(t,e)=>t.chain(n=>e(n))),jx={map:Dd,imap:Qr(Dd),flatMap:EL},{map:rF,flatMap:CL}=jx,IL=t=>Y.oneof(h(t,rF(T)),Y.constant(k())),wn=Y.integer({min:-100,max:100}),kL=Y.string({minLength:0,maxLength:3});rF(t=>new Error(t));const vL=t=>h(TL,CL(M(O(e=>[e,t]),Object.fromEntries,Y.record))),TL=Y.uniqueArray(Y.string({minLength:1,maxLength:5}),{minLength:1,maxLength:5,comparator:Nr}),{map:OL}=jx;OL(t=>OS(new Error(t)));const $L=t=>e=>t(e),BL=()=>t=>Y.func(t).map($L),sF=()=>BL()(Y.boolean()),{flatMap:ML,map:iF}=jx;Y.oneof(wn.map(t=>Er(t)),wn.map(t=>fy(t)),wn.map(t=>ly(t)),wn.map(t=>hy(t)),wn.map(t=>xy(t)),wn.map(t=>py(t)));h(Y.tuple(wn,wn),ML(([t,e])=>{const[n,r]=t<e?[t,e]:[e,t],s=Y.constant({compare:fI,maxBound:Er(n),minBound:Er(r)});return Y.tuple(h({min:n,max:r},Y.integer,iF(Er),Y.constant),s)}));h({min:-14,max:14},Y.integer,iF(t=>I9(t)));const NL=(t="",...e)=>({name:t,laws:e,sets:[]}),DL=(...t)=>NL("",...t);DL();const RL=t=>m(2,(e,n)=>t.productAll(it(e).map(n))),Lx={traverse:RL};Qr(K$);const PL=m(2,(t,e)=>n=>h(n,e,t));FL(PL);Qr(Sk);const jL=t=>lr(Ee((e,n)=>st(e)?n:st(n)?e:T(t.combine(e.value,n.value))),k());m(3,(t,e,n)=>h(t,zt({onNone:oo(e),onSome:r=>n(e,r)})));const LL=t=>t.to,UL=Ee((t,e)=>t+e),ol=lr(UL,0),qL=IL(wn);vL(qL);sF();const VL=Qg(mb);YE(VL);jL(ol);sF();lr(QA({x:pL(at),y:Ee(m(2,Qh))}),{x:0,y:""});const{$is:j0,$match:WL,Left:zL,Right:KL,Both:GL}=Xh(),Vo=({Left:t,Right:e,Both:n})=>r=>h(r,WL({Left:s=>t(s),Right:s=>e(s),Both:s=>n(s)})),[Wo,zo,or]=[Object.assign(zL,{from:t=>Wo({left:t})}),Object.assign(KL,{from:t=>zo({right:t})}),Object.assign(GL,{from:(t,e)=>or({left:e,right:t})})];j0("Left"),j0("Right"),j0("Both");m(2,(t,e)=>h(t,Vo({Left:()=>Wo.from(e),Right:({right:n})=>or.from(n,e),Both:({right:n})=>or.from(n,e)})));m(2,(t,e)=>h(t,Vo({Left:({left:n})=>or.from(e,n),Right:()=>zo.from(e),Both:({left:n})=>or.from(e,n)})));const JL=t=>h(t,Vo({Left:({left:e})=>[k(),T(e)],Right:({right:e})=>[T(e),k()],Both:({left:e,right:n})=>[T(n),T(e)]})),oF=(t,e,n)=>{const r=e.length-t.length;return[...Uu(t,e,M(or.from,n)),...r===0?[]:r>0?h(e,tu(r),O(M(Wo.from,n))):h(t,tu(-1*r),O(M(zo.from,n)))]};m(2,(t,e)=>oF(t,e,Z));const HL=t=>h(t,O(JL),Ro(M(eu(([e])=>pt(e)),O(([e])=>e.value)),M(eu(([,e])=>pt(e)),O(([,e])=>e.value)))),al=m(3,(t,e,n)=>h(t,Vo({Right:({right:r})=>h(r,e,zo.from),Left:({left:r})=>h(r,n,Wo.from),Both:({left:r,right:s})=>or({left:n(r),right:e(s)})}))),Rd={bimap:al};eF(Rd),nF(Rd);Object.assign(J0,{removeReadOnly:J0});const Ce=t=>({node:t}),Je=Object.assign(m(2,(t,e)=>({node:t,forest:e})),{tupled:([t,e])=>({node:t,forest:e}),flipped:m(2,(t,e)=>({node:e,forest:t}))}),ar=Object.assign(m(2,(t,e)=>gt(e)?Je(t,e):Ce(t)),{flipped:m(2,(t,e)=>ar(e,t)),tupled:([t,e])=>ar(t,e)}),aF=t=>!("forest"in t),YL=t=>!aF(t),Xt=({onLeaf:t,onBranch:e})=>n=>YL(n)?e(n.node,n.forest):t(n.node),ZL=Xt({onLeaf:()=>0,onBranch:(t,e)=>e.length}),Tc=({node:t})=>t,XL=({forest:t})=>t,QL=m(2,(t,e)=>h(e,Xt({onLeaf:()=>Ce(t),onBranch:(n,r)=>Je(t,r)})));m(2,(t,e)=>h(e,Xt({onLeaf:n=>ar(n,t),onBranch:n=>ar(n,t)})));m(2,(t,e)=>h(t,Tc,e,QL(t)));const uF=m(2,(t,e)=>h(t,Xt({onLeaf:Ce,onBranch:(n,r)=>({node:n,forest:O(r,e)})})));Qr(uF);m(2,(t,e)=>h(t,uF(e),Xt({onLeaf:Ce,onBranch:Je})));const tU=t=>m(2,(e,n)=>h(e,Xt({onLeaf:M(Ce,t.of),onBranch:(r,s)=>eU(t)(r,O(s,n))}))),Ko={traverse:tU},eU=t=>(e,n)=>h(e,t.of,tF(t)(ar)(Px(Lx)(t)(n))),Oc=t=>({unfixed:t}),Ux=t=>t.unfixed,nU=Ne,cF=pe,rU=Qr(cF),sU=t=>(e,n)=>Sc([e,n],t),iU=t=>(e,n)=>Sc([e,...n],t),oU=t=>e=>Sc(e,t),aU=t=>({imap:rU,of:nU,map:cF,product:sU(t),productMany:iU(t),productAll:oU(t)}),no=t=>e=>h(e,t,Ne),fF=t=>(e,n)=>{const r=t.traverse(aU()),s=i=>h(i,e,Nt(a=>Ve(()=>h(a,r(s)))),Nt(n));return s},lF=t=>(e,n)=>r=>h(r,fF(t)(no(e),no(n)),Pn),hF=t=>e=>fF(t)(n=>h(n,Ux,Ne),e),qx=t=>e=>M(h(e,no,hF(t)),Pn),uU=t=>e=>lF(t)(e,Oc),[xF,cU]=[Oc,Ux],Ga=Oc,fU=Ux,Xe=M(Ce,xF),Mn=Object.assign(m(2,(t,e)=>Ga(Je(t,e))),{flipped:t=>e=>Ga(Je(t,e)),tupled:([t,e])=>Ga(Je(t,e))}),_a=(t,e=[])=>gt(e)?Mn(t,e):Xe(t),ur=Object.assign(_a,{curried:t=>e=>_a(e,t),flipped:t=>e=>_a(t,e),tupled:([t,e])=>_a(t,e)}),mn=t=>aF(t.unfixed),lU=t=>!mn(t),me=M(cU,Tc),ui=M(fU,XL),Yt=({onLeaf:t,onBranch:e})=>n=>lU(n)?e(...h(n,Ro(me,ui))):h(n,me,t),hU=(t,e)=>h(t,Yt({onLeaf:M(e,pe(Xe)),onBranch:(n,r)=>Ve(()=>h(r,un(Lr(e)),Nt(s=>h(n,e,pe(Mn(s))))))})),xU=t=>Yt({onLeaf:M(t,pe(Xe)),onBranch:(e,n)=>Ve(()=>Nt(t(e),r=>h(n,un(Lr.pre(t)),pe(ur.flipped(r)))))}),Lr=Object.assign(m(2,hU),{pre:xU}),Re=m(2,(t,e)=>h(t,Lr.pre(M(e,Ne)),Pn)),pU=Qr(Re),pF={map:Re,imap:pU};_L(pF);const mF=t=>h(t,Xt({onLeaf:Z,onBranch:(e,n)=>Mn(me(e),n)}));qx(Ko)(mF);const Pd=hF(Ko)(M(mF,Ne)),mU=Object.assign(m(2,(t,e)=>h(t,Lr(e),Nt(Pd))),{pre:t=>e=>h(e,Lr.pre(t),Nt(Pd))}),dU=m(2,(t,e)=>h(t,mU(M(e,Ne)),Pn)),gU=Xe;({...pF});m(2,(t,e)=>h(t,dU(n=>h(e,Re(Dr.withFirst(n))))));const Iu=Yt({onLeaf:()=>0,onBranch:(t,e)=>e.length}),bU=t=>h(t,Yt({onLeaf:()=>[],onBranch:(e,n)=>n})),yU=m(2,(t,e)=>({unfixed:h(t,Yt({onLeaf:()=>Ce(e),onBranch:(n,r)=>Je(e,r)}))})),jd=(t,e)=>h(t,me,Je(e),Ga),Vx=Object.assign(m(2,jd),{flip:t=>e=>jd(t,e)});m(2,(t,e)=>mn(t)?t:e(t));m(2,(t,e)=>yU(t,h(t,me,e)));const Wx=m(2,(t,e)=>h(t,Ro(me,M(bU,e)),ur.tupled)),dF=t=>e=>Vx(e,h(e,ui,t)),Ld=(t,e)=>h(e,Yt({onLeaf:ai(k()),onBranch:(n,r)=>ab(r,t+(t<0?r.length:0))})),Ud=Object.assign(m(2,(t,e)=>Ld(t,e)),{flip:t=>e=>Ld(t,e)}),SU=(t,e)=>{const[n,...r]=t;if(n===void 0)return k();let s=Ud(n,e);if(st(s))return k();for(const i of r)if(s=Ud(i,s.value),st(s))return k();return s},wU=Object.assign(m(2,SU),{flip:t=>e=>wU(t,e)}),L0=(t,e,n)=>h(t,Yt({onLeaf:r=>[],onBranch:(r,s)=>s.slice(e,n)}));Object.assign(L0,{curry:(t,e)=>n=>L0(n,t,e),flip:t=>(e,n)=>L0(t,e,n)});const AU=Ee((t,e)=>t&&e,(t,e)=>{if(t===!1)return!1;for(const n of e)if(n===!1)return!1;return!0}),FU=Ee((t,e)=>t||e,(t,e)=>{if(t===!0)return!0;for(const n of e)if(n===!0)return!0;return!1}),_U=Ee((t,e)=>t!==e),EU=Ee((t,e)=>t===e),CU=lr(AU,!0),IU=lr(FU,!1),kU=lr(_U,!1),vU=lr(EU,!0),Ln=qx(Ko);m(3,(t,e,n)=>h(e,gF(n,t),Pn));const gF=(t,e)=>n=>h(e,Yt({onLeaf:r=>Ne(t(n,r)),onBranch:(r,s)=>Wr(s,Ne(t(n,r)),(i,a)=>Ve(()=>h(i,Nt(gF(t,a)))))})),$c=t=>Ln(bF(t)),bF=t=>e=>h(e,Xt({onLeaf:n=>t.combine(t.empty,n),onBranch:(n,r)=>Wr(r,t.combine(t.empty,n),t.combine)}));$c(CU);$c(IU);$c(kU);$c(vU);const qd=t=>e=>n=>r=>{const s=TU(e),i=Yt({onLeaf:M(n,pe(e.map(Xe))),onBranch:(a,c)=>Ve(()=>t==="post"?h(c,un(i),Nt(f=>pe(n(a),s(f)))):h(a,n,Nt(f=>h(c,un(i),pe(u=>s(f,u))))))});return i(r)};Object.assign(qd("pre"),{post:qd("post")});const TU=t=>m(2,(e,n)=>tF(t)((r,s)=>ur(r,s))(e,h(n,Px(Lx)(t)))),Go=uU(Ko),OU=t=>M(Ro(t,ar.flipped),M8),$U=lF(Ko),BU=m(3,(t,e,n)=>{const r=e+(e<0?Iu(t):0);return h(t,Yt({onLeaf:Mn(n),onBranch:(s,i)=>{const a=r>=i.length?[...i,...n]:i.toSpliced(r,0,...n);return Mn(s,a)}}))});m(3,(t,e,n)=>BU(t,n,[e]));const MU=m(2,(t,e)=>mn(t)?h(t,me,Mn([e])):h(t,dF(JS(e)))),NU=m(2,(t,e)=>mn(t)?h(t,me,Mn([e])):h(t,dF(HS(e))));m(2,(t,e)=>Ht(e)?mn(t)?h(t,Vx(e)):h(t,Wx(b8(e))):t);m(2,(t,e)=>Ht(e)?mn(t)?h(t,Vx(e)):h(t,Wx(y8(e))):t);const Vd=(t,e)=>n=>{const r=t+(t<0?Iu(n):0);return h(n,Wx(s=>r>=s.length?[...s]:s.toSpliced(r,e)))},yF=Object.assign(m(2,(t,e)=>Vd(t,1)(e)),{flip:t=>Vd(t,1)});yF.flip(0);yF.flip(-1);const DU=({depth:t,degree:e=()=>1})=>OU(n=>n>=t?[]:Rn(n+1,e(n))),RU=([t,e])=>{const n=e+1;return h(t,Yt({onLeaf:M(Dr.withSecond(n),Ce),onBranch:(r,s)=>Je([r,n],h(s,O(Dr.withSecond(n))))}))},PU=t=>(e=1)=>h(t,DU,Go)(e),ul=({degree:t,depth:e})=>PU({depth:e,degree:ai(t)})(1);ul.string=M(ul,Re(_c));const Wd=t=>ul({degree:2,depth:t});Wd.string=M(Wd,Re(_c));const jU=Xt({onLeaf:t=>[t],onBranch:(t,e)=>h(e,bo,fn(t))}),LU=Xt({onLeaf:()=>1,onBranch:(t,e)=>Math.max(...e)+1}),UU=Xt({onLeaf:()=>0,onBranch:(t,e)=>Math.max(e.length,...e)}),qU=t=>h(t,Ln(LU)),VU=t=>h(t,Ln(UU)),SF=t=>(e,n)=>{const r=$g(SF(t)),s=t(me(e),me(n)),i=()=>h(s,Xe,Ne);return h(e,Yt({onLeaf:i,onBranch:(a,c)=>h(n,Yt({onLeaf:i,onBranch:(f,u)=>Ve(()=>h(c,Ri(u),un(r),pe(ur.flipped(s))))}))}))},WU=(t,e,n)=>Pn(SF(n)(t,e));m(2,(t,e)=>WU(t,e,(n,r)=>[n,r]));const zU=t=>Xt({onLeaf:Dr.withSecond(k()),onBranch:(e,n)=>h(n,p3(KU(t)),Rl(In(()=>T(e))))});function KU(t){return h(t,Du(tb))}const GU=t=>e=>{const[n,r]=h(t,zU,Ln)(e);return[(st(r)?Z:h(n,rx.curried(t),V_,JU))(e),n,r]},JU=t=>h(t,YU,Ln),HU=t=>Xt({onLeaf:Xe,onBranch:(e,n)=>ur(e,h(n,eu(t)))}),YU=t=>HU(({unfixed:e})=>ZL(e)!==0||h(e,Tc,t)),zd=(t,e=2)=>h([t,0],$U(RU,jU),O(([n,r])=>h((r-1)*e,W8,U8(n)))),wF=Object.assign(zd,{curried:t=>e=>zd(e,t)}),AF=t=>{const[e,n]=t;if(n===void 0)return xF(Ce(e));const r=Kd(n),s=a=>Kd(a)/r,i=h(t,O(a=>[a.trimStart(),s(a)]));return h(i,Go(FF))},FF=([[t,e],n,...r])=>{if(n===void 0)return Ce(t);const s=[[n]];for(const[i,a]of r)a>e+1?s.at(-1).push([i,a]):s.push([[i,a]]);return Je(t,s)},Kd=t=>h(t,G8(q8(" ")),w9);var ZU=Object.freeze({__proto__:null,decode:AF,decodeIndentedUnfold:FF,encode:wF});const _F=t=>Ul(t)?ar(...t):Ce(t),XU=Go(_F),EF=t=>{if(Ul(Tc(t)))throw new Error("Cannot encode a tree of arrays as an array tree.");return h(t,Xt({onLeaf:Z,onBranch:(e,n)=>[e,n]}))},QU=t=>h(t,Ln(EF));var tq=Object.freeze({__proto__:null,decode:XU,decodeUnfold:_F,encode:QU,unsafeEncodeFold:EF});const zx=t=>h(t,Wr(oq(),eq)),eq=(t,e)=>h([e,t],nq,rq,sq,WE),nq=([[t,e],{roots:n,...r}])=>[[t,e],{...r,roots:h(n,h(e,zt({onNone:()=>gs,onSome:()=>ph}))(t))}],rq=([[t,e],{toParent:n,...r}])=>[[t,e],{...r,toParent:h(n,h(e,zt({onNone:()=>Z,onSome:s=>gh(t,s)})))}],sq=([[t,e],{toChildren:n,...r}])=>[[t,e],{...r,toChildren:h(e,zt({onNone:()=>n,onSome:iq(n,t)}))}],iq=(t,e)=>n=>h(t,$y(n,M(zt({onNone:()=>[e],onSome:Zn(e)}),T))),oq=()=>({roots:Qn(),toParent:qi(),toChildren:qi()}),cl=t=>[t,k()],CF=t=>([e])=>[e,T(t)],IF=({roots:t,toChildren:e})=>{const[n]=XI(t);if(n===void 0)throw new Error("Edge map |roots|=0");if(xh(t)!==1)throw new Error("Edge map |roots|1");return[n,h(e,dh(n),vt(()=>[]))]},kF=t=>e=>({...t,roots:Ey([e])}),vF=t=>J0(t,Qg(t)),aq=t=>h(t,vF,zr),uq=O(Rl(vt(()=>0))),TF=t=>{const[e,n]=IF(t);return h(n,QE({onEmpty:()=>Ce(e),onNonEmpty:M(O(kF(t)),ar.flipped(e))}))},OF=t=>h(t,Go(TF)),Kx=M(zx,OF),$F=Xt({onLeaf:t=>[cl(t)],onBranch:(t,e)=>h(e,Vl(a3(CF(t))),fn(cl(t)))}),Gx=Ln($F),cq=M(Gx,zx);var fq=Object.freeze({__proto__:null,decode:Kx,decodeMap:OF,decodeUnfold:TF,encode:Gx,encodeFold:$F,getEdgeEquivalence:vF,getEdgeListEquivalence:aq,getMapChildren:IF,index:cq,indexParents:zx,numeric:uq,rootTreeEdge:cl,setMapRoot:kF,setParent:CF});const BF=t=>h(t,Xt({onLeaf:e=>[[e]],onBranch:(e,n)=>h(n,bo,O(r=>[e,...r]))})),MF=t=>e=>{const n=h(t,Du(Bt)),r=rx(n),s=e[0][0],i=h(e,O(ln),eu(gt));return gt(i)?Je(s,h3(h(i,o3(n)),r)):Ce(s)},NF=Ln(BF),Hs=t=>e=>h(e,Go(MF(t)));Hs.number=Hs(at);Hs.string=Hs(y9);const lq=t=>e=>{const n=new Map,r=new Set,s=e[0][0];for(const i of e){const[a,c]=[Bt(i),go(i)];if(!t(a,s)||r.has(c))return!1;r.add(c);const f=h(ln(i),Ri(ql(i)));if(rb(f))return e.length===1;for(const[u,l]of f){const x=n.get(u);if(x===void 0)n.set(u,l);else if(!t(x,l))return!1}}return!0};var hq=Object.freeze({__proto__:null,decode:Hs,encode:NF,isValidPathList:lq,pathListFold:BF,pathListUnfold:MF});const Un=t=>Ht(t)?h(t,DF,Kx):Mn(1,[Xe(2)]),DF=t=>{const e=[],n=[-1,2,...h(1,Rn(t.length+1))];for(const s of t)n[s]++;let r=n.indexOf(1);for(const s of t)e.push([r,T(s)]),n[r]--,r=--n[s]===1&&s<r?s:n.indexOf(1,r);return[[1,k()],[r,T(1)],...e]},ts=t=>e=>{const[n,...r]=ui(e);if(r.length===0&&mn(n))return[];const s=GU(t),i=a=>{const[c,,f]=s(a);return h(f,zt({onNone:()=>Ne([]),onSome:u=>h(Ve(()=>i(c)),pe(HS(u)))}))};return h(h(e,i,Pn),ql)},RF=t=>BigInt(t)**(BigInt(t)-2n),tn=t=>t.length+2,Jx=t=>t-2,ro=(t,e)=>{if(e<3)return[];const n=O(ZS(t-1n,e),Gl),r=e-n.length-2;return h(n,Di(r===0?[]:Rn(1,r)))},Hx=t=>{if(t.length===0)return[1n,2];const[e,n]=h(t,O(Jl),er.mapSecond(tn));return[XS(e,n)+1n,n]},xq=(t,e)=>h(ro(t,e),Un),pq=t=>h(t,ts(at),Hx),PF=t=>{const e=RF(t);return t>=36?[ro(1n,t)]:h(ZE(1,Number(e)),O(n=>ro(BigInt(n),t)))},mq=t=>t<2?[]:t===2?[Mn(1,[gU(2)])]:h(t,PF,O(Un)),Jo=t=>t<3?[]:h(t,Jx,e=>Rn(1,e)),dq=t=>h(t,tn,Jo),gq=t=>h(t,tn,Gl,Jo),Ho=t=>t<3?[]:h(t,Jx,e=>Rn(t,e)),bq=t=>h(t,tn,Ho),yq=t=>h(t,tn,Jl,Ho),Yx=t=>Ht(t)?cb(t,e=>e===1):!0,Zx=t=>{if(Ht(t)){const e=tn(t);return h(t,cb(n=>n===e))}else return!0},Xx=t=>Ht(t)?Yx(t)?t.length===1?[]:Ho(tn(t)-1):h(t,UF(Dl(e=>e-1n))):[],Qx=t=>Zx(t)?Jo(tn(t)+1):h(t,UF(Dl(e=>e+1n))),jF=t=>Ht(t)?Yx(t)?h(t,tn,Ho):Xx(t):[],LF=t=>Zx(t)?h(t,tn,Jo):Qx(t),Sq=t=>h(t,ts(at),Xx,Un),wq=t=>h(t,ts(at),Qx,Un),Aq=t=>h(t,ts(at),jF,Un),Fq=t=>h(t,ts(at),LF,Un),UF=t=>e=>{const[n,r]=h(e,Hx,t);return ro(n,r)};var _q=Object.freeze({__proto__:null,allCodesAt:PF,allTreesAt:mq,codeCount:Jx,computeNodeCount:tn,decode:Un,encode:ts,fromOrdinal:ro,getFirstCode:dq,getFirstCodeFor:Jo,getLastCode:bq,getLastCodeFor:Ho,getNextFirstCode:gq,getNthTree:xq,getPreviousLastCode:yq,isFirstCode:Yx,isLastCode:Zx,labeledTreeCount:RF,nextCode:Qx,nextCodeWrap:LF,nextTree:wq,nextTreeWrap:Fq,previousCode:Xx,previousCodeWrap:jF,previousTree:Sq,previousTreeWrap:Aq,toEdges:DF,toOrdinal:Hx,treeToOrdinal:pq});const qF=t=>a8(p8(()=>Eq(t,qF(t))),Iq(t)),Eq=(t,e)=>Ws({unfixed:Cq(t,e)}),Cq=(t,e)=>Ws({node:t,forest:c8(e)}),Iq=t=>Ws({unfixed:kq(t)}),kq=t=>Ws({node:t}),VF=()=>({to:Gx,from:Kx}),vq=t=>({to:NF,from:Hs(t)}),Tq={to:ts(at),from:Un},Oq=t=>({to:wF.curried(t),from:AF}),WF=t=>T9(e=>{for(const[n,r]of h(t,Re(s=>B9(e,s)),LL(VF())))h(r,Pu(s=>N9(e,n,s,"")))}),$q=t=>{const e=Re(t,n=>typeof n=="number"?n.toString():n);return h(e,WF,D9)};var Bq=Object.freeze({__proto__:null,Arrays:tq,ArraysIsomorphism:vq,EdgeListIsomorphism:VF,Edges:fq,Indented:ZU,IndentedIsomorphism:Oq,Paths:hq,Prufer:_q,PruferIsomorphism:Tq,treeSchema:qF,treeToGraph:WF,treeToGraphViz:$q});O(([t,e])=>h(t,po,Pu(Dr.withSecond(e))));const Mq=wL({numerator:ol,denominator:ol}),Nq=t=>h(t,bF(Mq)),Dq=({numerator:t,denominator:e})=>e===0?0:t/e,Rq=t=>({numerator:t,denominator:1});M(Re(Rq),Ln(Nq),Dq);const zF=t=>{const[e,n]=[Lr(no(M(zo.from,t))),Lr(no(M(Wo.from,t)))],r=i=>pe(ur.flipped(i)),s=i=>a=>c=>h(c,un(a),r(i));return(i,a)=>{const c=t(or.from(me(i),me(a)));return h(i,Yt({onLeaf:()=>h(a,Yt({onLeaf:()=>h(c,Xe,Ne),onBranch:(f,u)=>s(c)(n)(u)})),onBranch:(f,u)=>h(a,Yt({onLeaf:()=>s(c)(e)(u),onBranch:(l,x)=>h(oF(x,u,Vo({Left:({left:d})=>e(d),Right:({right:d})=>n(d),Both:({left:d,right:g})=>zF(t)(d,g)})),Sc,r(c))}))}))}};Xt({onLeaf:al(Xe,Xe),onBranch:(t,e)=>{const[n,r]=HL(e);return h(t,al(ur.curried(r),ur.curried(n)))}});const Pq=t=>M(zF(t),Pn);m(2,(t,e)=>Pq(Z)(t,e));const KF=(t,e)=>Y.integer({min:t,max:e}).map(n=>String.fromCodePoint(n)),jq=KF(65,90),Lq=KF(97,122),GF=Y.boolean().chain(t=>t?jq:Lq),fl=Y.array(GF,{minLength:0,maxLength:3}),Gd=fl.map(rt),t1=Y.array(GF,{minLength:1,maxLength:3});t1.map(rt);const Uq=["topLeft","topRight"],qq=["bottomRight","bottomLeft"],Jd=[...Uq,...qq],Ss=["top","right","bottom","left"],Hd=(t,e,n)=>Pl(t,e,ai(n)),Yd=Object.assign(m(3,Hd),{named:(t,e)=>n=>Hd(cr(n),t,e)}),Vq={ascii:ke("..''"),diagonal:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},double:ke(""),hDouble:ke(""),hThick:ke(""),round:ke(""),solid:cn("")(...Jd),space:cn(" ")(...Jd),thick:ke(""),thin:ke(""),vDouble:ke(""),vThick:ke(""),halfSolid:ke(""),halfSolidNear:ke(""),halfSolidFar:ke("")},cr=t=>Vq[t];function ke(t){const[e,n,r,s]=Ec(t);return{topLeft:e,topRight:n,bottomRight:s,bottomLeft:r}}const Zd=(t,e,n)=>Pl(t,e,ai(n)),Xd=Object.assign(m(3,Zd),{named:(t,e)=>n=>Zd(Be(n),t,e)}),Wq={ascii:fe("-|"),dashed:fe(""),dashedWide:fe(""),dotted:fe(""),double:fe(""),halfSolid:Ea(""),halfSolidNear:Ea(""),halfSolidFar:Ea(""),hDouble:fe(""),hThick:fe(""),near:Ea(""),solid:cn("")(...Ss),space:cn(" ")(...Ss),thick:fe(""),thickDashed:fe(""),thickDashedWide:fe(""),thickDotted:fe(""),thin:fe(""),vDouble:fe(""),vThick:fe("")},Be=t=>Wq[t];function fe(t){const[e,n]=Ec(t);return{top:e,right:n,bottom:e,left:n}}function Ea(t){const[e,n,r,s]=Ec(t);return{top:e,right:n,bottom:r,left:s}}Object.assign(m(3,({lines:t,...e},n,r)=>({...e,lines:Xd(t,n,r)})),{named:(t,e)=>({lines:n,...r})=>({...r,lines:Xd(n,t,e1(e).lines[t])})});Object.assign(m(3,({elbows:t,...e},n,r)=>({...e,elbows:Yd(t,n,r)})),{named:(t,e)=>({elbows:n,...r})=>({...r,elbows:Yd(n,t,cr(e)[t])})});const zq={ascii:Ft("ascii","ascii"),thin:Ft("thin","thin"),dashed:Ft("dashed","thin"),dashedWide:Ft("dashedWide","thin"),dotted:Ft("dotted","thin"),thick:Ft("thick","thick"),hThick:Ft("hThick","hThick"),vThick:Ft("vThick","vThick"),thickDashed:Ft("thickDashed","thick"),thickDashedWide:Ft("dashedWide","thick"),thickDotted:Ft("thickDotted","thick"),double:Ft("double","double"),hDouble:Ft("hDouble","hDouble"),vDouble:Ft("vDouble","vDouble"),solid:Ft("solid","solid"),space:Ft("space","space"),near:Ft("near","space"),halfSolid:Ft("halfSolid","halfSolid"),halfSolidNear:Ft("halfSolidNear","halfSolidNear"),halfSolidFar:Ft("halfSolidFar","halfSolidFar"),beveled:Ft("near","diagonal")},e1=t=>zq[t];function Ft(t,e){return{lines:Be(t),elbows:cr(e)}}const Qd=(t,e,n)=>Pl(t,e,ai(n));Object.assign(m(3,Qd),{named:(t,e)=>n=>Qd(Ys(n),t,e)});const Kq={ascii:cn("+")(...Ss),double:yn(""),hDouble:yn(""),hThick:yn(""),solid:cn("")(...Ss),space:cn(" ")(...Ss),thick:yn(""),thin:yn(""),vDouble:yn(""),vThick:yn(""),vThickTop:yn(""),vThickBottom:yn("")},Ys=t=>Kq[t];function yn(t){const[e,n,r,s]=Ec(t);return{top:e,right:n,bottom:r,left:s}}const de=(t=[" "],e="",n="")=>({axis:"horizontal",prefix:e,body:t,suffix:n}),xn=(t=[""],e=[],n=[])=>({axis:"vertical",prefix:e,body:t,suffix:n}),ku=(t,e=t)=>({left:t,right:e}),vu=(t,e=t)=>({top:t,bottom:e});de.space=de([" "]);xn.empty=xn([""]);ku.space=ku(de.space);vu.empty=vu(xn.empty);const so=de.space,ll=xn.empty,Gq={top:ll,right:so,bottom:ll,left:so},JF=t=>({...Gq,...jf(t??{})});de.fill=({prefix:t,body:e,suffix:n})=>r=>{if(r===0)return"";const s=r-Rr(t)-Rr(n);if(s>=0)return t+h(e,rt,Uf(s))+n;const i=Math.floor(r/2),a=r-i;return rt([...yu(0,a)(t),...yu(0,i)(n)])};xn.fill=({prefix:t,body:e,suffix:n})=>r=>{if(r===0)return[];const s=r-t.length-n.length;if(s>=0)return[...t,...z8(s)(e),...n];const i=Math.floor(r/2),a=r-i;return[...t.slice(0,a),...n.slice(0,i)]};ku.fill=({left:t,right:e})=>(n,r)=>s=>de.fill(t)(n)+s+de.fill(e)(r);vu.fill=({top:t,bottom:e})=>([n,r])=>s=>[...xn.fill(t)(n),...s,...xn.fill(e)(r)];const n1=(t=ll,e=so,n=t,r=e)=>({top:t,right:e,bottom:n,left:r}),Ja=zr(Nr),hl=Ou({prefix:Nr,body:Ja,suffix:Nr}),xl=Ou({prefix:Ja,body:Ja,suffix:Ja}),tg=({prefix:t,body:e,suffix:n})=>`${t}${rt.quote.fancy(e)}${n}`,eg=({prefix:t,body:e,suffix:n})=>rt.rest("",rt.comma(t),`${rt.quote.fancy(e)}`,rt.comma(n)),HF=({right:t,left:e})=>rt.rest(`${tg(e)}`,...hl(e,t)?[]:[`${tg(t)}`]),Jq=({top:t,bottom:e})=>rt.rest(`${eg(t)}`,...xl(t,e)?[]:[`${eg(e)}`]),Hq=({top:t,right:e,bottom:n,left:r})=>rt.rest(HF({left:r,right:e}),Jq({top:t,bottom:n})),Yq=(t,e,n)=>r=>r==="left"?t():r==="center"?e():n(),Zq=(t,e,n)=>r=>r==="top"?t():r==="middle"?e():n(),YF=t=>[t("left",0),t("center",1),t("right",2)],ZF=t=>[t("top",0),t("middle",1),t("bottom",2)],ci=t=>mo(YF((e,n)=>[e,t(e,n)])),r1=t=>mo(ZF((e,n)=>[e,t(e,n)])),Xq={left:"",center:"",right:"",top:"",middle:"",bottom:""},pl=t=>Xq[t],XF=Ou({left:hl,right:hl,hAlign:Nr}),Qq=Ou({top:xl,bottom:xl,vAlign:Nr}),tV=O_(XF,Qq),QF=(t,e,n=!1)=>r=>{if(r.length<=1)return r;const s=K8(r),i=a=>s-Rr(a);return h(r,O(a=>{const c=i(a);return c<=0?a:eV(t,e,c,n)(a)}))};function eV(t,e,n,r){const{left:s,right:i}=t;return a=>h(e,Yq(()=>a+de.fill(i)(n),()=>ku.fill(t)(...(r?QS:tw)(n))(a),()=>de.fill(s)(n)+a))}const ml=(t,e,n,r=!1)=>s=>{const i=F8(s);return i===0?s:h(s,O(a=>{const c=i-a.length;return h(a,c<=0?Z:nV(t,e,c,r),n)}))};ml.useTopRound=(t,e,n)=>ml(t,e,n,!0);function nV(t,e,n,r=!1){return h(e,Zq(()=>[n,0],()=>$8[r?"halfToFirst":"halfToSecond"](n),()=>[0,n]),zE,vu.fill(t))}const Yo=Xh(),Zo=Yo.$is,t_=Yo.EmptyF,e_=Yo.TextF,Bc=Yo.RowF,Mc=Yo.ColumnF,s1=t=>Zo("EmptyF")(t),i1=t=>Zo("TextF")(t),o1=t=>Zo("RowF")(t),n_=t=>Zo("ColumnF")(t),fi=(t,e,n,r)=>s=>s1(s)?t:i1(s)?e(s.show):o1(s)?n(s):r(s),Nc=t_(),Dc=t=>e_({show:t}),r_=t=>e=>Bc({...t,cells:e}),s_=t=>e=>Mc({...t,cells:e}),Rc=m(2,(t,e)=>h(t,fi(Nc,n=>Dc(n),({cells:n,...r})=>Bc({...r,cells:h(n,O(e))}),({cells:n,...r})=>Mc({...r,cells:h(n,O(e))})))),i_=Qr(Rc),o_=t=>m(2,(e,n)=>h(e,Rc(n),sV(t))),rV={map:Rc,imap:i_},a_={traverse:o_},sV=t=>e=>{const n=Px(Lx)(t),r=t.map;return h(e,fi(t.of(Nc),M(Dc,t.of),({cells:s,...i})=>h(s,n,r(a=>Bc({...i,cells:[...a]}))),({cells:s,...i})=>h(s,n,r(a=>Mc({...i,cells:[...a]})))))},iV=t=>(e,n)=>h(e,fi(s1(n),r=>i1(n)&&n.show===r,r=>o1(n)&&oV(t)(r,n),r=>n_(n)&&aV(t)(r,n))),oV=t=>({cells:e,...n},{cells:r,...s})=>tV(n,s)&&zr(t)(e,r),aV=t=>({cells:e,...n},{cells:r,...s})=>XF(n,s)&&zr(t)(e,r),uV=Ne({}),cV=OS(void 0);var fV=Object.freeze({__proto__:null,ColumnF:Mc,Covariant:rV,EmptyF:t_,RowF:Bc,TextF:e_,Traversable:a_,columnF:s_,emptyF:Nc,equalsFail:cV,equalsSuccess:uV,getEquivalence:iV,imap:i_,isColumnF:n_,isEmptyF:s1,isPartFOf:Zo,isRowF:o1,isTextF:i1,map:Rc,matchPartF:fi,rowF:r_,textF:Dc,traverse:o_});const Pc=t=>Oc(t),lV=t=>M(r_(t),Pc),u_=t=>M(s_(t),Pc),c_=Pc(Nc),Nn=M(Dc,Pc),ng=(t="middle")=>(e="center")=>(n,r)=>lV({hAlign:e,vAlign:t,...JF(r)})(n),$i=Object.assign(ng,r1(M(ng,ci))),rg=(t="middle")=>(e="center")=>(n,r)=>s=>$i(t)(e)([s,n],r),sg=(t="middle")=>(e="center")=>(n,r)=>s=>$i(t)(e)([n,s],r),hV=Object.assign(rg,r1(t=>ci(e=>rg(t)(e)))),f_=Object.assign(sg,r1(t=>ci(e=>sg(t)(e)))),ig=(t="center")=>(e,n=so,r=n)=>u_({hAlign:t,left:n,right:r})(e),Hn=Object.assign(ig,ci(ig)),dl=(t="center")=>(e,n=so,r=n)=>s=>u_({hAlign:t,left:n,right:r})([e,s]),og=t=>(e,n,r)=>s=>dl(t)(s,n,r)(e),ag=Object.assign(t=>(e,n,r)=>s=>dl(t)(e,n,r)(s),ci(dl)),ug=Object.assign(t=>(e,n,r)=>s=>og(t)(e,n,r)(s),ci(og)),gl=t=>qx(a_)(t),cg=fi([],xe,pV,mV),xV=Object.assign(gl(cg),{unlines:t=>h(t,gl(cg),zs)});function pV({hAlign:t,vAlign:e,cells:[n,...r],...s}){if(n===void 0)return[];const{left:i,right:a,top:c,bottom:f}=JF(s),u=h([n,...r],ml({top:c,bottom:f},e,QF({left:i,right:a},t)));return h(u,KS,O(O(vt(ai(" ")))),O(rt))}function mV({cells:t,hAlign:e,...n}){return h(t,bo,QF(n,e))}const dV=fi("",wt.quote.fancy,gV,bV);gl(dV);function gV({cells:t,hAlign:e,vAlign:n,...r}){return rt.rest(pl(e),pl(n),".",Hq(r),"(",t.join(", "),")")}function bV({hAlign:t,cells:e,...n}){return rt.rest(pl(t),HF(n),"(",e.join(", "),")")}const l_=["rootBullet","branchBullet","leafBullet"],yV=["elbow","hLine","indent","rightTee","space","tee","vLine",...l_],SV=cn("")(...l_),Bi={...cn("")(...yV),...h_("space"),...SV,tee:Ys("space").bottom,rightTee:Ys("space").right,elbow:cr("space").bottomLeft,space:" ",indent:" "},fg={...Bi,hLine:Be("thin").top,vLine:" "+Be("thin").left,elbow:" "+cr("thin").bottomLeft,tee:Be("thin").bottom,rightTee:" "+Ys("thin").right,indent:ii(2)(Be("thin").top),space:"  "},wV={ascii:{...Bi,..._t("ascii"),indent:Be("ascii").top},bullets:{...Bi,rootBullet:"",branchBullet:"",leafBullet:""},dashed:h("thin",_t,us("dashed")),dashedWide:h("thin",_t,us("dashedWide")),dotted:h("thin",_t,us("dotted")),double:_t("double"),hDouble:_t("hDouble"),hThick:_t("hThick"),hThickDashed:h("hThick",_t,br("thickDashed"),gr("dashed")),hThickDashedWide:h("hThick",_t,br("thickDashedWide"),gr("dashedWide")),hThickDotted:h("hThick",_t,br("thickDotted"),gr("dotted")),round:{..._t("thin"),elbow:cr("round").bottomLeft},space:Bi,thick:_t("thick"),thickDashed:h("thick",_t,us("thickDashed")),thickDashedWide:h("thick",_t,us("thickDashedWide")),thickDotted:h("thick",_t,us("thickDotted")),thin:_t("thin"),unix:fg,unixRound:{...fg,elbow:" "+cr("round").bottomLeft},vThick:_t("vThick"),vThickDashed:h("vThick",_t,br("dashed"),gr("thickDashed")),vThickDashedWide:h("vThick",_t,br("dashedWide"),gr("thickDashedWide")),vThickDotted:h("vThick",_t,br("dotted"),gr("thickDotted")),vDouble:_t("vDouble")},a1=t=>wV[t];function us(t){return M(br(t),gr(t))}function gr(t){return e=>({...e,vLine:Be(t).left})}function br(t){return e=>({...e,hLine:Be(t).top})}function _t(t){return{...Bi,...h_(t),...AV(t),elbow:cr(t).bottomLeft,indent:Be(t).top}}function h_(t){return{hLine:Be(t).top,vLine:Be(t).left}}function AV(t){return{tee:Ys(t).bottom,rightTee:Ys(t).right}}const x_=["ascii","bullets","space"],p_=h(["dashed","dashedWide","dotted","double","hDouble","hThick","hThickDashed","hThickDashedWide","hThickDotted","round","thick","thickDashed","thickDashedWide","thickDotted","thin","unix","unixRound","vDouble","vThick","vThickDashed","vThickDashedWide","vThickDotted"]),FV={spacing:0,indents:0,glyphs:a1("thin"),formatter:Z},_V=[...p_,...x_],EV=[...h(p_,O(er.mapSecond(t=>lg(t,0)))),...h(x_,O(er.mapSecond(t=>lg(t,1))))],m_=mo(EV),CV=t=>m_[t],IV=t=>h(_V,O(er.mapSecond(e=>t(m_[e],e))),mo);function kV(t=a1("thin"),e=0,n){return{...FV,indents:e,glyphs:t,...n}}function lg(t="thin",e=0,n){return kV(a1(t),e,n)}const jc=Object.assign(m(2,(t,{glyphs:e})=>e[t]),{flipped:t=>({glyphs:e})=>e[t]});m(2,(t,e)=>Nn(jc(t,e)));const vV=({formatter:t})=>Re(t),TV=t=>(e,n)=>{const r=jc(t);return h(n,r,ii(t.indents),Lf(r(e)))},d_=(t,e)=>n=>M(TV(n),Nn)(t,e);function OV(t){return e=>(t+h(`
`,ii(e.spacing))).split(/\n/)}const $V=d_("rightTee","indent"),BV=d_("elbow","indent"),MV=g_("hLine","leafBullet","space"),NV=g_("tee","branchBullet","vLine");function g_(t,e,n){return r=>s=>{const i=jc(s),[a,c,f]=[i(t),i(e),i(n)],u=a+c,l=ii(Rr(u))(f)+c;return h(s,OV(r),w8(M(Lf(u),Nn),M(Lf(l),Nn)),Hn.left)}}const DV=b_($V,"vLine"),RV=b_(BV,"space");function b_(t,e){return n=>{const r=jc(n);return f_.top.left(t(n),n1(xn.empty,de([r("space")],r(e))))}}const y_=Object.assign(hg,{flip:_8(hg)});function hg(t){return e=>h(t,Yt({onLeaf:n=>MV(n)(e),onBranch:PV(e)}))}const PV=t=>(e,n)=>{const r=[NV(e),jV(n)];return h(r,LV,Sl(t),Hn.left)},jV=t=>e=>{const n=M(y_,Sl(e));return h(t,A8(M(n,DV(e)),M(n,RV(e))),Hn.left)};function LV(t){return e=>O(t,Sl(e))}const xg=(t,e)=>h(t,vV(e),y_.flip(e)),UV=Object.assign(m(2,xg),{number:t=>e=>xg(Re(e,_c),t)}),pg=(t,e)=>h(UV(t,e),xV),qV=Object.assign(m(2,pg),{unlines:t=>e=>zs(pg(e,t))}),VV=Object.assign(mg("thin"),IV((t,e)=>mg(e)));function mg(t){return Object.assign(dg(t,Z),{number:dg(t,_c)})}function dg(t,e){return Object.assign(gg(t,e),{unlines:M(gg(t,e),zs)})}function gg(t,e){return M(Re(e),h(t,CV,qV))}const io=Nn(""),bg=(t,e)=>h(t,Qe(e??""),Nn),WV=Object.assign((t,e)=>bg(t,e),{curried:t=>e=>bg(e,t)}),U0=(t,e="center")=>h(t,O(Nn),Hn[e]),zV=Object.assign(U0,{curried:t=>e=>U0(e,t),rest:(...t)=>U0(t)}),Ca=m(2,(t,e)=>t===0?c_:h(e,Rn(t),WV)),Ia=t=>t===0?c_:h(io,Rn(t),Hn.center),KV=Object.assign((t=" ",e=" ")=>(n=1,r=n)=>s=>$i.middle.center([Ca(n,t),s,Ca(r,e)]),{left:(t=" ",e=0)=>n=>$i.middle.center([Ca(e,t),n]),right:(t=" ",e=0)=>n=>$i.middle.center([n,Ca(e,t)])}),GV=Object.assign((t=1,e=t)=>n=>Hn.center([Ia(t),n,Ia(e)]),{top:(t,e=0)=>Hn.center([Ia(e),t]),bottom:(t,e=0)=>Hn.center([t,Ia(e)])}),yg=m(2,(t,{top:e,right:n,bottom:r,left:s})=>h(t,GV(e,r),KV()(s,n))),Sg=Object.assign(({lines:{top:t}})=>ag.center(io,de([t])),{corners:({lines:{top:t},elbows:{topLeft:e,topRight:n}})=>ag.left(io,de([t],e,n))}),JV=({lines:{right:t}})=>e=>h(e,hV.middle.center(Nn(t),n1(xn([t])))),wg=Object.assign(({lines:{bottom:t}})=>ug.center(io,de([t])),{corners:({lines:{bottom:t},elbows:{bottomLeft:e,bottomRight:n}})=>ug.right(io,de([t],e,n))}),HV=({lines:{left:t}})=>e=>h(e,f_.middle.center(Nn(t),n1(xn([t])))),YV=t=>e=>h(e,HV(t),JV(t)),ZV=Object.assign(t=>e=>h(e,Sg(t),wg(t)),{corners:t=>e=>h(e,Sg.corners(t),wg.corners(t))}),Ag=(t,e)=>h(t,YV(e),ZV.corners(e)),bl=Object.assign(Ag,{curried:t=>e=>Ag(e,t)}),Fg=([t,...e])=>n=>h(e,Wr(h(n,bl.curried(t)),bl));Object.assign(Fg,{rest:(...t)=>e=>Fg(t)(e)});const Tu=cn(0)(...Ss),XV={padding:Tu,margin:Tu,border:e1("thin")},QV=(t=XV)=>({padding:{...Tu,...jf(t.padding??{})},margin:{...Tu,...jf(t.margin??{})},border:t.border??e1("thin")}),q0=(t,e)=>{const{padding:n,margin:r,border:s}=QV(e);return h(t,yg(n),bl.curried(s),yg(r))};Object.assign(q0,{curried:t=>e=>q0(e,t),lines:t=>(e,n="center")=>q0(zV(e,n),t)});const _g=Y.record({axis:Y.constant("horizontal"),prefix:Gd,body:t1,suffix:Gd}),Eg=Y.record({axis:Y.constant("vertical"),prefix:fl,body:t1,suffix:fl}),S_=Y.record({right:_g,left:_g}),w_=Y.record({top:Eg,bottom:Eg});Y.tuple(S_,w_).map(([t,e])=>({...t,...e}));const{emptyF:tW,textF:eW}=fV,nW=S_.chain(({left:t,right:e})=>Y.record({hAlign:Y.oneof(...YF(Y.constant)),left:Y.constant(t),right:Y.constant(e)})),rW=w_.chain(({top:t,bottom:e})=>Y.record({vAlign:Y.oneof(...ZF(Y.constant)),top:Y.constant(t),bottom:Y.constant(e)}));nW.chain(t=>rW.map(e=>({...t,...e})));const sW=Y.constant(tW),iW=kL.map(eW);sW.map(t=>({unfixed:t}));iW.map(t=>({unfixed:t}));function u1(t){return{parent:h(t.focus,me,T),levels:JS(t.levels,PS(t,"lefts","rights","parent"))}}const Xo=m(3,(t,e,n)=>{let r=t;for(let s=0;s<e;s++){const i=n(r);if(st(i))return i;r=i.value}return T(r)});m(3,(t,e,n)=>h(t,Xo(e,n),fr));const A_=t=>{const{focus:e}=t;if(mn(e))return k();const n=ui(e);return T({...u1(t),focus:Bt(n),lefts:[],rights:n.slice(1)})},oW=m(2,(t,e)=>Xo(t,e,A_)),F_=t=>{const{focus:e}=t;if(mn(e))return k();const n=ui(e);return T({...u1(t),focus:go(n),lefts:n.slice(0,-1),rights:[]})},aW=m(2,(t,e)=>Xo(t,e,F_)),uW=({focus:t,lefts:e,rights:n,...r})=>{if(!Ht(e))return k();const[s,i]=YS(e);return T({...r,focus:s,lefts:i,rights:[t,...n]})},cW=m(2,(t,e)=>Xo(t,e,uW)),fW=({focus:t,lefts:e,rights:n,...r})=>{if(!Ht(n))return k();const[s,...i]=n;return T({...r,focus:s,lefts:[...e,t],rights:i})},lW=m(2,(t,e)=>Xo(t,e,fW)),hW=m(2,(t,e)=>{const{focus:n}=t,r=Iu(n),s=e+(e<0?r:0);if(mn(n)||s>=Iu(n))return k();const i=n,a=ui(i),[c,f,u]=[a.slice(0,e),a.at(s),a.slice(e)];return T({...u1(t),focus:f,lefts:c,rights:u,parent:h(i,me,T)})}),xW=M(A_,fr);m(2,(t,e)=>h(t,oW(e),fr));const pW=M(F_,fr);m(2,(t,e)=>h(t,aW(e),fr));m(2,(t,e)=>h(t,cW(e),fr));m(2,(t,e)=>h(t,lW(e),fr));m(2,(t,e)=>h(hW(t,e),fr));m(2,({focus:t,...e},n)=>({...e,focus:n}));const Cg=({focus:t,...e},n)=>({...e,focus:NU(t,n)}),Ig=({focus:t,...e},n)=>({...e,focus:MU(t,n)});Object.assign(m(2,Cg),{move:t=>e=>xW(Cg(e,t))});Object.assign(m(2,Ig),{move:t=>e=>pW(Ig(e,t))});const mW=t=>"_tag"in t&&t._tag==="effect-tree-demo",dW=t=>({data:e})=>{const n=e;return mW(n)?{...n,...t(n)}:void 0};Object.assign(Zn,{flipped:t=>e=>Zn(t,e)});Object.assign(fn,{flipped:t=>e=>fn(t,e)});Object.assign(Fs,{flipped:t=>e=>Fs(t,e)});Object.assign(Di,{flipped:t=>e=>Di(t,e)});zl(Nr);const gW=new Intl.Segmenter,Ct=([t,e])=>n=>`${t}${n}${e}`;Ct.rest=(t,e)=>Ct([t,e]);Ct.parentheses=Ct(["(",")"]);Ct.squareBrackets=Ct(["[","]"]);Ct.curlyBrackets=Ct(["{","}"]);Ct.angledBrackets=Ct(["<",">"]);Ct.quote=Object.assign(Ct(["'","'"]),{double:Ct(['"','"']),fancy:Ct(["",""]),parentheses:Ct(["(",")"]),squareBrackets:Ct(["[","]"]),curlyBrackets:Ct(["{","}"]),angledBrackets:Ct(["<",">"])});const oe=t=>t.join("");oe.rest=(...t)=>oe(t);oe.pipeline=t=>h(t,Qe(" | "));oe.slash=t=>h(t,Qe(" | "));oe.spaced=Object.assign(t=>t.join(" "),{rest:(...t)=>t.join(" "),literal:(...t)=>t.join(" ")});oe.comma=Object.assign(t=>t.join(", "),{rest:(...t)=>t.join(", ")});oe.quote=Object.assign(t=>h(t,O(Ct.quote),oe.comma),{double:t=>h(t,O(Ct.quote.double),oe.comma),fancy:t=>h(t,O(Ct.quote.fancy),oe.comma)});const bW=nw.stringWidth;O(bW);const Lc=t=>[...gW.segment(t)].map(e=>e.segment),{$is:V0,$match:yW,Left:SW,Right:wW,Both:AW}=Xh(),c1=({Left:t,Right:e,Both:n})=>r=>h(r,yW({Left:s=>t(s),Right:s=>e(s),Both:s=>n(s)})),[Uc,qc,Ur]=[Object.assign(SW,{from:t=>Uc({left:t})}),Object.assign(wW,{from:t=>qc({right:t})}),Object.assign(AW,{from:(t,e)=>Ur({left:e,right:t})})];V0("Left"),V0("Right"),V0("Both");m(2,(t,e)=>h(t,c1({Left:()=>Uc.from(e),Right:({right:n})=>Ur.from(n,e),Both:({right:n})=>Ur.from(n,e)})));m(2,(t,e)=>h(t,c1({Left:({left:n})=>Ur.from(e,n),Right:()=>qc.from(e),Both:({left:n})=>Ur.from(e,n)})));const FW=(t,e,n)=>{const r=e.length-t.length;return[...Uu(t,e,M(Ur.from,n)),...r===0?[]:r>0?h(e,tu(r),O(M(Uc.from,n))):h(t,tu(-1*r),O(M(qc.from,n)))]};m(2,(t,e)=>FW(t,e,Z));const _W=m(3,(t,e,n)=>h(t,c1({Right:({right:r})=>h(r,e,qc.from),Left:({left:r})=>h(r,n,Uc.from),Both:({left:r,right:s})=>Ur({left:n(r),right:e(s)})}))),kg={bimap:_W};eF(kg),nF(kg);var W0={exports:{}},_i={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function EW(){if(vg)return _i;vg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return _i.Fragment=e,_i.jsx=n,_i.jsxs=n,_i}var Tg;function CW(){return Tg||(Tg=1,W0.exports=EW()),W0.exports}CW();const IW=t=>()=>t,__=3999,kW={decimal:{icon:"1,2,3",label:"Decimal",title:"Format labels as decimals."},lower:{icon:",,",label:"Unicode",title:"Use lowercase Unicode Roman numerals from the Number Forms block (U+2150U+218F)"},upper:{icon:",,",label:"Unicode Caps",title:"Use uppercase Unicode Roman numerals from the Number Forms block (U+2150U+218F)"},lowerAscii:{icon:"i,ii,iii",label:"ASCII",title:"Use lowercase ASCII emulation of Roman numerals."},upperAscii:{icon:"I,II,III",label:"ASCII Caps",title:"Use uppercase ASCII emulation of Roman numerals."}};h(kW,nb((t,e)=>[e,{id:e,...t}]));const vW={upper:["","","","","","","","","","","",""]},ka=[["",...vW.upper.slice(0,9)],["","","","","","","","","",""],["","","","","","","","","",""],["","","",""]],TW={"":["","I","i"],"":["","II","ii"],"":["","III","iii"],"":["","IV","iv"],"":["","V","v"],"":["","VI","vi"],"":["","VII","vii"],"":["","VIII","viii"],"":["","IX","ix"],"":["","X","x"],"":["","XI","xi"],"":["","XII","xii"],"":["","C","c"],"":["","L","l"],"":["","D","d"],"":["","M","m"]},Vc=t=>TW[t],OW=t=>Vc(t)[0],$W=t=>Vc(t)[1],BW=t=>Vc(t)[2],MW=t=>e=>t==="upper"?e:Vc(e)[t==="lower"?0:t==="upperAscii"?1:2],qr=t=>t<1||t>__?" ":oe.rest(ka[3]?.[Math.floor(t/1e3)]??" ",ka[2]?.[Math.floor(t%1e3/100)]??" ",ka[1]?.[Math.floor(t%100/10)]??" ",ka[0]?.[t%10]??" ");qr.lower=t=>h(t,qr,Lc,O(OW),oe);qr.upperAscii=t=>h(t,qr,Lc,O($W),oe);qr.lowerAscii=t=>h(t,qr,Lc,O(BW),oe);const NW=t=>e=>{if(t==="decimal")return e.toLocaleString();const n=MW(t);return h(e,qr,Lc,O(n),oe)},DW={dashed:"",dashedWide:"",dotted:"",double:" ",hDouble:" ",hThick:"",hThickDashed:"",hThickDashedWide:"",hThickDotted:"",round:"",thick:"",thickDashed:"",thickDashedWide:"",thickDotted:"",thin:"",unix:"",unixRound:"",space:"",bullets:" ",ascii:" ",vDouble:"",vThick:"",vThickDashed:"",vThickDashedWide:"",vThickDotted:""},RW=(t,e,n)=>h(t,Re(r=>DW[n]+(r>__?r.toLocaleString():NW(e)(r))),VV[n],O(M(S9,A9(" ","")))),{Prufer:va}=Bq,PW=200,jW=h([cs("nodeCount","node count","Number of nodes.")(M(va.computeNodeCount,BigInt)),cs("treeCount","Trees","Number of labeled sorted trees at this node count.")(M(va.computeNodeCount,va.labeledTreeCount)),cs("treeIndex","Ordinal","Index of current tree in ordered set of all trees in this node count.")(M(va.toOrdinal,tb)),cs("maxNodes","Max Nodes","Maximum node count limit.")(IW(BigInt(PW))),cs("maxDepth","max depth","Maximum hops from a leaf node to root.")((t,e)=>BigInt(qU(e))),cs("maxDegree","max degree","Size of the  largest forest.")((t,e)=>BigInt(VU(e)))],O(t=>[t.id,t]),mo),yl=(t,e)=>h(jW,nb(({compute:n,...r},s)=>[s,{...r,value:n(t,e)}]));yl.tupled=$g(yl);function cs(t,e,n){return r=>({id:t,label:e,title:n,compute:r})}globalThis.global=globalThis;globalThis.window=globalThis;window.__vite_plugin_react_preamble_installed__=!0;globalThis.onmessage=t=>{const e=dW(n=>{const{code:r,format:s,theme:i}=n,a=Un(r),c=RW(a,s,i),f=yl(r,a);return{...n,stats:f,code:r,tree:a,lines:c}})(t);e!==void 0&&globalThis.postMessage(e)};
